/*! For license information please see vendor.js.LICENSE.txt */
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2b025fea-bc7c-4003-8b62-b48149bc22aa",e._sentryDebugIdIdentifier="sentry-dbid-2b025fea-bc7c-4003-8b62-b48149bc22aa")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"public-website-ui@v3.7.2"},(self.webpackChunkisp_public_website_ui=self.webpackChunkisp_public_website_ui||[]).push([[4643],{2125:(e,t,n)=>{"use strict";n.d(t,{H:()=>u,SQ:()=>c,mF:()=>a});class r extends Date{static parseDateTime(e,t="YYYY-MM-DD",n="en-US"){if(!e)return new Date((new Date).setHours(0,0,0,0));if(e instanceof r)return e.toJSDate();if(e instanceof Date)return e;if(/^-?\d{10,}$/.test(String(e)))return new Date(Number(e));if("string"==typeof e){const i=[];let o=null;for(;null!=(o=r.regex.exec(t));)"\\"!==o[1]&&i.push(o);if(i.length){const t={year:null,month:null,shortMonth:null,longMonth:null,day:null,hour:0,minute:0,second:0,ampm:null,value:""};i[0].index>0&&(t.value+=".*?");for(const[e,o]of Object.entries(i)){const i=Number(e),{group:s,pattern:a}=r.formatPatterns(o[0],n);t[s]=i+1,t.value+=a,t.value+=".*?"}const o=new RegExp(`^${t.value}$`);if(o.test(e)){const i=o.exec(e),s=Number(i[t.year]);let a=null;t.month?a=Number(i[t.month])-1:t.shortMonth?a=r.shortMonths(n).indexOf(i[t.shortMonth]):t.longMonth&&(a=r.longMonths(n).indexOf(i[t.longMonth]));const l=Number(i[t.day])||1,c=Number(i[t.hour]);let u=Number.isNaN(c)?0:c;const d=Number(i[t.minute]),h=Number.isNaN(d)?0:d,f=Number(i[t.second]),p=Number.isNaN(f)?0:f,m=i[t.ampm];return m&&"PM"===m&&(u+=12,24===u&&(u=0)),new Date(s,a,l,u,h,p,0)}}}return new Date((new Date).setHours(0,0,0,0))}static regex=/(\\)?(Y{2,4}|M{1,4}|D{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|A|a)/g;static MONTH_JS=[0,1,2,3,4,5,6,7,8,9,10,11];static shortMonths(e){return r.MONTH_JS.map((t=>new Date(2019,t).toLocaleString(e,{month:"short"})))}static longMonths(e){return r.MONTH_JS.map((t=>new Date(2019,t).toLocaleString(e,{month:"long"})))}static formatPatterns(e,t){switch(e){case"YY":case"YYYY":return{group:"year",pattern:`(\\d{${e.length}})`};case"M":return{group:"month",pattern:"(\\d{1,2})"};case"MM":return{group:"month",pattern:"(\\d{2})"};case"MMM":return{group:"shortMonth",pattern:`(${r.shortMonths(t).join("|")})`};case"MMMM":return{group:"longMonth",pattern:`(${r.longMonths(t).join("|")})`};case"D":return{group:"day",pattern:"(\\d{1,2})"};case"DD":return{group:"day",pattern:"(\\d{2})"};case"h":case"H":return{group:"hour",pattern:"(\\d{1,2})"};case"hh":case"HH":return{group:"hour",pattern:"(\\d{2})"};case"m":return{group:"minute",pattern:"(\\d{1,2})"};case"mm":return{group:"minute",pattern:"(\\d{2})"};case"s":return{group:"second",pattern:"(\\d{1,2})"};case"ss":return{group:"second",pattern:"(\\d{2})"};case"a":case"A":return{group:"ampm",pattern:"(AM|PM|am|pm)"}}}lang;constructor(e=null,t="YYYY-MM-DD",n="en-US"){super(r.parseDateTime(e,t,n)),this.lang=n}getWeek(e){const t=new Date(this.midnight_ts(this)),n=(this.getDay()+(7-e))%7;t.setDate(t.getDate()-n);const r=t.getTime();return t.setMonth(0,1),t.getDay()!==e&&t.setMonth(0,1+(4-t.getDay()+7)%7),1+Math.ceil((r-t.getTime())/6048e5)}clone(){return new r(this)}toJSDate(){return new Date(this)}inArray(e,t="[]"){return e.some((e=>e instanceof Array?this.isBetween(e[0],e[1],t):this.isSame(e,"day")))}isBetween(e,t,n="()"){switch(n){default:case"()":return this.midnight_ts(this)>this.midnight_ts(e)&&this.midnight_ts(this)<this.midnight_ts(t);case"[)":return this.midnight_ts(this)>=this.midnight_ts(e)&&this.midnight_ts(this)<this.midnight_ts(t);case"(]":return this.midnight_ts(this)>this.midnight_ts(e)&&this.midnight_ts(this)<=this.midnight_ts(t);case"[]":return this.midnight_ts()>=this.midnight_ts(e)&&this.midnight_ts()<=this.midnight_ts(t)}}isBefore(e,t="days"){switch(t){case"day":case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()>new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime();case"month":case"months":return new Date(e.getFullYear(),e.getMonth(),1).getTime()>new Date(this.getFullYear(),this.getMonth(),1).getTime();case"year":case"years":return e.getFullYear()>this.getFullYear()}throw new Error("isBefore: Invalid unit!")}isSameOrBefore(e,t="days"){switch(t){case"day":case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()>=new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime();case"month":case"months":return new Date(e.getFullYear(),e.getMonth(),1).getTime()>=new Date(this.getFullYear(),this.getMonth(),1).getTime()}throw new Error("isSameOrBefore: Invalid unit!")}isAfter(e,t="days"){switch(t){case"day":case"days":return new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime()>new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();case"month":case"months":return new Date(this.getFullYear(),this.getMonth(),1).getTime()>new Date(e.getFullYear(),e.getMonth(),1).getTime();case"year":case"years":return this.getFullYear()>e.getFullYear()}throw new Error("isAfter: Invalid unit!")}isSameOrAfter(e,t="days"){switch(t){case"day":case"days":return new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime()>=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();case"month":case"months":return new Date(this.getFullYear(),this.getMonth(),1).getTime()>=new Date(e.getFullYear(),e.getMonth(),1).getTime()}throw new Error("isSameOrAfter: Invalid unit!")}isSame(e,t="days"){switch(t){case"day":case"days":return new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime()===new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();case"month":case"months":return new Date(this.getFullYear(),this.getMonth(),1).getTime()===new Date(e.getFullYear(),e.getMonth(),1).getTime()}throw new Error("isSame: Invalid unit!")}add(e,t="days"){switch(t){case"day":case"days":this.setDate(this.getDate()+e);break;case"month":case"months":this.setMonth(this.getMonth()+e)}return this}subtract(e,t="days"){switch(t){case"day":case"days":this.setDate(this.getDate()-e);break;case"month":case"months":this.setMonth(this.getMonth()-e)}return this}diff(e,t="days"){switch(t){default:case"day":case"days":return Math.round((this.midnight_ts()-this.midnight_ts(e))/864e5);case"month":case"months":let t=12*(e.getFullYear()-this.getFullYear());return t-=e.getMonth(),t+=this.getMonth(),t}}format(e,t="en-US"){let n="";const i=[];let o=null;for(;null!=(o=r.regex.exec(e));)"\\"!==o[1]&&i.push(o);if(i.length){i[0].index>0&&(n+=e.substring(0,i[0].index));for(const[r,o]of Object.entries(i)){const s=Number(r);n+=this.formatTokens(o[0],t),i[s+1]&&(n+=e.substring(o.index+o[0].length,i[s+1].index)),s===i.length-1&&(n+=e.substring(o.index+o[0].length))}}return n.replace(/\\/g,"")}midnight_ts(e){return e?new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0).getTime():new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0,0).getTime()}formatTokens(e,t){switch(e){case"YY":return String(this.getFullYear()).slice(-2);case"YYYY":return String(this.getFullYear());case"M":return String(this.getMonth()+1);case"MM":return`0${this.getMonth()+1}`.slice(-2);case"MMM":return r.shortMonths(t)[this.getMonth()];case"MMMM":return r.longMonths(t)[this.getMonth()];case"D":return String(this.getDate());case"DD":return`0${this.getDate()}`.slice(-2);case"H":return String(this.getHours());case"HH":return`0${this.getHours()}`.slice(-2);case"h":return String(this.getHours()%12||12);case"hh":return`0${this.getHours()%12||12}`.slice(-2);case"m":return String(this.getMinutes());case"mm":return`0${this.getMinutes()}`.slice(-2);case"s":return String(this.getSeconds());case"ss":return`0${this.getSeconds()}`.slice(-2);case"a":return this.getHours()<12||24===this.getHours()?"am":"pm";case"A":return this.getHours()<12||24===this.getHours()?"AM":"PM";default:return""}}}class i{picker;constructor(e){this.picker=e}render(e,t){e||(e=new r),e.setDate(1),e.setHours(0,0,0,0),"function"==typeof this[`get${t}View`]&&this[`get${t}View`](e)}getContainerView(e){this.picker.ui.container.innerHTML="",this.picker.options.header&&this.picker.trigger("render",{date:e.clone(),view:"Header"}),this.picker.trigger("render",{date:e.clone(),view:"Main"}),this.picker.options.autoApply||this.picker.trigger("render",{date:e.clone(),view:"Footer"})}getHeaderView(e){const t=document.createElement("header");this.picker.options.header instanceof HTMLElement&&t.appendChild(this.picker.options.header),"string"==typeof this.picker.options.header&&(t.innerHTML=this.picker.options.header),this.picker.ui.container.appendChild(t),this.picker.trigger("view",{target:t,date:e.clone(),view:"Header"})}getMainView(e){const t=document.createElement("main");this.picker.ui.container.appendChild(t);const n=document.createElement("div");n.className=`calendars grid-${this.picker.options.grid}`;for(let t=0;t<this.picker.options.calendars;t++){const r=document.createElement("div");r.className="calendar",n.appendChild(r);const i=this.getCalendarHeaderView(e.clone());r.appendChild(i),this.picker.trigger("view",{date:e.clone(),view:"CalendarHeader",index:t,target:i});const o=this.getCalendarDayNamesView();r.appendChild(o),this.picker.trigger("view",{date:e.clone(),view:"CalendarDayNames",index:t,target:o});const s=this.getCalendarDaysView(e.clone());r.appendChild(s),this.picker.trigger("view",{date:e.clone(),view:"CalendarDays",index:t,target:s});const a=this.getCalendarFooterView(this.picker.options.lang,e.clone());r.appendChild(a),this.picker.trigger("view",{date:e.clone(),view:"CalendarFooter",index:t,target:a}),this.picker.trigger("view",{date:e.clone(),view:"CalendarItem",index:t,target:r}),e.add(1,"month")}t.appendChild(n),this.picker.trigger("view",{date:e.clone(),view:"Calendars",target:n}),this.picker.trigger("view",{date:e.clone(),view:"Main",target:t})}getFooterView(e){const t=document.createElement("footer"),n=document.createElement("div");n.className="footer-buttons";const r=document.createElement("button");r.className="cancel-button unit",r.innerHTML=this.picker.options.locale.cancel,n.appendChild(r);const i=document.createElement("button");i.className="apply-button unit",i.innerHTML=this.picker.options.locale.apply,i.disabled=!0,n.appendChild(i),t.appendChild(n),this.picker.ui.container.appendChild(t),this.picker.trigger("view",{date:e,target:t,view:"Footer"})}getCalendarHeaderView(e){const t=document.createElement("div");t.className="header";const n=document.createElement("div");n.className="month-name",n.innerHTML=`<span>${e.toLocaleString(this.picker.options.lang,{month:"long"})}</span> ${e.format("YYYY")}`,t.appendChild(n);const r=document.createElement("button");r.className="previous-button unit",r.innerHTML=this.picker.options.locale.previousMonth,t.appendChild(r);const i=document.createElement("button");return i.className="next-button unit",i.innerHTML=this.picker.options.locale.nextMonth,t.appendChild(i),t}getCalendarDayNamesView(){const e=document.createElement("div");e.className="daynames-row";for(let t=1;t<=7;t++){const n=3+this.picker.options.firstDay+t,r=document.createElement("div");r.className="dayname",r.innerHTML=new Date(1970,0,n,12,0,0,0).toLocaleString(this.picker.options.lang,{weekday:"short"}),r.title=new Date(1970,0,n,12,0,0,0).toLocaleString(this.picker.options.lang,{weekday:"long"}),e.appendChild(r),this.picker.trigger("view",{dayIdx:n,view:"CalendarDayName",target:r})}return e}getCalendarDaysView(e){const t=document.createElement("div");t.className="days-grid";const n=this.calcOffsetDays(e,this.picker.options.firstDay),r=32-new Date(e.getFullYear(),e.getMonth(),32).getDate();for(let e=0;e<n;e++){const e=document.createElement("div");e.className="offset",t.appendChild(e)}for(let n=1;n<=r;n++){e.setDate(n);const r=this.getCalendarDayView(e);t.appendChild(r),this.picker.trigger("view",{date:e,view:"CalendarDay",target:r})}return t}getCalendarDayView(e){const t=this.picker.options.date?new r(this.picker.options.date):null,n=new r,i=document.createElement("div");return i.className="day unit",i.innerHTML=e.format("D"),i.dataset.time=String(e.getTime()),e.isSame(n,"day")&&i.classList.add("today"),[0,6].includes(e.getDay())&&i.classList.add("weekend"),this.picker.datePicked.length?this.picker.datePicked[0].isSame(e,"day")&&i.classList.add("selected"):t&&e.isSame(t,"day")&&i.classList.add("selected"),this.picker.trigger("view",{date:e,view:"CalendarDay",target:i}),i}getCalendarFooterView(e,t){const n=document.createElement("div");return n.className="footer",n}calcOffsetDays(e,t){let n=e.getDay()-t;return n<0&&(n+=7),n}}class o{picker;instances={};constructor(e){this.picker=e}initialize(){const e=[];this.picker.options.plugins.forEach((t=>{"function"==typeof t?e.push(new t):"string"==typeof t&&"undefined"!=typeof easepick&&Object.prototype.hasOwnProperty.call(easepick,t)?e.push(new easepick[t]):console.warn(`easepick: ${t} not found.`)})),e.sort(((e,t)=>e.priority>t.priority?-1:e.priority<t.priority||e.dependencies.length>t.dependencies.length?1:e.dependencies.length<t.dependencies.length?-1:0)),e.forEach((e=>{e.attach(this.picker),this.instances[e.getName()]=e}))}getInstance(e){return this.instances[e]}addInstance(e){if(Object.prototype.hasOwnProperty.call(this.instances,e))console.warn(`easepick: ${e} already added.`);else{if("undefined"!=typeof easepick&&Object.prototype.hasOwnProperty.call(easepick,e)){const t=new easepick[e];return t.attach(this.picker),this.instances[t.getName()]=t,t}if("undefined"!==this.getPluginFn(e)){const t=new(this.getPluginFn(e));return t.attach(this.picker),this.instances[t.getName()]=t,t}console.warn(`easepick: ${e} not found.`)}return null}removeInstance(e){return e in this.instances&&this.instances[e].detach(),delete this.instances[e]}reloadInstance(e){return this.removeInstance(e),this.addInstance(e)}getPluginFn(e){return[...this.picker.options.plugins].filter((t=>"function"==typeof t&&(new t).getName()===e)).shift()}}class s{Calendar=new i(this);PluginManager=new o(this);calendars=[];datePicked=[];cssLoaded=0;binds={hidePicker:this.hidePicker.bind(this),show:this.show.bind(this)};options={doc:document,css:[],element:null,firstDay:1,grid:1,calendars:1,lang:"en-US",date:null,format:"YYYY-MM-DD",readonly:!0,autoApply:!0,header:!1,inline:!1,scrollToDate:!0,locale:{nextMonth:'<svg width="11" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M2.748 16L0 13.333 5.333 8 0 2.667 2.748 0l7.919 8z" fill-rule="nonzero"/></svg>',previousMonth:'<svg width="11" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M7.919 0l2.748 2.667L5.333 8l5.334 5.333L7.919 16 0 8z" fill-rule="nonzero"/></svg>',cancel:"Cancel",apply:"Apply"},documentClick:this.binds.hidePicker,plugins:[]};ui={container:null,shadowRoot:null,wrapper:null};version="1.2.1";constructor(e){const t={...this.options.locale,...e.locale};this.options={...this.options,...e},this.options.locale=t,this.handleOptions(),this.ui.wrapper=document.createElement("span"),this.ui.wrapper.style.display="none",this.ui.wrapper.style.position="absolute",this.ui.wrapper.style.pointerEvents="none",this.ui.wrapper.className="easepick-wrapper",this.ui.wrapper.attachShadow({mode:"open"}),this.ui.shadowRoot=this.ui.wrapper.shadowRoot,this.ui.container=document.createElement("div"),this.ui.container.className="container",this.options.zIndex&&(this.ui.container.style.zIndex=String(this.options.zIndex)),this.options.inline&&(this.ui.wrapper.style.position="relative",this.ui.container.classList.add("inline")),this.ui.shadowRoot.appendChild(this.ui.container),this.options.element.after(this.ui.wrapper),this.handleCSS(),this.options.element.addEventListener("click",this.binds.show),this.on("view",this.onView.bind(this)),this.on("render",this.onRender.bind(this)),this.PluginManager.initialize(),this.parseValues(),"function"==typeof this.options.setup&&this.options.setup(this),this.on("click",this.onClick.bind(this));const n=this.options.scrollToDate?this.getDate():null;this.renderAll(n)}on(e,t,n={}){this.ui.container.addEventListener(e,t,n)}off(e,t,n={}){this.ui.container.removeEventListener(e,t,n)}trigger(e,t={}){return this.ui.container.dispatchEvent(new CustomEvent(e,{detail:t}))}destroy(){this.options.element.removeEventListener("click",this.binds.show),"function"==typeof this.options.documentClick&&document.removeEventListener("click",this.options.documentClick,!0),Object.keys(this.PluginManager.instances).forEach((e=>{this.PluginManager.removeInstance(e)})),this.ui.wrapper.remove()}onRender(e){const{view:t,date:n}=e.detail;this.Calendar.render(n,t)}onView(e){const{view:t,target:n}=e.detail;"Footer"===t&&this.datePicked.length&&(n.querySelector(".apply-button").disabled=!1)}onClickHeaderButton(e){this.isCalendarHeaderButton(e)&&(e.classList.contains("next-button")?this.calendars[0].add(1,"month"):this.calendars[0].subtract(1,"month"),this.renderAll(this.calendars[0]))}onClickCalendarDay(e){if(this.isCalendarDay(e)){const t=new r(e.dataset.time);this.options.autoApply?(this.setDate(t),this.trigger("select",{date:this.getDate()}),this.hide()):(this.datePicked[0]=t,this.trigger("preselect",{date:this.getDate()}),this.renderAll())}}onClickApplyButton(e){if(this.isApplyButton(e)){if(this.datePicked[0]instanceof Date){const e=this.datePicked[0].clone();this.setDate(e)}this.hide(),this.trigger("select",{date:this.getDate()})}}onClickCancelButton(e){this.isCancelButton(e)&&this.hide()}onClick(e){const t=e.target;if(t instanceof HTMLElement){const e=t.closest(".unit");if(!(e instanceof HTMLElement))return;this.onClickHeaderButton(e),this.onClickCalendarDay(e),this.onClickApplyButton(e),this.onClickCancelButton(e)}}isShown(){return this.ui.container.classList.contains("inline")||this.ui.container.classList.contains("show")}show(e){if(this.isShown())return;const t=e&&"target"in e?e.target:this.options.element,{top:n,left:r}=this.adjustPosition(t);this.ui.container.style.top=`${n}px`,this.ui.container.style.left=`${r}px`,this.ui.container.classList.add("show"),this.trigger("show",{target:t})}hide(){this.ui.container.classList.remove("show"),this.datePicked.length=0,this.renderAll(),this.trigger("hide")}setDate(e){const t=new r(e,this.options.format);this.options.date=t.clone(),this.updateValues(),this.calendars.length&&this.renderAll()}getDate(){return this.options.date instanceof r?this.options.date.clone():null}parseValues(){this.options.date?this.setDate(this.options.date):this.options.element instanceof HTMLInputElement&&this.options.element.value.length&&this.setDate(this.options.element.value),this.options.date instanceof Date||(this.options.date=null)}updateValues(){const e=this.getDate(),t=e instanceof Date?e.format(this.options.format,this.options.lang):"",n=this.options.element;n instanceof HTMLInputElement?n.value=t:n instanceof HTMLElement&&(n.innerText=t)}hidePicker(e){let t=e.target,n=null;t.shadowRoot&&(t=e.composedPath()[0],n=t.getRootNode().host),this.isShown()&&n!==this.ui.wrapper&&t!==this.options.element&&this.hide()}renderAll(e){this.trigger("render",{view:"Container",date:(e||this.calendars[0]).clone()})}isCalendarHeaderButton(e){return["previous-button","next-button"].some((t=>e.classList.contains(t)))}isCalendarDay(e){return e.classList.contains("day")}isApplyButton(e){return e.classList.contains("apply-button")}isCancelButton(e){return e.classList.contains("cancel-button")}gotoDate(e){const t=new r(e,this.options.format);t.setDate(1),this.calendars[0]=t.clone(),this.renderAll()}clear(){this.options.date=null,this.datePicked.length=0,this.updateValues(),this.renderAll(),this.trigger("clear")}handleOptions(){this.options.element instanceof HTMLElement||(this.options.element=this.options.doc.querySelector(this.options.element)),"function"==typeof this.options.documentClick&&document.addEventListener("click",this.options.documentClick,!0),this.options.element instanceof HTMLInputElement&&(this.options.element.readOnly=this.options.readonly),this.options.date?this.calendars[0]=new r(this.options.date,this.options.format):this.calendars[0]=new r}handleCSS(){if(Array.isArray(this.options.css))this.options.css.forEach((e=>{const t=document.createElement("link");t.href=e,t.rel="stylesheet";const n=()=>{this.cssLoaded++,this.cssLoaded===this.options.css.length&&(this.ui.wrapper.style.display="")};t.addEventListener("load",n),t.addEventListener("error",n),this.ui.shadowRoot.append(t)}));else if("string"==typeof this.options.css){const e=document.createElement("style"),t=document.createTextNode(this.options.css);e.appendChild(t),this.ui.shadowRoot.append(e),this.ui.wrapper.style.display=""}else"function"==typeof this.options.css&&(this.options.css.call(this,this),this.ui.wrapper.style.display="")}adjustPosition(e){const t=e.getBoundingClientRect(),n=this.ui.wrapper.getBoundingClientRect();this.ui.container.classList.add("calc");const r=this.ui.container.getBoundingClientRect();this.ui.container.classList.remove("calc");let i=t.bottom-n.bottom,o=t.left-n.left;return"undefined"!=typeof window&&(window.innerHeight<i+r.height&&i-r.height>=0&&(i=t.top-n.top-r.height),window.innerWidth<o+r.width&&t.right-r.width>=0&&(o=t.right-n.right-r.width)),{left:o,top:i}}}var a=Object.freeze({__proto__:null,Core:s,create:s});class l{picker;options;priority=0;dependencies=[];attach(e){const t=this.getName(),n={...this.options};this.options={...this.options,...e.options[t]||{}};for(const r of Object.keys(n))if(null!==n[r]&&"object"==typeof n[r]&&Object.keys(n[r]).length&&t in e.options&&r in e.options[t]){const i={...e.options[t][r]};null!==i&&"object"==typeof i&&Object.keys(i).length&&Object.keys(i).every((e=>Object.keys(n[r]).includes(e)))&&(this.options[r]={...n[r],...i})}if(this.picker=e,this.dependenciesNotFound()){const e=this.dependencies.filter((e=>!this.pluginsAsStringArray().includes(e)));return void console.warn(`${this.getName()}: required dependencies (${e.join(", ")}).`)}const r=this.camelCaseToKebab(this.getName());this.picker.ui.container.classList.add(r),this.onAttach()}detach(){const e=this.camelCaseToKebab(this.getName());this.picker.ui.container.classList.remove(e),"function"==typeof this.onDetach&&this.onDetach()}dependenciesNotFound(){return this.dependencies.length&&!this.dependencies.every((e=>this.pluginsAsStringArray().includes(e)))}pluginsAsStringArray(){return this.picker.options.plugins.map((e=>"function"==typeof e?(new e).getName():e))}camelCaseToKebab(e){return e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}}class c extends l{priority=1;binds={onView:this.onView.bind(this)};options={minDate:null,maxDate:null,minDays:null,maxDays:null,selectForward:null,selectBackward:null,presets:!0,inseparable:!1,filter:null};getName(){return"LockPlugin"}onAttach(){if(this.options.minDate&&(this.options.minDate=new r(this.options.minDate,this.picker.options.format,this.picker.options.lang)),this.options.maxDate&&(this.options.maxDate=new r(this.options.maxDate,this.picker.options.format,this.picker.options.lang),this.options.maxDate instanceof r&&this.picker.options.calendars>1&&this.picker.calendars[0].isSame(this.options.maxDate,"month"))){const e=this.picker.calendars[0].clone().subtract(1,"month");this.picker.gotoDate(e)}if((this.options.minDays||this.options.maxDays||this.options.selectForward||this.options.selectBackward)&&!this.picker.options.plugins.includes("RangePlugin")){const e=["minDays","maxDays","selectForward","selectBackward"];console.warn(`${this.getName()}: options ${e.join(", ")} required RangePlugin.`)}this.picker.on("view",this.binds.onView)}onDetach(){this.picker.off("view",this.binds.onView)}onView(e){const{view:t,target:n,date:i}=e.detail;if("CalendarHeader"===t&&(this.options.minDate instanceof r&&i.isSameOrBefore(this.options.minDate,"month")&&n.classList.add("no-previous-month"),this.options.maxDate instanceof r&&i.isSameOrAfter(this.options.maxDate,"month")&&n.classList.add("no-next-month")),"CalendarDay"===t){const e=this.picker.datePicked.length?this.picker.datePicked[0]:null;if(this.testFilter(i))return void n.classList.add("locked");if(this.options.inseparable){if(this.options.minDays){const e=i.clone().subtract(this.options.minDays-1,"day"),t=i.clone().add(this.options.minDays-1,"day");let r=!1,o=!1;for(;e.isBefore(i,"day");){if(this.testFilter(e)){r=!0;break}e.add(1,"day")}for(;t.isAfter(i,"day");){if(this.testFilter(t)){o=!0;break}t.subtract(1,"day")}r&&o&&n.classList.add("not-available")}this.rangeIsNotAvailable(i,e)&&n.classList.add("not-available")}this.dateIsNotAvailable(i,e)&&n.classList.add("not-available")}if(this.options.presets&&"PresetPluginButton"===t){const e=new r(Number(n.dataset.start)),t=new r(Number(n.dataset.end)),i=t.diff(e,"day"),o=this.options.minDays&&i<this.options.minDays,s=this.options.maxDays&&i>this.options.maxDays;(o||s||this.lockMinDate(e)||this.lockMaxDate(e)||this.lockMinDate(t)||this.lockMaxDate(t)||this.rangeIsNotAvailable(e,t))&&n.setAttribute("disabled","disabled")}}dateIsNotAvailable(e,t){return this.lockMinDate(e)||this.lockMaxDate(e)||this.lockMinDays(e,t)||this.lockMaxDays(e,t)||this.lockSelectForward(e)||this.lockSelectBackward(e)}rangeIsNotAvailable(e,t){if(!e||!t)return!1;const n=(e.isSameOrBefore(t,"day")?e:t).clone(),r=(t.isSameOrAfter(e,"day")?t:e).clone();for(;n.isSameOrBefore(r,"day");){if(this.testFilter(n))return!0;n.add(1,"day")}return!1}lockMinDate(e){return this.options.minDate instanceof r&&e.isBefore(this.options.minDate,"day")}lockMaxDate(e){return this.options.maxDate instanceof r&&e.isAfter(this.options.maxDate,"day")}lockMinDays(e,t){if(this.options.minDays&&t){const n=t.clone().subtract(this.options.minDays-1,"day"),r=t.clone().add(this.options.minDays-1,"day");return e.isBetween(n,r)}return!1}lockMaxDays(e,t){if(this.options.maxDays&&t){const n=t.clone().subtract(this.options.maxDays,"day"),r=t.clone().add(this.options.maxDays,"day");return!e.isBetween(n,r)}return!1}lockSelectForward(e){if(1===this.picker.datePicked.length&&this.options.selectForward){const t=this.picker.datePicked[0].clone();return e.isBefore(t,"day")}return!1}lockSelectBackward(e){if(1===this.picker.datePicked.length&&this.options.selectBackward){const t=this.picker.datePicked[0].clone();return e.isAfter(t,"day")}return!1}testFilter(e){return"function"==typeof this.options.filter&&this.options.filter(e,this.picker.datePicked)}}class u extends l{rangePlugin;lockPlugin;priority=10;binds={onView:this.onView.bind(this),onColorScheme:this.onColorScheme.bind(this)};options={dropdown:{months:!1,years:!1,minYear:1950,maxYear:null},darkMode:!0,locale:{resetButton:'<svg xmlns="http://www.w3.org/2000/svg" height="24" width="24"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/></svg>'}};matchMedia;getName(){return"AmpPlugin"}onAttach(){this.options.darkMode&&window&&"matchMedia"in window&&(this.matchMedia=window.matchMedia("(prefers-color-scheme: dark)"),this.matchMedia.matches&&(this.picker.ui.container.dataset.theme="dark"),this.matchMedia.addEventListener("change",this.binds.onColorScheme)),this.options.weekNumbers&&this.picker.ui.container.classList.add("week-numbers"),this.picker.on("view",this.binds.onView)}onDetach(){this.options.darkMode&&window&&"matchMedia"in window&&this.matchMedia.removeEventListener("change",this.binds.onColorScheme),this.picker.ui.container.removeAttribute("data-theme"),this.picker.ui.container.classList.remove("week-numbers"),this.picker.off("view",this.binds.onView)}onView(e){this.lockPlugin=this.picker.PluginManager.getInstance("LockPlugin"),this.rangePlugin=this.picker.PluginManager.getInstance("RangePlugin"),this.handleDropdown(e),this.handleResetButton(e),this.handleWeekNumbers(e)}onColorScheme(e){const t=e.matches?"dark":"light";this.picker.ui.container.dataset.theme=t}handleDropdown(e){const{view:t,target:n,date:i,index:o}=e.detail;if("CalendarHeader"===t){const e=n.querySelector(".month-name");if(this.options.dropdown.months){e.childNodes[0].remove();const t=document.createElement("select");t.className="month-name--select month-name--dropdown";for(let e=0;e<12;e+=1){const n=document.createElement("option"),o=new r(new Date(i.getFullYear(),e,2,0,0,0)),s=new r(new Date(i.getFullYear(),e,1,0,0,0));n.value=String(e),n.text=o.toLocaleString(this.picker.options.lang,{month:"long"}),this.lockPlugin&&(n.disabled=this.lockPlugin.options.minDate&&s.isBefore(new r(this.lockPlugin.options.minDate),"month")||this.lockPlugin.options.maxDate&&s.isAfter(new r(this.lockPlugin.options.maxDate),"month")),n.selected=s.getMonth()===i.getMonth(),t.appendChild(n)}t.addEventListener("change",(e=>{const t=e.target;this.picker.calendars[0].setDate(1),this.picker.calendars[0].setMonth(Number(t.value)),this.picker.renderAll()})),e.prepend(t)}if(this.options.dropdown.years){e.childNodes[1].remove();const t=document.createElement("select");t.className="month-name--select";const n=this.options.dropdown.minYear,o=this.options.dropdown.maxYear?this.options.dropdown.maxYear:(new Date).getFullYear();if(i.getFullYear()>o){const e=document.createElement("option");e.value=String(i.getFullYear()),e.text=String(i.getFullYear()),e.selected=!0,e.disabled=!0,t.appendChild(e)}for(let e=o;e>=n;e-=1){const n=document.createElement("option"),o=new r(new Date(e,0,1,0,0,0));n.value=String(e),n.text=String(e),this.lockPlugin&&(n.disabled=this.lockPlugin.options.minDate&&o.isBefore(new r(this.lockPlugin.options.minDate),"year")||this.lockPlugin.options.maxDate&&o.isAfter(new r(this.lockPlugin.options.maxDate),"year")),n.selected=i.getFullYear()===e,t.appendChild(n)}if(i.getFullYear()<n){const e=document.createElement("option");e.value=String(i.getFullYear()),e.text=String(i.getFullYear()),e.selected=!0,e.disabled=!0,t.appendChild(e)}if("asc"===this.options.dropdown.years){const e=Array.prototype.slice.call(t.childNodes).reverse();t.innerHTML="",e.forEach((e=>{e.innerHTML=e.value,t.appendChild(e)}))}t.addEventListener("change",(e=>{const t=e.target;this.picker.calendars[0].setFullYear(Number(t.value)),this.picker.renderAll()})),e.appendChild(t)}}}handleResetButton(e){const{view:t,target:n}=e.detail;if("CalendarHeader"===t&&this.options.resetButton){const e=document.createElement("button");e.className="reset-button unit",e.innerHTML=this.options.locale.resetButton,e.addEventListener("click",(e=>{e.preventDefault();let t=!0;"function"==typeof this.options.resetButton&&(t=this.options.resetButton.call(this)),t&&this.picker.clear()})),n.appendChild(e)}}handleWeekNumbers(e){if(this.options.weekNumbers){const{view:t,target:n}=e.detail;if("CalendarDayNames"===t){const e=document.createElement("div");e.className="wnum-header",e.innerHTML="Wk",n.prepend(e)}"CalendarDays"===t&&[...n.children].forEach(((e,t)=>{if(0===t||t%7==0){let t;if(e.classList.contains("day"))t=new r(e.dataset.time);else{const e=n.querySelector(".day");t=new r(e.dataset.time)}let i=t.getWeek(this.picker.options.firstDay);53===i&&0===t.getMonth()&&(i="53/1");const o=document.createElement("div");o.className="wnum-item",o.innerHTML=String(i),n.insertBefore(o,e)}}))}}}},3432:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getInstance:()=>s,registerAll:()=>i,setInstance:()=>o});let r=new Map([]);const i=()=>{document.querySelectorAll("[data-core-toggle]").forEach((e=>{if("dropdown"===e.getAttribute("data-core-toggle"))new core.Dropdown(e)}))},o=(e,t)=>{r.set(e,t)},s=e=>r.get(e)},2320:(e,t,n)=>{"use strict";n.d(t,{HH:()=>S,NJ:()=>p,O1:()=>v,W7:()=>g,WY:()=>m,aB:()=>T,bp:()=>A,c$:()=>y,dS:()=>E,n2:()=>C,nC:()=>b,ne:()=>_,pv:()=>k,rh:()=>O,xn:()=>x,yQ:()=>w});var r=n(5382),i=n.n(r),o=n(4183),s=n(120),a=n(7575),l=n.n(a);const c=n(9669),u=n(129),d=n(3432);let h;const f={_language:{unexpectedError:"An unknown error has occurred whilst processing your request"},_validation:{date:/[0-9]{2}-[0-9]{2}-[0-9]{4}/,email:/[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}/,int:/[0-9]{1,}/,mac:/[a-zA-Z0-9]{2}:[a-zA-Z0-9]{2}:[a-zA-Z0-9]{2}:[a-zA-Z0-9]{2}:[a-zA-Z0-9]{2}:[a-zA-Z0-9]{2}/,mobile:/^04\d{8}$/,name:/([a-zA-Z]+|[ '\-][a-zA-Z])+/,phone:/[+]?[0-9]{6,11}/,postcode:/[0-9]{4}/,price:/^\d+(\.\d{1,2})?$/},page:{}};window.core=n(5694),window.location.page=window.location.pathname,window.location.current="/",i().extendDefaults({placeholder:"",showMaskOnHover:!1,showMaskOnFocus:!1,positionCaretOnTab:!1}),s.ou.local().setZone("Australia/Perth");const p=e=>{"complete"===document.readyState?(document.body.classList.remove("no-transitions"),d.registerAll(),h=document.getElementById("allAlerts"),e()):document.addEventListener("readystatechange",(function t(n){"interactive"===n.target.readyState?(document.body.classList.remove("no-transitions"),d.registerAll(),h=document.getElementById("allAlerts"),e()):"complete"===n.target.readyState&&document.removeEventListener("readystatechange",t)}))},m=async(e=void 0)=>{if(null==e||null==e.method||null==e.url)throw new Error("Unable to execute request, required settings are missing");{let t={method:e.method,url:e.url,responseType:e.responseType??"json",headers:e.headers??{}};"GET"==e.method?(t.params=e.data,t.paramsSerializer=e=>u.stringify(e,{arrayFormat:"indices"})):t.data=e.data,t.headers.Accept="application/json",e.data instanceof FormData&&(t.headers["Content-Type"]="multipart/form-data"),e.abort&&(t.signal=e.abort);try{const n=await c(t);if(!(n.data instanceof Object)||e.expectView&&1==n?.data?.success)return n.data;{let e={code:n.data.success?n.status:500,config:n.config};for(let t in n.data)e[t]=n.data[t];if(1==n.data.success)return e;throw{config:n.config,response:{status:400,data:n.data}}}}catch(e){throw"ERR_CANCELED"==e.code?{success:!1,code:499,config:{},message:"Request was cancelled by user"}:{success:!1,code:e.response?.status,config:e.config,data:e.response?.data}}}},g=(e,t,n=void 0)=>{let r="string"==typeof e?document.querySelector(e):e;r.classList.toggle("disabled",t),r.toggleAttribute("disabled",t),t&&!r.querySelector("i.fa-spinner-third.fa-spin")?(r.setAttribute("data-prev",r.innerHTML),r.innerHTML=(n??"Submitting")+' <i class="fa-solid fa-spinner-third fa-spin ml-2"></i>'):t||(r.innerHTML=n??r.getAttribute("data-prev")??"Submit",r.removeAttribute("data-prev"))},v=(e,t,n=4e3)=>{let r,i="alert"+(h.children.length+1);h.insertAdjacentHTML("afterbegin",`<div id="${i}" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true"><div class="toast-header ${e}"><strong class="my-auto me-auto">Notification</strong><i class="fa-solid fa-xmark" data-bs-dismiss="toast"></i></div><div class="toast-body">${t}</div></div>`),r=new bootstrap.Toast(document.getElementById(i),{delay:n}),r.show()},y=e=>{let t=!0,n=!1;if(function e(r){for(let i in r){let s=r[i];if(NodeList.prototype.isPrototypeOf(s)&&(r[i]=Array.prototype.slice.call(s),s=r[i]),null!=s)if("object"==typeof s&&null==s.nodeType)if(o.prototype.isPrototypeOf(s))s.isRequired&&""==s.getValue()?(s.wrapper.classList.add("is-invalid"),t=!1):(s.wrapper.classList.remove("is-invalid"),r[i]=s.getValue());else if("function"==typeof s.getFiles){let e=s.getFiles(),o=e.length>1?[]:null;if(n=!0,s.required&&0==e.length)s.element.querySelector(".filepond--drip").classList.add("is-invalid"),t=!1;else{s.element.querySelector(".filepond--drip").classList.remove("is-invalid");for(let t in e){let n=e[t].file;o instanceof Array?o.push(n):o=n}r[i]=o}}else if(s instanceof l().Editor)s.options.isRegistered("required")&&!0===s.options.get("required")&&""==s.getContent()?(s.editorContainer.classList.add("is-invalid"),t=!1):(s.editorContainer.classList.remove("is-invalid"),r[i]=s.getContent());else if(s instanceof Array)for(let e in s){let n=s[e];if(n instanceof Element){let o=n.getAttribute("data-regex");!n.checkValidity()||n.required&&""==n.value||n.required&&o&&!f._validation[o].test(n.value)?(n.classList.add("is-invalid"),t=!1):(n.classList.remove("is-invalid"),""!=n.value?r[i][e]=n.value:r[i]=r[i].slice(e+1,1))}else r[i][e]=n}else e(s);else if(null!=s.nodeType){let e=s.getAttribute("data-regex");if(!s.checkValidity()||s.required&&("checkbox"!=s.type&&""==s.value||"checkbox"==s.type&&0==s.checked)||s.required&&e&&!f._validation[e].test(s.value))s.classList.add("is-invalid"),t=!1;else if(s.classList.remove("is-invalid"),"file"==s.type){let e=s.files.length>1?[]:null;n=!0;for(let t=0;t<s.files.length;t++){let n=s.files[t];e instanceof Array?e.push(n):e=n}r[i]=e}else"checkbox"==s.type?"on"!=s.value&&""!=s.value?r[i]=s.value:r[i]=s.checked?1:0:""!=s.value?null!=s.getAttribute("data-str")?r[i]=s.value.toString():isNaN(s.value)?r[i]=s.value:s.value%1==0?r[i]=parseInt(s.value):r[i]=parseFloat(s.value):r[i]=""}}}(e),n){let t=new FormData;for(let n in e){let r=e[n];"object"!=typeof r||r instanceof File?t.append(n,r):Array.isArray(r)&&r[0]instanceof File?r.forEach((e=>{t.append(n,e)})):t.append(n,JSON.stringify(r))}e._formData=t}return t},_=(e,t)=>{!0===e||e.checked?(t.setAttribute("required",""),"LABEL"==t.previousElementSibling?.nodeName&&t.previousElementSibling.classList.add("required")):(t.removeAttribute("required"),"LABEL"==t.previousElementSibling?.nodeName&&t.previousElementSibling.classList.remove("required"))},b=(e,t=void 0)=>{let n=e.id,r=e.querySelector("#"+n+"_submit");C(e.querySelector("#"+n+"_error")),r.className="btn btn-sm btn-orange",r.innerHTML="Submit",r.removeAttribute("disabled"),e.querySelectorAll("input, select, textarea").forEach((e=>{if(e.classList.remove("is-valid","is-invalid"),e.hasAttribute("id")&&e.removeAttribute("disabled"),"checkbox"==e.type)e.checked=!!t&&t(e);else if(e.classList.contains("tomselected"))e.tomselect.setValue(t?t(e):[]);else if("select-multiple"==e.type){let n=t?t(e):[];n=(t?t(e):[]).map((e=>e.toString())),Array.from(e.options).forEach(((t,r)=>{-1!==n.indexOf(t.value.toString())?e.options[r].selected=!0:e.options[r].selected=!1}))}else e.value=t?t(e):""}))},w=async(e,t,n,r,i="json",o=void 0)=>new Promise((function(s,a){let l=e.id,c=e.querySelector("#"+l+"_error");C(c),y(r)&&(g("#"+l+"_submit",!0),e.querySelectorAll("input, select").forEach((e=>{e.disabled=!0})),m({method:t,url:n,data:r._formData??r,responseType:i,headers:o}).then((e=>{s(e)})).catch((t=>{a(t),g("#"+l+"_submit",!1),e.querySelectorAll("input, select").forEach((e=>{(e.hasAttribute("id")||e.hasAttribute("name"))&&e.removeAttribute("disabled")})),E(t,l+"_",c)})))})),k=(e,t=void 0,n=!1)=>{let r=e.className,i=e.innerHTML;e.className="btn btn-sm btn-success",e.innerHTML=(null!=t?t:"Success")+' <i class="fa-solid fa-check ml-2"></i>',n&&setTimeout((()=>{e.className=r,e.innerHTML=i}),1500)},x=()=>{document.querySelectorAll('[name="flashError[]"]').forEach((e=>{v("red",e.innerHTML),e.remove()}))},S=e=>{let t="";if(403==e.code)return e.data.message;if(-1==[400,499].indexOf(e.code))return f._language.unexpectedError;if("data"in e&&(e=e.data),"errors"in e){"string"==typeof e.errors&&(e.errors={GLOBAL:e.errors});for(let n in e.errors)e.errors[n].forEach((e=>{t+=(""!=t?", ":"")+e}))}else t=null!=e.message&&"string"==typeof e.message?e.message:"";return""!=t?t:f._language.unexpectedError},E=(e,t,n)=>{let r="";if(403==e.code)r=e.data.message;else if(-1==[400,422,499].indexOf(e.code))r=f._language.unexpectedError;else if("data"in e&&(e=e.data),"errors"in e){"string"==typeof e.errors&&(e.errors={GLOBAL:e.errors});for(let n in e.errors)e.errors[n].forEach((e=>{if("GLOBAL"==n)""==r&&(r='The following errors were found: <ul class="default">'),r+=`<li>${e}</li>`;else{let i=document.getElementById(t+n);i?(i.classList.add("is-invalid"),i.insertAdjacentHTML("afterend",'<p class="text-error" name="handledError[]">'+e+"</p>")):(""==r&&(r='The following errors were found: <ul class="default">'),r+=`<li>${e}</li>`)}}));""!=r&&(r+="</ul>")}else r=null!=e?.message&&"string"==typeof e.message&&""!=e.message?e.message:f._language.unexpectedError;if(-1!==r.indexOf("</ul>")){1===r.match(/<li>(.*?)<\/li>/g).length&&(r=/<li>(.*?)<\/li>/g.exec(r)[1])}""!=r&&(n.innerHTML=r,n.classList.remove("d-none"))},C=e=>{e.innerHTML=f._language.unexpectedError,e.classList.add("d-none"),document.querySelectorAll('[name="handledError[]"]').forEach((e=>{e.remove()}))},T=()=>{document.querySelectorAll("input[data-inputmask-regex]:not(.done)").forEach((e=>{let t=e.getAttribute("data-inputmask-regex"),n=f._validation[t];switch(n&&e.setAttribute("data-inputmask-regex",n.toString().slice(1,-1)),t){case"date":case"mac":e.setAttribute("inputmode","numeric");break;case"phone":case"mobile":e.setAttribute("inputmode","tel");break;case"int":case"price":case"postcode":e.setAttribute("inputmode","decimal")}!e.getAttribute("pattern")&&e.required&&e.setAttribute("pattern",n?n.toString().slice(1,-1):t),i()().mask(e),e.classList.add("done")}))},A=()=>{[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((e=>new bootstrap.Tooltip(e)))},O=(e=null,t=null)=>{let n=window.location.pathname.replaceAll("/",".").replaceAll("%20","-").replaceAll(":","-").substring(1);return(null!=e?e+".":"")+(""!=n?n:t??"home")}},2284:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(2320),i=n(120),o=n(7466),s=n.n(o),a=n(4183),l=n.n(a);const c=class{constructor(e,t=void 0,n=null){if(this._element=e,this._data=[],this._options={ajax:{url:t?.ajax?.url??window.location.pathname+"/list/filters"}},this._filterable=n,this._operators={string:[{name:"is",operator:"=",wildcard:"{&}"},{name:"isn't",operator:"!=",wildcard:"{&}"},{name:"contains",operator:"LIKE",wildcard:"%{&}%"},{name:"doesn't contain",operator:"NOT LIKE",wildcard:"%{&}%"},{name:"starts with",operator:"LIKE",wildcard:"{&}%"},{name:"ends with",operator:"LIKE",wildcard:"%{&}"},{name:"is empty",operator:"IS NULL",wildcard:"{&}"},{name:"is not empty",operator:"IS NOT NULL",wildcard:"{&}"}],select:[{name:"is",operator:"IN",wildcard:"{&}"},{name:"isn't",operator:"NOT IN",wildcard:"{&}"},{name:"is empty",operator:"IS NULL",wildcard:"{&}"},{name:"is not empty",operator:"IS NOT NULL",wildcard:"{&}"}],boolean:[{name:"is",operator:"=",wildcard:"{&}"}],date:[{name:"on",operator:"",wildcard:"{&}"},{name:"before",operator:"",wildcard:"{&}"},{name:"after",operator:"",wildcard:"{&}"},{name:"between",operator:"",wildcard:"{&}"},{name:"today",operator:"",wildcard:"{&}"},{name:"yesterday",operator:"",wildcard:"{&}"},{name:"this week",operator:"",wildcard:"{&}"},{name:"this month",operator:"",wildcard:"{&}"},{name:"this year",operator:"",wildcard:"{&}"},{name:"in the last",operator:"",wildcard:"{&}"}]},null==this._options.ajax.url)throw new Error("Cannot create filter, required settings are missing");this._initialize()}_initialize(){(0,r.WY)({method:"GET",url:this._options.ajax.url}).then((e=>{this._data=e.data,this._buildFilters(),this._buildFooterButtons()})).catch((e=>{(0,r.O1)("red",(0,r.HH)(e)),this._element.classList.add("d-none")}))}_buildFilters(){this._element.querySelectorAll('[name="filter-field[]"]').forEach((e=>{switch(e.getAttribute("data-type")){case"string":this._buildStringField(e);break;case"select":this._buildSelectField(e);break;case"boolean":this._buildBooleanField(e);break;case"date":this._buildDateField(e)}}))}_buildStringField(e){let t,n=document.createElement("select"),r=[];n.classList.add("form-select","tom","mb-1"),n.setAttribute("id",e.id+"_operators"),e.parentElement.insertBefore(n,e),this._operators.string.forEach(((e,t)=>{r.push({value:t,text:e.name,operator:e.operator,wildcard:e.wildcard})})),t=new(l())("#"+n.id,{maxItems:1,placeholder:"Choose...",hidePlaceholder:!0,plugins:["remove_button"],options:r,onChange:this._operatorOnChange}),t.wrapper.setAttribute("name","operator-field[]")}_buildSelectField(e){let t,n,r=document.createElement("select"),i=[];r.classList.add("form-select","tom","mb-1"),r.setAttribute("id",e.id+"_operators"),e.parentElement.insertBefore(r,e),this._operators.select.forEach(((e,t)=>{i.push({value:t,text:e.name,operator:e.operator,wildcard:e.wildcard})})),t=new(l())("#"+r.id,{maxItems:1,placeholder:"Choose...",hidePlaceholder:!0,plugins:["remove_button"],options:i,onChange:this._operatorOnChange}),t.wrapper.setAttribute("name","operator-field[]"),n=new(l())("#"+e.id,{maxItems:null,placeholder:"Choose...",hidePlaceholder:!0,plugins:["remove_button"],options:this._data[e.id]}),n.wrapper.setAttribute("name","filter-field[]"),e.removeAttribute("name","filter-field[]")}_buildBooleanField(e){let t,n,r=document.createElement("select"),i=[];r.classList.add("form-select","tom","mb-1"),r.setAttribute("id",e.id+"_operators"),e.parentElement.insertBefore(r,e),this._operators.boolean.forEach(((e,t)=>{i.push({value:t,text:e.name,operator:e.operator,wildcard:e.wildcard})})),t=new(l())("#"+r.id,{maxItems:1,placeholder:"Choose...",hidePlaceholder:!0,plugins:["remove_button"],options:i,onChange:this._operatorOnChange}),t.wrapper.setAttribute("name","operator-field[]"),n=new(l())("#"+e.id,{maxItems:1,placeholder:"Choose...",hidePlaceholder:!0,plugins:["remove_button"],options:[{value:0,text:"Not Selected"},{value:1,text:"Selected"}]}),n.wrapper.setAttribute("name","filter-field[]"),e.removeAttribute("name","filter-field[]")}_buildDateField(e){let t,n,r=document.createElement("select"),i=[];r.classList.add("form-select","tom","mb-1"),r.setAttribute("id",e.id+"_operators"),e.parentElement.insertBefore(r,e),this._operators.date.forEach(((e,t)=>{i.push({value:t,text:e.name,operator:e.operator,wildcard:e.wildcard})})),t=new(l())("#"+r.id,{maxItems:1,placeholder:"Choose...",hidePlaceholder:!0,plugins:["remove_button"],options:i,onChange:this._operatorOnChange}),t.wrapper.setAttribute("name","operator-field[]"),n=new(s())({element:e,format:"DD-MM-YYYY",resetButton:!0,dropdowns:{minYear:1990,maxYear:null,months:!0,years:!0},highlightedDays:[new Date]})}_operatorOnChange(){let e,t;switch(e=this.getValue()?this.options[this.getValue()].text:"",t=this.wrapper.parentElement.querySelector('[name="filter-field[]"]'),e){case"is empty":case"is not empty":t.classList.contains("form-select")?t.previousSibling.tomselect.clear():"INPUT"===t.nodeName&&(t.value=""),t.style.display="none";break;case"today":case"yesterday":case"this week":case"this month":case"this year":let e=document.createElement("input");e.setAttribute("id",t.id),e.setAttribute("name","filter-field[]"),e.classList.add("form-control","tom"),e.style.display="none",t.replaceWith(e);break;case"between":let n=document.createElement("input");new(s())({element:n,format:"DD-MM-YYYY",resetButton:!0,dropdowns:{minYear:1990,maxYear:null,months:!0,years:!0},singleMode:!1,highlightedDays:[new Date]}),n.setAttribute("id",t.id),n.setAttribute("name","filter-field[]"),n.classList.add("form-control","tom"),n.dataset.type=t.dataset.type,n.dataset.key=t.dataset.key,t.replaceWith(n);break;case"in the last":let r=document.createElement("div"),i=document.createElement("input"),o=document.createElement("select"),a=[{value:"hours",text:"Hours"},{value:"days",text:"Days"},{value:"weeks",text:"Weeks"},{value:"months",text:"Months"},{value:"years",text:"Years"}];r.setAttribute("id",t.id),r.setAttribute("name","filter-field[]"),r.dataset.type=t.dataset.type,r.dataset.key=t.dataset.key,i.style.width="40%",i.style.display="inline-block",i.classList.add("form-control","tom"),o.style.width="50%",o.classList.add("ml-1","form-select","tom"),o.setAttribute("id",t.id+"_date_units"),r.appendChild(i),r.appendChild(o),t.replaceWith(r);new(l())("#"+o.id,{maxItems:1,placeholder:"Choose...",hidePlaceholder:!0,plugins:["remove_button"],options:a}).wrapper.style.display="inline-block";break;case"on":case"before":case"after":let c=document.createElement("input");new(s())({element:c,format:"DD-MM-YYYY",dropdowns:{minYear:1990,maxYear:null,months:!0,years:!0},resetButton:!0,highlightedDays:[new Date]}),c.setAttribute("id",t.id),c.setAttribute("name","filter-field[]"),c.classList.add("form-control","tom"),c.dataset.type=t.dataset.type,c.dataset.key=t.dataset.key,t.replaceWith(c);break;default:t.style.display="block"}}_buildFooterButtons(){let e=document.getElementsByClassName("ct-sidebar-filter")[0],t=this,n=document.createElement("div"),r=document.createElement("a"),i=document.createElement("a");n.classList.add("ct-sidebar-section"),r.classList.add("btn","btn-sm","btn-success","mx-1"),r.style.width="45%",r.style.fontSize="x-small",r.innerHTML='Apply Filters <i class="fa-solid fa-check ml-1"></i>',r.onclick=()=>{this._applyFilters(t)},i.classList.add("btn","btn-sm","btn-danger","mx-1"),i.style.width="45%",i.style.fontSize="x-small",i.innerHTML='Reset Filters <i class="fa-solid fa-times ml-1"></i>',i.onclick=()=>{this._resetFilters(t)},n.appendChild(r),n.appendChild(i),e.appendChild(n)}_applyFilters(e){let t={};document.querySelectorAll('[name="operator-field[]"]').forEach((n=>{let r=n.previousSibling.tomselect.getValue();if(""!==r){let i,o=n.previousSibling.tomselect.options[r].operator,s=n.nextSibling,a={};if(i=s.classList.contains("form-select")?s.tomselect.getValue():n.previousSibling.tomselect.options[r].wildcard.replace("{&}",s.value),"date"===s.dataset.type){if("in the last"===n.previousSibling.tomselect.options[r].text){i=[s.querySelector("input").value,s.querySelector("select").tomselect.getValue()];try{a=e._formatDateFilters(n.previousSibling.tomselect.options[r].text,i)}catch(e){return}}}else a=[{operator:o,value:i}];let l=s.dataset.key,c="";"relationship"in s.dataset?(c=s.dataset.relationship,null==t[c]&&(t[c]={}),t[c][l]=a):t[l]=a}})),null!==e._filterable&&void 0!==e._filterable._applyFilters&&e._filterable._applyFilters(t)}_resetFilters(e){document.querySelectorAll('[name="operator-field[]"]').forEach((e=>{let t=e.nextSibling;e.previousSibling.tomselect.clear(),t.classList.contains("form-select")?t.tomselect.clear():t.value=""})),null!==e._filterable&&void 0!==e._filterable._applyFilters&&e._filterable._applyFilters()}_formatDateFilters(e,t){let n;switch(e){case"on":n=[{operator:">=",value:i.ou.fromFormat(t+" 00:00:00","dd-MM-yyyy HH:mm:ss").toMillis()/1e3},{operator:"<=",value:i.ou.fromFormat(t+" 23:59:59","dd-MM-yyyy HH:mm:ss").toMillis()/1e3}];break;case"before":n=[{operator:"<",value:i.ou.fromFormat(t+" 00:00:00","dd-MM-yyyy HH:mm:ss").toMillis()/1e3}];break;case"after":n=[{operator:">",value:i.ou.fromFormat(t+" 23:59:59","dd-MM-yyyy HH:mm:ss").toMillis()/1e3}];break;case"between":const e=t.split(" - ");n=[{operator:">=",value:i.ou.fromFormat(e[0]+" 00:00:00","dd-MM-yyyy HH:mm:ss").toMillis()/1e3},{operator:"<=",value:i.ou.fromFormat(e[1]+" 23:59:59","dd-MM-yyyy HH:mm:ss").toMillis()/1e3}];break;case"today":n=[{operator:">=",value:i.ou.now().startOf("day").toMillis()/1e3},{operator:"<=",value:i.ou.now().endOf("day").toMillis()/1e3}];break;case"yesterday":n=[{operator:">=",value:i.ou.now().startOf("day").minus({days:1}).toMillis()/1e3},{operator:"<=",value:i.ou.now().endOf("day").minus({days:1}).toMillis()/1e3}];break;case"this week":n=[{operator:">=",value:i.ou.now().startOf("week").toMillis()/1e3},{operator:"<=",value:i.ou.now().endOf("week").toMillis()/1e3}];break;case"this month":n=[{operator:">=",value:i.ou.now().startOf("month").toMillis()/1e3},{operator:"<=",value:i.ou.now().endOf("month").toMillis()/1e3}];break;case"this year":n=[{operator:">=",value:i.ou.now().startOf("year").toMillis()/1e3},{operator:"<=",value:i.ou.now().endOf("year").toMillis()/1e3}];break;case"in the last":n=[{operator:">=",value:i.ou.now().minus({[t[1]]:t[0]}).toMillis()/1e3},{operator:"<=",value:i.ou.now().toMillis()/1e3}];break;default:n=[]}return n}}},5694:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Confirmation:()=>i,Dropdown:()=>s,Filter:()=>a.Z,Lookup:()=>l,Tables:()=>c.Z,getInstance:()=>u.getInstance});var r=n(2320);const i=class{constructor(e,t,n,r=void 0){this._element={},this._header=e,this._body=t,this._cb=n,this._fail=r,this.onSuccess=this.onSuccess,this.onError=this.onError,this.closeModal=this.closeModal,this._initialize()}_initialize(){this._registerElements(),this._prepareModal(),this._runPromise()}_registerElements(){this._element.modal=document.getElementById("confirmAction"),this._element.error=this._element.modal.querySelector("#confirmAction_error"),this._element.submit=this._element.modal.querySelector("#confirmAction_submit"),new bootstrap.Modal(this._element.modal)}_prepareModal(){this._element.modal.querySelector("#confirmAction_header").innerHTML=this._header??"Confirm Action",this._element.modal.querySelector("#confirmAction_body").innerHTML=this._body??"Please confirm you would like to make that action?",this._element.error.innerHTML="An unknown error has occurred whilst processing your request",this._element.error.classList.add("d-none")}_runPromise(){let e=this;return new Promise((function(t){function n(){e._element.modal.removeEventListener("hide.bs.modal",i),e._element.error.classList.add("d-none"),(0,r.W7)("#confirmAction_submit",!0,"Confirming"),t(!0),e._cb(e)}function i(){e._element.submit.removeEventListener("click",n),t(!1),e._fail&&e._fail(e)}e._element.submit.className="btn btn-sm btn-orange",e._element.submit.innerHTML="Confirm",e._element.submit.disabled=!1,bootstrap.Modal.getInstance(e._element.modal).show(),e._element.submit.addEventListener("click",n,{once:!0}),e._element.modal.addEventListener("hide.bs.modal",i,{once:!0})}))}onSuccess(e){this._element.submit.className="btn btn-sm btn-success",this._element.submit.innerHTML=`${e} <i class="fa-solid fa-check ml-2"></i>`,this._element.submit.disabled=!0}onError(e){this._element.error.innerHTML=(0,r.HH)(e),this._element.error.classList.remove("d-none"),this._runPromise()}closeModal(){bootstrap.Modal.getInstance(this._element.modal).hide()}},o=n(3432);const s=class{constructor(e,t){if(this._element=e,this._options=t,this._menu=t?.menu??null,this.show=this.show,this.hide=this.hide,this.toggle=this.toggle,null==this._element)throw new Error("Cannot create dropdown, target element not specified");o.setInstance(this._element,this),this._initialize()}_initialize(){this._prepareElement(),this._registerMenu(),this._registerEvents()}_prepareElement(){this._element.removeAttribute("data-core-toggle")}_registerMenu(){null==this._menu&&(this._menu=this._element.nextElementSibling??document.querySelector(`[aria-labelledby="${this._element.id}"]`))}_registerEvents(){let e=this;this._element.addEventListener("click",(function(){e.toggle()}))}show(){let e=new CustomEvent("show.core.dropdown",{cancelable:!0});this._element.dispatchEvent(e)&&(this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._element.classList.add("show"),this._menu.classList.add("show"),this._element.dispatchEvent(new CustomEvent("shown.core.dropdown")))}hide(){let e=new CustomEvent("hide.core.dropdown",{cancelable:!0});this._element.dispatchEvent(e)&&(this._element.setAttribute("aria-expanded",!1),this._element.classList.remove("show"),this._menu.classList.remove("show"),this._element.dispatchEvent(new CustomEvent("hidden.core.dropdown")))}toggle(){return this._element.classList.contains("show")?this.hide():this.show()}};var a=n(2284);const l=class{constructor(e,t=null){if(this.ele=e,this.container=null,this.chosen=!1,this.data=[],this.options={ajax:{method:t?.ajax?.method??"GET",url:t?.ajax?.url,data:t?.ajax?.data??{},key:t?.ajax?.key},element:{searching:{show:t?.element?.searching?.show??!1,delay:t?.element?.searching?.delay??300}},render:{type:t?.render?.type??"array",fn:t?.render?.fn??null,object:{name:t?.render?.object?.name??"name",value:t?.render?.object?.value??"value"},fallback:{enabled:t?.render?.fallback?.enabled??!0,text:t?.render?.fallback?.text??"Can't find the results you were looking for?"}},autoSelect:t?.autoSelect??!1},null==this.ele||null==this.options.ajax.method||null==this.options.ajax.url||null==this.options.ajax.key)throw new Error("Cannot create lookup, required settings are missing");this._initialize()}_initialize(){this._attachEvents()}_attachEvents(){let e=this;this.ele.addEventListener("focusin",(function(t){0==e.chosen&&""!=this.value&&null!=t.sourceCapabilities&&this.dispatchEvent(new Event("input"))})),this.ele.addEventListener("focusout",(function(){e.container?.classList.add("fade"),e.options.element.searching.show&&e.ele.parentElement.classList.remove("searching"),e.options.autoSelect&&e.container?.firstElementChild?.classList.contains("core-suggestion")&&e.container.firstElementChild.click(),setTimeout((function(){e.container?.remove(),e.container=null}),200)})),this.ele.addEventListener("keydown",(function(t){27==t.keyCode&&e.ele.nextElementSibling.classList.contains("core-suggestions")&&(t.stopPropagation(),e.ele.blur(),e.ele.closest(".modal")&&e.ele.closest(".modal").focus())})),this.ele.addEventListener("input",(function(t){let n=this.value;e.chosen=!1,e.data=[],""!=n?(e.options.element.searching.show&&e.ele.parentElement.classList.add("searching"),e.container?.classList.contains("core-suggestions")&&e.container.classList.add("searching"),e.container?.classList.contains("core-suggestions")&&(e.container.innerHTML=""),setTimeout((function(){if(n==e.ele.value&&""!=n&&n.length>=3){let i=e.options.ajax.data,o=0;if(i[e.options.ajax.key]=n,!e.container?.classList.contains("core-suggestions")){let n=t.target.getBoundingClientRect(),r=`suggestion${Math.floor(1e3*Math.random())}`;document.body.insertAdjacentHTML("beforeend",`<div class="core-suggestions searching" id="${r}" style="top: ${Number(document.documentElement.scrollTop+n.top+n.height)}px; left: ${Number(n.left)}px; width: ${Number(n.width)}px;"></div>`),e.container=document.getElementById(r),e._detectClicks()}(0,r.WY)({method:e.options.ajax.method,url:e.options.ajax.url,data:i}).then((t=>{e.container.innerHTML="",t.data.length>=1&&t.data.forEach((t=>{e.data.push(t),e.container.insertAdjacentHTML("beforeend",`<div class="core-suggestion" _rowIndex="${o}">${null!=e.options.render.fn?e.options.render.fn(t):"array"!=e.options.render.type?t[e.options.render.object.name]:t}</div>`),o++})),e.options.render.fallback.enabled&&e.container.insertAdjacentHTML("beforeend",`<div class="core-suggestion not-found">${e.options.render.fallback.text}</div>`)})).catch((t=>{e.options.render.fallback.enabled&&(e.container.innerHTML=`<div class="core-suggestion not-found">${e.options.render.fallback.text}</div>`)})).finally((()=>{e.options.element.searching.show&&e.ele.parentElement.classList.remove("searching"),e.container.classList.remove("searching")}))}}),e.options.element.searching.delay)):e.ele.dispatchEvent(new Event("focusout"))}))}_detectClicks(){let e=this;this.container?.addEventListener("click",(function(t){if(t.target.classList.contains("core-suggestion")){let n=e.data[t.target.getAttribute("_rowIndex")]??"";e.ele.dispatchEvent(new CustomEvent("suggestion-chosen",{detail:{found:""!=n,data:n}})),t.target.classList.contains("not-found")?e.chosen=null:(e.chosen=n,e.ele.value=t.target.innerHTML)}}))}get getChosen(){return this.chosen}};var c=n(2463),u=n(3432)},2463:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2320),i=n(2284);const o=class{constructor(e,t=null){if(this.ele=e,this.data=[],this.res={count:0},this.options={global:{page:0,amount:t?.global?.amount??15,sort:t?.global?.sort??[[0,"asc"]],responsive:t?.global?.responsive??!0,ajax:{method:t?.global?.ajax?.method??"GET",url:t?.global?.ajax?.url??window.location.pathname+"/list/{page}/{amount}",data:t?.global?.ajax?.data??void 0,columns:t?.global?.ajax?.columns??void 0}},table:{type:t?.table?.type??"table",elements:{count:t?.table?.elements?.count??void 0,filters:{enabled:t?.table?.elements?.filters?.enabled??!1,ele:t?.table?.elements?.filters?.ele??void 0,data:t?.table?.elements?.filters?.data??void 0},search:{enabled:t?.table?.elements?.search?.enabled??!0,ele:t?.table?.elements?.search?.ele??void 0,delay:t?.table?.elements?.search?.delay??500,prepend:t?.table?.elements?.search?.prepend??""},thead:{enabled:t?.table?.elements?.thead?.enabled??!0}},header:{left:t?.table?.header?.left??void 0,right:t?.table?.header?.right??void 0},columns:{classList:t?.table?.columns?.classList??[]},expand:{enabled:!!t?.table?.expand?.fn||(t?.table?.expand?.enabled??!1),options:t?.table?.expand?.options??void 0,fn:t?.table?.expand?.fn??void 0},settings:{title:t?.table?.settings?.title??!1,hover:t?.table?.settings?.hover??!0,useLoader:t?.table?.settings?.useLoader??!1,amountSelector:"card"!=t?.table?.type&&(t?.table?.settings?.amountSelector??!0)}},events:{drawn:t?.events?.drawn??void 0},_locked:{navigation:{ele:void 0,buttons:void 0},count:{text:void 0,selector:void 0},filters:void 0,loader:void 0}},this.options.table.elements.filters.enabled&&(this._applyFilters=this._applyFilters),null==this.ele||null==this.options.global.ajax.method||null==this.options.global.ajax.url||null==this.options.global.ajax.columns)throw new Error("Cannot create table, required settings are missing");if(!this.ele.classList.contains("table"))throw new Error("Cannot create table, element provided is not a table");if(!this.ele.querySelector("thead > tr > th"))throw new Error("Cannot create table, table is missing the table head");this._initialize()}_initialize(){this._buildTable(),this._buildLoader(),this._buildTopBar(),this._buildBottomBar(),this._buildFilters(),this.ele.querySelectorAll("th").forEach((function(e,t){e.setAttribute("_col",t)})),this._registerListeners(),this.fetchData()}_buildTable(){if(-1!=["table","card"].indexOf(this.options.table.type)){let e=this.ele.querySelectorAll("thead > tr > th").length,t=this.ele.querySelector("tbody"),n="table ct-table";if(this.options.table.expand.enabled&&(""!=this.ele.querySelector("thead tr th:first-child").innerHTML?this.ele.querySelector("thead tr th:first-child").insertAdjacentHTML("beforebegin",'<th class="ct-expand no-sorting"></th>'):this.ele.querySelector("thead tr th:first-child").classList="ct-expand no-sorting"),this.options.table.expand.enabled&&0==this.options.global.sort[0][0]&&(this.options.global.sort[0][0]=1),this.ele.classList.forEach((e=>{n+=-1==n.indexOf(e)?` ${e}`:""})),this.ele.className=n,this.options.table.settings.hover&&this.ele.classList.add("ct-hover"),t||(this.ele.querySelector("thead").insertAdjacentHTML("afterend","<tbody></tbody>"),t=this.ele.querySelector("tbody")),!this.options.table.settings.useLoader){for(let n=1;n<this.options.global.amount;n++)t.insertAdjacentHTML("beforeend",`<tr><td colspan="${e}"><i class="fa-solid fa-loader fa-spin"></i></td></tr>`);this._showLoader(!0)}if(this.ele.querySelectorAll("thead th").forEach(((e,t)=>{let n=this.options.global.ajax.columns[t];this.options.global.sort.forEach((n=>{t==n[0]&&e.setAttribute("data-sorting",n[1])})),"actions"==n.type&&e.classList.add("actions"),null!=n.sorting&&0==n.sorting&&e.classList.add("no-sorting"),e.innerHTML=`<span>${e.innerHTML}</span>`})),this.options.table.elements.thead.enabled||this.ele.querySelector("thead").classList.add("d-none"),"table"==this.options.table.type){if(this.options.global.responsive){let e=document.createElement("div"),t=document.createElement("div");e.className="ct-responsive",t.className="ct-parent",this.ele.parentNode.insertBefore(e,this.ele),e.appendChild(this.ele),this.ele.parentNode.parentNode.insertBefore(t,this.ele.parentNode),t.appendChild(e);new IntersectionObserver((([e])=>{e.target.classList.toggle("stuck",e.intersectionRatio<1)}),{threshold:1}).observe(this.ele.querySelector("thead"))}}else{let e=document.createElement("div"),t=document.createElement("div");e.className="card ct-card",t.className="card-body",this.ele.parentNode.insertBefore(t,this.ele),t.appendChild(this.ele),this.ele.parentNode.parentNode.insertBefore(e,this.ele.parentNode),e.appendChild(t)}}else{let e=this.ele.parentNode;this.ele.insertAdjacentHTML("afterend",'<div class="ct-parent ct-alt"><div class="row ct-row"></div></div>'),this.ele.remove(),this.ele=e.querySelector(".ct-parent > .row")}}_buildLoader(){let e=document.createElement("div");e.className="ct-loader d-none",e.id="loader",e.innerHTML='<div class="content">\n        <i class="fa-solid fa-loader fa-spin"></i>\n\n        <h2>Loading, Please Wait...</h2>\n      </div>',this.options.global.responsive?this.ele.parentNode.insertBefore(e,this.ele):this.ele.insertBefore(e,this.ele.firstChild),this.options._locked.loader=e}_buildTopBar(){if("table"==this.options.table.type){let e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div");if(this.ele.parentElement.querySelector(".ct-table-header")?.remove(),e.className="ct-table-header",t.className="ct-header-left",n.className="ct-header-right",0!=this.options.table.settings.title){let e=document.createElement("h3");e.className="ct-header-title",e.innerHTML=this.options.table.settings.title,t.appendChild(e)}if("function"==typeof this.options.table.header.left){let e=document.createElement("div");e.className="ct-header-extra",e.innerHTML=this.options.table.header.left(),t.appendChild(e)}if(this.options.table.elements.search.enabled&&null==this.options.table.elements.search.ele){let e=document.createElement("input");e.id=this.ele.id+"_search",e.className="form-control ct-header-search",e.setAttribute("placeholder","Enter text to search the table"),n.insertAdjacentHTML("beforeend",this.options.table.elements.search.prepend),0==this.options.table.settings.title?t.appendChild(e):n.appendChild(e),this.options.table.elements.search.ele=e}if("function"==typeof this.options.table.header.right){let e=document.createElement("div");e.className="ct-header-extra",e.innerHTML=this.options.table.header.right(),n.appendChild(e)}""!=t.innerHTML||""!=n.innerHTML?(e.appendChild(t),e.appendChild(n),""!=e.innerHTML&&this.ele.parentNode.insertBefore(e,this.ele)):this.ele.classList.add("mt-0")}else if("card"==this.options.table.type){let e=document.createElement("div"),t=document.createElement("div");if(e.className="card-header",t.className="ct-header-left","function"!=typeof this.options.table.header.left)throw new Error("Error creating table, missing required options");t.innerHTML=this.options.table.header.left(),e.appendChild(t),this.ele.parentNode.parentNode.insertBefore(e,this.ele.parentNode)}}_buildBottomBar(){let e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("nav");t.className="ct-entries",t.innerHTML='<p class="ct-entries-results">Showing 0 - 0 of 0 Entries</p>\n     \n      <select class="form-select form-select-sm">\n        <option value="10">10</option>\n        <option value="15">15</option>\n        <option value="25">25</option>\n        <option value="50">50</option>\n      </select>',n.setAttribute("class","ct-pagination"),n.setAttribute("aria-label","navigation"),"card"!=this.options.table.type?(e.className="ct-footer",n.innerHTML='<ul class="pagination">\n          <li class="page-item">\n            <a class="page-link" data-page="0"><i class="fa-solid fa-chevrons-left"></i></a>\n          </li>\n\n          <li class="page-item">\n            <a class="page-link" data-page="-1"><i class="fa-solid fa-chevron-left"></i></a>\n          </li>\n\n          <li class="page-item"><a class="page-link" data-page="0">1</a></li>\n          <li class="page-item"><a class="page-link" data-page="1">2</a></li>\n          <li class="page-item"><a class="page-link" data-page="2">3</a></li>\n\n          <li class="page-item">\n            <a class="page-link disabled" data-page="1"><i class="fa-solid fa-chevron-right"></i></a>\n          </li>\n          \n          <li class="page-item">\n            <a class="page-link" data-page="1"><i class="fa-solid fa-chevrons-right"></i></a>\n          </li>\n        </ul>',e.appendChild(t),e.appendChild(n),this.options.global.responsive?this.ele.closest(".ct-parent").parentNode.insertBefore(e,this.ele.closest(".ct-parent").nextSibling):this.ele.parentNode.insertBefore(e,this.ele.nextSibling)):(e.className="ct-header-right",n.innerHTML='<ul class="pagination">\n          <li class="page-item">\n            <a class="page-link" data-page="-1"><i class="fa-solid fa-chevron-left"></i></a>\n          </li>\n\n          <li class="page-item">\n            <a class="page-link disabled" data-page="1"><i class="fa-solid fa-chevron-right"></i></a>\n          </li>\n        </ul>',e.appendChild(t),e.appendChild(n),this.ele.parentNode.previousElementSibling.appendChild(e)),this.options._locked.count.text=t.querySelector("p"),this.options._locked.count.selector=t.querySelector("select"),this.options._locked.navigation.ele=n,this.options._locked.navigation.buttons=n.querySelectorAll("a"),this.options.table.settings.amountSelector&&(this.options._locked.count.selector.value=this.options.global.amount,-1==this.options._locked.count.selector.selectedIndex&&(this.options._locked.count.selector.value=15,this.options.global.amount=this.value))}_buildFilters(){this.options.table.elements.filters.enabled&&new i.Z(this.options.table.elements.filters.ele,this.options.table.elements.filters.data,this)}_registerListeners(){let e=this,t=this.options.table.elements.search.ele,n=this.options._locked.navigation.ele,r=this.options._locked.count.selector;this.options.table.elements.search.enabled&&t.addEventListener("input",(e=>this._handleSearch(e))),r.addEventListener("change",(function(){e.options.global.amount=this.value,e.options.global.page=0,e.fetchData()})),n.querySelectorAll("a").forEach((e=>{e.addEventListener("click",(e=>this._detectClicks(e)))})),this.ele.querySelectorAll("th").forEach((e=>{e.addEventListener("click",(e=>this._detectClicks(e)))})),this.options.table.expand.fn&&this.ele.querySelector("tbody").addEventListener("click",(e=>this._detectBodyClicks(e)))}_detectClicks(e){let t=this.options.global,n=e.target;if(!this._isLoading())if("TH"!=n.nodeName&&!n.closest("TH")||"row"==this.options.table.type){if(n="A"!=n.nodeName?n.closest("A"):n,n.classList.contains("disabled")||n.classList.contains("active"))return;t.page=t.page+parseInt(n.getAttribute("data-page")),this.fetchData(null,!0)}else if(n="TH"!=n.nodeName?n.closest("TH"):n,!n.classList.contains("no-sorting")){let t=n.getAttribute("data-sorting"),r=this.ele.querySelector("th[data-sorting]");null!=r&&r?.getAttribute("_col")!=e.target.getAttribute("_col")&&r.removeAttribute("data-sorting"),"desc"==t?n.removeAttribute("data-sorting"):n.setAttribute("data-sorting",null==t?"asc":"desc"),this.options.global.page=0,this.fetchData(null,!0)}}_detectBodyClicks(e){let t=e.target;if("TBODY"!=t.nodeName&&-1!=["table","card"].indexOf(this.options.table.type)){let e="TR"==t.nodeName?t:t.parentElement.closest("tr"),n=e.getAttribute("_rowIndex")??e.id.replace("row_","");if("expand[]"==t.getAttribute("name")){let t=e.querySelector("i");t.classList.toggle("fa-chevron-right",!t.classList.contains("fa-chevron-right")),t.classList.toggle("fa-chevron-down",!t.classList.contains("fa-chevron-down")),e.classList.toggle("expanded",!t.classList.contains("fa-chevron-right")),t.classList.contains("fa-chevron-right")?this.ele.querySelector(`#row_${n}`).remove():this.options.table.expand.fn(n,e,this.data[n])}}}_showLoader(e){this.options.table.settings.useLoader?this.options._locked.loader.classList.toggle("d-none",!e):(this.ele.classList.toggle("ct-updating",e),this.options._locked.navigation.ele?.classList.toggle("ct-updating",e))}_isLoading(){return this.options.table.settings.useLoader?!this.options._locked.loader.classList.contains("d-none"):this.ele.classList.contains("ct-updating")}fetchData(e=null,t=!1){let n=this,i=this.options,o=this.ele.querySelectorAll("th[data-sorting]"),s=i.global.ajax.url,a={};this._showLoader(!0),null!=i.global.ajax.data&&(a=i.global.ajax.data),this.options.table.elements.search.enabled&&(a.search_term=this.options.table.elements.search.ele.value),o&&(a.sorting=[],o.forEach((e=>{let t=this.options.global.ajax.columns[e.getAttribute("_col")];a.sorting.push({field:t.sorting??t.field,order:e.getAttribute("data-sorting")})}))),this.options.table.elements.filters.enabled&&(a.filters=this.options._locked.filters);let l=s.match(/\{(.*?)\}/g);null!=l&&l.forEach((e=>{let t=i.global[e.replace(/[{}]/g,"")];s=s.replace(e,t)})),(0,r.WY)({method:i.global.ajax.method,url:s,data:a}).then((r=>{let o=-1!=["table","card"].indexOf(this.options.table.type)?this.ele.querySelectorAll("thead th"):null,s=-1!=["table","card"].indexOf(this.options.table.type)?this.ele.querySelector("tbody"):this.ele,a=parseInt(i.global.page*i.global.amount),l=parseInt(a+i.global.amount),c=0,u=[];if(null!=e&&(!0===e&&s.querySelectorAll("tr.odd.expanded, tr.even.expanded")?(e=[],s.querySelectorAll("tr.odd.expanded, tr.even.expanded").forEach((t=>{e.push(n.data[t.getAttribute("_rowIndex")].id)}))):e=[e]),n.data=[],s.innerHTML="",n.options._locked.navigation.ele.closest(".ct-footer")?.classList.remove("d-none"),r.data.length>0?-1!=["table","card"].indexOf(this.options.table.type)?r.data.forEach((t=>{let r=document.createElement("tr");r.setAttribute("_rowindex",c),r.classList.add(c%2==0?"odd":"even"),this.options.table.columns.classList.forEach((e=>{r.classList.add(e)})),n.data.push(t),e&&-1!=e.indexOf(t.id)&&u.push(c),o.forEach(((e,n)=>{let o=t,s=i.global.ajax.columns[n],a=i.table.expand;if("expand"!=s.type||a.enabled){switch(s.type){case"expand":if(s.class="min-width","tr"===a.options?.hover)r.classList.add("ct-expand");else s.class+=" ct-expand",s.name="expand[]";o='<i class="fa-solid fa-chevron-right"></i>';break;case"db":s.field?.split(".").map((function(e){o=o[e]}));break;case"fn":"function"==typeof s.fn&&(o=s.fn(o));break;case"actions":s.class="actions",s.actions&&(o="",s.actions.forEach((e=>{let t=e,n="";if("object"==typeof e)for(const[r,i]of Object.entries(e))"type"==r?t=i:n+=" data-"+r+'="'+i+'"';switch(t){case"edit":o+=`<button class="btn btn-sm btn-info" name="edit${s.identifier}[]"' + options + '>Edit</button>`;break;case"delete":o+=`<button class="btn btn-sm btn-danger" name="delete${s.identifier}[]"' + options + '>Delete</button>`;break;case"html":o+=e.html}})));break;default:o=""}r.insertAdjacentHTML("beforeend","<td"+(s.class?' class="'+s.class+'"':"")+(null!=s.name?'name="'+s.name+'"':"")+">"+(s.prepend??"")+(o??"")+(s.append??"")+"</td>")}})),s.insertAdjacentElement("beforeend",r),c++})):r.data.forEach((e=>{let t=document.createElement("div");this.options.table.columns.classList.forEach((e=>{t.classList.add(e)})),t.classList.add(c%2==0?"odd":"even"),t.setAttribute("_rowindex",c),n.data.push(e),this.options.global.ajax.columns(e,t),s.insertAdjacentElement("beforeend",t),c++})):-1!=["table","card"].indexOf(this.options.table.type)?s.insertAdjacentHTML("beforeend",`<tr><td class="no-entries text-center" colspan="${i.global.ajax.columns.length}">No Entries Found</td></tr>`):(s.innerHTML='<p class="mt-2 fs-14 text-danger">No Entries Found</p>',n.options._locked.navigation.ele.closest(".ct-footer").classList.add("d-none")),this.res.count=r.count,i._locked.count.text.innerHTML="Showing "+(null!=r.count?0==r.count?0:parseInt(a+1):0)+" - "+(l<r.count?l:r.count??0)+" of "+(r.count??0)+" Entries",this._sortNavigation(),t&&("table"==i.table.type?this.ele.closest(".ct-parent").scrollTop=0:i.table.type),null!=u&&-1!=["table","card"].indexOf(this.options.table.type))for(const e in u)s.querySelector(`tr[_rowindex="${u[e]}"] > td[name="expand[]"]`).click();this.options.table.elements.count&&(this.options.table.elements.count.innerHTML=this.res.count),"function"==typeof this.options.events.drawn&&this.options.events.drawn(this),this._showLoader(!1)})).catch((e=>{let t=-1!=["table","card"].indexOf(this.options.table.type)?this.ele.querySelector("tbody"):this.ele;alert((0,r.HH)(e)),-1!=["table","card"].indexOf(this.options.table.type)?t.innerHTML=`<tr><td class="no-entries text-center" colspan="${i.global.ajax.columns.length}">Error Whilst Fetching Results</td></tr>`:t.innerHTML='<h5 class="m-0 text-danger text-center">Error Whilst Fetching Results</h5>',this._showLoader(!1)}))}_sortNavigation(){let e=this.options.global.page+1,t=Math.ceil(this.res.count/this.options.global.amount),n=this.options._locked.navigation.buttons.length-2;"card"!=this.options.table.type?this.options._locked.navigation.buttons.forEach((function(r,i){0==i||1==i?(r.classList.toggle("disabled",e<=1),0==i&&r.setAttribute("data-page",1-Math.abs(e))):i>=n?(r.classList.toggle("disabled",e>=t),i==n+1&&r.setAttribute("data-page",t-e)):(r.classList.toggle("active",2==i&&1==e||3==i&&e>1&&(e!=t||2==t)||4==i&&e==t),r.classList.toggle("d-none",i-1>t),2==i?(r.setAttribute("data-page",1==e?0:2==e?-1:e==t?-2:-1),r.innerHTML=1==e||2==e?1:e==t?e-2:e-1):3==i?(r.setAttribute("data-page",1==e?1:2==e?0:e==t?-1:0),r.innerHTML=1==e||2==e?2:e==t?e-1:e):4==i&&(r.setAttribute("data-page",1==e?2:e==t?0:1),r.innerHTML=1==e?3:e==t?e:e+1))})):this.options._locked.navigation.buttons.forEach((function(n,r){0==r?n.classList.toggle("disabled",e<=1):1==r&&n.classList.toggle("disabled",e>=t)}))}_handleSearch(e){let t=this,n=e.target.value;t.options.global.page=0,""!=n?(this._showLoader(!0),t.options.table.elements.search.ele.parentElement.classList.add("searching"),setTimeout((function(){n==t.options.table.elements.search.ele.value&&(t.options.global.page=0,t.fetchData(null,!0),t.options.table.elements.search.ele.parentElement.classList.remove("searching"))}),this.options.table.elements.search.delay)):(t.options.table.elements.search.ele.parentElement.classList.remove("searching"),t.fetchData(null,!0))}_applyFilters=(e={})=>{this.options._locked.filters=e,this.options.global.page=0,this.fetchData(null,!0)}}},5704:(e,t,n)=>{"use strict";n.d(t,{fi:()=>w,kZ:()=>b});var r=n(400),i=n(2163),o=n(2057),s=n(2556);var a=n(6333),l=n(4063),c=n(7252),u=n(611),d=n(138);function h(e,t,n){void 0===n&&(n=!1);var h=(0,s.Re)(t),f=(0,s.Re)(t)&&function(e){var t=e.getBoundingClientRect(),n=(0,d.NM)(t.width)/e.offsetWidth||1,r=(0,d.NM)(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),p=(0,c.Z)(t),m=(0,r.Z)(e,f,n),g={scrollLeft:0,scrollTop:0},v={x:0,y:0};return(h||!h&&!n)&&(("body"!==(0,a.Z)(t)||(0,u.Z)(p))&&(g=function(e){return e!==(0,o.Z)(e)&&(0,s.Re)(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:(0,i.Z)(e);var t}(t)),(0,s.Re)(t)?((v=(0,r.Z)(t,!0)).x+=t.clientLeft,v.y+=t.clientTop):p&&(v.x=(0,l.Z)(p))),{x:m.left+g.scrollLeft-v.x,y:m.top+g.scrollTop-v.y,width:m.width,height:m.height}}var f=n(583),p=n(1492),m=n(8552),g=n(7701);function v(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}var y={placement:"bottom",modifiers:[],strategy:"absolute"};function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function b(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?y:i;return function(e,t,n){void 0===n&&(n=o);var i,a,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},y,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],u=!1,d={state:l,setOptions:function(n){var i="function"==typeof n?n(l.options):n;b(),l.options=Object.assign({},o,l.options,i),l.scrollParents={reference:(0,s.kK)(e)?(0,p.Z)(e):e.contextElement?(0,p.Z)(e.contextElement):[],popper:(0,p.Z)(t)};var a,u,h=function(e){var t=v(e);return g.xs.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((a=[].concat(r,l.options.modifiers),u=a.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(u).map((function(e){return u[e]}))));return l.orderedModifiers=h.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:l,name:t,instance:d,options:r}),s=function(){};c.push(o||s)}})),d.update()},forceUpdate:function(){if(!u){var e=l.elements,t=e.reference,n=e.popper;if(_(t,n)){l.rects={reference:h(t,(0,m.Z)(n),"fixed"===l.options.strategy),popper:(0,f.Z)(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<l.orderedModifiers.length;r++)if(!0!==l.reset){var i=l.orderedModifiers[r],o=i.fn,s=i.options,a=void 0===s?{}:s,c=i.name;"function"==typeof o&&(l=o({state:l,options:a,name:c,instance:d})||l)}else l.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){d.forceUpdate(),e(l)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(i())}))}))),a}),destroy:function(){b(),u=!0}};if(!_(e,t))return d;function b(){c.forEach((function(e){return e()})),c=[]}return d.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}var w=b()},4985:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2556);function i(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&(0,r.Zq)(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}},400:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(2556),i=n(138),o=n(2057),s=n(7977);function a(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var a=e.getBoundingClientRect(),l=1,c=1;t&&(0,r.Re)(e)&&(l=e.offsetWidth>0&&(0,i.NM)(a.width)/e.offsetWidth||1,c=e.offsetHeight>0&&(0,i.NM)(a.height)/e.offsetHeight||1);var u=((0,r.kK)(e)?(0,o.Z)(e):window).visualViewport,d=!(0,s.Z)()&&n,h=(a.left+(d&&u?u.offsetLeft:0))/l,f=(a.top+(d&&u?u.offsetTop:0))/c,p=a.width/l,m=a.height/c;return{width:p,height:m,top:f,right:h+p,bottom:f+m,left:h,x:h,y:f}}},3062:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2057);function i(e){return(0,r.Z)(e).getComputedStyle(e)}},7252:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2556);function i(e){return(((0,r.kK)(e)?e.ownerDocument:e.document)||window.document).documentElement}},583:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(400);function i(e){var t=(0,r.Z)(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}},6333:(e,t,n)=>{"use strict";function r(e){return e?(e.nodeName||"").toLowerCase():null}n.d(t,{Z:()=>r})},8552:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(2057),i=n(6333),o=n(3062),s=n(2556);function a(e){return["table","td","th"].indexOf((0,i.Z)(e))>=0}var l=n(5923),c=n(5918);function u(e){return(0,s.Re)(e)&&"fixed"!==(0,o.Z)(e).position?e.offsetParent:null}function d(e){for(var t=(0,r.Z)(e),n=u(e);n&&a(n)&&"static"===(0,o.Z)(n).position;)n=u(n);return n&&("html"===(0,i.Z)(n)||"body"===(0,i.Z)(n)&&"static"===(0,o.Z)(n).position)?t:n||function(e){var t=/firefox/i.test((0,c.Z)());if(/Trident/i.test((0,c.Z)())&&(0,s.Re)(e)&&"fixed"===(0,o.Z)(e).position)return null;var n=(0,l.Z)(e);for((0,s.Zq)(n)&&(n=n.host);(0,s.Re)(n)&&["html","body"].indexOf((0,i.Z)(n))<0;){var r=(0,o.Z)(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}},5923:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(6333),i=n(7252),o=n(2556);function s(e){return"html"===(0,r.Z)(e)?e:e.assignedSlot||e.parentNode||((0,o.Zq)(e)?e.host:null)||(0,i.Z)(e)}},2057:(e,t,n)=>{"use strict";function r(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}n.d(t,{Z:()=>r})},2163:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2057);function i(e){var t=(0,r.Z)(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}},4063:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(400),i=n(7252),o=n(2163);function s(e){return(0,r.Z)((0,i.Z)(e)).left+(0,o.Z)(e).scrollLeft}},2556:(e,t,n)=>{"use strict";n.d(t,{Re:()=>o,Zq:()=>s,kK:()=>i});var r=n(2057);function i(e){return e instanceof(0,r.Z)(e).Element||e instanceof Element}function o(e){return e instanceof(0,r.Z)(e).HTMLElement||e instanceof HTMLElement}function s(e){return"undefined"!=typeof ShadowRoot&&(e instanceof(0,r.Z)(e).ShadowRoot||e instanceof ShadowRoot)}},7977:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(5918);function i(){return!/^((?!chrome|android).)*safari/i.test((0,r.Z)())}},611:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(3062);function i(e){var t=(0,r.Z)(e),n=t.overflow,i=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}},1492:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(5923),i=n(611),o=n(6333),s=n(2556);function a(e){return["html","body","#document"].indexOf((0,o.Z)(e))>=0?e.ownerDocument.body:(0,s.Re)(e)&&(0,i.Z)(e)?e:a((0,r.Z)(e))}var l=n(2057);function c(e,t){var n;void 0===t&&(t=[]);var o=a(e),s=o===(null==(n=e.ownerDocument)?void 0:n.body),u=(0,l.Z)(o),d=s?[u].concat(u.visualViewport||[],(0,i.Z)(o)?o:[]):o,h=t.concat(d);return s?h:h.concat(c((0,r.Z)(d)))}},7701:(e,t,n)=>{"use strict";n.d(t,{BL:()=>c,Ct:()=>g,DH:()=>w,F2:()=>o,I:()=>i,MS:()=>E,N7:()=>v,Pj:()=>h,XM:()=>b,YP:()=>p,bw:()=>m,cW:()=>S,d7:()=>a,ij:()=>y,iv:()=>x,k5:()=>f,mv:()=>l,r5:()=>_,t$:()=>s,ut:()=>u,wX:()=>k,we:()=>r,xs:()=>C,zV:()=>d});var r="top",i="bottom",o="right",s="left",a="auto",l=[r,i,o,s],c="start",u="end",d="clippingParents",h="viewport",f="popper",p="reference",m=l.reduce((function(e,t){return e.concat([t+"-"+c,t+"-"+u])}),[]),g=[].concat(l,[a]).reduce((function(e,t){return e.concat([t,t+"-"+c,t+"-"+u])}),[]),v="beforeRead",y="read",_="afterRead",b="beforeMain",w="main",k="afterMain",x="beforeWrite",S="write",E="afterWrite",C=[v,y,_,b,w,k,x,S,E]},4599:(e,t,n)=>{"use strict";n.r(t),n.d(t,{afterMain:()=>r.wX,afterRead:()=>r.r5,afterWrite:()=>r.MS,applyStyles:()=>i.Z,arrow:()=>o.Z,auto:()=>r.d7,basePlacements:()=>r.mv,beforeMain:()=>r.XM,beforeRead:()=>r.N7,beforeWrite:()=>r.iv,bottom:()=>r.I,clippingParents:()=>r.zV,computeStyles:()=>s.Z,createPopper:()=>m.fi,createPopperBase:()=>f.fi,createPopperLite:()=>v,detectOverflow:()=>p.Z,end:()=>r.ut,eventListeners:()=>a.Z,flip:()=>l.Z,hide:()=>c.Z,left:()=>r.t$,main:()=>r.DH,modifierPhases:()=>r.xs,offset:()=>u.Z,placements:()=>r.Ct,popper:()=>r.k5,popperGenerator:()=>f.kZ,popperOffsets:()=>d.Z,preventOverflow:()=>h.Z,read:()=>r.ij,reference:()=>r.YP,right:()=>r.F2,start:()=>r.BL,top:()=>r.we,variationPlacements:()=>r.bw,viewport:()=>r.Pj,write:()=>r.cW});var r=n(7701),i=n(7824),o=n(6896),s=n(6531),a=n(2372),l=n(8855),c=n(9892),u=n(2122),d=n(7421),h=n(394),f=n(5704),p=n(7488),m=n(804),g=[a.Z,d.Z,s.Z,i.Z],v=(0,f.kZ)({defaultModifiers:g})},7824:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(6333),i=n(2556);const o={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},o=t.attributes[e]||{},s=t.elements[e];(0,i.Re)(s)&&(0,r.Z)(s)&&(Object.assign(s.style,n),Object.keys(o).forEach((function(e){var t=o[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var o=t.elements[e],s=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});(0,i.Re)(o)&&(0,r.Z)(o)&&(Object.assign(o.style,a),Object.keys(s).forEach((function(e){o.removeAttribute(e)})))}))}},requires:["computeStyles"]}},6896:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(6206),i=n(583),o=n(4985),s=n(8552),a=n(1516),l=n(7516),c=n(3293),u=n(3706),d=n(7701);const h={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,o=e.name,h=e.options,f=n.elements.arrow,p=n.modifiersData.popperOffsets,m=(0,r.Z)(n.placement),g=(0,a.Z)(m),v=[d.t$,d.F2].indexOf(m)>=0?"height":"width";if(f&&p){var y=function(e,t){return e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,(0,c.Z)("number"!=typeof e?e:(0,u.Z)(e,d.mv))}(h.padding,n),_=(0,i.Z)(f),b="y"===g?d.we:d.t$,w="y"===g?d.I:d.F2,k=n.rects.reference[v]+n.rects.reference[g]-p[g]-n.rects.popper[v],x=p[g]-n.rects.reference[g],S=(0,s.Z)(f),E=S?"y"===g?S.clientHeight||0:S.clientWidth||0:0,C=k/2-x/2,T=y[b],A=E-_[v]-y[w],O=E/2-_[v]/2+C,D=(0,l.u)(T,O,A),M=g;n.modifiersData[o]=((t={})[M]=D,t.centerOffset=D-O,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&(0,o.Z)(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}},6531:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(7701),i=n(8552),o=n(2057),s=n(7252),a=n(3062),l=n(6206),c=n(4943),u=n(138),d={top:"auto",right:"auto",bottom:"auto",left:"auto"};function h(e){var t,n=e.popper,l=e.popperRect,c=e.placement,h=e.variation,f=e.offsets,p=e.position,m=e.gpuAcceleration,g=e.adaptive,v=e.roundOffsets,y=e.isFixed,_=f.x,b=void 0===_?0:_,w=f.y,k=void 0===w?0:w,x="function"==typeof v?v({x:b,y:k}):{x:b,y:k};b=x.x,k=x.y;var S=f.hasOwnProperty("x"),E=f.hasOwnProperty("y"),C=r.t$,T=r.we,A=window;if(g){var O=(0,i.Z)(n),D="clientHeight",M="clientWidth";if(O===(0,o.Z)(n)&&(O=(0,s.Z)(n),"static"!==(0,a.Z)(O).position&&"absolute"===p&&(D="scrollHeight",M="scrollWidth")),c===r.we||(c===r.t$||c===r.F2)&&h===r.ut)T=r.I,k-=(y&&O===A&&A.visualViewport?A.visualViewport.height:O[D])-l.height,k*=m?1:-1;if(c===r.t$||(c===r.we||c===r.I)&&h===r.ut)C=r.F2,b-=(y&&O===A&&A.visualViewport?A.visualViewport.width:O[M])-l.width,b*=m?1:-1}var L,P=Object.assign({position:p},g&&d),I=!0===v?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:(0,u.NM)(n*i)/i||0,y:(0,u.NM)(r*i)/i||0}}({x:b,y:k},(0,o.Z)(n)):{x:b,y:k};return b=I.x,k=I.y,m?Object.assign({},P,((L={})[T]=E?"0":"",L[C]=S?"0":"",L.transform=(A.devicePixelRatio||1)<=1?"translate("+b+"px, "+k+"px)":"translate3d("+b+"px, "+k+"px, 0)",L)):Object.assign({},P,((t={})[T]=E?k+"px":"",t[C]=S?b+"px":"",t.transform="",t))}const f={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,u=void 0===a||a,d={placement:(0,l.Z)(t.placement),variation:(0,c.Z)(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,h(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,h(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}}},2372:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2057),i={passive:!0};const o={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,o=e.options,s=o.scroll,a=void 0===s||s,l=o.resize,c=void 0===l||l,u=(0,r.Z)(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&d.forEach((function(e){e.addEventListener("scroll",n.update,i)})),c&&u.addEventListener("resize",n.update,i),function(){a&&d.forEach((function(e){e.removeEventListener("scroll",n.update,i)})),c&&u.removeEventListener("resize",n.update,i)}},data:{}}},8855:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r={left:"right",right:"left",bottom:"top",top:"bottom"};function i(e){return e.replace(/left|right|bottom|top/g,(function(e){return r[e]}))}var o=n(6206),s={start:"end",end:"start"};function a(e){return e.replace(/start|end/g,(function(e){return s[e]}))}var l=n(7488),c=n(4943),u=n(7701);const d={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,d=void 0===s||s,h=n.altAxis,f=void 0===h||h,p=n.fallbackPlacements,m=n.padding,g=n.boundary,v=n.rootBoundary,y=n.altBoundary,_=n.flipVariations,b=void 0===_||_,w=n.allowedAutoPlacements,k=t.options.placement,x=(0,o.Z)(k),S=p||(x===k||!b?[i(k)]:function(e){if((0,o.Z)(e)===u.d7)return[];var t=i(e);return[a(e),t,a(t)]}(k)),E=[k].concat(S).reduce((function(e,n){return e.concat((0,o.Z)(n)===u.d7?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,a=n.padding,d=n.flipVariations,h=n.allowedAutoPlacements,f=void 0===h?u.Ct:h,p=(0,c.Z)(r),m=p?d?u.bw:u.bw.filter((function(e){return(0,c.Z)(e)===p})):u.mv,g=m.filter((function(e){return f.indexOf(e)>=0}));0===g.length&&(g=m);var v=g.reduce((function(t,n){return t[n]=(0,l.Z)(e,{placement:n,boundary:i,rootBoundary:s,padding:a})[(0,o.Z)(n)],t}),{});return Object.keys(v).sort((function(e,t){return v[e]-v[t]}))}(t,{placement:n,boundary:g,rootBoundary:v,padding:m,flipVariations:b,allowedAutoPlacements:w}):n)}),[]),C=t.rects.reference,T=t.rects.popper,A=new Map,O=!0,D=E[0],M=0;M<E.length;M++){var L=E[M],P=(0,o.Z)(L),I=(0,c.Z)(L)===u.BL,R=[u.we,u.I].indexOf(P)>=0,N=R?"width":"height",B=(0,l.Z)(t,{placement:L,boundary:g,rootBoundary:v,altBoundary:y,padding:m}),F=R?I?u.F2:u.t$:I?u.I:u.we;C[N]>T[N]&&(F=i(F));var j=i(F),z=[];if(d&&z.push(B[P]<=0),f&&z.push(B[F]<=0,B[j]<=0),z.every((function(e){return e}))){D=L,O=!1;break}A.set(L,z)}if(O)for(var H=function(e){var t=E.find((function(t){var n=A.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return D=t,"break"},$=b?3:1;$>0;$--){if("break"===H($))break}t.placement!==D&&(t.modifiersData[r]._skip=!0,t.placement=D,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}}},9892:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(7701),i=n(7488);function o(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function s(e){return[r.we,r.F2,r.I,r.t$].some((function(t){return e[t]>=0}))}const a={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,l=t.modifiersData.preventOverflow,c=(0,i.Z)(t,{elementContext:"reference"}),u=(0,i.Z)(t,{altBoundary:!0}),d=o(c,r),h=o(u,a,l),f=s(d),p=s(h);t.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":p})}}},2122:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(6206),i=n(7701);const o={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,o=e.name,s=n.offset,a=void 0===s?[0,0]:s,l=i.Ct.reduce((function(e,n){return e[n]=function(e,t,n){var o=(0,r.Z)(e),s=[i.t$,i.we].indexOf(o)>=0?-1:1,a="function"==typeof n?n(Object.assign({},t,{placement:e})):n,l=a[0],c=a[1];return l=l||0,c=(c||0)*s,[i.t$,i.F2].indexOf(o)>=0?{x:c,y:l}:{x:l,y:c}}(n,t.rects,a),e}),{}),c=l[t.placement],u=c.x,d=c.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=d),t.modifiersData[o]=l}}},7421:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2581);const i={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=(0,r.Z)({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}}},394:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(7701),i=n(6206),o=n(1516);var s=n(7516),a=n(583),l=n(8552),c=n(7488),u=n(4943),d=n(3607),h=n(138);const f={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,f=e.name,p=n.mainAxis,m=void 0===p||p,g=n.altAxis,v=void 0!==g&&g,y=n.boundary,_=n.rootBoundary,b=n.altBoundary,w=n.padding,k=n.tether,x=void 0===k||k,S=n.tetherOffset,E=void 0===S?0:S,C=(0,c.Z)(t,{boundary:y,rootBoundary:_,padding:w,altBoundary:b}),T=(0,i.Z)(t.placement),A=(0,u.Z)(t.placement),O=!A,D=(0,o.Z)(T),M="x"===D?"y":"x",L=t.modifiersData.popperOffsets,P=t.rects.reference,I=t.rects.popper,R="function"==typeof E?E(Object.assign({},t.rects,{placement:t.placement})):E,N="number"==typeof R?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),B=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,F={x:0,y:0};if(L){if(m){var j,z="y"===D?r.we:r.t$,H="y"===D?r.I:r.F2,$="y"===D?"height":"width",U=L[D],W=U+C[z],q=U-C[H],V=x?-I[$]/2:0,Z=A===r.BL?P[$]:I[$],Y=A===r.BL?-I[$]:-P[$],G=t.elements.arrow,K=x&&G?(0,a.Z)(G):{width:0,height:0},X=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:(0,d.Z)(),J=X[z],Q=X[H],ee=(0,s.u)(0,P[$],K[$]),te=O?P[$]/2-V-ee-J-N.mainAxis:Z-ee-J-N.mainAxis,ne=O?-P[$]/2+V+ee+Q+N.mainAxis:Y+ee+Q+N.mainAxis,re=t.elements.arrow&&(0,l.Z)(t.elements.arrow),ie=re?"y"===D?re.clientTop||0:re.clientLeft||0:0,oe=null!=(j=null==B?void 0:B[D])?j:0,se=U+te-oe-ie,ae=U+ne-oe,le=(0,s.u)(x?(0,h.VV)(W,se):W,U,x?(0,h.Fp)(q,ae):q);L[D]=le,F[D]=le-U}if(v){var ce,ue="x"===D?r.we:r.t$,de="x"===D?r.I:r.F2,he=L[M],fe="y"===M?"height":"width",pe=he+C[ue],me=he-C[de],ge=-1!==[r.we,r.t$].indexOf(T),ve=null!=(ce=null==B?void 0:B[M])?ce:0,ye=ge?pe:he-P[fe]-I[fe]-ve+N.altAxis,_e=ge?he+P[fe]+I[fe]-ve-N.altAxis:me,be=x&&ge?(0,s.q)(ye,he,_e):(0,s.u)(x?ye:pe,he,x?_e:me);L[M]=be,F[M]=be-he}t.modifiersData[f]=F}},requiresIfExists:["offset"]}},804:(e,t,n)=>{"use strict";n.d(t,{fi:()=>p});var r=n(5704),i=n(2372),o=n(7421),s=n(6531),a=n(7824),l=n(2122),c=n(8855),u=n(394),d=n(6896),h=n(9892),f=[i.Z,o.Z,s.Z,a.Z,l.Z,c.Z,u.Z,d.Z,h.Z],p=(0,r.kZ)({defaultModifiers:f})},2581:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(6206),i=n(4943),o=n(1516),s=n(7701);function a(e){var t,n=e.reference,a=e.element,l=e.placement,c=l?(0,r.Z)(l):null,u=l?(0,i.Z)(l):null,d=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2;switch(c){case s.we:t={x:d,y:n.y-a.height};break;case s.I:t={x:d,y:n.y+n.height};break;case s.F2:t={x:n.x+n.width,y:h};break;case s.t$:t={x:n.x-a.width,y:h};break;default:t={x:n.x,y:n.y}}var f=c?(0,o.Z)(c):null;if(null!=f){var p="y"===f?"height":"width";switch(u){case s.BL:t[f]=t[f]-(n[p]/2-a[p]/2);break;case s.ut:t[f]=t[f]+(n[p]/2-a[p]/2)}}return t}},7488:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(7701),i=n(2057),o=n(7252),s=n(4063),a=n(7977);var l=n(3062),c=n(2163),u=n(138);var d=n(1492),h=n(8552),f=n(2556),p=n(400),m=n(5923),g=n(4985),v=n(6333);function y(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function _(e,t,n){return t===r.Pj?y(function(e,t){var n=(0,i.Z)(e),r=(0,o.Z)(e),l=n.visualViewport,c=r.clientWidth,u=r.clientHeight,d=0,h=0;if(l){c=l.width,u=l.height;var f=(0,a.Z)();(f||!f&&"fixed"===t)&&(d=l.offsetLeft,h=l.offsetTop)}return{width:c,height:u,x:d+(0,s.Z)(e),y:h}}(e,n)):(0,f.kK)(t)?function(e,t){var n=(0,p.Z)(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):y(function(e){var t,n=(0,o.Z)(e),r=(0,c.Z)(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=(0,u.Fp)(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),d=(0,u.Fp)(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),h=-r.scrollLeft+(0,s.Z)(e),f=-r.scrollTop;return"rtl"===(0,l.Z)(i||n).direction&&(h+=(0,u.Fp)(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:d,x:h,y:f}}((0,o.Z)(e)))}function b(e,t,n,r){var i="clippingParents"===t?function(e){var t=(0,d.Z)((0,m.Z)(e)),n=["absolute","fixed"].indexOf((0,l.Z)(e).position)>=0&&(0,f.Re)(e)?(0,h.Z)(e):e;return(0,f.kK)(n)?t.filter((function(e){return(0,f.kK)(e)&&(0,g.Z)(e,n)&&"body"!==(0,v.Z)(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce((function(t,n){var i=_(e,n,r);return t.top=(0,u.Fp)(i.top,t.top),t.right=(0,u.VV)(i.right,t.right),t.bottom=(0,u.VV)(i.bottom,t.bottom),t.left=(0,u.Fp)(i.left,t.left),t}),_(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var w=n(2581),k=n(3293),x=n(3706);function S(e,t){void 0===t&&(t={});var n=t,i=n.placement,s=void 0===i?e.placement:i,a=n.strategy,l=void 0===a?e.strategy:a,c=n.boundary,u=void 0===c?r.zV:c,d=n.rootBoundary,h=void 0===d?r.Pj:d,m=n.elementContext,g=void 0===m?r.k5:m,v=n.altBoundary,_=void 0!==v&&v,S=n.padding,E=void 0===S?0:S,C=(0,k.Z)("number"!=typeof E?E:(0,x.Z)(E,r.mv)),T=g===r.k5?r.YP:r.k5,A=e.rects.popper,O=e.elements[_?T:g],D=b((0,f.kK)(O)?O:O.contextElement||(0,o.Z)(e.elements.popper),u,h,l),M=(0,p.Z)(e.elements.reference),L=(0,w.Z)({reference:M,element:A,strategy:"absolute",placement:s}),P=y(Object.assign({},A,L)),I=g===r.k5?P:M,R={top:D.top-I.top+C.top,bottom:I.bottom-D.bottom+C.bottom,left:D.left-I.left+C.left,right:I.right-D.right+C.right},N=e.modifiersData.offset;if(g===r.k5&&N){var B=N[s];Object.keys(R).forEach((function(e){var t=[r.F2,r.I].indexOf(e)>=0?1:-1,n=[r.we,r.I].indexOf(e)>=0?"y":"x";R[e]+=B[n]*t}))}return R}},3706:(e,t,n)=>{"use strict";function r(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}n.d(t,{Z:()=>r})},6206:(e,t,n)=>{"use strict";function r(e){return e.split("-")[0]}n.d(t,{Z:()=>r})},3607:(e,t,n)=>{"use strict";function r(){return{top:0,right:0,bottom:0,left:0}}n.d(t,{Z:()=>r})},1516:(e,t,n)=>{"use strict";function r(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}n.d(t,{Z:()=>r})},4943:(e,t,n)=>{"use strict";function r(e){return e.split("-")[1]}n.d(t,{Z:()=>r})},138:(e,t,n)=>{"use strict";n.d(t,{Fp:()=>r,NM:()=>o,VV:()=>i});var r=Math.max,i=Math.min,o=Math.round},3293:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(3607);function i(e){return Object.assign({},(0,r.Z)(),e)}},5918:(e,t,n)=>{"use strict";function r(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}n.d(t,{Z:()=>r})},7516:(e,t,n)=>{"use strict";n.d(t,{q:()=>o,u:()=>i});var r=n(138);function i(e,t,n){return(0,r.Fp)(e,(0,r.VV)(t,n))}function o(e,t,n){var r=i(e,t,n);return r>n?n:r}},9674:(e,t,n)=>{"use strict";n.d(t,{gE:()=>ve});var r=n(2343),i=n(1170),o=n(1703),s=n(2844),a=n(3897),l=n(7597);const c="baggage",u="sentry-",d=/^sentry-/,h=8192;function f(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce(((e,[t,n],i)=>{const o=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,s=0===i?o:`${e},${o}`;return s.length>h?(a.X&&r.kg.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):s}),"")}(Object.entries(e).reduce(((e,[t,n])=>(n&&(e[`${u}${t}`]=n),e)),{}))}function p(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(e[t]=n,e)),{})}const m=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function g(e,t){const n=function(e){if(!e)return;const t=e.match(m);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}(e),r=function(e){if(!(0,l.HD)(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce(((e,t)=>({...e,...p(t)})),{});else{if(!e)return;t=p(e)}const n=Object.entries(t).reduce(((e,[t,n])=>(t.match(d)&&(e[t.slice(u.length)]=n),e)),{});return Object.keys(n).length>0?n:void 0}(t),{traceId:i,parentSpanId:o,parentSampled:a}=n||{},c={traceId:i||(0,s.DM)(),spanId:(0,s.DM)().substring(16),sampled:a};return o&&(c.parentSpanId=o),r&&(c.dsc=r),{traceparentData:n,dynamicSamplingContext:r,propagationContext:c}}function v(e=(0,s.DM)(),t=(0,s.DM)().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}var y=n(535),_=n(5659);function b(e){return(e||(0,_.Gd)()).getScope().getTransaction()}function w(e){return e>9999999999?e/1e3:e}class k{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class x{constructor(e={}){this.traceId=e.traceId||(0,s.DM)(),this.spanId=e.spanId||(0,s.DM)().substring(16),this.startTimestamp=e.startTimestamp||(0,i.ph)(),this.tags=e.tags||{},this.data=e.data||{},this.instrumenter=e.instrumenter||"sentry",this.origin=e.origin||"manual",e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.name&&(this.description=e.name),e.status&&(this.status=e.status),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}get name(){return this.description||""}set name(e){this.setName(e)}startChild(e){const t=new x({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t),t.transaction=this.transaction,o.X&&t.transaction){const n=`[Tracing] Starting '${e&&e.op||"< unknown op >"}' span on transaction '${t.transaction.name||"< unknown name >"}' (${t.transaction.spanId}).`;t.transaction.metadata.spanMetadata[t.spanId]={logMessage:n},r.kg.log(n)}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e)),this.setData("http.response.status_code",e);const t=function(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(e);return"unknown_error"!==t&&this.setStatus(t),this}setName(e){this.description=e}isSuccess(){return"ok"===this.status}finish(e){return this.end(e)}end(e){if(o.X&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:e}=this.transaction.metadata.spanMetadata[this.spanId];e&&r.kg.log(e.replace("Starting","Finishing"))}this.endTimestamp="number"==typeof e?w(e):(0,i.ph)()}toTraceparent(){return v(this.traceId,this.spanId,this.sampled)}toContext(){return(0,y.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=e.data||{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=e.spanId||this.spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this.traceId=e.traceId||this.traceId,this}getTraceContext(){return(0,y.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId,origin:this.origin})}toJSON(){return(0,y.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId,origin:this.origin})}}var S=n(454);class E extends x{constructor(e,t){super(e),delete this.description,this._measurements={},this._contexts={},this._hub=t||(0,_.Gd)(),this._name=e.name||"",this.metadata={source:"custom",...e.metadata,spanMetadata:{}},this._trimEnd=e.trimEnd,this.transaction=this;const n=this.metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}setName(e,t="custom"){this._name=e,this.metadata.source=t}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new k(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,n=""){this._measurements[e]={value:t,unit:n}}setMetadata(e){this.metadata={...this.metadata,...e}}end(e){const t="number"==typeof e?w(e):(0,i.ph)(),n=this._finishTransaction(t);if(n)return this._hub.captureEvent(n)}toContext(){const e=super.toContext();return(0,y.Jr)({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const e=this._hub||(0,_.Gd)(),t=e.getClient();if(!t)return{};const n=e.getScope(),r=(0,S._)(this.traceId,t,n),i=this.metadata.sampleRate;void 0!==i&&(r.sample_rate=`${i}`);const o=this.metadata.source;return o&&"url"!==o&&(r.transaction=this.name),void 0!==this.sampled&&(r.sampled=String(this.sampled)),r}setHub(e){this._hub=e}_finishTransaction(e){if(void 0!==this.endTimestamp)return;this.name||(o.X&&r.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.end(e);const t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this.sampled)return o.X&&r.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(t&&t.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter((e=>e!==this&&e.endTimestamp)):[];this._trimEnd&&n.length>0&&(this.endTimestamp=n.reduce(((e,t)=>e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e)).endTimestamp);const i=this.metadata,s={contexts:{...this._contexts,trace:this.getTraceContext()},spans:n,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...i,dynamicSamplingContext:this.getDynamicSamplingContext()},...i.source&&{transaction_info:{source:i.source}}};return Object.keys(this._measurements).length>0&&(o.X&&r.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),o.X&&r.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),s}}const C={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},T=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class A extends k{constructor(e,t,n,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}add(e){if(e.spanId!==this.transactionSpanId){const t=e.end;e.end=(...n)=>(this._popActivity(e.spanId),t.apply(e,n)),void 0===e.endTimestamp&&this._pushActivity(e.spanId)}super.add(e)}}class O extends E{constructor(e,t,n=C.idleTimeout,i=C.finalTimeout,s=C.heartbeatInterval,a=!1){super(e,t),this._idleHub=t,this._idleTimeout=n,this._finalTimeout=i,this._heartbeatInterval=s,this._onScope=a,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=T[4],a&&(o.X&&r.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),t.getScope().setSpan(this)),this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=T[3],this.end())}),this._finalTimeout)}end(e=(0,i.ph)()){const t=w(e);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setTag("finishReason",this._finishReason),this.spanRecorder){o.X&&r.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);for(const t of this._beforeFinishCallbacks)t(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter((e=>{if(e.spanId===this.spanId)return!0;e.endTimestamp||(e.endTimestamp=t,e.setStatus("cancelled"),o.X&&r.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));const n=e.startTimestamp<t,i=(this._finalTimeout+this._idleTimeout)/1e3,s=e.endTimestamp-this.startTimestamp<i;if(o.X){const t=JSON.stringify(e,void 0,2);n?s||r.kg.log("[Tracing] discarding Span since it finished after Transaction final timeout",t):r.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",t)}return n&&s})),o.X&&r.kg.log("[Tracing] flushing IdleTransaction")}else o.X&&r.kg.log("[Tracing] No active IdleTransaction");if(this._onScope){const e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const t=e=>{this._finished||this._pushActivity(e)},n=e=>{this._finished||this._popActivity(e)};this.spanRecorder=new A(t,n,this.spanId,e),o.X&&r.kg.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:t}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=T[5],this.end(e)))}setFinishReason(e){this._finishReason=e}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=T[1],this.end(e))}),this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),o.X&&r.kg.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,o.X&&r.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(o.X&&r.kg.log(`[Tracing] popActivity ${e}`),delete this.activities[e],o.X&&r.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=(0,i.ph)();this._idleTimeoutCanceledPermanently?(this._finishReason=T[5],this.end(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(o.X&&r.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=T[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){o.X&&r.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}var D=n(1674),M=n(7373);let L=!1;function P(){const e=b();if(e){const t="internal_error";o.X&&r.kg.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}P.tag="sentry_tracingErrorCallback";var I=n(4487);function R(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=(0,I.s3)(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function N(e,t,n){if(!R(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setMetadata({sampleRate:Number(e.sampled)}),e;let i;return"function"==typeof t.tracesSampler?(i=t.tracesSampler(n),e.setMetadata({sampleRate:Number(i)})):void 0!==n.parentSampled?i=n.parentSampled:void 0!==t.tracesSampleRate?(i=t.tracesSampleRate,e.setMetadata({sampleRate:Number(i)})):(i=1,e.setMetadata({sampleRate:i})),function(e){if((0,l.i2)(e)||"number"!=typeof e&&"boolean"!=typeof e)return o.X&&r.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1;if(e<0||e>1)return o.X&&r.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1;return!0}(i)?i?(e.sampled=Math.random()<i,e.sampled?(o.X&&r.kg.log(`[Tracing] starting ${e.op} transaction - ${e.name}`),e):(o.X&&r.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),e)):(o.X&&r.kg.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(o.X&&r.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function B(){const e=this.getScope().getSpan();return e?{"sentry-trace":e.toTraceparent()}:{}}function F(e,t){const n=this.getClient(),i=n&&n.getOptions()||{},s=i.instrumenter||"sentry",a=e.instrumenter||"sentry";s!==a&&(o.X&&r.kg.error(`A transaction was started with instrumenter=\`${a}\`, but the SDK is configured with the \`${s}\` instrumenter.\nThe transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),e.sampled=!1);let l=new E(e,this);return l=N(l,i,{parentSampled:e.parentSampled,transactionContext:e,...t}),l.sampled&&l.initSpanRecorder(i._experiments&&i._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",l),l}function j(e,t,n,r,i,o,s){const a=e.getClient(),l=a&&a.getOptions()||{};let c=new O(t,e,n,r,s,i);return c=N(c,l,{parentSampled:t.parentSampled,transactionContext:t,...o}),c.sampled&&c.initSpanRecorder(l._experiments&&l._experiments.maxSpans),a&&a.emit&&a.emit("startTransaction",c),c}function z(){const e=(0,_.cu)();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=F),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=B),L||(L=!0,(0,D.V)(P),(0,M.h)(P)))}var H=n(8464),$=n(7513),U=n(3821);var W=n(3415),q=n(5029);function V(e){return"number"==typeof e&&isFinite(e)}function Z(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}const Y=2147483647;function G(e){return e/1e3}function K(){return U.WINDOW&&U.WINDOW.addEventListener&&U.WINDOW.performance}let X,J,Q=0,ee={};function te(){const e=K();if(e&&i.Z1){e.mark&&U.WINDOW.performance.mark("sentry-tracing-init");const t=(0,W.to)((({metric:e})=>{const t=e.entries.pop();if(!t)return;const n=G(i.Z1),o=G(t.startTime);$.X&&r.kg.log("[Measurements] Adding FID"),ee.fid={value:e.value,unit:"millisecond"},ee["mark.fid"]={value:n+o,unit:"second"}})),n=(0,W.PR)((({metric:e})=>{const t=e.entries.pop();t&&($.X&&r.kg.log("[Measurements] Adding CLS"),ee.cls={value:e.value,unit:""},J=t)})),o=(0,W.$A)((({metric:e})=>{const t=e.entries.pop();t&&($.X&&r.kg.log("[Measurements] Adding LCP"),ee.lcp={value:e.value,unit:"millisecond"},X=t)}));return()=>{t(),n(),o()}}return()=>{}}function ne(e){const t=K();if(!t||!U.WINDOW.performance.getEntries||!i.Z1)return;$.X&&r.kg.log("[Tracing] Adding & adjusting spans using Performance API");const n=G(i.Z1),o=t.getEntries();let s,a;if(o.slice(Q).forEach((t=>{const i=G(t.startTime),o=G(t.duration);if(!("navigation"===e.op&&n+i<e.startTimestamp))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{re(e,t,r,n)})),re(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),re(e,t,"fetch",n,"cache","domainLookupStart"),re(e,t,"domainLookup",n,"DNS"),function(e,t,n){Z(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+G(t.requestStart),endTimestamp:n+G(t.responseEnd)}),Z(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+G(t.responseStart),endTimestamp:n+G(t.responseEnd)})}(e,t,n)}(e,t,n),s=n+G(t.responseStart),a=n+G(t.requestStart);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,i){const o=i+n,s=o+r;Z(e,{description:t.name,endTimestamp:s,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:o})}(e,t,i,o,n);const s=(0,q.Y)(),a=t.startTime<s.firstHiddenTime;"first-paint"===t.name&&a&&($.X&&r.kg.log("[Measurements] Adding FP"),ee.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&a&&($.X&&r.kg.log("[Measurements] Adding FCP"),ee.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":{const r=t.name.replace(U.WINDOW.location.origin,"");!function(e,t,n,r,i,o){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const s={};ie(s,t,"transferSize","http.response_transfer_size"),ie(s,t,"encodedBodySize","http.response_content_length"),ie(s,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(s["resource.render_blocking_status"]=t.renderBlockingStatus);const a=o+r,l=a+i;Z(e,{description:n,endTimestamp:l,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:a,data:s})}(e,t,r,i,o,n);break}}})),Q=Math.max(o.length-1,0),function(e){const t=U.WINDOW.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),V(n.rtt)&&(ee["connection.rtt"]={value:n.rtt,unit:"millisecond"}));V(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`);V(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===e.op){"number"==typeof s&&($.X&&r.kg.log("[Measurements] Adding TTFB"),ee.ttfb={value:1e3*(s-e.startTimestamp),unit:"millisecond"},"number"==typeof a&&a<=s&&(ee["ttfb.requestTime"]={value:1e3*(s-a),unit:"millisecond"})),["fcp","fp","lcp"].forEach((t=>{if(!ee[t]||n>=e.startTimestamp)return;const i=ee[t].value,o=n+G(i),s=Math.abs(1e3*(o-e.startTimestamp)),a=s-i;$.X&&r.kg.log(`[Measurements] Normalized ${t} from ${i} to ${s} (${a})`),ee[t].value=s}));const t=ee["mark.fid"];t&&ee.fid&&(Z(e,{description:"first input delay",endTimestamp:t.value+G(ee.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:t.value}),delete ee["mark.fid"]),"fcp"in ee||delete ee.cls,Object.keys(ee).forEach((t=>{e.setMeasurement(t,ee[t].value,ee[t].unit)})),function(e){X&&($.X&&r.kg.log("[Measurements] Adding LCP Data"),X.element&&e.setTag("lcp.element",(0,H.Rt)(X.element)),X.id&&e.setTag("lcp.id",X.id),X.url&&e.setTag("lcp.url",X.url.trim().slice(0,200)),e.setTag("lcp.size",X.size));J&&J.sources&&($.X&&r.kg.log("[Measurements] Adding CLS Data"),J.sources.forEach(((t,n)=>e.setTag(`cls.source.${n+1}`,(0,H.Rt)(t.node)))))}(e)}X=void 0,J=void 0,ee={}}function re(e,t,n,r,i,o){const s=o?t[o]:t[`${n}End`],a=t[`${n}Start`];a&&s&&Z(e,{op:"browser",origin:"auto.browser.browser.metrics",description:i||n,startTimestamp:r+G(a),endTimestamp:r+G(s)})}function ie(e,t,n,r){const i=t[n];null!=i&&i<Y&&(e[r]=i)}var oe=n(1394),se=n(5322),ae=n(7321);function le(e,t,n,r,i="auto.http.browser"){if(!R()||!e.fetchData)return;const o=t(e.fetchData.url);if(e.endTimestamp&&o){const t=e.fetchData.__span;if(!t)return;const n=r[t];if(n){if(e.response){n.setHttpStatus(e.response.status);const t=e.response&&e.response.headers&&e.response.headers.get("content-length");if(t){const e=parseInt(t);e>0&&n.setData("http.response_content_length",e)}}else e.error&&n.setStatus("internal_error");n.end(),delete r[t]}return}const s=(0,I.nZ)(),a=(0,I.s3)(),u=s.getSpan(),{method:d,url:h}=e.fetchData,p=o&&u?u.startChild({data:{url:h,type:"fetch","http.method":d},description:`${d} ${h}`,op:"http.client",origin:i}):void 0;if(p&&(e.fetchData.__span=p.spanId,r[p.spanId]=p),n(e.fetchData.url)&&a){const t=e.args[0];e.args[1]=e.args[1]||{};const n=e.args[1];n.headers=function(e,t,n,r,i){const o=i||n.getSpan(),s=o&&o.transaction,{traceId:a,sampled:u,dsc:d}=n.getPropagationContext(),h=o?o.toTraceparent():v(a,void 0,u),p=s?s.getDynamicSamplingContext():d||(0,S._)(a,t,n),m=f(p),g="undefined"!=typeof Request&&(0,l.V9)(e,Request)?e.headers:r.headers;if(g){if("undefined"!=typeof Headers&&(0,l.V9)(g,Headers)){const e=new Headers(g);return e.append("sentry-trace",h),m&&e.append(c,m),e}if(Array.isArray(g)){const e=[...g,["sentry-trace",h]];return m&&e.push([c,m]),e}{const e="baggage"in g?g.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),m&&t.push(m),{...g,"sentry-trace":h,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":h,baggage:m}}(t,a,s,n,p)}return p}const ce=["localhost",/^\/(?!\/)/],ue={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:ce,tracePropagationTargets:ce};function de(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:i,shouldCreateSpanForRequest:o,enableHTTPTimings:s}={traceFetch:ue.traceFetch,traceXHR:ue.traceXHR,...e},a="function"==typeof o?o:e=>!0,l=e=>function(e,t){return(0,ae.U0)(e,t||ce)}(e,r||i),c={};t&&(0,oe.U)((e=>{const t=le(e,a,l,c);s&&t&&he(t)})),n&&(0,se.UK)((e=>{const t=function(e,t,n,r){const i=e.xhr,o=i&&i[se.xU];if(!R()||!i||i.__sentry_own_request__||!o)return;const s=t(o.url);if(e.endTimestamp&&s){const e=i.__sentry_xhr_span_id__;if(!e)return;const t=r[e];return void(t&&void 0!==o.status_code&&(t.setHttpStatus(o.status_code),t.end(),delete r[e]))}const a=(0,I.nZ)(),l=a.getSpan(),c=s&&l?l.startChild({data:{type:"xhr","http.method":o.method,url:o.url},description:`${o.method} ${o.url}`,op:"http.client",origin:"auto.http.browser"}):void 0;c&&(i.__sentry_xhr_span_id__=c.spanId,r[i.__sentry_xhr_span_id__]=c);if(i.setRequestHeader&&n(o.url))if(c){const e=c&&c.transaction,t=f(e&&e.getDynamicSamplingContext());pe(i,c.toTraceparent(),t)}else{const e=(0,I.s3)(),{traceId:t,sampled:n,dsc:r}=a.getPropagationContext();pe(i,v(t,void 0,n),f(r||(e?(0,S._)(t,e,a):void 0)))}return c}(e,a,l,c);s&&t&&he(t)}))}function he(e){const t=e.data.url;if(!t)return;const n=(0,W._j)("resource",(({entries:r})=>{r.forEach((r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(r)&&r.name.endsWith(t)){(function(e){const{name:t,version:n}=function(e){let t="unknown",n="unknown",r="";for(const i of e){if("/"===i){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=i}r===e&&(t=r);return{name:t,version:n}}(e.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",t]),!i.Z1)return r;return[...r,["http.request.redirect_start",fe(e.redirectStart)],["http.request.fetch_start",fe(e.fetchStart)],["http.request.domain_lookup_start",fe(e.domainLookupStart)],["http.request.domain_lookup_end",fe(e.domainLookupEnd)],["http.request.connect_start",fe(e.connectStart)],["http.request.secure_connection_start",fe(e.secureConnectionStart)],["http.request.connection_end",fe(e.connectEnd)],["http.request.request_start",fe(e.requestStart)],["http.request.response_start",fe(e.responseStart)],["http.request.response_end",fe(e.responseEnd)]]})(r).forEach((t=>e.setData(...t))),setTimeout(n)}}))}))}function fe(e=0){return((i.Z1||performance.timeOrigin)+e)/1e3}function pe(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(c,n)}catch(e){}}var me=n(8425);const ge={...C,markBackgroundTransactions:!0,routingInstrumentation:function(e,t=!0,n=!0){if(!U.WINDOW||!U.WINDOW.location)return void($.X&&r.kg.warn("Could not initialize routing instrumentation due to invalid location"));let o,s=U.WINDOW.location.href;t&&(o=e({name:U.WINDOW.location.pathname,startTimestamp:i.Z1?i.Z1/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&(0,me.a)((({to:t,from:n})=>{void 0===n&&s&&-1!==s.indexOf(t)?s=void 0:n!==t&&(s=void 0,o&&($.X&&r.kg.log(`[Tracing] Finishing current transaction with op: ${o.op}`),o.end()),o=e({name:U.WINDOW.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...ue};class ve{constructor(e){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,z(),$.X&&(this._hasSetTracePropagationTargets=!(!e||!e.tracePropagationTargets&&!e.tracingOrigins)),this.options={...ge,...e},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=te(),this.options.enableLongTask&&(0,W._j)("longtask",(({entries:e})=>{for(const t of e){const e=b();if(!e)return;const n=G(i.Z1+t.startTime),r=G(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}})),this.options._experiments.enableInteractions&&(0,W._j)("event",(({entries:e})=>{for(const t of e){const e=b();if(!e)return;if("click"===t.name){const n=G(i.Z1+t.startTime),r=G(t.duration),o={description:(0,H.Rt)(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r},s=(0,H.iY)(t.target);s&&(o.data={"ui.component_name":s}),e.startChild(o)}}}))}setupOnce(e,t){this._getCurrentHub=t;const n=t().getClient(),i=n&&n.getOptions(),{routingInstrumentation:o,startTransactionOnLocationChange:s,startTransactionOnPageLoad:a,markBackgroundTransactions:l,traceFetch:c,traceXHR:u,shouldCreateSpanForRequest:d,enableHTTPTimings:h,_experiments:f}=this.options,p=i&&i.tracePropagationTargets,m=p||this.options.tracePropagationTargets;$.X&&this._hasSetTracePropagationTargets&&p&&r.kg.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),o((e=>{const n=this._createRouteTransaction(e);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(n,e,t),n}),a,s),l&&(U.WINDOW&&U.WINDOW.document?U.WINDOW.document.addEventListener("visibilitychange",(()=>{const e=b();if(U.WINDOW.document.hidden&&e){const t="cancelled";$.X&&r.kg.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${e.op}`),e.status||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}})):$.X&&r.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")),f.enableInteractions&&this._registerInteractionListener(),de({traceFetch:c,traceXHR:u,tracePropagationTargets:m,shouldCreateSpanForRequest:d,enableHTTPTimings:h})}_createRouteTransaction(e){if(!this._getCurrentHub)return void($.X&&r.kg.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`));const t=this._getCurrentHub(),{beforeNavigate:n,idleTimeout:i,finalTimeout:o,heartbeatInterval:s}=this.options,a="pageload"===e.op,l=a?ye("sentry-trace"):"",c=a?ye("baggage"):"",{traceparentData:u,dynamicSamplingContext:d,propagationContext:h}=g(l,c),f={...e,...u,metadata:{...e.metadata,dynamicSamplingContext:u&&!d?{}:d},trimEnd:!0},p="function"==typeof n?n(f):f,m=void 0===p?{...f,sampled:!1}:p;m.metadata=m.name!==f.name?{...m.metadata,source:"custom"}:m.metadata,this._latestRouteName=m.name,this._latestRouteSource=m.metadata&&m.metadata.source,!1===m.sampled&&$.X&&r.kg.log(`[Tracing] Will not send ${m.op} transaction because of beforeNavigate.`),$.X&&r.kg.log(`[Tracing] Starting ${m.op} transaction on scope`);const{location:v}=U.WINDOW,y=j(t,m,i,o,!0,{location:v},s),_=t.getScope();return a&&u?_.setPropagationContext(h):_.setPropagationContext({traceId:y.traceId,spanId:y.spanId,parentSpanId:y.parentSpanId,sampled:y.sampled}),y.registerBeforeFinishCallback((e=>{this._collectWebVitals(),ne(e)})),y}_registerInteractionListener(){let e;const t=()=>{const{idleTimeout:t,finalTimeout:n,heartbeatInterval:i}=this.options,o="ui.action.click",s=b();if(s&&s.op&&["navigation","pageload"].includes(s.op))return void($.X&&r.kg.warn(`[Tracing] Did not create ${o} transaction because a pageload or navigation transaction is in progress.`));if(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!this._getCurrentHub)return void($.X&&r.kg.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`));if(!this._latestRouteName)return void($.X&&r.kg.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`));const a=this._getCurrentHub(),{location:l}=U.WINDOW,c={name:this._latestRouteName,op:o,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};e=j(a,c,t,n,!0,{location:l},i)};["click"].forEach((e=>{addEventListener(e,t,{once:!1,capture:!0})}))}}function ye(e){const t=(0,H.qT)(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}},3415:(e,t,n)=>{"use strict";n.d(t,{PR:()=>x,to:()=>E,$A:()=>S,_j:()=>C});var r=n(2343),i=n(360),o=n(7513);const s=(e,t,n)=>{let r,i;return o=>{t.value>=0&&(o||n)&&(i=t.value-(r||0),(i||void 0===r)&&(r=t.value,t.delta=i,e(t)))}};var a=n(3821);const l=()=>a.WINDOW.__WEB_VITALS_POLYFILL__?a.WINDOW.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=a.WINDOW.performance.timing,t=a.WINDOW.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const t in e)"navigationStart"!==t&&"toJSON"!==t&&(n[t]=Math.max(e[t]-e.navigationStart,0));return n})()):a.WINDOW.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],c=()=>{const e=l();return e&&e.activationStart||0},u=(e,t)=>{const n=l();let r="navigate";return n&&(r=a.WINDOW.document.prerendering||c()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},d=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{t(e.getEntries())}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}};var h=n(188);const f=e=>{const t=u("CLS",0);let n,r=0,i=[];const o=e=>{e.forEach((e=>{if(!e.hadRecentInput){const o=i[0],s=i[i.length-1];r&&0!==i.length&&e.startTime-s.startTime<1e3&&e.startTime-o.startTime<5e3?(r+=e.value,i.push(e)):(r=e.value,i=[e]),r>t.value&&(t.value=r,t.entries=i,n&&n())}}))},a=d("layout-shift",o);if(a){n=s(e,t);const r=()=>{o(a.takeRecords()),n(!0)};return(0,h.u)(r),r}};var p=n(5029);const m=e=>{const t=(0,p.Y)(),n=u("FID");let r;const i=e=>{e.startTime<t.firstHiddenTime&&(n.value=e.processingStart-e.startTime,n.entries.push(e),r(!0))},o=e=>{e.forEach(i)},a=d("first-input",o);r=s(e,n),a&&(0,h.u)((()=>{o(a.takeRecords()),a.disconnect()}),!0)},g={},v=e=>{const t=(0,p.Y)(),n=u("LCP");let r;const i=e=>{const i=e[e.length-1];if(i){const e=Math.max(i.startTime-c(),0);e<t.firstHiddenTime&&(n.value=e,n.entries=[i],r())}},o=d("largest-contentful-paint",i);if(o){r=s(e,n);const t=()=>{g[n.id]||(i(o.takeRecords()),o.disconnect(),g[n.id]=!0,r(!0))};return["keydown","click"].forEach((e=>{addEventListener(e,t,{once:!0,capture:!0})})),(0,h.u)(t,!0),t}},y={},_={};let b,w,k;function x(e){return M("cls",e,A,b)}function S(e){return M("lcp",e,D,k)}function E(e){return M("fid",e,O,w)}function C(e,t){return L(e,t),_[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);d(e,(t=>{T(e,{entries:t})}),t)}(e),_[e]=!0),P(e,t)}function T(e,t){const n=y[e];if(n&&n.length)for(const s of n)try{s(t)}catch(t){o.X&&r.kg.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${(0,i.$P)(s)}\nError:`,t)}}function A(){f((e=>{T("cls",{metric:e}),b=e}))}function O(){m((e=>{T("fid",{metric:e}),w=e}))}function D(){v((e=>{T("lcp",{metric:e}),k=e}))}function M(e,t,n,r){return L(e,t),_[e]||(n(),_[e]=!0),r&&t({metric:r}),P(e,t)}function L(e,t){y[e]=y[e]||[],y[e].push(t)}function P(e,t){return()=>{const n=y[e];if(!n)return;const r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},3821:(e,t,n)=>{"use strict";n.d(t,{WINDOW:()=>r});const r=n(1235).n2},5029:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var r=n(3821),i=n(188);let o=-1;const s=()=>(o<0&&(o="hidden"!==r.WINDOW.document.visibilityState||r.WINDOW.document.prerendering?1/0:0,(0,i.u)((({timeStamp:e})=>{o=e}),!0)),{get firstHiddenTime(){return o}})},188:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var r=n(3821);const i=(e,t)=>{const n=i=>{"pagehide"!==i.type&&"hidden"!==r.WINDOW.document.visibilityState||(e(i),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)}},7513:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});const r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},256:(e,t,n)=>{"use strict";n.d(t,{S1:()=>Qe});var r=n(2343),i=n(2844),o=n(7321),s=n(1703),a=n(2967);const l=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],c=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],u="InboundFilters",d=(0,a.RN)(u,(e=>({name:u,processEvent(t,n,a){const u=a.getOptions(),d=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:l],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:c],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,u);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))return s.X&&r.kg.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,i.jH)(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(e){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));s.X&&0===t.length&&r.kg.error(`Could not extract message for event ${(0,i.jH)(e)}`);return t}(e).some((e=>(0,o.U0)(e,t)))}(e,t.ignoreErrors))return s.X&&r.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,i.jH)(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&(0,o.U0)(n,t)}(e,t.ignoreTransactions))return s.X&&r.kg.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${(0,i.jH)(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=h(e);return!!n&&(0,o.U0)(n,t)}(e,t.denyUrls))return s.X&&r.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,i.jH)(e)}.\nUrl: ${h(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=h(e);return!n||(0,o.U0)(n,t)}(e,t.allowUrls))return s.X&&r.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,i.jH)(e)}.\nUrl: ${h(e)}`),!0;return!1}(t,d)?null:t}})));function h(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return s.X&&r.kg.error(`Cannot extract url for event ${(0,i.jH)(e)}`),null}}var f=n(535);let p;const m="FunctionToString",g=(0,a.RN)(m,(()=>({name:m,setupOnce(){p=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=(0,f.HK)(this)||this;return p.apply(t,e)}}catch(e){}}})));var v=n(5659);var y=n(360),_=n(8823),b=n(8425),w=n(6400),k=n(105),x=n(8518),S=n(8725),E=n(1170);var C=n(292);const T="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;var A=n(4487),O=n(7597),D=n(4754),M=n(6893);function L(e,t){const n=I(e,t),r={type:t&&t.name,value:N(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function P(e,t){return{exception:{values:[L(e,t)]}}}function I(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(R.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}const R=/Minified React error #\d+;/i;function N(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function B(e,t,n,r,o){let s;if((0,O.VW)(t)&&t.error){return P(e,t.error)}if((0,O.TX)(t)||(0,O.fm)(t)){const o=t;if("stack"in t)s=P(e,t);else{const t=o.name||((0,O.TX)(o)?"DOMError":"DOMException"),a=o.message?`${t}: ${o.message}`:t;s=F(e,a,n,r),(0,i.Db)(s,a)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}if((0,O.VZ)(t))return P(e,t);if((0,O.PO)(t)||(0,O.cO)(t)){return s=function(e,t,n,r){const i=(0,A.s3)(),o=i&&i.getOptions().normalizeDepth,s={exception:{values:[{type:(0,O.cO)(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:j(t,{isUnhandledRejection:r})}]},extra:{__serialized__:(0,D.Qy)(t,o)}};if(n){const t=I(e,n);t.length&&(s.exception.values[0].stacktrace={frames:t})}return s}(e,t,n,o),(0,i.EG)(s,{synthetic:!0}),s}return s=F(e,t,n,r),(0,i.Db)(s,`${t}`,void 0),(0,i.EG)(s,{synthetic:!0}),s}function F(e,t,n,r){const i={message:t};if(r&&n){const r=I(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]})}return i}function j(e,{isUnhandledRejection:t}){const n=(0,f.zf)(e),r=t?"promise rejection":"exception";if((0,O.VW)(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if((0,O.cO)(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}var z=n(1235);const H=z.n2;let $=0;function U(){return $>0}function W(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if((0,f.HK)(e))return e}catch(t){return e}const r=function(){const r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const i=r.map((e=>W(e,t)));return e.apply(this,i)}catch(e){throw $++,setTimeout((()=>{$--})),(0,A.$e)((n=>{n.addEventProcessor((e=>(t.mechanism&&((0,i.Db)(e,void 0,void 0),(0,i.EG)(e,t.mechanism)),e.extra={...e.extra,arguments:r},e))),(0,A.Tb)(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(e){}(0,f.$Q)(r,e),(0,f.xp)(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(e){}return r}class q extends w.W{constructor(e){const t=H.SENTRY_SDK_SOURCE||(0,x.S)();e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${t}:@sentry/browser`,version:k.J}],version:k.J},super(e),e.sendClientReports&&H.document&&H.document.addEventListener("visibilitychange",(()=>{"hidden"===H.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,r){const o=B(e,t,n&&n.syntheticException||void 0,r);return(0,i.EG)(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),(0,M.WD)(o)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",r,i){const o=F(e,t,r&&r.syntheticException||void 0,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),(0,M.WD)(o)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(T&&r.kg.warn("SDK not enabled, will not capture user feedback."));const t=function(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:(0,C.RA)(r)}},o=function(e){return[{type:"user_report"},e]}(e);return(0,S.Jd)(i,[o])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(T&&r.kg.log("No outcomes to send"));if(!this._dsn)return void(T&&r.kg.log("No dsn provided, will not send outcomes"));T&&r.kg.log("Sending outcomes:",e);const t=function(e,t,n){const r=[{type:"client_report"},{timestamp:n||(0,E.yW)(),discarded_events:e}];return(0,S.Jd)(t?{dsn:t}:{},[r])}(e,this._options.tunnel&&(0,C.RA)(this._dsn));this._sendEnvelope(t)}}var V=n(1674),Z=n(7373),Y=n(8464);const G="GlobalHandlers",K=(0,a.RN)(G,((e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:G,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){(0,V.V)((t=>{const{stackParser:n,attachStacktrace:r}=Q();if((0,A.s3)()!==e||U())return;const{msg:i,url:o,line:s,column:a,error:l}=t,c=void 0===l&&(0,O.HD)(i)?function(e,t,n,r){const i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let o=(0,O.VW)(e)?e.message:e,s="Error";const a=o.match(i);a&&(s=a[1],o=a[2]);const l={exception:{values:[{type:s,value:o}]}};return X(l,t,n,r)}(i,o,s,a):X(B(n,l||i,void 0,r,!1),o,s,a);c.level="error",(0,A.eN)(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})}))}(e),J("onerror")),t.onunhandledrejection&&(!function(e){(0,Z.h)((t=>{const{stackParser:n,attachStacktrace:r}=Q();if((0,A.s3)()!==e||U())return;const i=function(e){if((0,O.pt)(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(e){}return e}(t),o=(0,O.pt)(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:B(n,i,void 0,r,!0);o.level="error",(0,A.eN)(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e),J("onunhandledrejection"))}}}));function X(e,t,n,r){const i=e.exception=e.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=(0,O.HD)(t)&&t.length>0?t:(0,Y.l4)();return 0===l.length&&l.push({colno:c,filename:d,function:"?",in_app:!0,lineno:u}),e}function J(e){T&&r.kg.log(`Global Handler attached: ${e}`)}function Q(){const e=(0,A.s3)();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const ee=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],te="TryCatch",ne=(0,a.RN)(te,((e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:te,setupOnce(){t.setTimeout&&(0,f.hl)(H,"setTimeout",re),t.setInterval&&(0,f.hl)(H,"setInterval",re),t.requestAnimationFrame&&(0,f.hl)(H,"requestAnimationFrame",ie),t.XMLHttpRequest&&"XMLHttpRequest"in H&&(0,f.hl)(XMLHttpRequest.prototype,"send",oe);const e=t.eventTarget;if(e){(Array.isArray(e)?e:ee).forEach(se)}}}}));function re(e){return function(...t){const n=t[0];return t[0]=W(n,{mechanism:{data:{function:(0,y.$P)(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function ie(e){return function(t){return e.apply(this,[W(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,y.$P)(e)},handled:!1,type:"instrument"}})])}}function oe(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&(0,f.hl)(n,e,(function(t){const n={mechanism:{data:{function:e,handler:(0,y.$P)(t)},handled:!1,type:"instrument"}},r=(0,f.HK)(t);return r&&(n.mechanism.data.handler=(0,y.$P)(r)),W(t,n)}))})),e.apply(this,t)}}function se(e){const t=H,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,f.hl)(n,"addEventListener",(function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=W(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,y.$P)(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,W(r,{mechanism:{data:{function:"addEventListener",handler:(0,y.$P)(r),target:e},handled:!1,type:"instrument"}}),i])}})),(0,f.hl)(n,"removeEventListener",(function(e){return function(t,n,r){const i=n;try{const n=i&&i.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(e){}return e.call(this,t,i,r)}})))}var ae=n(9729);function le(){"console"in z.n2&&r.RU.forEach((function(e){e in z.n2.console&&(0,f.hl)(z.n2.console,e,(function(t){return r.LD[e]=t,function(...t){const n={args:t,level:e};(0,ae.rK)("console",n);const i=r.LD[e];i&&i.apply(z.n2.console,t)}}))}))}var ce=n(5316),ue=n(5322),de=n(1394);const he=["fatal","error","warning","log","info","debug"];function fe(e){return"warn"===e?"warning":he.includes(e)?e:"log"}function pe(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const me=1024,ge="Breadcrumbs",ve=(0,a.RN)(ge,((e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:ge,setup(e){t.console&&function(e){const t="console";(0,ae.Hj)(t,e),(0,ae.D2)(t,le)}(function(e){return function(t){if((0,A.s3)()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:fe(t.level),message:(0,o.nK)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${(0,o.nK)(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}(0,A.n_)(n,{input:t.args,level:t.level})}}(e)),t.dom&&(0,ce.O)(function(e,t){return function(n){if((0,A.s3)()!==e)return;let i,o,s="object"==typeof t?t.serializeAttribute:void 0,a="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;a&&a>me&&(T&&r.kg.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${a} was configured. Sentry will use 1024 instead.`),a=me),"string"==typeof s&&(s=[s]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;i=(0,Y.Rt)(t,{keyAttrs:s,maxStringLength:a}),o=(0,Y.iY)(t)}catch(e){i="<unknown>"}if(0===i.length)return;const l={category:`ui.${n.name}`,message:i};o&&(l.data={"ui.component_name":o}),(0,A.n_)(l,{event:n.event,name:n.name,global:n.global})}}(e,t.dom)),t.xhr&&(0,ue.UK)(function(e){return function(t){if((0,A.s3)()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,i=t.xhr[ue.xU];if(!n||!r||!i)return;const{method:o,url:s,status_code:a,body:l}=i,c={method:o,url:s,status_code:a},u={xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:r};(0,A.n_)({category:"xhr",data:c,type:"http"},u)}}(e)),t.fetch&&(0,de.U)(function(e){return function(t){if((0,A.s3)()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){const e=t.fetchData,i={data:t.error,input:t.args,startTimestamp:n,endTimestamp:r};(0,A.n_)({category:"fetch",data:e,level:"error",type:"http"},i)}else{const e=t.response,i={...t.fetchData,status_code:e&&e.status},o={input:t.args,response:e,startTimestamp:n,endTimestamp:r};(0,A.n_)({category:"fetch",data:i,type:"http"},o)}}}(e)),t.history&&(0,b.a)(function(e){return function(t){if((0,A.s3)()!==e)return;let n=t.from,r=t.to;const i=pe(H.location.href);let o=n?pe(n):void 0;const s=pe(r);o&&o.path||(o=i),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),(0,A.n_)({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on&&e.on("beforeSendEvent",function(e){return function(t){(0,A.s3)()===e&&(0,A.n_)({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,i.jH)(t)},{event:t})}}(e))}}}));function ye(e,t,n=250,r,i,s,a){if(!(s.exception&&s.exception.values&&a&&(0,O.V9)(a.originalException,Error)))return;const l=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;var c,u;l&&(s.exception.values=(c=_e(e,t,i,a.originalException,r,s.exception.values,l,0),u=n,c.map((e=>(e.value&&(e.value=(0,o.$G)(e.value,u)),e)))))}function _e(e,t,n,r,i,o,s,a){if(o.length>=n+1)return o;let l=[...o];if((0,O.V9)(r[i],Error)){be(s,a);const o=e(t,r[i]),c=l.length;we(o,i,c,a),l=_e(e,t,n,r[i],i,[o,...l],o,c)}return Array.isArray(r.errors)&&r.errors.forEach(((r,o)=>{if((0,O.V9)(r,Error)){be(s,a);const c=e(t,r),u=l.length;we(c,`errors[${o}]`,u,a),l=_e(e,t,n,r,i,[c,...l],c,u)}})),l}function be(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,is_exception_group:!0,exception_id:t}}function we(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}const ke="LinkedErrors",xe=(0,a.RN)(ke,((e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:ke,preprocessEvent(e,r,i){const o=i.getOptions();ye(L,o.stackParser,o.maxValueLength,n,t,e,r)}}})),Se="HttpContext",Ee=(0,a.RN)(Se,(()=>({name:Se,preprocessEvent(e){if(!H.navigator&&!H.location&&!H.document)return;const t=e.request&&e.request.url||H.location&&H.location.href,{referrer:n}=H.document||{},{userAgent:r}=H.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:i};e.request=o}}))),Ce="Dedupe",Te=(0,a.RN)(Ce,(()=>{let e;return{name:Ce,processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!Oe(e,t))return!1;if(!Ae(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=De(t),r=De(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!Oe(e,t))return!1;if(!Ae(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return T&&r.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}}));function Ae(e,t){let n=Me(e),r=Me(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function Oe(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function De(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Me(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}const Le="?";function Pe(e,t,n,r){const i={filename:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}const Ie=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Re=/\((\S*)(?::(\d+))(?::(\d+))\)/,Ne=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Be=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Fe=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,je=[[30,e=>{const t=Ie.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=Re.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=He(t[1]||Le,t[2]);return Pe(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const t=Ne.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=Be.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||Le;return[n,e]=He(n,e),Pe(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{const t=Fe.exec(e);return t?Pe(t[2],t[1]||Le,+t[3],t[4]?+t[4]:void 0):void 0}]],ze=(0,y.pE)(...je),He=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:Le,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};var $e=n(409);function Ue(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return(0,M.$2)(new $e.b("Not adding Promise because buffer limit was reached."));const i=r();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new M.cW(((n,r)=>{let i=t.length;if(!i)return n(!0);const o=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{(0,M.WD)(e).then((()=>{--i||(clearTimeout(o),n(!0))}),r)}))}))}}}var We=n(228);const qe=30;function Ve(e,t,n=Ue(e.bufferSize||qe)){let i={};function o(o){const a=[];if((0,S.gv)(o,((t,n)=>{const r=(0,S.mL)(n);if((0,We.Q)(i,r)){const i=Ze(t,n);e.recordDroppedEvent("ratelimit_backoff",r,i)}else a.push(t)})),0===a.length)return(0,M.WD)();const l=(0,S.Jd)(o[0],a),c=t=>{(0,S.gv)(l,((n,r)=>{const i=Ze(n,r);e.recordDroppedEvent(t,(0,S.mL)(r),i)}))};return n.add((()=>t({body:(0,S.V$)(l,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&s.X&&r.kg.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),i=(0,We.WG)(i,e),e)),(e=>{throw c("network_error"),e})))).then((e=>e),(e=>{if(e instanceof $e.b)return s.X&&r.kg.error("Skipped sending event because buffer is full."),c("queue_overflow"),(0,M.WD)();throw e}))}return o.__sentry__baseTransport__=!0,{send:o,flush:e=>n.drain(e)}}function Ze(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}let Ye;function Ge(e,t=function(){if(Ye)return Ye;if((0,_.Du)(H.fetch))return Ye=H.fetch.bind(H);const e=H.document;let t=H.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){T&&r.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return Ye=t.bind(H)}()){let n=0,i=0;return Ve(e,(function(r){const o=r.body.length;n+=o,i++;const s={body:r.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&i<15,...e.fetchOptions};try{return t(e.url,s).then((e=>(n-=o,i--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return Ye=void 0,n-=o,i--,(0,M.$2)(e)}}))}const Ke=4;function Xe(e){return Ve(e,(function(t){return new M.cW(((n,r)=>{const i=new XMLHttpRequest;i.onerror=r,i.onreadystatechange=()=>{i.readyState===Ke&&n({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&i.setRequestHeader(t,e.headers[t]);i.send(t.body)}))}))}const Je=[new d,new g,new ne,new ve,new K,new xe,new Te,new Ee];function Qe(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=Je),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),H.SENTRY_RELEASE&&H.SENTRY_RELEASE.id&&(e.release=H.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(0,y.Sq)(e.stackParser||ze),integrations:(0,a.m8)(e),transport:e.transport||((0,_.Ak)()?Ge:Xe)};!function(e,t){!0===t.debug&&(s.X?r.kg.enable():(0,r.Cf)((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})));const n=(0,v.Gd)();n.getScope().update(t.initialScope);const i=new e(t);n.bindClient(i)}(q,t),e.autoSessionTracking&&function(){if(void 0===H.document)return void(T&&r.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));const e=(0,v.Gd)();if(!e.captureSession)return;et(e),(0,b.a)((({from:e,to:t})=>{void 0!==e&&e!==t&&et((0,v.Gd)())}))}()}function et(e){e.startSession({ignoreDuration:!0}),e.captureSession()}},6400:(e,t,n)=>{"use strict";n.d(t,{W:()=>x,Q:()=>C});var r=n(292),i=n(2343),o=n(2844),s=n(7597),a=n(6893),l=n(8725),c=n(409),u=n(535);const d="7";function h(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function f(e,t={}){const n="string"==typeof t?t:t.tunnel,r="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${h(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return(0,u._j)({sentry_key:e.publicKey,sentry_version:d,...t&&{sentry_client:`${t.name}/${t.version}`}})}(e,r)}`}var p=n(1703);var m=n(4487),g=n(5659),v=n(2967);function y(e,t,n,i){const o={sent_at:(new Date).toISOString()};n&&n.sdk&&(o.sdk={name:n.sdk.name,version:n.sdk.version}),i&&t&&(o.dsn=(0,r.RA)(t));const s=function(e){const t=function(e){let t="";for(const n of e){const e=Object.entries(n.tags),r=e.length>0?`|#${e.map((([e,t])=>`${e}:${t}`)).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${r}|T${n.timestamp}\n`}return t}(e);return[{type:"statsd",length:t.length},t]}(e);return(0,l.Jd)(o,[s])}var _=n(9015),b=n(454),w=n(8942);const k="Not capturing exception because it's already been captured.";class x{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=(0,r.vK)(e.dsn):p.X&&i.kg.warn("No DSN provided, client will not send events."),this._dsn){const t=f(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if((0,o.YO)(e))return void(p.X&&i.kg.log(k));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let i=n&&n.event_id;const o=(0,s.pt)(e)?this.eventFromMessage(String(e),t,n):this.eventFromException(e,n);return this._process(o.then((e=>this._captureEvent(e,n,r))).then((e=>{i=e}))),i}captureEvent(e,t,n){if(t&&t.originalException&&(0,o.YO)(t.originalException))return void(p.X&&i.kg.log(k));let r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((e=>{r=e}))),r}captureSession(e){"string"!=typeof e.release?p.X&&i.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),(0,_.CT)(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):(0,a.WD)(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=(0,v.q4)(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return p.X&&i.kg.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){(0,v.m7)(this,e,this._integrations)}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=function(e,t,n,r){const i=(0,l.HY)(n),o=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const s=(0,l.Cd)(e,i,r,t);delete e.sdkProcessingMetadata;const a=[{type:o},e];return(0,l.Jd)(s,[a])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=(0,l.BO)(n,(0,l.zQ)(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,i){const o=(0,l.HY)(n),s={sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!i&&t&&{dsn:(0,r.RA)(t)}},a="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return(0,l.Jd)(s,[a])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const n=`${e}:${t}`;p.X&&i.kg.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}captureAggregateMetrics(e){p.X&&i.kg.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const t=y(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_updateSessionFromEvent(e,t){let n=!1,r=!1;const i=t.exception&&t.exception.values;if(i){r=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const o="ok"===e.status;(o&&0===e.errors||o&&n)&&((0,_.CT)(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new a.cW((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r=(0,g.aF)()){const i=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o.length>0&&(t.integrations=o),this.emit("preprocessEvent",e,t),(0,w.R)(i,e,t,n,this,r).then((e=>{if(null===e)return e;const{propagationContext:t}=e.sdkProcessingMetadata||{};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:r,spanId:i,parentSpanId:o,dsc:s}=t;e.contexts={trace:{trace_id:r,span_id:i,parent_span_id:o},...e.contexts};const a=s||(0,b._)(r,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(p.X){const t=e;"log"===t.logLevel?i.kg.log(t.message):i.kg.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:i}=r,o=E(e),l=S(e),u=e.type||"error",d=`before send for type \`${u}\``;if(l&&"number"==typeof i&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),(0,a.$2)(new c.b(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const h="replay_event"===u?"replay":u;return this._prepareEvent(e,t,n).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",h,e),new c.b("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const i=function(e,t,n){const{beforeSend:r,beforeSendTransaction:i}=e;if(S(t)&&r)return r(t,n);if(E(t)&&i)return i(t,n);return t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if((0,s.J8)(e))return e.then((e=>{if(!(0,s.PO)(e)&&null!==e)throw new c.b(n);return e}),(e=>{throw new c.b(`${t} rejected with ${e}`)}));if(!(0,s.PO)(e)&&null!==e)throw new c.b(n);return e}(i,d)})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",h,e),new c.b(`${d} returned \`null\`, will not send event.`,"log");const i=n&&n.getSession();!o&&i&&this._updateSessionFromEvent(i,r);const s=r.transaction_info;if(o&&s&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...s,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof c.b)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new c.b(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{p.X&&i.kg.error("Error while sending event:",e)}));p.X&&i.kg.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}function S(e){return void 0===e.type}function E(e){return"transaction"===e.type}function C(e){const t=(0,m.s3)();t&&t.addEventProcessor&&t.addEventProcessor(e)}},1131:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});const r="production"},1703:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});const r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},1195:(e,t,n)=>{"use strict";n.d(t,{RP:()=>u,cc:()=>c,fH:()=>l});var r=n(1235),i=n(6893),o=n(2343),s=n(7597),a=n(1703);function l(){return(0,r.YO)("globalEventProcessors",(()=>[]))}function c(e){l().push(e)}function u(e,t,n,r=0){return new i.cW(((i,l)=>{const c=e[r];if(null===t||"function"!=typeof c)i(t);else{const d=c({...t},n);a.X&&c.id&&null===d&&o.kg.log(`Event processor "${c.id}" dropped event`),(0,s.J8)(d)?d.then((t=>u(e,t,n,r+1).then(i))).then(null,l):u(e,d,n,r+1).then(i).then(null,l)}}))}},4487:(e,t,n)=>{"use strict";n.d(t,{$e:()=>c,Tb:()=>o,eN:()=>s,nZ:()=>d,n_:()=>a,s3:()=>u,v:()=>l});var r=n(5659),i=n(8942);function o(e,t){return(0,r.Gd)().captureException(e,(0,i.U0)(t))}function s(e,t){return(0,r.Gd)().captureEvent(e,t)}function a(e,t){(0,r.Gd)().addBreadcrumb(e,t)}function l(e,t){(0,r.Gd)().setContext(e,t)}function c(e){return(0,r.Gd)().withScope(e)}function u(){return(0,r.Gd)().getClient()}function d(){return(0,r.Gd)().getScope()}},5659:(e,t,n)=>{"use strict";n.d(t,{Gd:()=>v,aF:()=>y,cu:()=>m});var r=n(2844),i=n(1170),o=n(2343),s=n(1235),a=n(1131),l=n(1703),c=n(350),u=n(9015),d=n(105);const h=parseFloat(d.J),f=100;class p{constructor(e,t=new c.sX,n=new c.sX,r=h){this._version=r,this._stack=[{scope:t}],e&&this.bindClient(e),this._isolationScope=n}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();try{return e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:(0,r.DM)(),i=new Error("Sentry syntheticException");return this._withClient(((r,o)=>{r.captureException(e,{originalException:e,syntheticException:i,...t,event_id:n},o)})),n}captureMessage(e,t,n){const i=this._lastEventId=n&&n.event_id?n.event_id:(0,r.DM)(),o=new Error(e);return this._withClient(((r,s)=>{r.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:i},s)})),i}captureEvent(e,t){const n=t&&t.event_id?t.event_id:(0,r.DM)();return e.type||(this._lastEventId=n),this._withClient(((r,i)=>{r.captureEvent(e,{...t,event_id:n},i)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:a=f}=r.getOptions&&r.getOptions()||{};if(a<=0)return;const l={timestamp:(0,i.yW)(),...e},c=s?(0,o.Cf)((()=>s(l,t))):l;null!==c&&(r.emit&&r.emit("beforeAddBreadcrumb",c,t),n.addBreadcrumb(c,a))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=g(this);try{e(this)}finally{g(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return l.X&&o.kg.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);if(l.X&&!n){this.getClient()?o.kg.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):o.kg.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&(0,u.RJ)(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:i=a.J}=n&&n.getOptions()||{},{userAgent:o}=s.n2.navigator||{},l=(0,u.Hv)({release:r,environment:i,user:t.getUser(),...o&&{userAgent:o},...e}),c=t.getSession&&t.getSession();return c&&"ok"===c.status&&(0,u.CT)(c,{status:"exited"}),this.endSession(),t.setSession(l),l}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_withClient(e){const{scope:t,client:n}=this.getStackTop();n&&e(n,t)}_callExtensionMethod(e,...t){const n=m().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);l.X&&o.kg.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function m(){return s.n2.__SENTRY__=s.n2.__SENTRY__||{extensions:{},hub:void 0},s.n2}function g(e){const t=m(),n=w(t);return k(t,e),n}function v(){const e=m();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return _(e)}function y(){return v().getIsolationScope()}function _(e=m()){return b(e)&&!w(e).isOlderThan(h)||k(e,new p),w(e)}function b(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function w(e){return(0,s.YO)("hub",(()=>new p),e)}function k(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}},2967:(e,t,n)=>{"use strict";n.d(t,{RN:()=>h,m7:()=>d,m8:()=>c,q4:()=>u});var r=n(2844),i=n(2343),o=n(1703),s=n(1195),a=n(5659);const l=[];function c(e){const t=e.defaultIntegrations||[],n=e.integrations;let i;t.forEach((e=>{e.isDefaultInstance=!0})),i=Array.isArray(n)?[...t,...n]:"function"==typeof n?(0,r.lE)(n(t)):t;const o=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((e=>t[e]))}(i),s=function(e,t){for(let n=0;n<e.length;n++)if(!0===t(e[n]))return n;return-1}(o,(e=>"Debug"===e.name));if(-1!==s){const[e]=o.splice(s,1);o.push(e)}return o}function u(e,t){const n={};return t.forEach((t=>{t&&d(e,t,n)})),n}function d(e,t,n){if(n[t.name]=t,-1===l.indexOf(t.name)&&(t.setupOnce(s.cc,a.Gd),l.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),e.on&&"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if(e.addEventProcessor&&"function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}o.X&&i.kg.log(`Integration installed: ${t.name}`)}function h(e,t){return Object.assign((function(...e){return{setupOnce:()=>{},...t(...e)}}),{id:e})}},350:(e,t,n)=>{"use strict";n.d(t,{lW:()=>d,sX:()=>u});var r=n(7597),i=n(1170),o=n(2844),s=n(1195),a=n(9015),l=n(3379);let c;class u{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=h()}static clone(e){return e?e.clone():new u}clone(){const e=new u;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&(0,a.CT)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){const t=e(this);return t instanceof u?t:this}return e instanceof u?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession),e._propagationContext&&(this._propagationContext=e._propagationContext)):(0,r.PO)(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=h(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:(0,i.yW)(),...e},o=this._breadcrumbs;return o.push(r),this._breadcrumbs=o.length>n?o.slice(-n):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:r,_extra:i,_user:o,_level:s,_fingerprint:a,_eventProcessors:l,_propagationContext:c,_sdkProcessingMetadata:u,_transactionName:d,_span:h}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:r,extra:i,user:o,level:s,fingerprint:a||[],eventProcessors:l,propagationContext:c,sdkProcessingMetadata:u,transactionName:d,span:h}}applyToEvent(e,t={},n=[]){(0,l.gi)(e,this.getScopeData());const r=[...n,...(0,s.fH)(),...this._eventProcessors];return(0,s.RP)(r,e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}function d(){return c||(c=new u),c}function h(){return{traceId:(0,o.DM)(),spanId:(0,o.DM)().substring(16)}}},9015:(e,t,n)=>{"use strict";n.d(t,{CT:()=>a,Hv:()=>s,RJ:()=>l});var r=n(1170),i=n(2844),o=n(535);function s(e){const t=(0,r.ph)(),n={sid:(0,i.DM)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return(0,o.Jr)({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&a(n,e),n}function a(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,r.ph)(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,i.DM)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function l(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),a(e,n)}},454:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var r=n(535),i=n(1131);function o(e,t,n){const o=t.getOptions(),{publicKey:s}=t.getDsn()||{},{segment:a}=n&&n.getUser()||{},l=(0,r.Jr)({environment:o.environment||i.J,release:o.release,user_segment:a,public_key:s,trace_id:e});return t.emit&&t.emit("createDsc",l),l}},3379:(e,t,n)=>{"use strict";n.d(t,{gi:()=>i,yo:()=>o});var r=n(2844);function i(e,t){const{fingerprint:n,span:i,breadcrumbs:o,sdkProcessingMetadata:s,propagationContext:a}=t;!function(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,transactionName:a}=t;n&&Object.keys(n).length&&(e.extra={...n,...e.extra});r&&Object.keys(r).length&&(e.tags={...r,...e.tags});i&&Object.keys(i).length&&(e.user={...i,...e.user});o&&Object.keys(o).length&&(e.contexts={...o,...e.contexts});s&&(e.level=s);a&&(e.transaction=a)}(e,t),i&&function(e,t){e.contexts={trace:t.getTraceContext(),...e.contexts};const n=t.transaction;if(n){e.sdkProcessingMetadata={dynamicSamplingContext:n.getDynamicSamplingContext(),...e.sdkProcessingMetadata};const t=n.name;t&&(e.tags={transaction:t,...e.tags})}}(e,i),function(e,t){e.fingerprint=e.fingerprint?(0,r.lE)(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,o),function(e,t,n){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t,propagationContext:n}}(e,s,a)}function o(e,t){const{extra:n,tags:r,user:i,contexts:o,level:a,sdkProcessingMetadata:l,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:h,propagationContext:f,transactionName:p,span:m}=t;s(e,"extra",n),s(e,"tags",r),s(e,"user",i),s(e,"contexts",o),s(e,"sdkProcessingMetadata",l),a&&(e.level=a),p&&(e.transactionName=p),m&&(e.span=m),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...f}}function s(e,t,n){n&&Object.keys(n).length&&(e[t]={...e[t],...n})}},8942:(e,t,n)=>{"use strict";n.d(t,{R:()=>h,U0:()=>p});var r=n(2844),i=n(1170),o=n(7321),s=n(1235),a=n(4754),l=n(1131),c=n(1195),u=n(350),d=n(3379);function h(e,t,n,h,p,m){const{normalizeDepth:g=3,normalizeMaxBreadth:v=1e3}=e,y={...t,event_id:t.event_id||n.event_id||(0,r.DM)(),timestamp:t.timestamp||(0,i.yW)()},_=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:l.J);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==i&&(e.dist=i);e.message&&(e.message=(0,o.$G)(e.message,s));const a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=(0,o.$G)(a.value,s));const c=e.request;c&&c.url&&(c.url=(0,o.$G)(c.url,s))}(y,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(y,_),void 0===t.type&&function(e,t){const n=s.n2._sentryDebugIds;if(!n)return;let r;const i=f.get(t);i?r=i:(r=new Map,f.set(t,r));const o=Object.keys(n).reduce(((e,i)=>{let o;const s=r.get(i);s?o=s:(o=t(i),r.set(i,o));for(let t=o.length-1;t>=0;t--){const r=o[t];if(r.filename){e[r.filename]=n[i];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=o[e.filename])}))}))}catch(e){}}(y,e.stackParser);const b=function(e,t){if(!t)return e;const n=e?e.clone():new u.sX;return n.update(t),n}(h,n.captureContext);n.mechanism&&(0,r.EG)(y,n.mechanism);const w=p&&p.getEventProcessors?p.getEventProcessors():[],k=(0,u.lW)().getScopeData();if(m){const e=m.getScopeData();(0,d.yo)(k,e)}if(b){const e=b.getScopeData();(0,d.yo)(k,e)}const x=[...n.attachments||[],...k.attachments];x.length&&(n.attachments=x),(0,d.gi)(y,k);const S=[...w,...(0,c.fH)(),...k.eventProcessors];return(0,c.RP)(S,y,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"==typeof g&&g>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:(0,a.Fv)(e.data,t,n)}})))},...e.user&&{user:(0,a.Fv)(e.user,t,n)},...e.contexts&&{contexts:(0,a.Fv)(e.contexts,t,n)},...e.extra&&{extra:(0,a.Fv)(e.extra,t,n)}};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=(0,a.Fv)(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((e=>(e.data&&(e.data=(0,a.Fv)(e.data,t,n)),e))));return r}(e,g,v):e)))}const f=new WeakMap;function p(e){if(e)return function(e){return e instanceof u.sX||"function"==typeof e}(e)||function(e){return Object.keys(e).some((e=>m.includes(e)))}(e)?{captureContext:e}:e}const m=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"]},105:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});const r="7.91.0"},3325:(e,t,n)=>{"use strict";n.d(t,{U:()=>gr});var r=n(4487);function i(e,t){const n=t&&function(e){return void 0!==e.getClient}(t)?t.getClient():t,r=n&&n.getDsn(),i=n&&n.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,r)||function(e,t){if(!t)return!1;return o(e)===o(t)}(e,i)}function o(e){return"/"===e[e.length-1]?e.slice(0,-1):e}var s=n(6400),a=n(8942),l=n(5659),c=n(1235),u=n(4754),d=n(535),h=n(8464),f=n(1170),p=n(2343),m=n(2844),g=n(5322),v=n(7321),y=n(1394),_=n(5316),b=n(8425),w=n(8725),k=n(228),x=n(1422);function S(){return"undefined"!=typeof window&&(!(0,x.KV)()||void 0!==c.n2.process&&"renderer"===c.n2.process.type)}var E=n(3415);const C=c.n2,T="sentryReplaySession",A="replay_event",O="Unable to send Replay",D=15e4,M=5e3,L=2e7,P=36e5,I={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}};var R;function N(e){const t=null==e?void 0:e.host;return Boolean((null==t?void 0:t.shadowRoot)===e)}function B(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function F(e){try{const n=e.rules||e.cssRules;return n?((t=Array.from(n,j).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t):null}catch(e){return null}var t}function j(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=F(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(e){}else if(function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":"))return function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(e.cssText);return t||e.cssText}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(R||(R={}));class z{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){var t;if(!e)return-1;const n=null===(t=this.getMeta(e))||void 0===t?void 0:t.id;return null!=n?n:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function H({maskInputOptions:e,tagName:t,type:n}){return"OPTION"===t&&(t="SELECT"),Boolean(e[t.toLowerCase()]||n&&e[n]||"password"===n||"INPUT"===t&&!n&&e.text)}function $({isMasked:e,element:t,value:n,maskInputFn:r}){let i=n||"";return e?(r&&(i=r(i,t)),"*".repeat(i.length)):i}function U(e){return e.toLowerCase()}function W(e){return e.toUpperCase()}const q="__rrweb_original__";function V(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?U(t):null}function Z(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||""}let Y=1;const G=new RegExp("[^a-z0-9-_:]"),K=-2;function X(){return Y++}let J,Q;const ee=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,te=/^(?:[a-z+]+:)?\/\//i,ne=/^www\..*/i,re=/^(data:)([^,]*),(.*)/i;function ie(e,t){return(e||"").replace(ee,((e,n,r,i,o,s)=>{const a=r||o||s,l=n||i||"";if(!a)return e;if(te.test(a)||ne.test(a))return`url(${l}${a}${l})`;if(re.test(a))return`url(${l}${a}${l})`;if("/"===a[0])return`url(${l}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+a}${l})`;const c=t.split("/"),u=a.split("/");c.pop();for(const e of u)"."!==e&&(".."===e?c.pop():c.push(e));return`url(${l}${c.join("/")}${l})`}))}const oe=/^[^ \t\n\r\u000c]+/,se=/^[, \t\n\r\u000c]+/;function ae(e,t){if(!t||""===t.trim())return t;const n=e.createElement("a");return n.href=t,n.href}function le(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function ce(){const e=document.createElement("a");return e.href="",e.href}function ue(e,t,n,r,i,o){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?ae(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;const i=e.exec(t.substring(n));return i?(r=i[0],n+=r.length,r):""}const i=[];for(;r(se),!(n>=t.length);){let o=r(oe);if(","===o.slice(-1))o=ae(e,o.substring(0,o.length-1)),i.push(o);else{let r="";o=ae(e,o);let s=!1;for(;;){const e=t.charAt(n);if(""===e){i.push((o+r).trim());break}if(s)")"===e&&(s=!1);else{if(","===e){n+=1,i.push((o+r).trim());break}"("===e&&(s=!0)}r+=e,n+=1}}}return i.join(", ")}(e,r):"style"===n?ie(r,ce()):"object"===t&&"data"===n?ae(e,r):"function"==typeof o?o(n,r,i):r:ae(e,r):r}function de(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function he(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:he(e.parentNode,t,n,r+1):-1}function fe(e,t){return n=>{const r=n;if(null===r)return!1;if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}}function pe(e,t,n,r,i,o){try{const s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===s)return!1;let a=-1,l=-1;if(o){if(l=he(s,fe(r,i)),l<0)return!0;a=he(s,fe(t,n),l>=0?l:1/0)}else{if(a=he(s,fe(t,n)),a<0)return!1;l=he(s,fe(r,i),a>=0?a:1/0)}return a>=0?!(l>=0)||a<=l:!(l>=0)&&!!o}catch(e){}return!!o}function me(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskAttributeFn:l,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h,inlineStylesheet:f,maskInputOptions:p={},maskTextFn:m,maskInputFn:g,dataURLOptions:v={},inlineImages:y,recordCanvas:_,keepIframeSrcFn:b,newlyAddedElement:w=!1}=t,k=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:R.Document,childNodes:[],compatMode:e.compatMode}:{type:R.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:R.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:k};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:r,blockSelector:i,unblockSelector:o,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:l,maskInputFn:c,dataURLOptions:u={},inlineImages:d,recordCanvas:h,keepIframeSrcFn:f,newlyAddedElement:p=!1,rootId:m,maskAllText:g,maskTextClass:v,unmaskTextClass:y,maskTextSelector:_,unmaskTextSelector:b}=t,w=function(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(e){}return!1}(e,r,i,o),k=function(e){if(e instanceof HTMLFormElement)return"form";const t=U(e.tagName);return G.test(t)?"div":t}(e);let x={};const S=e.attributes.length;for(let t=0;t<S;t++){const r=e.attributes[t];de(k,r.name,r.value)||(x[r.name]=ue(n,k,U(r.name),r.value,e,l))}if("link"===k&&s){const t=Array.from(n.styleSheets).find((t=>t.href===e.href));let r=null;t&&(r=F(t)),r&&(delete x.rel,delete x.href,x._cssText=ie(r,t.href))}if("style"===k&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=F(e.sheet);t&&(x._cssText=ie(t,ce()))}if("input"===k||"textarea"===k||"select"===k||"option"===k){const t=e,n=V(t),r=Z(t,W(k),n),i=t.checked;if("submit"!==n&&"button"!==n&&r){const e=pe(t,v,_,y,b,H({type:n,tagName:W(k),maskInputOptions:a}));x.value=$({isMasked:e,element:t,value:r,maskInputFn:c})}i&&(x.checked=i)}"option"===k&&(e.selected&&!a.select?x.selected=!0:delete x.selected);if("canvas"===k&&h)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){const i=t.getImageData,o=q in i?i[q]:i;if(new Uint32Array(o.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some((e=>0!==e)))return!1}return!0})(e)||(x.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){const t=e.toDataURL(u.type,u.quality),n=document.createElement("canvas");n.width=e.width,n.height=e.height;t!==n.toDataURL(u.type,u.quality)&&(x.rr_dataURL=t)}if("img"===k&&d){J||(J=n.createElement("canvas"),Q=J.getContext("2d"));const t=e,r=t.crossOrigin;t.crossOrigin="anonymous";const i=()=>{t.removeEventListener("load",i);try{J.width=t.naturalWidth,J.height=t.naturalHeight,Q.drawImage(t,0,0),x.rr_dataURL=J.toDataURL(u.type,u.quality)}catch(e){console.warn(`Cannot inline img src=${t.currentSrc}! Error: ${e}`)}r?x.crossOrigin=r:t.removeAttribute("crossorigin")};t.complete&&0!==t.naturalWidth?i():t.addEventListener("load",i)}"audio"!==k&&"video"!==k||(x.rr_mediaState=e.paused?"paused":"played",x.rr_mediaCurrentTime=e.currentTime);p||(e.scrollLeft&&(x.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(x.rr_scrollTop=e.scrollTop));if(w){const{width:t,height:n}=e.getBoundingClientRect();x={class:x.class,rr_width:`${t}px`,rr_height:`${n}px`}}"iframe"!==k||f(x.src)||(e.contentDocument||(x.rr_src=x.src),delete x.src);let E;try{customElements.get(k)&&(E=!0)}catch(e){}return{type:R.Element,tagName:k,attributes:x,childNodes:[],isSVG:le(e)||void 0,needBlock:w,rootId:m,isCustom:E}}(e,{doc:n,blockClass:i,blockSelector:o,unblockSelector:s,inlineStylesheet:f,maskAttributeFn:l,maskInputOptions:p,maskInputFn:g,dataURLOptions:v,inlineImages:y,recordCanvas:_,keepIframeSrcFn:b,newlyAddedElement:w,rootId:k,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h});case e.TEXT_NODE:return function(e,t){var n;const{maskAllText:r,maskTextClass:i,unmaskTextClass:o,maskTextSelector:s,unmaskTextSelector:a,maskTextFn:l,maskInputOptions:c,maskInputFn:u,rootId:d}=t,h=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const p="STYLE"===h||void 0,m="SCRIPT"===h||void 0,g="TEXTAREA"===h||void 0;if(p&&f){try{e.nextSibling||e.previousSibling||(null===(n=e.parentNode.sheet)||void 0===n?void 0:n.cssRules)&&(f=F(e.parentNode.sheet))}catch(t){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`,e)}f=ie(f,ce())}m&&(f="SCRIPT_PLACEHOLDER");const v=pe(e,i,s,o,a,r);p||m||g||!f||!v||(f=l?l(f):f.replace(/[\S]/g,"*"));g&&f&&(c.textarea||v)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*"));if("OPTION"===h&&f){f=$({isMasked:pe(e,i,s,o,a,H({type:null,tagName:h,maskInputOptions:c})),element:e,value:f,maskInputFn:u})}return{type:R.Text,textContent:f||"",isStyle:p,rootId:d}}(e,{maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h,maskTextFn:m,maskInputOptions:p,maskInputFn:g,rootId:k});case e.CDATA_SECTION_NODE:return{type:R.CDATA,textContent:"",rootId:k};case e.COMMENT_NODE:return{type:R.Comment,textContent:e.textContent||"",rootId:k};default:return!1}}function ge(e){return null==e?"":e.toLowerCase()}function ve(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:h=!1,inlineStylesheet:f=!0,maskInputOptions:p={},maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOMOptions:y,dataURLOptions:_={},inlineImages:b=!1,recordCanvas:w=!1,onSerialize:k,onIframeLoad:x,iframeLoadTimeout:S=5e3,onStylesheetLoad:E,stylesheetLoadTimeout:C=5e3,keepIframeSrcFn:T=(()=>!1),newlyAddedElement:A=!1}=t;let{preserveWhiteSpace:O=!0}=t;const D=me(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:a,unblockSelector:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,dataURLOptions:_,inlineImages:b,recordCanvas:w,keepIframeSrcFn:T,newlyAddedElement:A});if(!D)return console.warn(e,"not serialized"),null;let M;M=r.hasNode(e)?r.getId(e):!function(e,t){if(t.comment&&e.type===R.Comment)return!0;if(e.type===R.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(ge(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===ge(e.attributes.name)||"icon"===ge(e.attributes.rel)||"apple-touch-icon"===ge(e.attributes.rel)||"shortcut icon"===ge(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&ge(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ge(e.attributes.property).match(/^(og|twitter|fb):/)||ge(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===ge(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===ge(e.attributes.name)||"googlebot"===ge(e.attributes.name)||"bingbot"===ge(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===ge(e.attributes.name)||"generator"===ge(e.attributes.name)||"framework"===ge(e.attributes.name)||"publisher"===ge(e.attributes.name)||"progid"===ge(e.attributes.name)||ge(e.attributes.property).match(/^article:/)||ge(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===ge(e.attributes.name)||"yandex-verification"===ge(e.attributes.name)||"csrf-token"===ge(e.attributes.name)||"p:domain_verify"===ge(e.attributes.name)||"verify-v1"===ge(e.attributes.name)||"verification"===ge(e.attributes.name)||"shopify-checkout-api-token"===ge(e.attributes.name)))return!0}}return!1}(D,y)&&(O||D.type!==R.Text||D.isStyle||D.textContent.replace(/^\s+|\s+$/gm,"").length)?X():K;const L=Object.assign(D,{id:M});if(r.add(e,L),M===K)return null;k&&k(e);let P=!h;if(L.type===R.Element){P=P&&!L.needBlock,delete L.needBlock;const t=e.shadowRoot;t&&B(t)&&(L.isShadowHost=!0)}if((L.type===R.Document||L.type===R.Element)&&P){y.headWhitespace&&L.type===R.Element&&"head"===L.tagName&&(O=!1);const t={doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:a,unblockSelector:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:h,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOMOptions:y,dataURLOptions:_,inlineImages:b,recordCanvas:w,preserveWhiteSpace:O,onSerialize:k,onIframeLoad:x,iframeLoadTimeout:S,onStylesheetLoad:E,stylesheetLoadTimeout:C,keepIframeSrcFn:T};for(const n of Array.from(e.childNodes)){const e=ve(n,t);e&&L.childNodes.push(e)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const r=ve(n,t);r&&(B(e.shadowRoot)&&(r.isShadow=!0),L.childNodes.push(r))}}return e.parentNode&&N(e.parentNode)&&B(e.parentNode)&&(L.isShadow=!0),L.type===R.Element&&"iframe"===L.tagName&&function(e,t,n){const r=e.contentWindow;if(!r)return;let i,o=!1;try{i=r.document.readyState}catch(e){return}if("complete"!==i){const r=setTimeout((()=>{o||(t(),o=!0)}),n);return void e.addEventListener("load",(()=>{clearTimeout(r),o=!0,t()}))}const s="about:blank";if(r.location.href!==s||e.src===s||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,(()=>{const t=e.contentDocument;if(t&&x){const n=ve(t,{doc:t,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOMOptions:y,dataURLOptions:_,inlineImages:b,recordCanvas:w,preserveWhiteSpace:O,onSerialize:k,onIframeLoad:x,iframeLoadTimeout:S,onStylesheetLoad:E,stylesheetLoadTimeout:C,keepIframeSrcFn:T});n&&x(e,n)}}),S),L.type===R.Element&&"link"===L.tagName&&"stylesheet"===L.attributes.rel&&function(e,t,n){let r,i=!1;try{r=e.sheet}catch(e){return}if(r)return;const o=setTimeout((()=>{i||(t(),i=!0)}),n);e.addEventListener("load",(()=>{clearTimeout(o),i=!0,t()}))}(e,(()=>{if(E){const t=ve(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOMOptions:y,dataURLOptions:_,inlineImages:b,recordCanvas:w,preserveWhiteSpace:O,onSerialize:k,onIframeLoad:x,iframeLoadTimeout:S,onStylesheetLoad:E,stylesheetLoadTimeout:C,keepIframeSrcFn:T});t&&E(e,t)}}),C),L}function ye(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const _e="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let be={map:{},getId:()=>(console.error(_e),-1),getNode:()=>(console.error(_e),null),removeNodeFromMap(){console.error(_e)},has:()=>(console.error(_e),!1),reset(){console.error(_e)}};function we(e,t,n={}){let r=null,i=0;return function(...o){const s=Date.now();i||!1!==n.leading||(i=s);const a=t-(s-i),l=this;a<=0||a>t?(r&&(clearTimeout(r),r=null),i=s,e.apply(l,o)):r||!1===n.trailing||(r=setTimeout((()=>{i=!1===n.leading?0:Date.now(),r=null,e.apply(l,o)}),a))}}function ke(e,t,n,r,i=window){const o=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(e){setTimeout((()=>{n.set.call(this,e)}),0),o&&o.set&&o.set.call(this,e)}}),()=>ke(e,t,o||{},!0)}function xe(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch(e){return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(be=new Proxy(be,{get:(e,t,n)=>("map"===t&&console.error(_e),Reflect.get(e,t,n))}));let Se=Date.now;function Ee(e){var t,n,r,i,o,s;const a=e.document;return{left:a.scrollingElement?a.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:(null==a?void 0:a.documentElement.scrollLeft)||(null===(n=null===(t=null==a?void 0:a.body)||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.scrollLeft)||(null===(r=null==a?void 0:a.body)||void 0===r?void 0:r.scrollLeft)||0,top:a.scrollingElement?a.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null==a?void 0:a.documentElement.scrollTop)||(null===(o=null===(i=null==a?void 0:a.body)||void 0===i?void 0:i.parentElement)||void 0===o?void 0:o.scrollTop)||(null===(s=null==a?void 0:a.body)||void 0===s?void 0:s.scrollTop)||0}}function Ce(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Te(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Ae(e,t,n,r,i){if(!e)return!1;const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(!o)return!1;const s=fe(t,n);if(!i){const e=r&&o.matches(r);return s(o)&&!e}const a=he(o,s);let l=-1;return!(a<0)&&(r&&(l=he(o,fe(null,r))),a>-1&&l<0||a<l)}function Oe(e,t){return t.getId(e)===K}function De(e,t){if(N(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||De(e.parentNode,t))}function Me(e){return Boolean(e.changedTouches)}function Le(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function Pe(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function Ie(e){return Boolean(null==e?void 0:e.shadowRoot)}/[1-9][0-9]{12}/.test(Date.now().toString())||(Se=()=>(new Date).getTime());class Re{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){var t;return null!==(t=this.styleIDMap.get(e))&&void 0!==t?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Ne(e){var t,n;let r=null;return(null===(n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||void 0===n?void 0:n.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(r=e.getRootNode().host),r}function Be(e){const t=e.ownerDocument;if(!t)return!1;const n=function(e){let t,n=e;for(;t=Ne(n);)n=t;return n}(e);return t.contains(n)}function Fe(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||Be(e))}var je=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(je||{}),ze=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(ze||{}),He=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(He||{}),$e=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))($e||{});function Ue(e){return"__ln"in e}class We{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=(null==t?void 0:t.next)||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Ue(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&Ue(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const qe=(e,t)=>`${e}@${t}`;class Ve{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new We,r=e=>{let t=e,n=K;for(;n===K;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},i=i=>{if(!i.parentNode||!Fe(i))return;const o=N(i.parentNode)?this.mirror.getId(Ne(i)):this.mirror.getId(i.parentNode),s=r(i);if(-1===o||-1===s)return n.addNode(i);const a=ve(i,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{Le(e,this.mirror)&&this.iframeManager.addIframe(e),Pe(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),Ie(i)&&this.shadowDomManager.addShadowRoot(i.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});a&&(e.push({parentId:o,nextId:s,node:a}),t.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const e of this.movedSet)Ye(this.removes,e,this.mirror)&&!this.movedSet.has(e.parentNode)||i(e);for(const e of this.addedSet)Ke(this.droppedSet,e)||Ye(this.removes,e,this.mirror)?Ke(this.movedSet,e)?i(e):this.droppedSet.add(e):i(e);let o=null;for(;n.length;){let e=null;if(o){const t=this.mirror.getId(o.value.parentNode),n=r(o.value);-1!==t&&-1!==n&&(e=o)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}{const t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}o=e.previous,n.removeNode(e.value),i(e.value)}const s={texts:this.texts.map((e=>({id:this.mirror.getId(e.node),value:e.value}))).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{const{attributes:t}=e;if("string"==typeof t.style){const n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};(s.texts.length||s.attributes.length||s.removes.length||s.adds.length)&&(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(s))},this.processMutation=e=>{if(Oe(e.target,this.mirror))return;let t;try{t=document.implementation.createHTMLDocument()}catch(e){t=this.doc}switch(e.type){case"characterData":{const t=e.target.textContent;Ae(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:pe(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const n=e.target;let r=e.attributeName,i=e.target.getAttribute(r);if("value"===r){const t=V(n),r=n.tagName;i=Z(n,r,t);const o=H({maskInputOptions:this.maskInputOptions,tagName:r,type:t});i=$({isMasked:pe(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,o),element:n,value:i,maskInputFn:this.maskInputFn})}if(Ae(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===e.oldValue)return;let o=this.attributes.find((t=>t.node===e.target));if("IFRAME"===n.tagName&&"src"===r&&!this.keepIframeSrcFn(i)){if(n.contentDocument)return;r="rr_src"}if(o||(o={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o)),"type"===r&&"INPUT"===n.tagName&&"password"===(e.oldValue||"").toLowerCase()&&n.setAttribute("data-rr-is-password","true"),!de(n.tagName,r)&&(o.attributes[r]=ue(this.doc,U(n.tagName),U(r),i,n,this.maskAttributeFn),"style"===r)){const r=t.createElement("span");e.oldValue&&r.setAttribute("style",e.oldValue);for(const e of Array.from(n.style)){const t=n.style.getPropertyValue(e),i=n.style.getPropertyPriority(e);t!==r.style.getPropertyValue(e)||i!==r.style.getPropertyPriority(e)?o.styleDiff[e]=""===i?t:[t,i]:o._unchangedStyles[e]=[t,i]}for(const e of Array.from(r.style))""===n.style.getPropertyValue(e)&&(o.styleDiff[e]=!1)}break}case"childList":if(Ae(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{const n=this.mirror.getId(t),r=N(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);Ae(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Oe(t,this.mirror)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(Ze(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||De(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[qe(n,r)]?Ze(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!(!N(e.target)||!B(e.target))||void 0})),this.mapRemoves.push(t))}))}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(Oe(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[qe(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);Ae(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach((e=>this.genAdds(e))),Ie(e)&&e.shadowRoot.childNodes.forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Ze(e,t){e.delete(t),t.childNodes.forEach((t=>Ze(e,t)))}function Ye(e,t,n){return 0!==e.length&&Ge(e,t,n)}function Ge(e,t,n){const{parentNode:r}=t;if(!r)return!1;const i=n.getId(r);return!!e.some((e=>e.id===i))||Ge(e,r,n)}function Ke(e,t){return 0!==e.size&&Xe(e,t)}function Xe(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||Xe(e,n))}let Je;function Qe(e){Je=e}function et(){Je=void 0}const tt=e=>{if(!Je)return e;return(...t)=>{try{return e(...t)}catch(e){if(Je&&!0===Je(e))return()=>{};throw e}}},nt=[];function rt(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(e){}return e&&e.target}function it(e,t){var n,r;const i=new Ve;nt.push(i),i.init(e);let o=window.MutationObserver||window.__rrMutationObserver;const s=null===(r=null===(n=null===window||void 0===window?void 0:window.Zone)||void 0===n?void 0:n.__symbol__)||void 0===r?void 0:r.call(n,"MutationObserver");s&&window[s]&&(o=window[s]);const a=new o(tt((t=>{e.onMutation&&!1===e.onMutation(t)||i.processMutations.bind(i)(t)})));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function ot({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:s}){if(!1===s.mouseInteraction)return()=>{};const a=!0===s.mouseInteraction||void 0===s.mouseInteraction?{}:s.mouseInteraction,l=[];let c=null;return Object.keys(He).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==a[e])).forEach((s=>{let a=U(s);const u=(t=>s=>{const a=rt(s);if(Ae(a,r,i,o,!0))return;let l=null,u=t;if("pointerType"in s){switch(s.pointerType){case"mouse":l=$e.Mouse;break;case"touch":l=$e.Touch;break;case"pen":l=$e.Pen}l===$e.Touch?He[t]===He.MouseDown?u="TouchStart":He[t]===He.MouseUp&&(u="TouchEnd"):$e.Pen}else Me(s)&&(l=$e.Touch);null!==l?(c=l,(u.startsWith("Touch")&&l===$e.Touch||u.startsWith("Mouse")&&l===$e.Mouse)&&(l=null)):He[t]===He.Click&&(l=c,c=null);const d=Me(s)?s.changedTouches[0]:s;if(!d)return;const h=n.getId(a),{clientX:f,clientY:p}=d;tt(e)(Object.assign({type:He[u],id:h,x:f,y:p},null!==l&&{pointerType:l}))})(s);if(window.PointerEvent)switch(He[s]){case He.MouseDown:case He.MouseUp:a=a.replace("mouse","pointer");break;case He.TouchStart:case He.TouchEnd:return}l.push(ye(a,u,t))})),tt((()=>{l.forEach((e=>e()))}))}function st({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:s}){return ye("scroll",tt(we(tt((s=>{const a=rt(s);if(!a||Ae(a,r,i,o,!0))return;const l=n.getId(a);if(a===t&&t.defaultView){const n=Ee(t.defaultView);e({id:l,x:n.left,y:n.top})}else e({id:l,x:a.scrollLeft,y:a.scrollTop})})),s.scroll||100)),t)}const at=["INPUT","TEXTAREA","SELECT"],lt=new WeakMap;function ct({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,ignoreClass:s,ignoreSelector:a,maskInputOptions:l,maskInputFn:c,sampling:u,userTriggeredOnInput:d,maskTextClass:h,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:m}){function g(e){let n=rt(e);const u=e.isTrusted,g=n&&W(n.tagName);if("OPTION"===g&&(n=n.parentElement),!n||!g||at.indexOf(g)<0||Ae(n,r,i,o,!0))return;const y=n;if(y.classList.contains(s)||a&&y.matches(a))return;const _=V(n);let b=Z(y,g,_),w=!1;const k=H({maskInputOptions:l,tagName:g,type:_}),x=pe(n,h,p,f,m,k);"radio"!==_&&"checkbox"!==_||(w=n.checked),b=$({isMasked:x,element:n,value:b,maskInputFn:c}),v(n,d?{text:b,isChecked:w,userTriggered:u}:{text:b,isChecked:w});const S=n.name;"radio"===_&&S&&w&&t.querySelectorAll(`input[type="radio"][name="${S}"]`).forEach((e=>{if(e!==n){const t=$({isMasked:x,element:e,value:Z(e,g,_),maskInputFn:c});v(e,d?{text:t,isChecked:!w,userTriggered:!1}:{text:t,isChecked:!w})}}))}function v(t,r){const i=lt.get(t);if(!i||i.text!==r.text||i.isChecked!==r.isChecked){lt.set(t,r);const i=n.getId(t);tt(e)(Object.assign(Object.assign({},r),{id:i}))}}const y=("last"===u.input?["change"]:["input","change"]).map((e=>ye(e,tt(g),t))),_=t.defaultView;if(!_)return()=>{y.forEach((e=>e()))};const b=_.Object.getOwnPropertyDescriptor(_.HTMLInputElement.prototype,"value"),w=[[_.HTMLInputElement.prototype,"value"],[_.HTMLInputElement.prototype,"checked"],[_.HTMLSelectElement.prototype,"value"],[_.HTMLTextAreaElement.prototype,"value"],[_.HTMLSelectElement.prototype,"selectedIndex"],[_.HTMLOptionElement.prototype,"selected"]];return b&&b.set&&y.push(...w.map((e=>ke(e[0],e[1],{set(){tt(g)({target:this,isTrusted:!1})}},!1,_)))),tt((()=>{y.forEach((e=>e()))}))}function ut(e){return function(e,t){if(pt("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||pt("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||pt("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||pt("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function dt(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function ht({mirror:e,stylesheetManager:t},n){var r,i,o;let s=null;s="#document"===n.nodeName?e.getId(n):e.getId(n.host);const a="#document"===n.nodeName?null===(r=n.defaultView)||void 0===r?void 0:r.Document:null===(o=null===(i=n.ownerDocument)||void 0===i?void 0:i.defaultView)||void 0===o?void 0:o.ShadowRoot,l=(null==a?void 0:a.prototype)?Object.getOwnPropertyDescriptor(null==a?void 0:a.prototype,"adoptedStyleSheets"):void 0;return null!==s&&-1!==s&&a&&l?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get(){var e;return null===(e=l.get)||void 0===e?void 0:e.call(this)},set(e){var n;const r=null===(n=l.set)||void 0===n?void 0:n.call(this,e);if(null!==s&&-1!==s)try{t.adoptStyleSheets(e,s)}catch(e){}return r}}),tt((()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:l.get,set:l.set})}))):()=>{}}function ft(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};const r=it(e,e.doc),i=function({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(!1===t.mousemove)return()=>{};const i="number"==typeof t.mousemove?t.mousemove:50,o="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;let s,a=[];const l=we(tt((t=>{const n=Date.now()-s;e(a.map((e=>(e.timeOffset-=n,e))),t),a=[],s=null})),o),c=tt(we(tt((e=>{const t=rt(e),{clientX:n,clientY:i}=Me(e)?e.changedTouches[0]:e;s||(s=Se()),a.push({x:n,y:i,id:r.getId(t),timeOffset:Se()-s}),l("undefined"!=typeof DragEvent&&e instanceof DragEvent?ze.Drag:e instanceof MouseEvent?ze.MouseMove:ze.TouchMove)})),i,{trailing:!1})),u=[ye("mousemove",c,n),ye("touchmove",c,n),ye("drag",c,n)];return tt((()=>{u.forEach((e=>e()))}))}(e),o=ot(e),s=st(e),a=function({viewportResizeCb:e},{win:t}){let n=-1,r=-1;return ye("resize",tt(we(tt((()=>{const t=Ce(),i=Te();n===t&&r===i||(e({width:Number(i),height:Number(t)}),n=t,r=i)})),200)),t)}(e,{win:n}),l=ct(e),c=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:o,doc:s}){const a=tt((s=>we(tt((o=>{const a=rt(o);if(!a||Ae(a,t,n,r,!0))return;const{currentTime:l,volume:c,muted:u,playbackRate:d}=a;e({type:s,id:i.getId(a),currentTime:l,volume:c,muted:u,playbackRate:d})})),o.media||500))),l=[ye("play",a(0),s),ye("pause",a(1),s),ye("seeked",a(2),s),ye("volumechange",a(3),s),ye("ratechange",a(4),s)];return tt((()=>{l.forEach((e=>e()))}))}(e),u=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:tt(((r,i,o)=>{const[s,a]=o,{id:l,styleId:c}=dt(i,t,n.styleMirror);return(l&&-1!==l||c&&-1!==c)&&e({id:l,styleId:c,adds:[{rule:s,index:a}]}),r.apply(i,o)}))});const o=r.CSSStyleSheet.prototype.deleteRule;let s,a;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:tt(((r,i,o)=>{const[s]=o,{id:a,styleId:l}=dt(i,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,removes:[{index:s}]}),r.apply(i,o)}))}),r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:tt(((r,i,o)=>{const[s]=o,{id:a,styleId:l}=dt(i,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,replace:s}),r.apply(i,o)}))})),r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:tt(((r,i,o)=>{const[s]=o,{id:a,styleId:l}=dt(i,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,replaceSync:s}),r.apply(i,o)}))}));const l={};mt("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(mt("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),mt("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),mt("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));const c={};return Object.entries(l).forEach((([r,i])=>{c[r]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(c[r].insertRule,{apply:tt(((r,i,o)=>{const[s,a]=o,{id:l,styleId:c}=dt(i.parentStyleSheet,t,n.styleMirror);return(l&&-1!==l||c&&-1!==c)&&e({id:l,styleId:c,adds:[{rule:s,index:[...ut(i),a||0]}]}),r.apply(i,o)}))}),i.prototype.deleteRule=new Proxy(c[r].deleteRule,{apply:tt(((r,i,o)=>{const[s]=o,{id:a,styleId:l}=dt(i.parentStyleSheet,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,removes:[{index:[...ut(i),s]}]}),r.apply(i,o)}))})})),tt((()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=o,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach((([e,t])=>{t.prototype.insertRule=c[e].insertRule,t.prototype.deleteRule=c[e].deleteRule}))}))}(e,{win:n}),d=ht(e,e.doc),h=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const o=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:tt(((i,s,a)=>{var l;const[c,u,d]=a;if(n.has(c))return o.apply(s,[c,u,d]);const{id:h,styleId:f}=dt(null===(l=s.parentRule)||void 0===l?void 0:l.parentStyleSheet,t,r.styleMirror);return(h&&-1!==h||f&&-1!==f)&&e({id:h,styleId:f,set:{property:c,value:u,priority:d},index:ut(s.parentRule)}),i.apply(s,a)}))});const s=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:tt(((i,o,a)=>{var l;const[c]=a;if(n.has(c))return s.apply(o,[c]);const{id:u,styleId:d}=dt(null===(l=o.parentRule)||void 0===l?void 0:l.parentStyleSheet,t,r.styleMirror);return(u&&-1!==u||d&&-1!==d)&&e({id:u,styleId:d,remove:{property:c},index:ut(o.parentRule)}),i.apply(o,a)}))}),tt((()=>{i.CSSStyleDeclaration.prototype.setProperty=o,i.CSSStyleDeclaration.prototype.removeProperty=s}))}(e,{win:n}),f=e.collectFonts?function({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,o=n.FontFace;n.FontFace=function(e,t,n){const r=new o(e,t,n);return i.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};const s=xe(t.fonts,"add",(function(t){return function(n){return setTimeout(tt((()=>{const t=i.get(n);t&&(e(t),i.delete(n))})),0),t.apply(this,[n])}}));return r.push((()=>{n.FontFace=o})),r.push(s),tt((()=>{r.forEach((e=>e()))}))}(e):()=>{},p=function(e){const{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,selectionCb:s}=e;let a=!0;const l=tt((()=>{const e=t.getSelection();if(!e||a&&(null==e?void 0:e.isCollapsed))return;a=e.isCollapsed||!1;const l=[],c=e.rangeCount||0;for(let t=0;t<c;t++){const s=e.getRangeAt(t),{startContainer:a,startOffset:c,endContainer:u,endOffset:d}=s;Ae(a,r,i,o,!0)||Ae(u,r,i,o,!0)||l.push({start:n.getId(a),startOffset:c,end:n.getId(u),endOffset:d})}s({ranges:l})}));return l(),ye("selectionchange",l)}(e),m=function({doc:e,customElementCb:t}){const n=e.defaultView;return n&&n.customElements?xe(n.customElements,"define",(function(e){return function(n,r,i){try{t({define:{name:n}})}catch(e){}return e.apply(this,[n,r,i])}})):()=>{}}(e),g=[];for(const t of e.plugins)g.push(t.observer(t.callback,n,t.options));return tt((()=>{nt.forEach((e=>e.reset())),r.disconnect(),i(),o(),s(),a(),l(),c(),u(),d(),h(),f(),p(),m(),g.forEach((e=>e()))}))}function pt(e){return void 0!==window[e]}function mt(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class gt{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){const i=n||this.getIdToRemoteIdMap(e),o=r||this.getRemoteIdToIdMap(e);let s=i.get(t);return s||(s=this.generateIdFn(),i.set(t,s),o.set(s,t)),s}getIds(e,t){const n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,n,r)))}getRemoteId(e,t,n){const r=n||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;const i=r.get(t);return i||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,n)))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class vt{constructor(){this.crossOriginIframeMirror=new gt(X),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class yt{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new gt(X),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new gt(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var n;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),null===(n=this.loadListener)||void 0===n||n.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){var n;switch(t.type){case je.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:je.IncrementalSnapshot,data:{source:ze.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case je.Meta:case je.Load:case je.DomContentLoaded:return!1;case je.Plugin:return t;case je.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case je.IncrementalSnapshot:switch(t.data.source){case ze.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case ze.Drag:case ze.TouchMove:case ze.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case ze.ViewportResize:return!1;case ze.MediaInteraction:case ze.MouseInteraction:case ze.Scroll:case ze.CanvasMutation:case ze.Input:return this.replaceIds(t.data,e,["id"]),t;case ze.StyleSheetRule:case ze.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case ze.Font:return t;case ze.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])})),t;case ze.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),null===(n=t.data.styles)||void 0===n||n.forEach((t=>{this.replaceStyleIds(t,e,["styleId"])})),t}}return!1}replace(e,t,n,r){for(const i of r)(Array.isArray(t[i])||"number"==typeof t[i])&&(Array.isArray(t[i])?t[i]=e.getIds(n,t[i]):t[i]=e.getId(n,t[i]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type===R.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}class _t{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class bt{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!B(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e);const n=it(Object.assign(Object.assign({},this.bypassOptions),{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(st(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),setTimeout((()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(ht({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(xe(e.prototype,"attachShadow",(function(e){return function(r){const i=e.call(this,r);return this.shadowRoot&&Fe(this)&&n.addShadowRoot(this.shadowRoot,t),i}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(e){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class wt{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}}class kt{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new Re,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},r=[];for(const t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),r.push({styleId:e,rules:Array.from(t.rules||CSSRule,((e,t)=>({rule:j(e),index:t})))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class xt{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame((()=>{this.clear(),this.loop&&this.periodicallyClear()}))}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some((e=>e!==t))}add(e,t){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}function St(e){const t=e;return t.timestamp=Se(),t}let Et,Ct;const Tt=new z;function At(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:o=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskAllText:c=!1,maskTextClass:u="rr-mask",unmaskTextClass:d=null,maskTextSelector:h=null,unmaskTextSelector:f=null,inlineStylesheet:p=!0,maskAllInputs:m,maskInputOptions:g,slimDOMOptions:v,maskAttributeFn:y,maskInputFn:_,maskTextFn:b,packFn:w,sampling:k={},dataURLOptions:x={},mousemoveWait:S,recordCanvas:E=!1,recordCrossOriginIframes:C=!1,recordAfter:T=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:A=!1,collectFonts:O=!1,inlineImages:D=!1,plugins:M,keepIframeSrcFn:L=(()=>!1),ignoreCSSAttributes:P=new Set([]),errorHandler:I,onMutation:R,getCanvasManager:N}=e;Qe(I);const B=!C||window.parent===window;let F=!1;if(!B)try{window.parent.document&&(F=!1)}catch(e){F=!0}if(B&&!t)throw new Error("emit function is required");void 0!==S&&void 0===k.mousemove&&(k.mousemove=S),Tt.reset();const j=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==g?g:{},H=!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===v,headMetaDescKeywords:"all"===v}:v||{};let $;!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}();let U=0;const W=e=>{for(const t of M||[])t.eventProcessor&&(e=t.eventProcessor(e));return w&&!F&&(e=w(e)),e},q=(e,i)=>{var o;if(!(null===(o=nt[0])||void 0===o?void 0:o.isFrozen())||e.type===je.FullSnapshot||e.type===je.IncrementalSnapshot&&e.data.source===ze.Mutation||nt.forEach((e=>e.unfreeze())),B)null==t||t(W(e),i);else if(F){const t={type:"rrweb",event:W(e),origin:window.location.origin,isCheckout:i};window.parent.postMessage(t,"*")}if(e.type===je.FullSnapshot)$=e,U=0;else if(e.type===je.IncrementalSnapshot){if(e.data.source===ze.Mutation&&e.data.isAttachIframe)return;U++;const t=r&&U>=r,i=n&&e.timestamp-$.timestamp>n;(t||i)&&ee(!0)}};Et=q;const V=e=>{q(St({type:je.IncrementalSnapshot,data:Object.assign({source:ze.Mutation},e)}))},Z=e=>q(St({type:je.IncrementalSnapshot,data:Object.assign({source:ze.Scroll},e)})),Y=e=>q(St({type:je.IncrementalSnapshot,data:Object.assign({source:ze.CanvasMutation},e)})),G=new kt({mutationCb:V,adoptedStyleSheetCb:e=>q(St({type:je.IncrementalSnapshot,data:Object.assign({source:ze.AdoptedStyleSheet},e)}))}),K="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new vt:new yt({mirror:Tt,mutationCb:V,stylesheetManager:G,recordCrossOriginIframes:C,wrappedEmit:q});for(const e of M||[])e.getMirror&&e.getMirror({nodeMirror:Tt,crossOriginIframeMirror:K.crossOriginIframeMirror,crossOriginIframeStyleMirror:K.crossOriginIframeStyleMirror});const X=new xt,J=Ot(N,{recordCanvas:E,blockClass:i,blockSelector:o,unblockSelector:s,sampling:k.canvas,dataURLOptions:x}),Q="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new _t:new bt({mutationCb:V,scrollCb:Z,bypassOptions:{onMutation:R,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:j,dataURLOptions:x,maskAttributeFn:y,maskTextFn:b,maskInputFn:_,recordCanvas:E,inlineImages:D,sampling:k,slimDOMOptions:H,iframeManager:K,stylesheetManager:G,canvasManager:J,keepIframeSrcFn:L,processedNodeManager:X},mirror:Tt}),ee=(e=!1)=>{q(St({type:je.Meta,data:{href:window.location.href,width:Te(),height:Ce()}}),e),G.reset(),Q.init(),nt.forEach((e=>e.lock()));const t=function(e,t){const{mirror:n=new z,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:o=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:l=null,maskTextSelector:c=null,unmaskTextSelector:u=null,inlineStylesheet:d=!0,inlineImages:h=!1,recordCanvas:f=!1,maskAllInputs:p=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOM:y=!1,dataURLOptions:_,preserveWhiteSpace:b,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:x,onStylesheetLoad:S,stylesheetLoadTimeout:E,keepIframeSrcFn:C=(()=>!1)}=t||{};return ve(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,maskAllText:s,maskTextClass:a,unmaskTextClass:l,maskTextSelector:c,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===p?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===p?{}:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOMOptions:!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===y,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===y?{}:y,dataURLOptions:_,inlineImages:h,recordCanvas:f,preserveWhiteSpace:b,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:x,onStylesheetLoad:S,stylesheetLoadTimeout:E,keepIframeSrcFn:C,newlyAddedElement:!1})}(document,{mirror:Tt,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:f,inlineStylesheet:p,maskAllInputs:j,maskAttributeFn:y,maskInputFn:_,maskTextFn:b,slimDOM:H,dataURLOptions:x,recordCanvas:E,inlineImages:D,onSerialize:e=>{Le(e,Tt)&&K.addIframe(e),Pe(e,Tt)&&G.trackLinkElement(e),Ie(e)&&Q.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{K.attachIframe(e,t),Q.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{G.attachLinkElement(e,t)},keepIframeSrcFn:L});if(!t)return console.warn("Failed to snapshot the document");q(St({type:je.FullSnapshot,data:{node:t,initialOffset:Ee(window)}})),nt.forEach((e=>e.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&G.adoptStyleSheets(document.adoptedStyleSheets,Tt.getId(document))};Ct=ee;try{const e=[],t=e=>{var t;return tt(ft)({onMutation:R,mutationCb:V,mousemoveCb:(e,t)=>q(St({type:je.IncrementalSnapshot,data:{source:t,positions:e}})),mouseInteractionCb:e=>q(St({type:je.IncrementalSnapshot,data:Object.assign({source:ze.MouseInteraction},e)})),scrollCb:Z,viewportResizeCb:e=>q(St({type:je.IncrementalSnapshot,data:Object.assign({source:ze.ViewportResize},e)})),inputCb:e=>q(St({type:je.IncrementalSnapshot,data:Object.assign({source:ze.Input},e)})),mediaInteractionCb:e=>q(St({type:je.IncrementalSnapshot,data:Object.assign({source:ze.MediaInteraction},e)})),styleSheetRuleCb:e=>q(St({type:je.IncrementalSnapshot,data:Object.assign({source:ze.StyleSheetRule},e)})),styleDeclarationCb:e=>q(St({type:je.IncrementalSnapshot,data:Object.assign({source:ze.StyleDeclaration},e)})),canvasMutationCb:Y,fontCb:e=>q(St({type:je.IncrementalSnapshot,data:Object.assign({source:ze.Font},e)})),selectionCb:e=>{q(St({type:je.IncrementalSnapshot,data:Object.assign({source:ze.Selection},e)}))},customElementCb:e=>{q(St({type:je.IncrementalSnapshot,data:Object.assign({source:ze.CustomElement},e)}))},blockClass:i,ignoreClass:a,ignoreSelector:l,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:f,maskInputOptions:j,inlineStylesheet:p,sampling:k,recordCanvas:E,inlineImages:D,userTriggeredOnInput:A,collectFonts:O,doc:e,maskAttributeFn:y,maskInputFn:_,maskTextFn:b,keepIframeSrcFn:L,blockSelector:o,unblockSelector:s,slimDOMOptions:H,dataURLOptions:x,mirror:Tt,iframeManager:K,stylesheetManager:G,shadowDomManager:Q,processedNodeManager:X,canvasManager:J,ignoreCSSAttributes:P,plugins:(null===(t=null==M?void 0:M.filter((e=>e.observer)))||void 0===t?void 0:t.map((e=>({observer:e.observer,options:e.options,callback:t=>q(St({type:je.Plugin,data:{plugin:e.name,payload:t}}))}))))||[]},{})};K.addLoadListener((n=>{try{e.push(t(n.contentDocument))}catch(e){console.warn(e)}}));const n=()=>{ee(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(ye("DOMContentLoaded",(()=>{q(St({type:je.DomContentLoaded,data:{}})),"DOMContentLoaded"===T&&n()}))),e.push(ye("load",(()=>{q(St({type:je.Load,data:{}})),"load"===T&&n()}),window))),()=>{e.forEach((e=>e())),X.destroy(),Ct=void 0,et()}}catch(e){console.warn(e)}}function Ot(e,t){return e?e(Object.assign(Object.assign({},t),{mirror:Tt,win:window,mutationCb:e=>function(e){Et&&Et(e)}(St({type:je.IncrementalSnapshot,data:Object.assign({source:ze.CanvasMutation},e)}))})):new wt}At.mirror=Tt,At.takeFullSnapshot=function(e){if(!Ct)throw new Error("please take full snapshot after start recording");Ct(e)};const Dt=3;function Mt(e){return e>9999999999?e:1e3*e}function Lt(e){return e>9999999999?e/1e3:e}function Pt(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate((()=>(e.throttledAddEvent({type:je.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:(0,u.Fv)(t,10,1e3)}}),"console"===t.category))))}const It="button,a";function Rt(e){return e.closest(It)||e}function Nt(e){const t=Bt(e);return t&&t instanceof Element?Rt(t):t}function Bt(e){return function(e){return"object"==typeof e&&!!e&&"target"in e}(e)?e.target:e}let Ft;function jt(e){return Ft||(Ft=[],(0,d.hl)(C,"open",(function(e){return function(...t){if(Ft)try{Ft.forEach((e=>e()))}catch(e){}return e.apply(C,t)}}))),Ft.push(e),()=>{const t=Ft?Ft.indexOf(e):-1;t>-1&&Ft.splice(t,1)}}class zt{constructor(e,t,n=Pt){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const e=jt((()=>{this._lastMutation=$t()}));this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(function(e,t){if(!Ht.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1}(t,this._ignoreSelector)||!function(e){return!(!e.data||"number"!=typeof e.data.nodeId||!e.timestamp)}(e))return;const n={timestamp:Lt(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some((e=>e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1))||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=Lt(e)}registerScroll(e=Date.now()){this._lastScroll=Lt(e)}registerClick(e){const t=Rt(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach((e=>{e.clickCount++}))}_getClicks(e){return this._clicks.filter((t=>t.node===e))}_checkClicks(){const e=[],t=$t();this._clicks.forEach((n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)}));for(const t of e){const e=this._clicks.indexOf(t);e>-1&&(this._generateBreadcrumbs(t),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,i=!n&&!r,{clickCount:o,clickBreadcrumb:s}=e;if(i){const n=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",i={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.slowClickDetected",data:{...s.data,url:C.location.href,route:t.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:o||1}};this._addBreadcrumbEvent(t,i)}else if(o>1){const e={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.multiClick",data:{...s.data,url:C.location.href,route:t.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout((()=>this._checkClicks()),1e3)}}const Ht=["A","BUTTON","INPUT"];function $t(){return Date.now()/1e3}function Ut(e,t){try{if(!function(e){return e.type===Dt}(t))return;const{source:n}=t.data;if(n===ze.Mutation&&e.registerMutation(t.timestamp),n===ze.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===ze.MouseInteraction}(t)){const{type:n,id:r}=t.data,i=At.mirror.getNode(r);i instanceof HTMLElement&&n===He.Click&&e.registerClick(i)}}catch(e){}}function Wt(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var qt;!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(qt||(qt={}));const Vt=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Zt(e){const t={};for(const n in e)if(Vt.has(n)){let r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),t[r]=e[n]}return t}const Yt=e=>t=>{if(!e.isEnabled())return;const n=function(e){const{target:t,message:n}=function(e){const t="click"===e.name;let n,r=null;try{r=t?Nt(e.event):Bt(e.event),n=(0,h.Rt)(r,{maxStringLength:200})||"<unknown>"}catch(e){n="<unknown>"}return{target:r,message:n}}(e);return Wt({category:`ui.${e.name}`,...Gt(t,n)})}(t);if(!n)return;const r="click"===t.name,i=r?t.event:void 0;!(r&&e.clickDetector&&i&&i.target)||i.altKey||i.metaKey||i.ctrlKey||i.shiftKey||function(e,t,n){e.handleClick(t,n)}(e.clickDetector,n,Nt(t.event)),Pt(e,n)};function Gt(e,t){const n=At.mirror.getId(e),r=n&&At.mirror.getNode(n),i=r&&At.mirror.getMeta(r),o=i&&function(e){return e.type===qt.Element}(i)?i:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map((e=>e.type===qt.Text&&e.textContent)).filter(Boolean).map((e=>e.trim())).join(""),attributes:Zt(o.attributes)}}:{}}}function Kt(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=function(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:o,target:s}=e;if(!s||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(s)||!o)return null;const a=t||r||i,l=1===o.length;if(!a&&l)return null;const c=(0,h.Rt)(s,{maxStringLength:200})||"<unknown>",u=Gt(s,c);return Wt({category:"ui.keyDown",message:c,data:{...u.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:o}})}(t);n&&Pt(e,n)}const Xt={resource:function(e){const{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:o,decodedBodySize:s,encodedBodySize:a,responseStatus:l,transferSize:c}=e;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${t}.${n}`,start:Qt(o),end:Qt(i),name:r,data:{size:c,statusCode:l,decodedBodySize:s,encodedBodySize:a}}},paint:function(e){const{duration:t,entryType:n,name:r,startTime:i}=e,o=Qt(i);return{type:n,name:r,start:o,end:o+t,data:void 0}},navigation:function(e){const{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:o,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:c,loadEventStart:u,loadEventEnd:d,redirectCount:h,startTime:f,transferSize:p,type:m}=e;if(0===i)return null;return{type:`${t}.${m}`,start:Qt(f),end:Qt(o),name:n,data:{size:p,decodedBodySize:r,encodedBodySize:s,duration:i,domInteractive:c,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:u,loadEventEnd:d,domComplete:o,redirectCount:h}}}};function Jt(e){return Xt[e.entryType]?Xt[e.entryType](e):null}function Qt(e){return((f.Z1||C.performance.timeOrigin)+e)/1e3}function en(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n({entries:e}){e.forEach(t)}const r=[];return["navigation","paint","resource"].forEach((e=>{r.push((0,E._j)(e,n))})),r.push((0,E.$A)((({metric:t})=>{e.replayPerformanceEntries.push(function(e){const t=e.entries,n=t[t.length-1],r=n?n.element:void 0,i=e.value,o=Qt(i);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:o,end:o,data:{value:i,size:i,nodeId:r?At.mirror.getId(r):void 0}}}(t))}))),()=>{r.forEach((e=>e()))}}const tn="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,nn='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function rn(e,t){tn&&(p.kg.info(e),t&&sn(e))}function on(e,t){tn&&(p.kg.info(e),t&&setTimeout((()=>{sn(e)}),0))}function sn(e){(0,r.n_)({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}class an extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class ln{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>L)throw new an;this.events.push(e)}finish(){return new Promise((e=>{const t=this.events;this.clear(),e(JSON.stringify(t))}))}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map((e=>e.timestamp)).sort()[0];return e?Mt(e):null}}class cn{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(((e,t)=>{this._worker.addEventListener("message",(({data:n})=>{n.success?e():t()}),{once:!0}),this._worker.addEventListener("error",(e=>{t(e)}),{once:!0})}))),this._ensureReadyPromise}destroy(){rn("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(e,t){const n=this._getAndIncrementId();return new Promise(((r,i)=>{const o=({data:t})=>{const s=t;if(s.method===e&&s.id===n){if(this._worker.removeEventListener("message",o),!s.success)return tn&&p.kg.error("[Replay]",s.response),void i(new Error("Error in compression worker"));r(s.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:n,method:e,arg:t})}))}_getAndIncrementId(){return this._id++}}class un{constructor(e){this._worker=new cn(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const t=Mt(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);const n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>L?Promise.reject(new an):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,(e=>{tn&&p.kg.warn('[Replay] Sending "clear" message to worker failed',e)}))}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class dn{constructor(e){this._fallback=new ln,this._compression=new un(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){return void rn("[Replay] Failed to load the compression worker, falling back to simple buffer")}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:t}=this._fallback,n=[];for(const t of e)n.push(this._compression.addEvent(t));this._compression.hasCheckout=t,this._used=this._compression;try{await Promise.all(n)}catch(e){tn&&p.kg.warn("[Replay] Failed to add events when switching buffers.",e)}}}function hn({useCompression:e,workerUrl:t}){if(e&&window.Worker){const e=function(e){try{const t=e||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const e=new Blob([nn]);return URL.createObjectURL(e)}();return""}();if(!t)return;rn("[Replay] Using compression worker"+(e?` from ${e}`:""));const n=new Worker(t);return new dn(n)}catch(e){rn("[Replay] Failed to create compression worker")}}(t);if(e)return e}return rn("[Replay] Using simple buffer"),new ln}function fn(){try{return"sessionStorage"in C&&!!C.sessionStorage}catch(e){return!1}}function pn(e){!function(){if(!fn())return;try{C.sessionStorage.removeItem(T)}catch(e){}}(),e.session=void 0}function mn(e){return void 0!==e&&Math.random()<e}function gn(e){const t=Date.now();return{id:e.id||(0,m.DM)(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function vn(e){if(fn())try{C.sessionStorage.setItem(T,JSON.stringify(e))}catch(e){}}function yn({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const i=function(e,t){return mn(e)?"session":!!t&&"buffer"}(e,t),o=gn({sampled:i,previousSessionId:r});return n&&vn(o),o}function _n(e,t,n=+new Date){return null===e||void 0===t||t<0||0!==t&&e+t<=n}function bn(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return _n(e.started,t,r)||_n(e.lastActivity,n,r)}function wn(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!!bn(e,{sessionIdleExpire:t,maxReplayDuration:n})&&("buffer"!==e.sampled||0!==e.segmentId)}function kn({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},i){const o=i.stickySession&&function(e){if(!fn())return null;try{const t=C.sessionStorage.getItem(T);if(!t)return null;const n=JSON.parse(t);return on("[Replay] Loading existing session",e),gn(n)}catch(e){return null}}(e);return o?wn(o,{sessionIdleExpire:t,maxReplayDuration:n})?(on("[Replay] Session in sessionStorage is expired, creating new one..."),yn(i,{previousSessionId:o.id})):o:(on("[Replay] Creating new session",e),yn(i,{previousSessionId:r}))}function xn(e,t,n){return!!En(e,t)&&(Sn(e,t,n),!0)}async function Sn(e,t,n){if(!e.eventBuffer)return null;try{n&&"buffer"===e.recordingMode&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);const r=function(e,t){try{if("function"==typeof t&&function(e){return e.type===je.Custom}(e))return t(e)}catch(e){return tn&&p.kg.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",e),null}return e}(t,e.getOptions().beforeAddRecordingEvent);if(!r)return;return await e.eventBuffer.addEvent(r)}catch(t){const n=t&&t instanceof an?"addEventSizeExceeded":"addEvent";tn&&p.kg.error(t),await e.stop({reason:n});const i=(0,r.s3)();i&&i.recordDroppedEvent("internal_sdk_error","replay")}}function En(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Mt(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(rn(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1))}function Cn(e){return!e.type}function Tn(e){return"transaction"===e.type}function An(e){return"feedback"===e.type}function On(e){const t=function(){const e=(0,r.s3)();if(!e)return!1;const t=e.getTransport();if(!t)return!1;return t.send.__sentry__baseTransport__||!1}();return(n,r)=>{if(!e.isEnabled()||!Cn(n)&&!Tn(n))return;const i=r&&r.statusCode;t&&(!i||i<200||i>=300)||(Tn(n)?function(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}(e,n):function(e,t){const n=e.getContext();t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id);if("buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();if("function"==typeof r&&!r(t))return;setTimeout((()=>{e.sendBufferedReplayOrFlush()}))}(e,n))}}function Dn(e){return t=>{e.isEnabled()&&Cn(t)&&function(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0].value;if("string"!=typeof n)return;if(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i)){Pt(e,Wt({category:"replay.hydrate-error"}))}}(e,t)}}function Mn(e,t=!1){const n=t?On(e):void 0;return Object.assign(((t,r)=>{if(!e.isEnabled())return t;if(function(e){return"replay_event"===e.type}(t))return delete t.breadcrumbs,t;if(!Cn(t)&&!Tn(t)&&!An(t))return t;if(!e.checkAndHandleExpiredSession())return t;if(An(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate((()=>!t.timestamp||(e.throttledAddEvent({type:je.Custom,timestamp:1e3*t.timestamp,data:{timestamp:t.timestamp,tag:"breadcrumb",payload:{category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)))}(e,t),t;if(function(e,t){return!(e.type||!e.exception||!e.exception.values||!e.exception.values.length||!t.originalException||!t.originalException.__rrweb__)}(t,r)&&!e.getOptions()._experiments.captureExceptions)return tn&&p.kg.log("[Replay] Ignoring error from rrweb internals",t),null;const i=function(e,t){return"buffer"===e.recordingMode&&t.message!==O&&!(!t.exception||t.type)&&mn(e.getOptions().errorSampleRate)}(e,t);return(i||"session"===e.recordingMode)&&(t.tags={...t.tags,replayId:e.getSessionId()}),n&&n(t,{statusCode:200}),t}),{id:"Replay"})}function Ln(e,t){return t.map((({type:t,start:n,end:r,name:i,data:o})=>{const s=e.throttledAddEvent({type:je.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:t,description:i,startTimestamp:n,endTimestamp:r,data:o}}});return"string"==typeof s?Promise.resolve(null):s}))}function Pn(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate((()=>(Ln(e,[n]),!1))))}}function In(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!tn||!e.getOptions()._experiments.traceInternals)&&i(t,(0,r.s3)())}(e,t.name)||e.addUpdate((()=>(Ln(e,[t]),!0))))}function Rn(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{startTimestamp:t,endTimestamp:n,xhr:r}=e,i=r[g.xU];if(!t||!n||!i)return null;const{method:o,url:s,status_code:a}=i;return void 0===s?null:{type:"resource.xhr",name:s,start:t/1e3,end:n/1e3,data:{method:o,statusCode:a}}}(t);In(e,n)}}function Nn(e,t){if(e)try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Wn(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(e){}}function Bn(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Fn(e){try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Wn(e)];if(!e)return[void 0]}catch(t){return tn&&p.kg.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return tn&&p.kg.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function jn(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function zn(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:i,method:o,statusCode:s,request:a,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:(0,d.Jr)({method:o,statusCode:s,request:a,response:l})}}function Hn(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function $n(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:i,warnings:o}=function(e){if(!e||"string"!=typeof e)return{body:e};const t=e.length>D,n=function(e){const t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n}(e);if(t){const t=e.slice(0,D);return n?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${t}…`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(e){}return{body:e}}(n);return r.body=i,o&&o.length>0&&(r._meta={warnings:o}),r}function Un(e,t){return Object.keys(e).reduce(((n,r)=>{const i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=e[r]),n}),{})}function Wn(e){return new URLSearchParams(e).toString()}function qn(e,t){const n=function(e,t=C.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(C.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;if(!e.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r}(e);return(0,v.U0)(n,t)}async function Vn(e,t,n){try{const r=await async function(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:o=r}=t,{url:s,method:a,status_code:l=0,request_body_size:c,response_body_size:u}=e.data,d=qn(s,n.networkDetailAllowUrls)&&!qn(s,n.networkDetailDenyUrls),h=d?function({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const i=n?function(e,t){if(1===e.length&&"string"!=typeof e[0])return Gn(e[0],t);if(2===e.length)return Gn(e[1],t);return{}}(n,t):{};if(!e)return $n(i,r,void 0);const o=Zn(n),[s,a]=Fn(o),l=$n(i,r,s);if(a)return jn(l,a);return l}(n,t.input,c):Hn(c),f=await async function(e,{networkCaptureBodies:t,textEncoder:n,networkResponseHeaders:r},i,o){if(!e&&void 0!==o)return Hn(o);const s=i?Yn(i.headers,r):{};if(!i||!t&&void 0!==o)return $n(s,o,void 0);const[a,l]=await async function(e){const t=function(e){try{return e.clone()}catch(e){tn&&p.kg.warn("[Replay] Failed to clone response body",e)}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{const e=await function(e){return new Promise(((t,n)=>{const r=setTimeout((()=>n(new Error("Timeout while trying to read response body"))),500);(async function(e){return await e.text()})(e).then((e=>t(e)),(e=>n(e))).finally((()=>clearTimeout(r)))}))}(t);return[e]}catch(e){return tn&&p.kg.warn("[Replay] Failed to get text body from response",e),[void 0,"BODY_PARSE_ERROR"]}}(i),c=function(e,{networkCaptureBodies:t,textEncoder:n,responseBodySize:r,captureDetails:i,headers:o}){try{const s=e&&e.length&&void 0===r?Nn(e,n):r;return i?$n(o,s,t?e:void 0):Hn(s)}catch(e){return tn&&p.kg.warn("[Replay] Failed to serialize response body",e),$n(o,r,void 0)}}(a,{networkCaptureBodies:t,textEncoder:n,responseBodySize:o,captureDetails:e,headers:s});if(l)return jn(c,l);return c}(d,n,t.response,u);return{startTimestamp:i,endTimestamp:o,url:s,method:a,statusCode:l,request:h,response:f}}(e,t,n),i=zn("resource.fetch",r);In(n.replay,i)}catch(e){tn&&p.kg.error("[Replay] Failed to capture fetch breadcrumb",e)}}function Zn(e=[]){if(2===e.length&&"object"==typeof e[1])return e[1].body}function Yn(e,t){const n={};return t.forEach((t=>{e.get(t)&&(n[t]=e.get(t))})),n}function Gn(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?Yn(n,t):Array.isArray(n)?{}:Un(n,t):{}}async function Kn(e,t,n){try{const r=function(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:o=r,input:s,xhr:a}=t,{url:l,method:c,status_code:u=0,request_body_size:d,response_body_size:h}=e.data;if(!l)return null;if(!a||!qn(l,n.networkDetailAllowUrls)||qn(l,n.networkDetailDenyUrls)){return{startTimestamp:i,endTimestamp:o,url:l,method:c,statusCode:u,request:Hn(d),response:Hn(h)}}const f=a[g.xU],m=f?Un(f.request_headers,n.networkRequestHeaders):{},v=Un(function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce(((e,t)=>{const[n,r]=t.split(": ");return e[n.toLowerCase()]=r,e}),{})}(a),n.networkResponseHeaders),[y,_]=n.networkCaptureBodies?Fn(s):[void 0],[b,w]=n.networkCaptureBodies?function(e){const t=[];try{return[e.responseText]}catch(e){t.push(e)}try{return function(e,t){try{if("string"==typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"==typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(t){return tn&&p.kg.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return tn&&p.kg.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(e){t.push(e)}return tn&&p.kg.warn("[Replay] Failed to get xhr response body",...t),[void 0]}(a):[void 0],k=$n(m,d,y),x=$n(v,h,b);return{startTimestamp:i,endTimestamp:o,url:l,method:c,statusCode:u,request:_?jn(k,_):k,response:w?jn(x,w):x}}(e,t,n),i=zn("resource.xhr",r);In(n.replay,i)}catch(e){tn&&p.kg.error("[Replay] Failed to capture xhr breadcrumb",e)}}function Xn(e,t,n){const{xhr:r,input:i}=t;if(!r)return;const o=Nn(i,n.textEncoder),s=r.getResponseHeader("content-length")?Bn(r.getResponseHeader("content-length")):function(e,t,n){try{return Nn("json"===t&&e&&"object"==typeof e?JSON.stringify(e):e,n)}catch(e){return}}(r.response,r.responseType,n.textEncoder);void 0!==o&&(e.data.request_body_size=o),void 0!==s&&(e.data.response_body_size=s)}function Jn(e){const t=(0,r.s3)();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:i,networkCaptureBodies:o,networkRequestHeaders:s,networkResponseHeaders:a}=e.getOptions(),l={replay:e,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:i,networkCaptureBodies:o,networkRequestHeaders:s,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",((e,t)=>function(e,t,n){if(!t.data)return;try{(function(e){return"xhr"===e.category})(t)&&function(e){return e&&e.xhr}(n)&&(Xn(t,n,e),Kn(t,n,e)),function(e){return"fetch"===e.category}(t)&&function(e){return e&&e.response}(n)&&(!function(e,t,n){const{input:r,response:i}=t,o=Nn(r?Zn(r):void 0,n.textEncoder),s=i?Bn(i.headers.get("content-length")):void 0;void 0!==o&&(e.data.request_body_size=o),void 0!==s&&(e.data.response_body_size=s)}(t,n,e),Vn(t,n,e))}catch(e){tn&&p.kg.warn("Error when enriching network breadcrumb")}}(l,e,t))):((0,y.U)(function(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{startTimestamp:t,endTimestamp:n,fetchData:r,response:i}=e;if(!n)return null;const{method:o,url:s}=r;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:s,data:{method:o,statusCode:i?i.status:void 0}}}(t);In(e,n)}}(e)),(0,g.UK)(Rn(e)))}catch(e){}}let Qn=null;const er=e=>t=>{if(!e.isEnabled())return;const n=function(e){const t=e.getLastBreadcrumb&&e.getLastBreadcrumb();if(Qn===t||!t)return null;if(Qn=t,!function(e){return!!e.category}(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))return null;if("console"===t.category)return function(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||0===t.length)return Wt(e);let n=!1;const r=t.map((e=>{if(!e)return e;if("string"==typeof e)return e.length>M?(n=!0,`${e.slice(0,M)}…`):e;if("object"==typeof e)try{const t=(0,u.Fv)(e,7);return JSON.stringify(t).length>M?(n=!0,`${JSON.stringify(t,null,2).slice(0,M)}…`):t}catch(e){}return e}));return Wt({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(t);return Wt(t)}(t);n&&Pt(e,n)};function tr(e){return!(!e||!e.on)}function nr(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function rr(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession())return void(tn&&p.kg.warn("[Replay] Received replay event after session expired."));const i=r||!t;t=!0,e.clickDetector&&Ut(e.clickDetector,n),e.addUpdate((()=>{if("buffer"===e.recordingMode&&i&&e.setInitialState(),!xn(e,n,i))return!0;if(!i)return!1;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;xn(e,function(e){const t=e.getOptions();return{type:je.Custom,timestamp:Date.now(),data:{tag:"options",payload:{sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,i),e.session&&e.session.previousSessionId)return!0;if("buffer"===e.recordingMode&&e.session&&e.eventBuffer){const t=e.eventBuffer.getEarliestTimestamp();t&&(rn(`[Replay] Updating session start time to earliest event in buffer to ${new Date(t)}`,e.getOptions()._experiments.traceInternals),e.session.started=t,e.getOptions().stickySession&&vn(e.session))}return"session"===e.recordingMode&&e.flush(),!0}))}}function ir(e,t,n,r){return(0,w.Jd)((0,w.Cd)(e,(0,w.HY)(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"==typeof t?(new TextEncoder).encode(t).length:t.length},t]])}async function or({recordingData:e,replayId:t,segmentId:n,eventContext:i,timestamp:o,session:s}){const c=function({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}\n`;if("string"==typeof e)n=`${r}${e}`;else{const t=(new TextEncoder).encode(r);n=new Uint8Array(t.length+e.length),n.set(t),n.set(e,t.length)}return n}({recordingData:e,headers:{segment_id:n}}),{urls:u,errorIds:d,traceIds:h,initialTimestamp:f}=i,p=(0,r.s3)(),m=(0,r.nZ)(),g=p&&p.getTransport(),v=p&&p.getDsn();if(!(p&&g&&v&&s.sampled))return;const y={type:A,replay_start_timestamp:f/1e3,timestamp:o/1e3,error_ids:d,trace_ids:h,urls:u,replay_id:t,segment_id:n,replay_type:s.sampled},_=await async function({client:e,scope:t,replayId:n,event:r}){const i={event_id:n,integrations:"object"!=typeof e._integrations||null===e._integrations||Array.isArray(e._integrations)?void 0:Object.keys(e._integrations)};e.emit&&e.emit("preprocessEvent",r,i);const o=await(0,a.R)(e.getOptions(),r,i,t,e,(0,l.aF)());if(!o)return null;o.platform=o.platform||"javascript";const s=e.getSdkMetadata&&e.getSdkMetadata(),{name:c,version:u}=s&&s.sdk||{};return o.sdk={...o.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},o}({scope:m,client:p,replayId:t,event:y});if(!_)return p.recordDroppedEvent("event_processor","replay",y),void rn("An event processor returned `null`, will not send event.");delete _.sdkProcessingMetadata;const b=ir(_,c,v,p.getOptions().tunnel);let w;try{w=await g.send(b)}catch(e){const t=new Error(O);try{t.cause=e}catch(e){}throw t}if(!w)return w;if("number"==typeof w.statusCode&&(w.statusCode<200||w.statusCode>=300))throw new sr(w.statusCode);const x=(0,k.WG)({},w);if((0,k.Q)(x,"replay"))throw new ar(x);return w}class sr extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class ar extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function lr(e,t={count:0,interval:5e3}){const{recordingData:n,options:i}=e;if(n.length)try{return await or(e),!0}catch(n){if(n instanceof sr||n instanceof ar)throw n;if((0,r.v)("Replays",{_retryCount:t.count}),tn&&i._experiments&&i._experiments.captureExceptions&&(0,r.Tb)(n),t.count>=3){const e=new Error(`${O} - max retries exceeded`);try{e.cause=n}catch(e){}throw e}return t.interval*=++t.count,new Promise(((n,r)=>{setTimeout((async()=>{try{await lr(e,t),n(!0)}catch(e){r(e)}}),t.interval)}))}}const cr="__THROTTLED";function ur(e,t,n){const r=new Map;let i=!1;return(...o)=>{const s=Math.floor(Date.now()/1e3);if((e=>{const t=e-n;r.forEach(((e,n)=>{n<t&&r.delete(n)}))})(s),[...r.values()].reduce(((e,t)=>e+t),0)>=t){const e=i;return i=!0,e?"__SKIPPED":cr}i=!1;const a=r.get(s)||0;return r.set(s,a+1),e(...o)}}class dr{constructor({options:e,recordingOptions:t}){dr.prototype.__init.call(this),dr.prototype.__init2.call(this),dr.prototype.__init3.call(this),dr.prototype.__init4.call(this),dr.prototype.__init5.call(this),dr.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=function(e,t,n){let r,i,o;const s=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return l(),r=e(),r}function l(){void 0!==i&&clearTimeout(i),void 0!==o&&clearTimeout(o),i=o=void 0}function c(){return i&&clearTimeout(i),i=setTimeout(a,t),s&&void 0===o&&(o=setTimeout(a,s)),r}return c.cancel=l,c.flush=function(){return void 0!==i||void 0!==o?a():r},c}((()=>this._flush()),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=ur(((e,t)=>function(e,t,n){return En(e,t)?Sn(e,t,n):Promise.resolve(null)}(this,e,t)),300,5);const{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),i=n?{threshold:Math.min(3e3,n),timeout:n,scrollTimeout:300,ignoreSelector:r?r.join(","):""}:void 0;i&&(this.clickDetector=new zt(this,i))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}getOptions(){return this._options}initializeSampling(e){const{errorSampleRate:t,sessionSampleRate:n}=this._options;t<=0&&n<=0||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",on(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording()):this._handleException(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)throw new Error("Replay recording is already in progress");if(this._isEnabled&&"buffer"===this.recordingMode)throw new Error("Replay buffering is in progress, call `flush()` to save the replay");on("[Replay] Starting replay in session mode",this._options._experiments.traceInternals);const e=kn({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");on("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const e=kn({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._options._experiments.canvas;this._stopRecording=At({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:rr(this),onMutation:this._onMutationHandler,...e&&e.manager&&{recordCanvas:!0,getCanvasManager:e.manager,...I[e.quality||"medium"]||I.medium}})}catch(e){this._handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this._handleException(e),!1}}async stop({forceFlush:e=!1,reason:t}={}){if(this._isEnabled){this._isEnabled=!1;try{rn("[Replay] Stopping Replay"+(t?` triggered by ${t}`:""),this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,pn(this)}catch(e){this._handleException(e)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),rn("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),rn("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();const t=Date.now();rn("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const t=e();"buffer"!==this.recordingMode&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&_n(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const e=`${C.location.pathname}${C.location.hash}${C.location.search}`,t=`${C.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){const n=this._throttledAddEvent(e,t);if(n===cr){const e=Wt({category:"replay.throttled"});this.addUpdate((()=>!xn(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}})))}return n}getCurrentRoute(){const e=this.lastTransaction||(0,r.nZ)().getTransaction();if(e&&["route","custom"].includes(e.metadata.source))return e.name}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=hn({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(e){tn&&p.kg.error("[Replay]",e),tn&&this._options._experiments&&this._options._experiments.captureExceptions&&(0,r.Tb)(e)}_initializeSessionForSampling(e){const t=this._options.errorSampleRate>0,n=kn({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;const e=this.session;return!wn(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{C.document.addEventListener("visibilitychange",this._handleVisibilityChange),C.addEventListener("blur",this._handleWindowBlur),C.addEventListener("focus",this._handleWindowFocus),C.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(!function(e){const t=(0,r.nZ)(),n=(0,r.s3)();t.addScopeListener(er(e)),(0,_.O)(Yt(e)),(0,b.a)(Pn(e)),Jn(e);const i=Mn(e,!tr(n));n&&n.addEventProcessor?n.addEventProcessor(i):(0,s.Q)(i),tr(n)&&(n.on("beforeSendEvent",Dn(e)),n.on("afterSendEvent",On(e)),n.on("createDsc",(t=>{const n=e.getSessionId();n&&e.isEnabled()&&"session"===e.recordingMode&&e.checkAndHandleExpiredSession()&&(t.replay_id=n)})),n.on("startTransaction",(t=>{e.lastTransaction=t})),n.on("finishTransaction",(t=>{e.lastTransaction=t})),n.on("beforeSendFeedback",((t,n)=>{const r=e.getSessionId();n&&n.includeReplay&&e.isEnabled()&&r&&(e.flush(),t.contexts&&t.contexts.feedback&&(t.contexts.feedback.replay_id=r))})))}(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}this._performanceCleanupCallback=en(this)}_removeListeners(){try{C.document.removeEventListener("visibilitychange",this._handleVisibilityChange),C.removeEventListener("blur",this._handleWindowBlur),C.removeEventListener("focus",this._handleWindowFocus),C.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this._handleException(e)}}__init(){this._handleVisibilityChange=()=>{"visible"===C.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const e=Wt({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{const e=Wt({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{Kt(this,e)}}_doChangeToBackgroundTasks(e){if(!this.session)return;bn(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):rn("[Replay] Document has become active, but session has expired")}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate((()=>{this.throttledAddEvent({type:je.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})}))}_addPerformanceEntries(){const e=(t=this.performanceEntries,t.map(Jt).filter(Boolean)).concat(this.replayPerformanceEntries);var t;return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(Ln(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:t}=this;if(!e||!t)return;if(e.segmentId)return;const n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(this.session&&this.eventBuffer&&e){if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await async function(e){try{return Promise.all(Ln(e,[nr(C.performance.memory)]))}catch(e){return[]}}(this),this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await lr({replayId:e,recordingData:i,segmentId:r,eventContext:n,session:this.session,options:this.getOptions(),timestamp:t})}catch(e){this._handleException(e),this.stop({reason:"sendReplay"});const t=(0,r.s3)();t&&t.recordDroppedEvent("send_error","replay")}}else tn&&p.kg.error("[Replay] No session or eventBuffer found to flush.")}__init5(){this._flush=async({force:e=!1}={})=>{if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession())return void(tn&&p.kg.error("[Replay] Attempting to finish replay event after session expired."));if(!this.session)return;const t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();const r=n<this._options.minReplayDuration,i=n>this._options.maxReplayDuration+5e3;if(r||i)return rn(`[Replay] Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),void(r&&this._debouncedFlush());const o=this.eventBuffer;if(o&&0===this.session.segmentId&&!o.hasCheckout&&rn("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock)return this._flushLock=this._runFlush(),await this._flushLock,void(this._flushLock=void 0);try{await this._flushLock}catch(e){tn&&p.kg.error(e)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&vn(this.session)}__init6(){this._onMutationHandler=e=>{const t=e.length,n=this._options.mutationLimit,r=n&&t>n;if(t>this._options.mutationBreadcrumbLimit||r){const e=Wt({category:"replay.mutations",data:{count:t,limit:r}});this._createCustomBreadcrumb(e)}return!r||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function hr(e,t,n,r){const i=[...e,..."string"==typeof r?r.split(","):[],...t];return void 0!==n&&("string"==typeof n&&i.push(`.${n}`),(0,p.Cf)((()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")}))),i.join(",")}const fr='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',pr=["content-length","content-type","accept"];let mr=!1;class gr{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:e=5e3,flushMaxDelay:t=5500,minReplayDuration:n=4999,maxReplayDuration:r=36e5,stickySession:i=!0,useCompression:o=!0,workerUrl:s,_experiments:a={},sessionSampleRate:l,errorSampleRate:c,maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:h=!0,mutationBreadcrumbLimit:f=750,mutationLimit:p=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:v=[],networkDetailDenyUrls:y=[],networkCaptureBodies:_=!0,networkRequestHeaders:b=[],networkResponseHeaders:w=[],mask:k=[],maskAttributes:x=["title","placeholder"],unmask:E=[],block:C=[],unblock:T=[],ignore:A=[],maskFn:O,beforeAddRecordingEvent:D,beforeErrorSampling:M,blockClass:L,blockSelector:I,maskInputOptions:R,maskTextClass:N,maskTextSelector:B,ignoreClass:F}={}){this.name=gr.id;const j=function({mask:e,unmask:t,block:n,unblock:r,ignore:i,blockClass:o,blockSelector:s,maskTextClass:a,maskTextSelector:l,ignoreClass:c}){const u={maskTextSelector:hr(e,[".sentry-mask","[data-sentry-mask]"],a,l),unmaskTextSelector:hr(t,[".sentry-unmask","[data-sentry-unmask]"]),blockSelector:hr(n,[".sentry-block","[data-sentry-block]",'base[href="/"]'],o,s),unblockSelector:hr(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:hr(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],c)};return o instanceof RegExp&&(u.blockClass=o),a instanceof RegExp&&(u.maskTextClass=a),u}({mask:k,unmask:E,block:C,unblock:T,ignore:A,blockClass:L,blockSelector:I,maskTextClass:N,maskTextSelector:B,ignoreClass:F});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{...R||{},password:!0},maskTextFn:O,maskInputFn:O,maskAttributeFn:(e,t,n)=>function({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:i,value:o}){return r?i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?o:n.includes(t)||"value"===t&&"INPUT"===e.tagName&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o:o}({maskAttributes:x,maskAllText:u,privacyOptions:j,key:e,value:t,el:n}),...j,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch(e){}}},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,P),stickySession:i,sessionSampleRate:l,errorSampleRate:c,useCompression:o,workerUrl:s,blockAllMedia:h,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:p,slowClickTimeout:m,slowClickIgnoreSelectors:g,networkDetailAllowUrls:v,networkDetailDenyUrls:y,networkCaptureBodies:_,networkRequestHeaders:vr(b),networkResponseHeaders:vr(w),beforeAddRecordingEvent:D,beforeErrorSampling:M,_experiments:a},"number"==typeof l&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysSessionSampleRate: ${l} })`),this._initialOptions.sessionSampleRate=l),"number"==typeof c&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysOnErrorSampleRate: ${c} })`),this._initialOptions.errorSampleRate=c),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${fr}`:fr),this._isInitialized&&S())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return mr}set _isInitialized(e){mr=e}setupOnce(){S()&&(this._setup(),setTimeout((()=>this._initialize())))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay&&this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(){this._replay&&this._replay.initializeSampling()}_setup(){const e=function(e){const t=(0,r.s3)(),n=t&&t.getOptions(),i={sessionSampleRate:0,errorSampleRate:0,...(0,d.Jr)(e)};if(!n)return(0,p.Cf)((()=>{console.warn("SDK client is not available.")})),i;null==e.sessionSampleRate&&null==e.errorSampleRate&&null==n.replaysSessionSampleRate&&null==n.replaysOnErrorSampleRate&&(0,p.Cf)((()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}));"number"==typeof n.replaysSessionSampleRate&&(i.sessionSampleRate=n.replaysSessionSampleRate);"number"==typeof n.replaysOnErrorSampleRate&&(i.errorSampleRate=n.replaysOnErrorSampleRate);return i}(this._initialOptions);this._replay=new dr({options:e,recordingOptions:this._recordingOptions})}}function vr(e){return[...pr,...e.map((e=>e.toLowerCase()))]}gr.__initStatic()},8464:(e,t,n)=>{"use strict";n.d(t,{Rt:()=>s,iY:()=>u,l4:()=>l,qT:()=>c});var r=n(7597);const i=(0,n(1235).Rf)(),o=80;function s(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,l=0;const c=" > ",u=c.length;let d;const h=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||o;for(;n&&s++<r&&(d=a(n,h),!("html"===d||s>1&&l+i.length*u+d.length>=f));)i.push(d),l+=d.length,n=n.parentNode;return i.reverse().join(c)}catch(e){return"<unknown>"}}function a(e,t){const n=e,o=[];let s,a,l,c,u;if(!n||!n.tagName)return"";if(i.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;o.push(n.tagName.toLowerCase());const d=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(d&&d.length)d.forEach((e=>{o.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&o.push(`#${n.id}`),s=n.className,s&&(0,r.HD)(s))for(a=s.split(/\s+/),u=0;u<a.length;u++)o.push(`.${a[u]}`);const h=["aria-label","type","name","title","alt"];for(u=0;u<h.length;u++)l=h[u],c=n.getAttribute(l),c&&o.push(`[${l}="${c}"]`);return o.join("")}function l(){try{return i.document.location.href}catch(e){return""}}function c(e){return i.document&&i.document.querySelector?i.document.querySelector(e):null}function u(e){if(!i.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}},3897:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});const r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},292:(e,t,n)=>{"use strict";n.d(t,{RA:()=>s,vK:()=>l});var r=n(3897),i=n(2343);const o=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function s(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${s}`}function a(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function l(e){const t="string"==typeof e?function(e){const t=o.exec(e);if(!t)return void(0,i.Cf)((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,s="",l,c="",u]=t.slice(1);let d="",h=u;const f=h.split("/");if(f.length>1&&(d=f.slice(0,-1).join("/"),h=f.pop()),h){const e=h.match(/^\d+/);e&&(h=e[0])}return a({host:l,pass:s,path:d,projectId:h,port:c,protocol:n,publicKey:r})}(e):a(e);if(t&&function(e){if(!r.X)return!0;const{port:t,projectId:n,protocol:o}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(i.kg.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(o)?t&&isNaN(parseInt(t,10))&&(i.kg.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(i.kg.error(`Invalid Sentry Dsn: Invalid protocol ${o}`),1):(i.kg.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}},8518:(e,t,n)=>{"use strict";function r(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function i(){return"npm"}n.d(t,{S:()=>i,n:()=>r})},8725:(e,t,n)=>{"use strict";n.d(t,{BO:()=>a,Cd:()=>m,HY:()=>p,Jd:()=>s,V$:()=>u,gv:()=>l,mL:()=>f,zQ:()=>d});var r=n(292),i=n(4754),o=n(535);function s(e,t=[]){return[e,t]}function a(e,t){const[n,r]=e;return[n,[...r,t]]}function l(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function c(e,t){return(t||new TextEncoder).encode(e)}function u(e,t){const[n,r]=e;let o=JSON.stringify(n);function s(e){"string"==typeof o?o="string"==typeof e?o+e:[c(o,t),e]:o.push("string"==typeof e?c(e,t):e)}for(const e of r){const[t,n]=e;if(s(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)s(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify((0,i.Fv)(n))}s(e)}}return"string"==typeof o?o:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(o)}function d(e,t){const n="string"==typeof e.data?c(e.data,t):e.data;return[(0,o.Jr)({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const h={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};function f(e){return h[e]}function p(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function m(e,t,n,i){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&i&&{dsn:(0,r.RA)(i)},...s&&{trace:(0,o.Jr)({...s})}}}},409:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});class r extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}},9729:(e,t,n)=>{"use strict";n.d(t,{D2:()=>c,Hj:()=>l,rK:()=>u});var r=n(3897),i=n(2343),o=n(360);const s={},a={};function l(e,t){s[e]=s[e]||[],s[e].push(t)}function c(e,t){a[e]||(t(),a[e]=!0)}function u(e,t){const n=e&&s[e];if(n)for(const s of n)try{s(t)}catch(t){r.X&&i.kg.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${(0,o.$P)(s)}\nError:`,t)}}},5316:(e,t,n)=>{"use strict";n.d(t,{O:()=>h});var r=n(2844),i=n(535),o=n(1235),s=n(9729);const a=o.n2,l=1e3;let c,u,d;function h(e){(0,s.Hj)("dom",e),(0,s.D2)("dom",f)}function f(){if(!a.document)return;const e=s.rK.bind(null,"dom"),t=p(e,!0);a.document.addEventListener("click",t,!1),a.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=a[t]&&a[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,i.hl)(n,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{const r=this,o=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},s=o[n]=o[n]||{refCount:0};if(!s.handler){const r=p(e);s.handler=r,t.call(this,n,r,i)}s.refCount++}catch(e){}return t.call(this,n,r,i)}})),(0,i.hl)(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,i=n.__sentry_instrumentation_handlers__||{},o=i[t];o&&(o.refCount--,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}function p(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const o=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,o))return;(0,i.xp)(n,"_sentryCaptured",!0),o&&!o._sentryId&&(0,i.xp)(o,"_sentryId",(0,r.DM)());const s="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==u)return!1;try{if(!e.target||e.target._sentryId!==d)return!1}catch(e){}return!0}(n)){e({event:n,name:s,global:t}),u=n.type,d=o?o._sentryId:void 0}clearTimeout(c),c=a.setTimeout((()=>{d=void 0,u=void 0}),l)}}},1394:(e,t,n)=>{"use strict";n.d(t,{U:()=>a});var r=n(535),i=n(8823),o=n(1235),s=n(9729);function a(e){const t="fetch";(0,s.Hj)(t,e),(0,s.D2)(t,l)}function l(){(0,i.t$)()&&(0,r.hl)(o.n2,"fetch",(function(e){return function(...t){const{method:n,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:u(t),method:c(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:u(t),method:c(t,"method")?String(t.method).toUpperCase():"GET"}}(t),i={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return(0,s.rK)("fetch",{...i}),e.apply(o.n2,t).then((e=>{const t={...i,endTimestamp:Date.now(),response:e};return(0,s.rK)("fetch",t),e}),(e=>{const t={...i,endTimestamp:Date.now(),error:e};throw(0,s.rK)("fetch",t),e}))}}))}function c(e,t){return!!e&&"object"==typeof e&&!!e[t]}function u(e){return"string"==typeof e?e:e?c(e,"url")?e.url:e.toString?e.toString():"":""}},1674:(e,t,n)=>{"use strict";n.d(t,{V:()=>s});var r=n(1235),i=n(9729);let o=null;function s(e){const t="error";(0,i.Hj)(t,e),(0,i.D2)(t,a)}function a(){o=r.n2.onerror,r.n2.onerror=function(e,t,n,r,s){const a={column:r,error:s,line:n,msg:e,url:t};return(0,i.rK)("error",a),!(!o||o.__SENTRY_LOADER__)&&o.apply(this,arguments)},r.n2.onerror.__SENTRY_INSTRUMENTED__=!0}},7373:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});var r=n(1235),i=n(9729);let o=null;function s(e){const t="unhandledrejection";(0,i.Hj)(t,e),(0,i.D2)(t,a)}function a(){o=r.n2.onunhandledrejection,r.n2.onunhandledrejection=function(e){const t=e;return(0,i.rK)("unhandledrejection",t),!(o&&!o.__SENTRY_LOADER__)||o.apply(this,arguments)},r.n2.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}},8425:(e,t,n)=>{"use strict";n.d(t,{a:()=>c});var r=n(535),i=n(1235);const o=(0,i.Rf)();var s=n(9729);const a=i.n2;let l;function c(e){const t="history";(0,s.Hj)(t,e),(0,s.D2)(t,u)}function u(){if(!function(){const e=o.chrome,t=e&&e.app&&e.app.runtime,n="history"in o&&!!o.history.pushState&&!!o.history.replaceState;return!t&&n}())return;const e=a.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=l,t=String(n);l=t;const r={from:e,to:t};(0,s.rK)("history",r)}return e.apply(this,t)}}a.onpopstate=function(...t){const n=a.location.href,r=l;l=n;const i={from:r,to:n};if((0,s.rK)("history",i),e)try{return e.apply(this,t)}catch(e){}},(0,r.hl)(a.history,"pushState",t),(0,r.hl)(a.history,"replaceState",t)}},5322:(e,t,n)=>{"use strict";n.d(t,{UK:()=>c,xU:()=>l});var r=n(7597),i=n(535),o=n(1235),s=n(9729);const a=o.n2,l="__sentry_xhr_v3__";function c(e){(0,s.Hj)("xhr",e),(0,s.D2)("xhr",u)}function u(){if(!a.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;(0,i.hl)(e,"open",(function(e){return function(...t){const n=Date.now(),o=(0,r.HD)(t[0])?t[0].toUpperCase():void 0,a=function(e){if((0,r.HD)(e))return e;try{return e.toString()}catch(e){}return}(t[1]);if(!o||!a)return e.apply(this,t);this[l]={method:o,url:a,request_headers:{}},"POST"===o&&a.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const c=()=>{const e=this[l];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}const t={args:[o,a],endTimestamp:Date.now(),startTimestamp:n,xhr:this};(0,s.rK)("xhr",t)}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?(0,i.hl)(this,"onreadystatechange",(function(e){return function(...t){return c(),e.apply(this,t)}})):this.addEventListener("readystatechange",c),(0,i.hl)(this,"setRequestHeader",(function(e){return function(...t){const[n,i]=t,o=this[l];return o&&(0,r.HD)(n)&&(0,r.HD)(i)&&(o.request_headers[n.toLowerCase()]=i),e.apply(this,t)}})),e.apply(this,t)}})),(0,i.hl)(e,"send",(function(e){return function(...t){const n=this[l];if(!n)return e.apply(this,t);void 0!==t[0]&&(n.body=t[0]);const r={args:[n.method,n.url],startTimestamp:Date.now(),xhr:this};return(0,s.rK)("xhr",r),e.apply(this,t)}}))}},7597:(e,t,n)=>{"use strict";n.d(t,{Cy:()=>g,HD:()=>c,J8:()=>m,Kj:()=>p,PO:()=>d,TX:()=>a,V9:()=>y,VW:()=>s,VZ:()=>i,cO:()=>h,fm:()=>l,i2:()=>v,kK:()=>f,pt:()=>u,y1:()=>_});const r=Object.prototype.toString;function i(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(e,Error)}}function o(e,t){return r.call(e)===`[object ${t}]`}function s(e){return o(e,"ErrorEvent")}function a(e){return o(e,"DOMError")}function l(e){return o(e,"DOMException")}function c(e){return o(e,"String")}function u(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function d(e){return o(e,"Object")}function h(e){return"undefined"!=typeof Event&&y(e,Event)}function f(e){return"undefined"!=typeof Element&&y(e,Element)}function p(e){return o(e,"RegExp")}function m(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function g(e){return d(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function v(e){return"number"==typeof e&&e!=e}function y(e,t){try{return e instanceof t}catch(e){return!1}}function _(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}},2343:(e,t,n)=>{"use strict";n.d(t,{Cf:()=>a,LD:()=>s,RU:()=>o,kg:()=>l});var r=n(3897),i=n(1235);const o=["debug","info","warn","error","log","assert","trace"],s={};function a(e){if(!("console"in i.n2))return e();const t=i.n2.console,n={},r=Object.keys(s);r.forEach((e=>{const r=s[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const l=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return r.X?o.forEach((n=>{t[n]=(...t)=>{e&&a((()=>{i.n2.console[n](`Sentry Logger [${n}]:`,...t)}))}})):o.forEach((e=>{t[e]=()=>{}})),t}()},2844:(e,t,n)=>{"use strict";n.d(t,{DM:()=>o,Db:()=>l,EG:()=>c,YO:()=>u,jH:()=>a,lE:()=>d});var r=n(535),i=n(1235);function o(){const e=i.n2,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function s(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function a(e){const{message:t,event_id:n}=e;if(t)return t;const r=s(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function l(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function c(e,t){const n=s(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function u(e){if(e&&e.__sentry_captured__)return!0;try{(0,r.xp)(e,"__sentry_captured__",!0)}catch(e){}return!1}function d(e){return Array.isArray(e)?e:[e]}},1422:(e,t,n)=>{"use strict";n.d(t,{KV:()=>o,l$:()=>s});var r=n(8518);e=n.hmd(e);var i=n(4155);function o(){return!(0,r.n)()&&"[object process]"===Object.prototype.toString.call(void 0!==i?i:0)}function s(e,t){return e.require(t)}},4754:(e,t,n)=>{"use strict";n.d(t,{Fv:()=>s,Qy:()=>a});var r=n(7597);var i=n(535),o=n(360);function s(e,t=100,n=1/0){try{return l("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function a(e,t=3,n=102400){const r=s(e,t);return i=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>n?a(e,t-1,n):r;var i}function l(e,t,s=1/0,a=1/0,c=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[u,d]=c;if(null==t||["number","boolean","string"].includes(typeof t)&&!(0,r.i2)(t))return t;const h=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==n.g&&t===n.g)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if((0,r.y1)(t))return"[VueViewModel]";if((0,r.Cy)(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${(0,o.$P)(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const i=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(i)?`[HTMLElement: ${i}]`:`[object ${i}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!h.startsWith("[object "))return h;if(t.__sentry_skip_normalization__)return t;const f="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:s;if(0===f)return h.replace("object ","");if(u(t))return"[Circular ~]";const p=t;if(p&&"function"==typeof p.toJSON)try{return l("",p.toJSON(),f-1,a,c)}catch(e){}const m=Array.isArray(t)?[]:{};let g=0;const v=(0,i.Sh)(t);for(const e in v){if(!Object.prototype.hasOwnProperty.call(v,e))continue;if(g>=a){m[e]="[MaxProperties ~]";break}const t=v[e];m[e]=l(e,t,f-1,a,c),g++}return d(t),m}},535:(e,t,n)=>{"use strict";n.d(t,{$Q:()=>u,HK:()=>d,Jr:()=>v,Sh:()=>f,_j:()=>h,hl:()=>l,xp:()=>c,zf:()=>g});var r=n(8464),i=n(3897),o=n(7597),s=n(2343),a=n(7321);function l(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);"function"==typeof i&&u(i,r),e[t]=i}function c(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){i.X&&s.kg.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function u(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,c(e,"__sentry_original__",t)}catch(e){}}function d(e){return e.__sentry_original__}function h(e){return Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}function f(e){if((0,o.VZ)(e))return{message:e.message,name:e.name,stack:e.stack,...m(e)};if((0,o.cO)(e)){const t={type:e.type,target:p(e.target),currentTarget:p(e.currentTarget),...m(e)};return"undefined"!=typeof CustomEvent&&(0,o.V9)(e,CustomEvent)&&(t.detail=e.detail),t}return e}function p(e){try{return(0,o.kK)(e)?(0,r.Rt)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function m(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function g(e,t=40){const n=Object.keys(f(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,a.$G)(n[0],t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:(0,a.$G)(r,t)}return""}function v(e){return y(e,new Map)}function y(e,t){if((0,o.PO)(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.keys(e))void 0!==e[n]&&(r[n]=y(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(y(e,t))})),r}return e}},228:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i,WG:()=>o});const r=6e4;function i(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}function o(e,{statusCode:t,headers:n},i=Date.now()){const o={...e},s=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(s)for(const e of s.trim().split(",")){const[t,n]=e.split(":",2),r=parseInt(t,10),s=1e3*(isNaN(r)?60:r);if(n)for(const e of n.split(";"))o[e]=i+s;else o.all=i+s}else a?o.all=i+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const i=Date.parse(`${e}`);return isNaN(i)?r:i-t}(a,i):429===t&&(o.all=i+6e4);return o}},360:(e,t,n)=>{"use strict";n.d(t,{$P:()=>c,Sq:()=>a,pE:()=>s});const r=50,i=/\(error: (.*)\)/,o=/captureMessage|captureException/;function s(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const s=[],a=e.split("\n");for(let e=n;e<a.length;e++){const n=a[e];if(n.length>1024)continue;const o=i.test(n)?n.replace(i,"$1"):n;if(!o.match(/\S*Error: /)){for(const e of t){const t=e(o);if(t){s.push(t);break}}if(s.length>=r)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),o.test(t[t.length-1].function||"")&&(t.pop(),o.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,r).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(s)}}function a(e){return Array.isArray(e)?s(...e):e}const l="<anonymous>";function c(e){try{return e&&"function"==typeof e&&e.name||l}catch(e){return l}}},7321:(e,t,n)=>{"use strict";n.d(t,{$G:()=>i,U0:()=>s,nK:()=>o});var r=n(7597);function i(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function o(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const i=e[t];try{(0,r.y1)(i)?n.push("[VueViewModel]"):n.push(String(i))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function s(e,t=[],n=!1){return t.some((t=>function(e,t,n=!1){return!!(0,r.HD)(e)&&((0,r.Kj)(t)?t.test(e):!!(0,r.HD)(t)&&(n?e===t:e.includes(t)))}(e,t,n)))}},8823:(e,t,n)=>{"use strict";n.d(t,{Ak:()=>s,Du:()=>a,t$:()=>l});var r=n(3897),i=n(2343);const o=(0,n(1235).Rf)();function s(){if(!("fetch"in o))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function a(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function l(){if("string"==typeof EdgeRuntime)return!0;if(!s())return!1;if(a(o.fetch))return!0;let e=!1;const t=o.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=a(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){r.X&&i.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}},6893:(e,t,n)=>{"use strict";n.d(t,{$2:()=>s,WD:()=>o,cW:()=>a});var r,i=n(7597);function o(e){return new a((t=>{t(e)}))}function s(e){return new a(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(r||(r={}));class a{constructor(e){a.prototype.__init.call(this),a.prototype.__init2.call(this),a.prototype.__init3.call(this),a.prototype.__init4.call(this),this._state=r.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new a(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new a(((t,n)=>{let r,i;return this.then((t=>{i=!1,r=t,e&&e()}),(t=>{i=!0,r=t,e&&e()})).then((()=>{i?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(r.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(r.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===r.PENDING&&((0,i.J8)(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===r.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===r.RESOLVED&&e[1](this._value),this._state===r.REJECTED&&e[2](this._value),e[0]=!0)}))}}}},1170:(e,t,n)=>{"use strict";n.d(t,{Z1:()=>h,ph:()=>u,yW:()=>c});var r=n(1422),i=n(1235);e=n.hmd(e);const o=(0,i.Rf)(),s={nowSeconds:()=>Date.now()/1e3};const a=(0,r.KV)()?function(){try{return(0,r.l$)(e,"perf_hooks").performance}catch(e){return}}():function(){const{performance:e}=o;if(!e||!e.now)return;return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),l=void 0===a?s:{nowSeconds:()=>(a.timeOrigin+a.now())/1e3},c=s.nowSeconds.bind(s),u=l.nowSeconds.bind(l);let d;const h=(()=>{const{performance:e}=o;if(!e||!e.now)return void(d="none");const t=36e5,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,a=e.timing&&e.timing.navigationStart,l="number"==typeof a?Math.abs(a+n-r):t;return s||l<t?i<=l?(d="timeOrigin",e.timeOrigin):(d="navigationStart",a):(d="dateNow",r)})()},1235:(e,t,n)=>{"use strict";function r(e){return e&&e.Math==Math?e:void 0}n.d(t,{Rf:()=>o,YO:()=>s,n2:()=>i});const i="object"==typeof globalThis&&r(globalThis)||"object"==typeof window&&r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function o(){return i}function s(e,t,n){const r=n||i,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}},8595:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{ZP:()=>cn});var i="(prefers-reduced-motion: reduce)",o=4,s=5,a={CREATED:1,MOUNTED:2,IDLE:3,MOVING:o,SCROLLING:s,DRAGGING:6,DESTROYED:7};function l(e){e.length=0}function c(e,t,n){return Array.prototype.slice.call(e,t,n)}function u(e){return e.bind.apply(e,[null].concat(c(arguments,1)))}var d=setTimeout,h=function(){};function f(e){return requestAnimationFrame(e)}function p(e,t){return typeof t===e}function m(e){return!b(e)&&p("object",e)}var g=Array.isArray,v=u(p,"function"),y=u(p,"string"),_=u(p,"undefined");function b(e){return null===e}function w(e){try{return e instanceof(e.ownerDocument.defaultView||window).HTMLElement}catch(e){return!1}}function k(e){return g(e)?e:[e]}function x(e,t){k(e).forEach(t)}function S(e,t){return e.indexOf(t)>-1}function E(e,t){return e.push.apply(e,k(t)),e}function C(e,t,n){e&&x(t,(function(t){t&&e.classList[n?"add":"remove"](t)}))}function T(e,t){C(e,y(t)?t.split(" "):t,!0)}function A(e,t){x(t,e.appendChild.bind(e))}function O(e,t){x(e,(function(e){var n=(t||e).parentNode;n&&n.insertBefore(e,t)}))}function D(e,t){return w(e)&&(e.msMatchesSelector||e.matches).call(e,t)}function M(e,t){var n=e?c(e.children):[];return t?n.filter((function(e){return D(e,t)})):n}function L(e,t){return t?M(e,t)[0]:e.firstElementChild}var P=Object.keys;function I(e,t,n){return e&&(n?P(e).reverse():P(e)).forEach((function(n){"__proto__"!==n&&t(e[n],n)})),e}function R(e){return c(arguments,1).forEach((function(t){I(t,(function(n,r){e[r]=t[r]}))})),e}function N(e){return c(arguments,1).forEach((function(t){I(t,(function(t,n){g(t)?e[n]=t.slice():m(t)?e[n]=N({},m(e[n])?e[n]:{},t):e[n]=t}))})),e}function B(e,t){x(t||P(e),(function(t){delete e[t]}))}function F(e,t){x(e,(function(e){x(t,(function(t){e&&e.removeAttribute(t)}))}))}function j(e,t,n){m(t)?I(t,(function(t,n){j(e,n,t)})):x(e,(function(e){b(n)||""===n?F(e,t):e.setAttribute(t,String(n))}))}function z(e,t,n){var r=document.createElement(e);return t&&(y(t)?T(r,t):j(r,t)),n&&A(n,r),r}function H(e,t,n){if(_(n))return getComputedStyle(e)[t];b(n)||(e.style[t]=""+n)}function $(e,t){H(e,"display",t)}function U(e){e.setActive&&e.setActive()||e.focus({preventScroll:!0})}function W(e,t){return e.getAttribute(t)}function q(e,t){return e&&e.classList.contains(t)}function V(e){return e.getBoundingClientRect()}function Z(e){x(e,(function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}))}function Y(e){return L((new DOMParser).parseFromString(e,"text/html").body)}function G(e,t){e.preventDefault(),t&&(e.stopPropagation(),e.stopImmediatePropagation())}function K(e,t){return e&&e.querySelector(t)}function X(e,t){return t?c(e.querySelectorAll(t)):[]}function J(e,t){C(e,t,!1)}function Q(e){return e.timeStamp}function ee(e){return y(e)?e:e?e+"px":""}var te="splide",ne="data-"+te;function re(e,t){if(!e)throw new Error("["+te+"] "+(t||""))}var ie=Math.min,oe=Math.max,se=Math.floor,ae=Math.ceil,le=Math.abs;function ce(e,t,n){return le(e-t)<n}function ue(e,t,n,r){var i=ie(t,n),o=oe(t,n);return r?i<e&&e<o:i<=e&&e<=o}function de(e,t,n){var r=ie(t,n),i=oe(t,n);return ie(oe(r,e),i)}function he(e){return+(e>0)-+(e<0)}function fe(e,t){return x(t,(function(t){e=e.replace("%s",""+t)})),e}function pe(e){return e<10?"0"+e:""+e}var me={};function ge(e){return""+e+pe(me[e]=(me[e]||0)+1)}function ve(){var e=[];function t(e,t,n){x(e,(function(e){e&&x(t,(function(t){t.split(" ").forEach((function(t){var r=t.split(".");n(e,r[0],r[1])}))}))}))}return{bind:function(n,r,i,o){t(n,r,(function(t,n,r){var s="addEventListener"in t,a=s?t.removeEventListener.bind(t,n,i,o):t.removeListener.bind(t,i);s?t.addEventListener(n,i,o):t.addListener(i),e.push([t,n,r,i,a])}))},unbind:function(n,r,i){t(n,r,(function(t,n,r){e=e.filter((function(e){return!!(e[0]!==t||e[1]!==n||e[2]!==r||i&&e[3]!==i)||(e[4](),!1)}))}))},dispatch:function(e,t,n){var r;return"function"==typeof CustomEvent?r=new CustomEvent(t,{bubbles:true,detail:n}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,true,!1,n),e.dispatchEvent(r),r},destroy:function(){e.forEach((function(e){e[4]()})),l(e)}}}var ye="mounted",_e="ready",be="move",we="moved",ke="click",xe="active",Se="inactive",Ee="visible",Ce="hidden",Te="refresh",Ae="updated",Oe="resize",De="resized",Me="scroll",Le="scrolled",Pe="destroy",Ie="arrows:mounted",Re="navigation:mounted",Ne="autoplay:play",Be="autoplay:pause",Fe="lazyload:loaded",je="sk",ze="sh",He="ei";function $e(e){var t=e?e.event.bus:document.createDocumentFragment(),n=ve();return e&&e.event.on(Pe,n.destroy),R(n,{bus:t,on:function(e,r){n.bind(t,k(e).join(" "),(function(e){r.apply(r,g(e.detail)?e.detail:[])}))},off:u(n.unbind,t),emit:function(e){n.dispatch(t,e,c(arguments,1))}})}function Ue(e,t,n,r){var i,o,s=Date.now,a=0,l=!0,c=0;function u(){if(!l){if(a=e?ie((s()-i)/e,1):1,n&&n(a),a>=1&&(t(),i=s(),r&&++c>=r))return d();o=f(u)}}function d(){l=!0}function h(){o&&cancelAnimationFrame(o),a=0,o=0,l=!0}return{start:function(t){t||h(),i=s()-(t?a*e:0),l=!1,o=f(u)},rewind:function(){i=s(),a=0,n&&n(a)},pause:d,cancel:h,set:function(t){e=t},isPaused:function(){return l}}}var We="Arrow",qe=We+"Left",Ve=We+"Right",Ze=We+"Up",Ye=We+"Down",Ge="ttb",Ke={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[Ze,Ve],ArrowRight:[Ye,qe]};function Xe(e,t,n){return{resolve:function(e,t,r){var i="rtl"!==(r=r||n.direction)||t?r===Ge?0:-1:1;return Ke[e]&&Ke[e][i]||e.replace(/width|left|right/i,(function(e,t){var n=Ke[e.toLowerCase()][i]||e;return t>0?n.charAt(0).toUpperCase()+n.slice(1):n}))},orient:function(e){return e*("rtl"===n.direction?1:-1)}}}var Je="role",Qe="tabindex",et="aria-",tt=et+"controls",nt=et+"current",rt=et+"selected",it=et+"label",ot=et+"labelledby",st=et+"hidden",at=et+"orientation",lt=et+"roledescription",ct=et+"live",ut=et+"busy",dt=et+"atomic",ht=[Je,Qe,"disabled",tt,nt,it,ot,st,at,lt],ft=te+"__",pt="is-",mt=te,gt=ft+"track",vt=ft+"list",yt=ft+"slide",_t=yt+"--clone",bt=yt+"__container",wt=ft+"arrows",kt=ft+"arrow",xt=kt+"--prev",St=kt+"--next",Et=ft+"pagination",Ct=Et+"__page",Tt=ft+"progress"+"__bar",At=ft+"toggle",Ot=ft+"sr",Dt=pt+"initialized",Mt=pt+"active",Lt=pt+"prev",Pt=pt+"next",It=pt+"visible",Rt=pt+"loading",Nt=pt+"focus-in",Bt=pt+"overflow",Ft=[Mt,It,Lt,Pt,Rt,Nt,Bt],jt={slide:yt,clone:_t,arrows:wt,arrow:kt,prev:xt,next:St,pagination:Et,page:Ct,spinner:ft+"spinner"};var zt="touchstart mousedown",Ht="touchmove mousemove",$t="touchend touchcancel mouseup click";var Ut="slide",Wt="loop",qt="fade";function Vt(e,t,n,r){var i,a=$e(e),l=a.on,c=a.emit,d=a.bind,h=e.Components,f=e.root,p=e.options,m=p.isNavigation,g=p.updateOnMove,v=p.i18n,y=p.pagination,_=p.slideFocus,b=h.Direction.resolve,w=W(r,"style"),k=W(r,it),x=n>-1,S=L(r,"."+bt);function E(){var i=e.splides.map((function(e){var n=e.splide.Components.Slides.getAt(t);return n?n.slide.id:""})).join(" ");j(r,it,fe(v.slideX,(x?n:t)+1)),j(r,tt,i),j(r,Je,_?"button":""),_&&F(r,lt)}function T(){i||A()}function A(){if(!i){var n=e.index;(a=O())!==q(r,Mt)&&(C(r,Mt,a),j(r,nt,m&&a||""),c(a?xe:Se,D)),function(){var t=function(){if(e.is(qt))return O();var t=V(h.Elements.track),n=V(r),i=b("left",!0),o=b("right",!0);return se(t[i])<=ae(n[i])&&se(n[o])<=ae(t[o])}(),n=!t&&(!O()||x);e.state.is([o,s])||j(r,st,n||"");j(X(r,p.focusableNodes||""),Qe,n?-1:""),_&&j(r,Qe,n?-1:0);t!==q(r,It)&&(C(r,It,t),c(t?Ee:Ce,D));if(!t&&document.activeElement===r){var i=h.Slides.getAt(e.index);i&&U(i.slide)}}(),C(r,Lt,t===n-1),C(r,Pt,t===n+1)}var a}function O(){var r=e.index;return r===t||p.cloneStatus&&r===n}var D={index:t,slideIndex:n,slide:r,container:S,isClone:x,mount:function(){x||(r.id=f.id+"-slide"+pe(t+1),j(r,Je,y?"tabpanel":"group"),j(r,lt,v.slide),j(r,it,k||fe(v.slideLabel,[t+1,e.length]))),d(r,"click",u(c,ke,D)),d(r,"keydown",u(c,je,D)),l([we,ze,Le],A),l(Re,E),g&&l(be,T)},destroy:function(){i=!0,a.destroy(),J(r,Ft),F(r,ht),j(r,"style",w),j(r,it,k||"")},update:A,style:function(e,t,n){H(n&&S||r,e,t)},isWithin:function(n,r){var i=le(n-t);return x||!p.rewind&&!e.is(Wt)||(i=ie(i,e.length-i)),i<=r}};return D}var Zt="http://www.w3.org/2000/svg",Yt="m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z";var Gt=ne+"-interval";var Kt={passive:!1,capture:!0};var Xt={Spacebar:" ",Right:Ve,Left:qe,Up:Ze,Down:Ye};function Jt(e){return e=y(e)?e:e.key,Xt[e]||e}var Qt="keydown";var en=ne+"-lazy",tn=en+"-srcset",nn="["+en+"], ["+tn+"]";var rn=[" ","Enter"];var on=Object.freeze({__proto__:null,Media:function(e,t,n){var r=e.state,o=n.breakpoints||{},s=n.reducedMotion||{},a=ve(),l=[];function c(e){e&&a.destroy()}function u(e,t){var n=matchMedia(t);a.bind(n,"change",d),l.push([e,n])}function d(){var t=r.is(7),i=n.direction,o=l.reduce((function(e,t){return N(e,t[1].matches?t[0]:{})}),{});B(n),h(o),n.destroy?e.destroy("completely"===n.destroy):t?(c(!0),e.mount()):i!==n.direction&&e.refresh()}function h(t,i,o){N(n,t),i&&N(Object.getPrototypeOf(n),t),!o&&r.is(1)||e.emit(Ae,n)}return{setup:function(){var e="min"===n.mediaQuery;P(o).sort((function(t,n){return e?+t-+n:+n-+t})).forEach((function(t){u(o[t],"("+(e?"min":"max")+"-width:"+t+"px)")})),u(s,i),d()},destroy:c,reduce:function(e){matchMedia(i).matches&&(e?N(n,s):B(n,P(s)))},set:h}},Direction:Xe,Elements:function(e,t,n){var r,i,o,s=$e(e),a=s.on,c=s.bind,u=e.root,d=n.i18n,h={},f=[],p=[],m=[];function g(){r=b("."+gt),i=L(r,"."+vt),re(r&&i,"A track/list element is missing."),E(f,M(i,"."+yt+":not(."+_t+")")),I({arrows:wt,pagination:Et,prev:xt,next:St,bar:Tt,toggle:At},(function(e,t){h[t]=b("."+e)})),R(h,{root:u,track:r,list:i,slides:f}),function(){var e=u.id||ge(te),t=n.role;u.id=e,r.id=r.id||e+"-track",i.id=i.id||e+"-list",!W(u,Je)&&"SECTION"!==u.tagName&&t&&j(u,Je,t);j(u,lt,d.carousel),j(i,Je,"presentation")}(),_()}function y(e){var t=ht.concat("style");l(f),J(u,p),J(r,m),F([r,i],t),F(u,e?t:["style",lt])}function _(){J(u,p),J(r,m),p=w(mt),m=w(gt),T(u,p),T(r,m),j(u,it,n.label),j(u,ot,n.labelledby)}function b(e){var t=K(u,e);return t&&function(e,t){if(v(e.closest))return e.closest(t);for(var n=e;n&&1===n.nodeType&&!D(n,t);)n=n.parentElement;return n}(t,"."+mt)===u?t:void 0}function w(e){return[e+"--"+n.type,e+"--"+n.direction,n.drag&&e+"--draggable",n.isNavigation&&e+"--nav",e===mt&&Mt]}return R(h,{setup:g,mount:function(){a(Te,y),a(Te,g),a(Ae,_),c(document,zt+" keydown",(function(e){o="keydown"===e.type}),{capture:!0}),c(u,"focusin",(function(){C(u,Nt,!!o)}))},destroy:y})},Slides:function(e,t,n){var r=$e(e),i=r.on,o=r.emit,s=r.bind,a=t.Elements,c=a.slides,d=a.list,h=[];function f(){c.forEach((function(e,t){m(e,t,-1)}))}function p(){_((function(e){e.destroy()})),l(h)}function m(t,n,r){var i=Vt(e,n,r,t);i.mount(),h.push(i),h.sort((function(e,t){return e.index-t.index}))}function g(e){return e?b((function(e){return!e.isClone})):h}function _(e,t){g(t).forEach(e)}function b(e){return h.filter(v(e)?e:function(t){return y(e)?D(t.slide,e):S(k(e),t.index)})}return{mount:function(){f(),i(Te,p),i(Te,f)},destroy:p,update:function(){_((function(e){e.update()}))},register:m,get:g,getIn:function(e){var r=t.Controller,i=r.toIndex(e),o=r.hasFocus()?1:n.perPage;return b((function(e){return ue(e.index,i,i+o-1)}))},getAt:function(e){return b(e)[0]},add:function(e,t){x(e,(function(e){if(y(e)&&(e=Y(e)),w(e)){var r=c[t];r?O(e,r):A(d,e),T(e,n.classes.slide),i=e,a=u(o,Oe),l=X(i,"img"),(h=l.length)?l.forEach((function(e){s(e,"load error",(function(){--h||a()}))})):a()}var i,a,l,h})),o(Te)},remove:function(e){Z(b(e).map((function(e){return e.slide}))),o(Te)},forEach:_,filter:b,style:function(e,t,n){_((function(r){r.style(e,t,n)}))},getLength:function(e){return e?c.length:h.length},isEnough:function(){return h.length>n.perPage}}},Layout:function(e,t,n){var r,i,o,s=$e(e),a=s.on,l=s.bind,c=s.emit,d=t.Slides,h=t.Direction.resolve,f=t.Elements,p=f.root,g=f.track,v=f.list,y=d.getAt,_=d.style;function b(){r=n.direction===Ge,H(p,"maxWidth",ee(n.width)),H(g,h("paddingLeft"),k(!1)),H(g,h("paddingRight"),k(!0)),w(!0)}function w(e){var t=V(p);(e||i.width!==t.width||i.height!==t.height)&&(H(g,"height",function(){var e="";r&&(re(e=x(),"height or heightRatio is missing."),e="calc("+e+" - "+k(!1)+" - "+k(!0)+")");return e}()),_(h("marginRight"),ee(n.gap)),_("width",n.autoWidth?null:ee(n.fixedWidth)||(r?"":S())),_("height",ee(n.fixedHeight)||(r?n.autoHeight?null:S():x()),!0),i=t,c(De),o!==(o=M())&&(C(p,Bt,o),c("overflow",o)))}function k(e){var t=n.padding,r=h(e?"right":"left");return t&&ee(t[r]||(m(t)?0:t))||"0px"}function x(){return ee(n.height||V(v).width*n.heightRatio)}function S(){var e=ee(n.gap);return"calc((100%"+(e&&" + "+e)+")/"+(n.perPage||1)+(e&&" - "+e)+")"}function E(){return V(v)[h("width")]}function T(e,t){var n=y(e||0);return n?V(n.slide)[h("width")]+(t?0:D()):0}function A(e,t){var n=y(e);if(n){var r=V(n.slide)[h("right")],i=V(v)[h("left")];return le(r-i)+(t?0:D())}return 0}function O(t){return A(e.length-1)-A(0)+T(0,t)}function D(){var e=y(0);return e&&parseFloat(H(e.slide,h("marginRight")))||0}function M(){return e.is(qt)||O(!0)>E()}return{mount:function(){var e,t,n;b(),l(window,"resize load",(e=u(c,Oe),n=Ue(t||0,e,null,1),function(){n.isPaused()&&n.start()})),a([Ae,Te],b),a(Oe,w)},resize:w,listSize:E,slideSize:T,sliderSize:O,totalSize:A,getPadding:function(e){return parseFloat(H(g,h("padding"+(e?"Right":"Left"))))||0},isOverflow:M}},Clones:function(e,t,n){var r,i=$e(e),o=i.on,s=t.Elements,a=t.Slides,c=t.Direction.resolve,u=[];function d(){o(Te,h),o([Ae,Oe],p),(r=m())&&(!function(t){var r=a.get().slice(),i=r.length;if(i){for(;r.length<t;)E(r,r);E(r.slice(-t),r.slice(0,t)).forEach((function(o,l){var c=l<t,d=function(t,r){var i=t.cloneNode(!0);return T(i,n.classes.clone),i.id=e.root.id+"-clone"+pe(r+1),i}(o.slide,l);c?O(d,r[0].slide):A(s.list,d),E(u,d),a.register(d,l-t+(c?0:i),o.index)}))}}(r),t.Layout.resize(!0))}function h(){f(),d()}function f(){Z(u),l(u),i.destroy()}function p(){var e=m();r!==e&&(r<e||!e)&&i.emit(Te)}function m(){var r=n.clones;if(e.is(Wt)){if(_(r)){var i=n[c("fixedWidth")]&&t.Layout.slideSize(0);r=i&&ae(V(s.track)[c("width")]/i)||n[c("autoWidth")]&&e.length||2*n.perPage}}else r=0;return r}return{mount:d,destroy:f}},Move:function(e,t,n){var r,i=$e(e),s=i.on,a=i.emit,l=e.state.set,c=t.Layout,u=c.slideSize,d=c.getPadding,h=c.totalSize,f=c.listSize,p=c.sliderSize,m=t.Direction,g=m.resolve,v=m.orient,y=t.Elements,b=y.list,w=y.track;function k(){t.Controller.isBusy()||(t.Scroll.cancel(),x(e.index),t.Slides.update())}function x(e){S(A(e,!0))}function S(n,r){if(!e.is(qt)){var i=r?n:function(n){if(e.is(Wt)){var r=T(n),i=r>t.Controller.getEnd();(r<0||i)&&(n=E(n,i))}return n}(n);H(b,"transform","translate"+g("X")+"("+i+"px)"),n!==i&&a(ze)}}function E(e,t){var n=e-D(t),r=p();return e-=v(r*(ae(le(n)/r)||1))*(t?1:-1)}function C(){S(O(),!0),r.cancel()}function T(e){for(var n=t.Slides.get(),r=0,i=1/0,o=0;o<n.length;o++){var s=n[o].index,a=le(A(s,!0)-e);if(!(a<=i))break;i=a,r=s}return r}function A(t,r){var i=v(h(t-1)-function(e){var t=n.focus;return"center"===t?(f()-u(e,!0))/2:+t*u(e)||0}(t));return r?function(t){n.trimSpace&&e.is(Ut)&&(t=de(t,0,v(p(!0)-f())));return t}(i):i}function O(){var e=g("left");return V(b)[e]-V(w)[e]+v(d(!1))}function D(e){return A(e?t.Controller.getEnd():0,!!n.trimSpace)}return{mount:function(){r=t.Transition,s([ye,De,Ae,Te],k)},move:function(e,t,n,i){var s,c;e!==t&&(s=e>n,c=v(E(O(),s)),s?c>=0:c<=b[g("scrollWidth")]-V(w)[g("width")])&&(C(),S(E(O(),e>n),!0)),l(o),a(be,t,n,e),r.start(t,(function(){l(3),a(we,t,n,e),i&&i()}))},jump:x,translate:S,shift:E,cancel:C,toIndex:T,toPosition:A,getPosition:O,getLimit:D,exceededLimit:function(e,t){t=_(t)?O():t;var n=!0!==e&&v(t)<v(D(!1)),r=!1!==e&&v(t)>v(D(!0));return n||r},reposition:k}},Controller:function(e,t,n){var r,i,a,l,c=$e(e),d=c.on,h=c.emit,f=t.Move,p=f.getPosition,m=f.getLimit,g=f.toPosition,v=t.Slides,b=v.isEnough,w=v.getLength,k=n.omitEnd,x=e.is(Wt),S=e.is(Ut),E=u(M,!1),C=u(M,!0),T=n.start||0,A=T;function O(){i=w(!0),a=n.perMove,l=n.perPage,r=I();var e=de(T,0,k?r:i-1);e!==T&&(T=e,f.reposition())}function D(){r!==I()&&h(He)}function M(e,t){var n=a||(F()?1:l),i=L(T+n*(e?-1:1),T,!(a||F()));return-1===i&&S&&!ce(p(),m(!e),1)?e?0:r:t?i:P(i)}function L(t,o,s){if(b()||F()){var c=function(t){if(S&&"move"===n.trimSpace&&t!==T)for(var r=p();r===g(t,!0)&&ue(t,0,e.length-1,!n.rewind);)t<T?--t:++t;return t}(t);c!==t&&(o=t,t=c,s=!1),t<0||t>r?t=a||!ue(0,t,o,!0)&&!ue(r,o,t,!0)?x?s?t<0?-(i%l||l):i:t:n.rewind?t<0?r:0:-1:R(N(t)):s&&t!==o&&(t=R(N(o)+(t<o?-1:1)))}else t=-1;return t}function P(e){return x?(e+i)%i||0:e}function I(){for(var e=i-(F()||x&&a?1:l);k&&e-- >0;)if(g(i-1,!0)!==g(e,!0)){e++;break}return de(e,0,i-1)}function R(e){return de(F()?e:l*e,0,r)}function N(e){return F()?ie(e,r):se((e>=r?i-1:e)/l)}function B(e){e!==T&&(A=T,T=e)}function F(){return!_(n.focus)||n.isNavigation}function j(){return e.state.is([o,s])&&!!n.waitForTransition}return{mount:function(){O(),d([Ae,Te,He],O),d(De,D)},go:function(e,t,n){if(!j()){var i=function(e){var t=T;if(y(e)){var n=e.match(/([+\-<>])(\d+)?/)||[],i=n[1],o=n[2];"+"===i||"-"===i?t=L(T+ +(""+i+(+o||1)),T):">"===i?t=o?R(+o):E(!0):"<"===i&&(t=C(!0))}else t=x?e:de(e,0,r);return t}(e),o=P(i);o>-1&&(t||o!==T)&&(B(o),f.move(i,o,A,n))}},scroll:function(e,n,i,o){t.Scroll.scroll(e,n,i,(function(){var e=P(f.toIndex(p()));B(k?ie(e,r):e),o&&o()}))},getNext:E,getPrev:C,getAdjacent:M,getEnd:I,setIndex:B,getIndex:function(e){return e?A:T},toIndex:R,toPage:N,toDest:function(e){var t=f.toIndex(e);return S?de(t,0,r):t},hasFocus:F,isBusy:j}},Arrows:function(e,t,n){var r,i,o=$e(e),s=o.on,a=o.bind,l=o.emit,c=n.classes,d=n.i18n,h=t.Elements,f=t.Controller,p=h.arrows,m=h.track,g=p,v=h.prev,y=h.next,_={};function b(){!function(){var e=n.arrows;!e||v&&y||(g=p||z("div",c.arrows),v=S(!0),y=S(!1),r=!0,A(g,[v,y]),!p&&O(g,m));v&&y&&(R(_,{prev:v,next:y}),$(g,e?"":"none"),T(g,i=wt+"--"+n.direction),e&&(s([ye,we,Te,Le,He],E),a(y,"click",u(x,">")),a(v,"click",u(x,"<")),E(),j([v,y],tt,m.id),l(Ie,v,y)))}(),s(Ae,w)}function w(){k(),b()}function k(){o.destroy(),J(g,i),r?(Z(p?[v,y]:g),v=y=null):F([v,y],ht)}function x(e){f.go(e,!0)}function S(e){return Y('<button class="'+c.arrow+" "+(e?c.prev:c.next)+'" type="button"><svg xmlns="'+Zt+'" viewBox="0 0 '+"40 "+'40" width="'+'40" height="'+'40" focusable="false"><path d="'+(n.arrowPath||Yt)+'" />')}function E(){if(v&&y){var t=e.index,n=f.getPrev(),r=f.getNext(),i=n>-1&&t<n?d.last:d.prev,o=r>-1&&t>r?d.first:d.next;v.disabled=n<0,y.disabled=r<0,j(v,it,i),j(y,it,o),l("arrows:updated",v,y,n,r)}}return{arrows:_,mount:b,destroy:k,update:E}},Autoplay:function(e,t,n){var r,i,o=$e(e),s=o.on,a=o.bind,l=o.emit,c=Ue(n.interval,e.go.bind(e,">"),(function(e){var t=d.bar;t&&H(t,"width",100*e+"%"),l("autoplay:playing",e)})),u=c.isPaused,d=t.Elements,h=t.Elements,f=h.root,p=h.toggle,m=n.autoplay,g="pause"===m;function v(){u()&&t.Slides.isEnough()&&(c.start(!n.resetProgress),i=r=g=!1,b(),l(Ne))}function y(e){void 0===e&&(e=!0),g=!!e,b(),u()||(c.pause(),l(Be))}function _(){g||(r||i?y(!1):v())}function b(){p&&(C(p,Mt,!g),j(p,it,n.i18n[g?"play":"pause"]))}function w(e){var r=t.Slides.getAt(e);c.set(r&&+W(r.slide,Gt)||n.interval)}return{mount:function(){m&&(!function(){n.pauseOnHover&&a(f,"mouseenter mouseleave",(function(e){r="mouseenter"===e.type,_()}));n.pauseOnFocus&&a(f,"focusin focusout",(function(e){i="focusin"===e.type,_()}));p&&a(p,"click",(function(){g?v():y(!0)}));s([be,Me,Te],c.rewind),s(be,w)}(),p&&j(p,tt,d.track.id),g||v(),b())},destroy:c.cancel,play:v,pause:y,isPaused:u}},Cover:function(e,t,n){var r=$e(e).on;function i(e){t.Slides.forEach((function(t){var n=L(t.container||t.slide,"img");n&&n.src&&o(e,n,t)}))}function o(e,t,n){n.style("background",e?'center/cover no-repeat url("'+t.src+'")':"",!0),$(t,e?"none":"")}return{mount:function(){n.cover&&(r(Fe,u(o,!0)),r([ye,Ae,Te],u(i,!0)))},destroy:u(i,!1)}},Scroll:function(e,t,n){var r,i,o=$e(e),a=o.on,l=o.emit,c=e.state.set,d=t.Move,h=d.getPosition,f=d.getLimit,p=d.exceededLimit,m=d.translate,g=e.is(Ut),v=1;function y(e,n,o,a,f){var m=h();if(w(),o&&(!g||!p())){var y=t.Layout.sliderSize(),k=he(e)*y*se(le(e)/y)||0;e=d.toPosition(t.Controller.toDest(e%y))+k}var x=ce(m,e,1);v=1,n=x?0:n||oe(le(e-m)/1.5,800),i=a,r=Ue(n,_,u(b,m,e,f),1),c(s),l(Me),r.start()}function _(){c(3),i&&i(),l(Le)}function b(e,t,r,o){var s,a,l=h(),c=(e+(t-e)*(s=o,(a=n.easingFunc)?a(s):1-Math.pow(1-s,4))-l)*v;m(l+c),g&&!r&&p()&&(v*=.6,le(c)<10&&y(f(p(!0)),600,!1,i,!0))}function w(){r&&r.cancel()}function k(){r&&!r.isPaused()&&(w(),_())}return{mount:function(){a(be,w),a([Ae,Te],k)},destroy:w,scroll:y,cancel:k}},Drag:function(e,t,n){var r,i,a,l,c,u,d,f,p=$e(e),g=p.on,v=p.emit,y=p.bind,_=p.unbind,b=e.state,w=t.Move,k=t.Scroll,x=t.Controller,S=t.Elements.track,E=t.Media.reduce,C=t.Direction,T=C.resolve,A=C.orient,O=w.getPosition,M=w.exceededLimit,L=!1;function P(){var e=n.drag;W(!e),l="free"===e}function I(e){if(u=!1,!d){var t=U(e);r=e.target,i=n.noDrag,D(r,"."+Ct+", ."+kt)||i&&D(r,i)||!t&&e.button||(x.isBusy()?G(e,!0):(f=t?S:window,c=b.is([o,s]),a=null,y(f,Ht,R,Kt),y(f,$t,N,Kt),w.cancel(),k.cancel(),F(e)))}var r,i}function R(t){if(b.is(6)||(b.set(6),v("drag")),t.cancelable)if(c){w.translate(r+j(t)/(L&&e.is(Ut)?5:1));var i=z(t)>200,o=L!==(L=M());(i||o)&&F(t),u=!0,v("dragging"),G(t)}else(function(e){return le(j(e))>le(j(e,!0))})(t)&&(c=function(e){var t=n.dragMinThreshold,r=m(t),i=r&&t.mouse||0,o=(r?t.touch:+t)||10;return le(j(e))>(U(e)?o:i)}(t),G(t))}function N(r){b.is(6)&&(b.set(3),v("dragged")),c&&(!function(r){var i=function(t){if(e.is(Wt)||!L){var n=z(t);if(n&&n<200)return j(t)/n}return 0}(r),o=function(e){return O()+he(e)*ie(le(e)*(n.flickPower||600),l?1/0:t.Layout.listSize()*(n.flickMaxPages||1))}(i),s=n.rewind&&n.rewindByDrag;E(!1),l?x.scroll(o,0,n.snap):e.is(qt)?x.go(A(he(i))<0?s?"<":"-":s?">":"+"):e.is(Ut)&&L&&s?x.go(M(!0)?">":"<"):x.go(x.toDest(o),!0);E(!0)}(r),G(r)),_(f,Ht,R),_(f,$t,N),c=!1}function B(e){!d&&u&&G(e,!0)}function F(e){a=i,i=e,r=O()}function j(e,t){return $(e,t)-$(H(e),t)}function z(e){return Q(e)-Q(H(e))}function H(e){return i===e&&a||i}function $(e,t){return(U(e)?e.changedTouches[0]:e)["page"+T(t?"Y":"X")]}function U(e){return"undefined"!=typeof TouchEvent&&e instanceof TouchEvent}function W(e){d=e}return{mount:function(){y(S,Ht,h,Kt),y(S,$t,h,Kt),y(S,zt,I,Kt),y(S,"click",B,{capture:!0}),y(S,"dragstart",G),g([ye,Ae],P)},disable:W,isDragging:function(){return c}}},Keyboard:function(e,t,n){var r,i,o=$e(e),s=o.on,a=o.bind,l=o.unbind,c=e.root,u=t.Direction.resolve;function h(){var e=n.keyboard;e&&(r="global"===e?window:c,a(r,Qt,m))}function f(){l(r,Qt)}function p(){var e=i;i=!0,d((function(){i=e}))}function m(t){if(!i){var n=Jt(t);n===u(qe)?e.go("<"):n===u(Ve)&&e.go(">")}}return{mount:function(){h(),s(Ae,f),s(Ae,h),s(be,p)},destroy:f,disable:function(e){i=e}}},LazyLoad:function(e,t,n){var r=$e(e),i=r.on,o=r.off,s=r.bind,a=r.emit,c="sequential"===n.lazyLoad,d=[we,Le],h=[];function f(){l(h),t.Slides.forEach((function(e){X(e.slide,nn).forEach((function(t){var r=W(t,en),i=W(t,tn);if(r!==t.src||i!==t.srcset){var o=n.classes.spinner,s=t.parentElement,a=L(s,"."+o)||z("span",o,s);h.push([t,e,a]),t.src||$(t,"none")}}))})),c?v():(o(d),i(d,p),p())}function p(){(h=h.filter((function(t){var r=n.perPage*((n.preloadPages||1)+1)-1;return!t[1].isWithin(e.index,r)||m(t)}))).length||o(d)}function m(e){var t=e[0];T(e[1].slide,Rt),s(t,"load error",u(g,e)),j(t,"src",W(t,en)),j(t,"srcset",W(t,tn)),F(t,en),F(t,tn)}function g(e,t){var n=e[0],r=e[1];J(r.slide,Rt),"error"!==t.type&&(Z(e[2]),$(n,""),a(Fe,n,r),a(Oe)),c&&v()}function v(){h.length&&m(h.shift())}return{mount:function(){n.lazyLoad&&(f(),i(Te,f))},destroy:u(l,h),check:p}},Pagination:function(e,t,n){var r,i,o=$e(e),s=o.on,a=o.emit,d=o.bind,h=t.Slides,f=t.Elements,p=t.Controller,m=p.hasFocus,g=p.getIndex,v=p.go,y=t.Direction.resolve,_=f.pagination,b=[];function w(){r&&(Z(_?c(r.children):r),J(r,i),l(b),r=null),o.destroy()}function k(e){v(">"+e,!0)}function x(e,t){var n=b.length,r=Jt(t),i=S(),o=-1;r===y(Ve,!1,i)?o=++e%n:r===y(qe,!1,i)?o=(--e+n)%n:"Home"===r?o=0:"End"===r&&(o=n-1);var s=b[o];s&&(U(s.button),v(">"+o),G(t,!0))}function S(){return n.paginationDirection||n.direction}function E(e){return b[p.toPage(e)]}function C(){var e=E(g(!0)),t=E(g());if(e){var n=e.button;J(n,Mt),F(n,rt),j(n,Qe,-1)}if(t){var i=t.button;T(i,Mt),j(i,rt,!0),j(i,Qe,"")}a("pagination:updated",{list:r,items:b},e,t)}return{items:b,mount:function t(){w(),s([Ae,Te,He],t);var o=n.pagination;_&&$(_,o?"":"none"),o&&(s([be,Me,Le],C),function(){var t=e.length,o=n.classes,s=n.i18n,a=n.perPage,l=m()?p.getEnd()+1:ae(t/a);T(r=_||z("ul",o.pagination,f.track.parentElement),i=Et+"--"+S()),j(r,Je,"tablist"),j(r,it,s.select),j(r,at,S()===Ge?"vertical":"");for(var c=0;c<l;c++){var g=z("li",null,r),v=z("button",{class:o.page,type:"button"},g),y=h.getIn(c).map((function(e){return e.slide.id})),w=!m()&&a>1?s.pageX:s.slideX;d(v,"click",u(k,c)),n.paginationKeyboard&&d(v,"keydown",u(x,c)),j(g,Je,"presentation"),j(v,Je,"tab"),j(v,tt,y.join(" ")),j(v,it,fe(w,c+1)),j(v,Qe,-1),b.push({li:g,button:v,page:c})}}(),C(),a("pagination:mounted",{list:r,items:b},E(e.index)))},destroy:w,getAt:E,update:C}},Sync:function(e,t,n){var r=n.isNavigation,i=n.slideFocus,o=[];function s(){var t,n;e.splides.forEach((function(t){t.isParent||(c(e,t.splide),c(t.splide,e))})),r&&(t=$e(e),(n=t.on)(ke,h),n(je,f),n([ye,Ae],d),o.push(t),t.emit(Re,e.splides))}function a(){o.forEach((function(e){e.destroy()})),l(o)}function c(e,t){var n=$e(e);n.on(be,(function(e,n,r){t.go(t.is(Wt)?r:e)})),o.push(n)}function d(){j(t.Elements.list,at,n.direction===Ge?"vertical":"")}function h(t){e.go(t.index)}function f(e,t){S(rn,Jt(t))&&(h(e),G(t))}return{setup:u(t.Media.set,{slideFocus:_(i)?r:i},!0),mount:s,destroy:a,remount:function(){a(),s()}}},Wheel:function(e,t,n){var r=$e(e).bind,i=0;function s(r){if(r.cancelable){var s=r.deltaY,a=s<0,l=Q(r),c=n.wheelMinThreshold||0,u=n.wheelSleep||0;le(s)>c&&l-i>u&&(e.go(a?"<":">"),i=l),function(r){return!n.releaseWheel||e.state.is(o)||-1!==t.Controller.getAdjacent(r)}(a)&&G(r)}}return{mount:function(){n.wheel&&r(t.Elements.track,"wheel",s,Kt)}}},Live:function(e,t,n){var r=$e(e).on,i=t.Elements.track,o=n.live&&!n.isNavigation,s=z("span",Ot),a=Ue(90,u(l,!1));function l(e){j(i,ut,e),e?(A(i,s),a.start()):(Z(s),a.cancel())}function c(e){o&&j(i,ct,e?"off":"polite")}return{mount:function(){o&&(c(!t.Autoplay.isPaused()),j(i,dt,!0),s.textContent="…",r(Ne,u(c,!0)),r(Be,u(c,!1)),r([we,Le],u(l,!0)))},disable:c,destroy:function(){F(i,[ct,dt,ut]),Z(s)}}}}),sn={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:jt,i18n:{prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function an(e,t,n){var r=t.Slides;function i(){r.forEach((function(e){e.style("transform","translateX(-"+100*e.index+"%)")}))}return{mount:function(){$e(e).on([ye,Te],i)},start:function(e,t){r.style("transition","opacity "+n.speed+"ms "+n.easing),d(t)},cancel:h}}function ln(e,t,n){var r,i=t.Move,o=t.Controller,s=t.Scroll,a=t.Elements.list,l=u(H,a,"transition");function c(){l(""),s.cancel()}return{mount:function(){$e(e).bind(a,"transitionend",(function(e){e.target===a&&r&&(c(),r())}))},start:function(t,a){var c=i.toPosition(t,!0),u=i.getPosition(),d=function(t){var r=n.rewindSpeed;if(e.is(Ut)&&r){var i=o.getIndex(!0),s=o.getEnd();if(0===i&&t>=s||i>=s&&0===t)return r}return n.speed}(t);le(c-u)>=1&&d>=1?n.useScroll?s.scroll(c,d,!1,a):(l("transform "+d+"ms "+n.easing),i.translate(c,!0),r=a):(i.jump(t),a())},cancel:c}}var cn=function(){function e(t,n){var r;this.event=$e(),this.Components={},this.state=(r=1,{set:function(e){r=e},is:function(e){return S(k(e),r)}}),this.splides=[],this._o={},this._E={};var i=y(t)?K(document,t):t;re(i,i+" is invalid."),this.root=i,n=N({label:W(i,it)||"",labelledby:W(i,ot)||""},sn,e.defaults,n||{});try{N(n,JSON.parse(W(i,ne)))}catch(e){re(!1,"Invalid JSON")}this._o=Object.create(N({},n))}var t,n,i,o=e.prototype;return o.mount=function(e,t){var n=this,r=this.state,i=this.Components;return re(r.is([1,7]),"Already mounted!"),r.set(1),this._C=i,this._T=t||this._T||(this.is(qt)?an:ln),this._E=e||this._E,I(R({},on,this._E,{Transition:this._T}),(function(e,t){var r=e(n,i,n._o);i[t]=r,r.setup&&r.setup()})),I(i,(function(e){e.mount&&e.mount()})),this.emit(ye),T(this.root,Dt),r.set(3),this.emit(_e),this},o.sync=function(e){return this.splides.push({splide:e}),e.splides.push({splide:this,isParent:!0}),this.state.is(3)&&(this._C.Sync.remount(),e.Components.Sync.remount()),this},o.go=function(e){return this._C.Controller.go(e),this},o.on=function(e,t){return this.event.on(e,t),this},o.off=function(e){return this.event.off(e),this},o.emit=function(e){var t;return(t=this.event).emit.apply(t,[e].concat(c(arguments,1))),this},o.add=function(e,t){return this._C.Slides.add(e,t),this},o.remove=function(e){return this._C.Slides.remove(e),this},o.is=function(e){return this._o.type===e},o.refresh=function(){return this.emit(Te),this},o.destroy=function(e){void 0===e&&(e=!0);var t=this.event,n=this.state;return n.is(1)?$e(this).on(_e,this.destroy.bind(this,e)):(I(this._C,(function(t){t.destroy&&t.destroy(e)}),!0),t.emit(Pe),t.destroy(),e&&l(this.splides),n.set(7)),this},t=e,(n=[{key:"options",get:function(){return this._o},set:function(e){this._C.Media.set(e,!0,!0)}},{key:"length",get:function(){return this._C.Slides.getLength(!0)}},{key:"index",get:function(){return this._C.Controller.getIndex()}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();cn.defaults={},cn.STATES=a},9669:(e,t,n)=>{e.exports=n(1609)},5448:(e,t,n)=>{"use strict";var r=n(4867),i=n(6026),o=n(4372),s=n(5327),a=n(4097),l=n(4109),c=n(7985),u=n(7874),d=n(2648),h=n(644),f=n(205);e.exports=function(e){return new Promise((function(t,n){var p,m=e.data,g=e.headers,v=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(m)&&r.isStandardBrowserEnv()&&delete g["Content-Type"];var _=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(b+":"+w)}var k=a(e.baseURL,e.url);function x(){if(_){var r="getAllResponseHeaders"in _?l(_.getAllResponseHeaders()):null,o={data:v&&"text"!==v&&"json"!==v?_.response:_.responseText,status:_.status,statusText:_.statusText,headers:r,config:e,request:_};i((function(e){t(e),y()}),(function(e){n(e),y()}),o),_=null}}if(_.open(e.method.toUpperCase(),s(k,e.params,e.paramsSerializer),!0),_.timeout=e.timeout,"onloadend"in _?_.onloadend=x:_.onreadystatechange=function(){_&&4===_.readyState&&(0!==_.status||_.responseURL&&0===_.responseURL.indexOf("file:"))&&setTimeout(x)},_.onabort=function(){_&&(n(new d("Request aborted",d.ECONNABORTED,e,_)),_=null)},_.onerror=function(){n(new d("Network Error",d.ERR_NETWORK,e,_,_)),_=null},_.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||u;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new d(t,r.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,e,_)),_=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||c(k))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;S&&(g[e.xsrfHeaderName]=S)}"setRequestHeader"in _&&r.forEach(g,(function(e,t){void 0===m&&"content-type"===t.toLowerCase()?delete g[t]:_.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(_.withCredentials=!!e.withCredentials),v&&"json"!==v&&(_.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&_.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&_.upload&&_.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){_&&(n(!e||e&&e.type?new h:e),_.abort(),_=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),m||(m=null);var E=f(k);E&&-1===["http","https","file"].indexOf(E)?n(new d("Unsupported protocol "+E+":",d.ERR_BAD_REQUEST,e)):_.send(m)}))}},1609:(e,t,n)=>{"use strict";var r=n(4867),i=n(1849),o=n(321),s=n(7185);var a=function e(t){var n=new o(t),a=i(o.prototype.request,n);return r.extend(a,o.prototype,n),r.extend(a,n),a.create=function(n){return e(s(t,n))},a}(n(5546));a.Axios=o,a.CanceledError=n(644),a.CancelToken=n(4972),a.isCancel=n(6502),a.VERSION=n(7288).version,a.toFormData=n(7675),a.AxiosError=n(2648),a.Cancel=a.CanceledError,a.all=function(e){return Promise.all(e)},a.spread=n(8713),a.isAxiosError=n(6268),e.exports=a,e.exports.default=a},4972:(e,t,n)=>{"use strict";var r=n(644);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},644:(e,t,n)=>{"use strict";var r=n(2648);function i(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(4867).inherits(i,r,{__CANCEL__:!0}),e.exports=i},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var r=n(4867),i=n(5327),o=n(782),s=n(3572),a=n(7185),l=n(4097),c=n(4875),u=c.validators;function d(e){this.defaults=e,this.interceptors={request:new o,response:new o}}d.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!i){var d=[s,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(l),o=Promise.resolve(t);d.length;)o=o.then(d.shift(),d.shift());return o}for(var h=t;r.length;){var f=r.shift(),p=r.shift();try{h=f(h)}catch(e){p(e);break}}try{o=s(h)}catch(e){return Promise.reject(e)}for(;l.length;)o=o.then(l.shift(),l.shift());return o},d.prototype.getUri=function(e){e=a(this.defaults,e);var t=l(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(a(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}d.prototype[e]=t(),d.prototype[e+"Form"]=t(!0)})),e.exports=d},2648:(e,t,n)=>{"use strict";var r=n(4867);function i(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=i.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){s[e]={value:e}})),Object.defineProperties(i,s),Object.defineProperty(o,"isAxiosError",{value:!0}),i.from=function(e,t,n,s,a,l){var c=Object.create(o);return r.toFlatObject(e,c,(function(e){return e!==Error.prototype})),i.call(c,e.message,t,n,s,a),c.name=e.name,l&&Object.assign(c,l),c},e.exports=i},782:(e,t,n)=>{"use strict";var r=n(4867);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},4097:(e,t,n)=>{"use strict";var r=n(1793),i=n(7303);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},3572:(e,t,n)=>{"use strict";var r=n(4867),i=n(8527),o=n(6502),s=n(5546),a=n(644);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return l(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(l(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},7185:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function s(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function l(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,i=t(e);r.isUndefined(i)&&t!==l||(n[e]=i)})),n}},6026:(e,t,n)=>{"use strict";var r=n(2648);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},8527:(e,t,n)=>{"use strict";var r=n(4867),i=n(5546);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},5546:(e,t,n)=>{"use strict";var r=n(4155),i=n(4867),o=n(6016),s=n(2648),a=n(7874),l=n(7675),c={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var d,h={transitional:a,adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==r&&"[object process]"===Object.prototype.toString.call(r))&&(d=n(5448)),d),transformRequest:[function(e,t){if(o(t,"Accept"),o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e))return e;if(i.isArrayBufferView(e))return e.buffer;if(i.isURLSearchParams(e))return u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,r=i.isObject(e),s=t&&t["Content-Type"];if((n=i.isFileList(e))||r&&"multipart/form-data"===s){var a=this.env&&this.env.FormData;return l(n?{"files[]":e}:e,a&&new a)}return r||"application/json"===s?(u(t,"application/json"),function(e,t,n){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||h.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||r&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw s.from(e,s.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(1623)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){h.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){h.headers[e]=i.merge(c)})),e.exports=h},7874:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7288:e=>{e.exports={version:"0.27.2"}},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},5327:(e,t,n)=>{"use strict";var r=n(4867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},6268:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},7985:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},6016:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},1623:e=>{e.exports=null},4109:(e,t,n)=>{"use strict";var r=n(4867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},205:e=>{"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7675:(e,t,n)=>{"use strict";var r=n(8764).lW,i=n(4867);e.exports=function(e,t){t=t||new FormData;var n=[];function o(e){return null===e?"":i.isDate(e)?e.toISOString():i.isArrayBuffer(e)||i.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):r.from(e):e}return function e(r,s){if(i.isPlainObject(r)||i.isArray(r)){if(-1!==n.indexOf(r))throw Error("Circular reference detected in "+s);n.push(r),i.forEach(r,(function(n,r){if(!i.isUndefined(n)){var a,l=s?s+"."+r:r;if(n&&!s&&"object"==typeof n)if(i.endsWith(r,"{}"))n=JSON.stringify(n);else if(i.endsWith(r,"[]")&&(a=i.toArray(n)))return void a.forEach((function(e){!i.isUndefined(e)&&t.append(l,o(e))}));e(n,l)}})),n.pop()}else t.append(s,o(r))}(e),t}},4875:(e,t,n)=>{"use strict";var r=n(7288).version,i=n(2648),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var s={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new i(o(r," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!s[r]&&(s[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),o=r.length;o-- >0;){var s=r[o],a=t[s];if(a){var l=e[s],c=void 0===l||a(l,s,e);if(!0!==c)throw new i("option "+s+" must be "+c,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+s,i.ERR_BAD_OPTION)}},validators:o}},4867:(e,t,n)=>{"use strict";var r,i=n(1849),o=Object.prototype.toString,s=(r=Object.create(null),function(e){var t=o.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function a(e){return e=e.toLowerCase(),function(t){return s(t)===e}}function l(e){return Array.isArray(e)}function c(e){return void 0===e}var u=a("ArrayBuffer");function d(e){return null!==e&&"object"==typeof e}function h(e){if("object"!==s(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var f=a("Date"),p=a("File"),m=a("Blob"),g=a("FileList");function v(e){return"[object Function]"===o.call(e)}var y=a("URLSearchParams");function _(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),l(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var b,w=(b="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return b&&e instanceof b});e.exports={isArray:l,isArrayBuffer:u,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||o.call(e)===t||v(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&u(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:d,isPlainObject:h,isUndefined:c,isDate:f,isFile:p,isBlob:m,isFunction:v,isStream:function(e){return d(e)&&v(e.pipe)},isURLSearchParams:y,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:_,merge:function e(){var t={};function n(n,r){h(t[r])&&h(n)?t[r]=e(t[r],n):h(n)?t[r]=e({},n):l(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)_(arguments[r],n);return t},extend:function(e,t,n){return _(t,(function(t,r){e[r]=n&&"function"==typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,i,o,s={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;i-- >0;)s[o=r[i]]||(t[o]=e[o],s[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:a,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:w,isFileList:g}},9742:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=a(e),s=o[0],l=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,l)),u=0,d=l>0?s-4:s;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t);1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=16383,a=0,c=r-i;a<c;a+=s)o.push(l(e,a,a+s>c?c:a+s));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},9909:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Alert:()=>J,Button:()=>ee,Carousel:()=>Le,Collapse:()=>Ve,Dropdown:()=>vt,Modal:()=>Jt,Offcanvas:()=>vn,Popover:()=>jn,ScrollSpy:()=>Kn,Tab:()=>_r,Toast:()=>Ir,Tooltip:()=>Nn});var r=n(4599),i=n(804);const o=new Map,s={set(e,t,n){o.has(e)||o.set(e,new Map);const r=o.get(e);r.has(t)||0===r.size?r.set(t,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get:(e,t)=>o.has(e)&&o.get(e).get(t)||null,remove(e,t){if(!o.has(e))return;const n=o.get(e);n.delete(t),0===n.size&&o.delete(e)}},a="transitionend",l=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,((e,t)=>`#${CSS.escape(t)}`))),e),c=e=>{e.dispatchEvent(new Event(a))},u=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),d=e=>u(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(l(e)):null,h=e=>{if(!u(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const t=e.closest("summary");if(t&&t.parentNode!==n)return!1;if(null===t)return!1}return t},f=e=>!e||e.nodeType!==Node.ELEMENT_NODE||(!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled"))),p=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?p(e.parentNode):null},m=()=>{},g=e=>{e.offsetHeight},v=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,y=[],_=()=>"rtl"===document.documentElement.dir,b=e=>{var t;t=()=>{const t=v();if(t){const n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=r,e.jQueryInterface)}},"loading"===document.readyState?(y.length||document.addEventListener("DOMContentLoaded",(()=>{for(const e of y)e()})),y.push(t)):t()},w=(e,t=[],n=e)=>"function"==typeof e?e(...t):n,k=(e,t,n=!0)=>{if(!n)return void w(e);const r=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const r=Number.parseFloat(t),i=Number.parseFloat(n);return r||i?(t=t.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(n))):0})(t)+5;let i=!1;const o=({target:n})=>{n===t&&(i=!0,t.removeEventListener(a,o),w(e))};t.addEventListener(a,o),setTimeout((()=>{i||c(t)}),r)},x=(e,t,n,r)=>{const i=e.length;let o=e.indexOf(t);return-1===o?!n&&r?e[i-1]:e[0]:(o+=n?1:-1,r&&(o=(o+i)%i),e[Math.max(0,Math.min(o,i-1))])},S=/[^.]*(?=\..*)\.|.*/,E=/\..*/,C=/::\d+$/,T={};let A=1;const O={mouseenter:"mouseover",mouseleave:"mouseout"},D=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function M(e,t){return t&&`${t}::${A++}`||e.uidEvent||A++}function L(e){const t=M(e);return e.uidEvent=t,T[t]=T[t]||{},T[t]}function P(e,t,n=null){return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===n))}function I(e,t,n){const r="string"==typeof t,i=r?n:t||n;let o=F(e);return D.has(o)||(o=e),[r,i,o]}function R(e,t,n,r,i){if("string"!=typeof t||!e)return;let[o,s,a]=I(t,n,r);if(t in O){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};s=e(s)}const l=L(e),c=l[a]||(l[a]={}),u=P(c,s,o?n:null);if(u)return void(u.oneOff=u.oneOff&&i);const d=M(s,t.replace(S,"")),h=o?function(e,t,n){return function r(i){const o=e.querySelectorAll(t);for(let{target:s}=i;s&&s!==this;s=s.parentNode)for(const a of o)if(a===s)return z(i,{delegateTarget:s}),r.oneOff&&j.off(e,i.type,t,n),n.apply(s,[i])}}(e,n,s):function(e,t){return function n(r){return z(r,{delegateTarget:e}),n.oneOff&&j.off(e,r.type,t),t.apply(e,[r])}}(e,s);h.delegationSelector=o?n:null,h.callable=s,h.oneOff=i,h.uidEvent=d,c[d]=h,e.addEventListener(a,h,o)}function N(e,t,n,r,i){const o=P(t[n],r,i);o&&(e.removeEventListener(n,o,Boolean(i)),delete t[n][o.uidEvent])}function B(e,t,n,r){const i=t[n]||{};for(const[o,s]of Object.entries(i))o.includes(r)&&N(e,t,n,s.callable,s.delegationSelector)}function F(e){return e=e.replace(E,""),O[e]||e}const j={on(e,t,n,r){R(e,t,n,r,!1)},one(e,t,n,r){R(e,t,n,r,!0)},off(e,t,n,r){if("string"!=typeof t||!e)return;const[i,o,s]=I(t,n,r),a=s!==t,l=L(e),c=l[s]||{},u=t.startsWith(".");if(void 0===o){if(u)for(const n of Object.keys(l))B(e,l,n,t.slice(1));for(const[n,r]of Object.entries(c)){const i=n.replace(C,"");a&&!t.includes(i)||N(e,l,s,r.callable,r.delegationSelector)}}else{if(!Object.keys(c).length)return;N(e,l,s,o,i?n:null)}},trigger(e,t,n){if("string"!=typeof t||!e)return null;const r=v();let i=null,o=!0,s=!0,a=!1;t!==F(t)&&r&&(i=r.Event(t,n),r(e).trigger(i),o=!i.isPropagationStopped(),s=!i.isImmediatePropagationStopped(),a=i.isDefaultPrevented());const l=z(new Event(t,{bubbles:o,cancelable:!0}),n);return a&&l.preventDefault(),s&&e.dispatchEvent(l),l.defaultPrevented&&i&&i.preventDefault(),l}};function z(e,t={}){for(const[n,r]of Object.entries(t))try{e[n]=r}catch(t){Object.defineProperty(e,n,{configurable:!0,get:()=>r})}return e}function H(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function $(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}const U={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${$(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${$(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter((e=>e.startsWith("bs")&&!e.startsWith("bsConfig")));for(const r of n){let n=r.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),t[n]=H(e.dataset[r])}return t},getDataAttribute:(e,t)=>H(e.getAttribute(`data-bs-${$(t)}`))};class W{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const n=u(t)?U.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof n?n:{},...u(t)?U.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[r,i]of Object.entries(t)){const t=e[r],o=u(t)?"element":null==(n=t)?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${o}" but expected type "${i}".`)}var n}}class q extends W{constructor(e,t){super(),(e=d(e))&&(this._element=e,this._config=this._getConfig(t),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),j.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,n=!0){k(e,t,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return s.get(d(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.2"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const V=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&"#"!==n?l(n.trim()):null}return t},Z={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter((e=>e.matches(t))),parents(e,t){const n=[];let r=e.parentNode.closest(t);for(;r;)n.push(r),r=r.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(",");return this.find(t,e).filter((e=>!f(e)&&h(e)))},getSelectorFromElement(e){const t=V(e);return t&&Z.findOne(t)?t:null},getElementFromSelector(e){const t=V(e);return t?Z.findOne(t):null},getMultipleElementsFromSelector(e){const t=V(e);return t?Z.find(t):[]}},Y=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,r=e.NAME;j.on(document,n,`[data-bs-dismiss="${r}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),f(this))return;const i=Z.getElementFromSelector(this)||this.closest(`.${r}`);e.getOrCreateInstance(i)[t]()}))},G=".bs.alert",K=`close${G}`,X=`closed${G}`;class J extends q{static get NAME(){return"alert"}close(){if(j.trigger(this._element,K).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),j.trigger(this._element,X),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=J.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}Y(J,"close"),b(J);const Q='[data-bs-toggle="button"]';class ee extends q{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each((function(){const t=ee.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}j.on(document,"click.bs.button.data-api",Q,(e=>{e.preventDefault();const t=e.target.closest(Q);ee.getOrCreateInstance(t).toggle()})),b(ee);const te=".bs.swipe",ne=`touchstart${te}`,re=`touchmove${te}`,ie=`touchend${te}`,oe=`pointerdown${te}`,se=`pointerup${te}`,ae={endCallback:null,leftCallback:null,rightCallback:null},le={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ce extends W{constructor(e,t){super(),this._element=e,e&&ce.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return ae}static get DefaultType(){return le}static get NAME(){return"swipe"}dispose(){j.off(this._element,te)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),w(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&w(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(j.on(this._element,oe,(e=>this._start(e))),j.on(this._element,se,(e=>this._end(e))),this._element.classList.add("pointer-event")):(j.on(this._element,ne,(e=>this._start(e))),j.on(this._element,re,(e=>this._move(e))),j.on(this._element,ie,(e=>this._end(e))))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ue=".bs.carousel",de=".data-api",he="next",fe="prev",pe="left",me="right",ge=`slide${ue}`,ve=`slid${ue}`,ye=`keydown${ue}`,_e=`mouseenter${ue}`,be=`mouseleave${ue}`,we=`dragstart${ue}`,ke=`load${ue}${de}`,xe=`click${ue}${de}`,Se="carousel",Ee="active",Ce=".active",Te=".carousel-item",Ae=Ce+Te,Oe={ArrowLeft:me,ArrowRight:pe},De={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Me={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Le extends q{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Z.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Se&&this.cycle()}static get Default(){return De}static get DefaultType(){return Me}static get NAME(){return"carousel"}next(){this._slide(he)}nextWhenVisible(){!document.hidden&&h(this._element)&&this.next()}prev(){this._slide(fe)}pause(){this._isSliding&&c(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?j.one(this._element,ve,(()=>this.cycle())):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void j.one(this._element,ve,(()=>this.to(e)));const n=this._getItemIndex(this._getActive());if(n===e)return;const r=e>n?he:fe;this._slide(r,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&j.on(this._element,ye,(e=>this._keydown(e))),"hover"===this._config.pause&&(j.on(this._element,_e,(()=>this.pause())),j.on(this._element,be,(()=>this._maybeEnableCycle()))),this._config.touch&&ce.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const e of Z.find(".carousel-item img",this._element))j.on(e,we,(e=>e.preventDefault()));const e={leftCallback:()=>this._slide(this._directionToOrder(pe)),rightCallback:()=>this._slide(this._directionToOrder(me)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new ce(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Oe[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Z.findOne(Ce,this._indicatorsElement);t.classList.remove(Ee),t.removeAttribute("aria-current");const n=Z.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(Ee),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const n=this._getActive(),r=e===he,i=t||x(this._getItems(),n,r,this._config.wrap);if(i===n)return;const o=this._getItemIndex(i),s=t=>j.trigger(this._element,t,{relatedTarget:i,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:o});if(s(ge).defaultPrevented)return;if(!n||!i)return;const a=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=i;const l=r?"carousel-item-start":"carousel-item-end",c=r?"carousel-item-next":"carousel-item-prev";i.classList.add(c),g(i),n.classList.add(l),i.classList.add(l);this._queueCallback((()=>{i.classList.remove(l,c),i.classList.add(Ee),n.classList.remove(Ee,c,l),this._isSliding=!1,s(ve)}),n,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Z.findOne(Ae,this._element)}_getItems(){return Z.find(Te,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return _()?e===pe?fe:he:e===pe?he:fe}_orderToDirection(e){return _()?e===fe?pe:me:e===fe?me:pe}static jQueryInterface(e){return this.each((function(){const t=Le.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)}))}}j.on(document,xe,"[data-bs-slide], [data-bs-slide-to]",(function(e){const t=Z.getElementFromSelector(this);if(!t||!t.classList.contains(Se))return;e.preventDefault();const n=Le.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");return r?(n.to(r),void n._maybeEnableCycle()):"next"===U.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())})),j.on(window,ke,(()=>{const e=Z.find('[data-bs-ride="carousel"]');for(const t of e)Le.getOrCreateInstance(t)})),b(Le);const Pe=".bs.collapse",Ie=`show${Pe}`,Re=`shown${Pe}`,Ne=`hide${Pe}`,Be=`hidden${Pe}`,Fe=`click${Pe}.data-api`,je="show",ze="collapse",He="collapsing",$e=`:scope .${ze} .${ze}`,Ue='[data-bs-toggle="collapse"]',We={parent:null,toggle:!0},qe={parent:"(null|element)",toggle:"boolean"};class Ve extends q{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const n=Z.find(Ue);for(const e of n){const t=Z.getSelectorFromElement(e),n=Z.find(t).filter((e=>e===this._element));null!==t&&n.length&&this._triggerArray.push(e)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return We}static get DefaultType(){return qe}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((e=>e!==this._element)).map((e=>Ve.getOrCreateInstance(e,{toggle:!1})))),e.length&&e[0]._isTransitioning)return;if(j.trigger(this._element,Ie).defaultPrevented)return;for(const t of e)t.hide();const t=this._getDimension();this._element.classList.remove(ze),this._element.classList.add(He),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const n=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(He),this._element.classList.add(ze,je),this._element.style[t]="",j.trigger(this._element,Re)}),this._element,!0),this._element.style[t]=`${this._element[n]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(j.trigger(this._element,Ne).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,g(this._element),this._element.classList.add(He),this._element.classList.remove(ze,je);for(const e of this._triggerArray){const t=Z.getElementFromSelector(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0;this._element.style[e]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(He),this._element.classList.add(ze),j.trigger(this._element,Be)}),this._element,!0)}_isShown(e=this._element){return e.classList.contains(je)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=d(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Ue);for(const t of e){const e=Z.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=Z.find($e,this._config.parent);return Z.find(e,this._config.parent).filter((e=>!t.includes(e)))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle("collapsed",!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){const n=Ve.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e]()}}))}}j.on(document,Fe,Ue,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const e of Z.getMultipleElementsFromSelector(this))Ve.getOrCreateInstance(e,{toggle:!1}).toggle()})),b(Ve);const Ze="dropdown",Ye=".bs.dropdown",Ge=".data-api",Ke="ArrowUp",Xe="ArrowDown",Je=`hide${Ye}`,Qe=`hidden${Ye}`,et=`show${Ye}`,tt=`shown${Ye}`,nt=`click${Ye}${Ge}`,rt=`keydown${Ye}${Ge}`,it=`keyup${Ye}${Ge}`,ot="show",st='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',at=`${st}.${ot}`,lt=".dropdown-menu",ct=_()?"top-end":"top-start",ut=_()?"top-start":"top-end",dt=_()?"bottom-end":"bottom-start",ht=_()?"bottom-start":"bottom-end",ft=_()?"left-start":"right-start",pt=_()?"right-start":"left-start",mt={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},gt={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class vt extends q{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Z.next(this._element,lt)[0]||Z.prev(this._element,lt)[0]||Z.findOne(lt,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return mt}static get DefaultType(){return gt}static get NAME(){return Ze}toggle(){return this._isShown()?this.hide():this.show()}show(){if(f(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!j.trigger(this._element,et,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))j.on(e,"mouseover",m);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ot),this._element.classList.add(ot),j.trigger(this._element,tt,e)}}hide(){if(f(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!j.trigger(this._element,Je,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))j.off(e,"mouseover",m);this._popper&&this._popper.destroy(),this._menu.classList.remove(ot),this._element.classList.remove(ot),this._element.setAttribute("aria-expanded","false"),U.removeDataAttribute(this._menu,"popper"),j.trigger(this._element,Qe,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!u(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${Ze.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===r)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:u(this._config.reference)?e=d(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=i.fi(e,this._menu,t)}_isShown(){return this._menu.classList.contains(ot)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return ft;if(e.classList.contains("dropstart"))return pt;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?ut:ct:t?ht:dt}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(U.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...w(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const n=Z.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((e=>h(e)));n.length&&x(n,t,e===Xe,!n.includes(t)).focus()}static jQueryInterface(e){return this.each((function(){const t=vt.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=Z.find(at);for(const n of t){const t=vt.getInstance(n);if(!t||!1===t._config.autoClose)continue;const r=e.composedPath(),i=r.includes(t._menu);if(r.includes(t._element)||"inside"===t._config.autoClose&&!i||"outside"===t._config.autoClose&&i)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const o={relatedTarget:t._element};"click"===e.type&&(o.clickEvent=e),t._completeHide(o)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),n="Escape"===e.key,r=[Ke,Xe].includes(e.key);if(!r&&!n)return;if(t&&!n)return;e.preventDefault();const i=this.matches(st)?this:Z.prev(this,st)[0]||Z.next(this,st)[0]||Z.findOne(st,e.delegateTarget.parentNode),o=vt.getOrCreateInstance(i);if(r)return e.stopPropagation(),o.show(),void o._selectMenuItem(e);o._isShown()&&(e.stopPropagation(),o.hide(),i.focus())}}j.on(document,rt,st,vt.dataApiKeydownHandler),j.on(document,rt,lt,vt.dataApiKeydownHandler),j.on(document,nt,vt.clearMenus),j.on(document,it,vt.clearMenus),j.on(document,nt,st,(function(e){e.preventDefault(),vt.getOrCreateInstance(this).toggle()})),b(vt);const yt="backdrop",_t="show",bt=`mousedown.bs.${yt}`,wt={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},kt={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class xt extends W{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return wt}static get DefaultType(){return kt}static get NAME(){return yt}show(e){if(!this._config.isVisible)return void w(e);this._append();const t=this._getElement();this._config.isAnimated&&g(t),t.classList.add(_t),this._emulateAnimation((()=>{w(e)}))}hide(e){this._config.isVisible?(this._getElement().classList.remove(_t),this._emulateAnimation((()=>{this.dispose(),w(e)}))):w(e)}dispose(){this._isAppended&&(j.off(this._element,bt),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=d(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),j.on(e,bt,(()=>{w(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(e){k(e,this._getElement(),this._config.isAnimated)}}const St=".bs.focustrap",Et=`focusin${St}`,Ct=`keydown.tab${St}`,Tt="backward",At={autofocus:!0,trapElement:null},Ot={autofocus:"boolean",trapElement:"element"};class Dt extends W{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return At}static get DefaultType(){return Ot}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),j.off(document,St),j.on(document,Et,(e=>this._handleFocusin(e))),j.on(document,Ct,(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,j.off(document,St))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=Z.focusableChildren(t);0===n.length?t.focus():this._lastTabNavDirection===Tt?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?Tt:"forward")}}const Mt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Lt=".sticky-top",Pt="padding-right",It="margin-right";class Rt{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Pt,(t=>t+e)),this._setElementAttributes(Mt,Pt,(t=>t+e)),this._setElementAttributes(Lt,It,(t=>t-e))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Pt),this._resetElementAttributes(Mt,Pt),this._resetElementAttributes(Lt,It)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const r=this.getWidth();this._applyManipulationCallback(e,(e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+r)return;this._saveInitialAttribute(e,t);const i=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${n(Number.parseFloat(i))}px`)}))}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&U.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,(e=>{const n=U.getDataAttribute(e,t);null!==n?(U.removeDataAttribute(e,t),e.style.setProperty(t,n)):e.style.removeProperty(t)}))}_applyManipulationCallback(e,t){if(u(e))t(e);else for(const n of Z.find(e,this._element))t(n)}}const Nt=".bs.modal",Bt=`hide${Nt}`,Ft=`hidePrevented${Nt}`,jt=`hidden${Nt}`,zt=`show${Nt}`,Ht=`shown${Nt}`,$t=`resize${Nt}`,Ut=`click.dismiss${Nt}`,Wt=`mousedown.dismiss${Nt}`,qt=`keydown.dismiss${Nt}`,Vt=`click${Nt}.data-api`,Zt="modal-open",Yt="show",Gt="modal-static",Kt={backdrop:!0,focus:!0,keyboard:!0},Xt={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Jt extends q{constructor(e,t){super(e,t),this._dialog=Z.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Rt,this._addEventListeners()}static get Default(){return Kt}static get DefaultType(){return Xt}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||this._isTransitioning)return;j.trigger(this._element,zt,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Zt),this._adjustDialog(),this._backdrop.show((()=>this._showElement(e))))}hide(){if(!this._isShown||this._isTransitioning)return;j.trigger(this._element,Bt).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Yt),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated()))}dispose(){j.off(window,Nt),j.off(this._dialog,Nt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new xt({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Dt({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Z.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),g(this._element),this._element.classList.add(Yt);this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,j.trigger(this._element,Ht,{relatedTarget:e})}),this._dialog,this._isAnimated())}_addEventListeners(){j.on(this._element,qt,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),j.on(window,$t,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),j.on(this._element,Wt,(e=>{j.one(this._element,Ut,(t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(Zt),this._resetAdjustments(),this._scrollBar.reset(),j.trigger(this._element,jt)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(j.trigger(this._element,Ft).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(Gt)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(Gt),this._queueCallback((()=>{this._element.classList.remove(Gt),this._queueCallback((()=>{this._element.style.overflowY=t}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){const e=_()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!n&&e){const e=_()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const n=Jt.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e](t)}}))}}j.on(document,Vt,'[data-bs-toggle="modal"]',(function(e){const t=Z.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),j.one(t,zt,(e=>{e.defaultPrevented||j.one(t,jt,(()=>{h(this)&&this.focus()}))}));const n=Z.findOne(".modal.show");n&&Jt.getInstance(n).hide();Jt.getOrCreateInstance(t).toggle(this)})),Y(Jt),b(Jt);const Qt=".bs.offcanvas",en=".data-api",tn=`load${Qt}${en}`,nn="show",rn="showing",on="hiding",sn=".offcanvas.show",an=`show${Qt}`,ln=`shown${Qt}`,cn=`hide${Qt}`,un=`hidePrevented${Qt}`,dn=`hidden${Qt}`,hn=`resize${Qt}`,fn=`click${Qt}${en}`,pn=`keydown.dismiss${Qt}`,mn={backdrop:!0,keyboard:!0,scroll:!1},gn={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class vn extends q{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return mn}static get DefaultType(){return gn}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown)return;if(j.trigger(this._element,an,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Rt).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(rn);this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(nn),this._element.classList.remove(rn),j.trigger(this._element,ln,{relatedTarget:e})}),this._element,!0)}hide(){if(!this._isShown)return;if(j.trigger(this._element,cn).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(on),this._backdrop.hide();this._queueCallback((()=>{this._element.classList.remove(nn,on),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Rt).reset(),j.trigger(this._element,dn)}),this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new xt({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():j.trigger(this._element,un)}:null})}_initializeFocusTrap(){return new Dt({trapElement:this._element})}_addEventListeners(){j.on(this._element,pn,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():j.trigger(this._element,un))}))}static jQueryInterface(e){return this.each((function(){const t=vn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}j.on(document,fn,'[data-bs-toggle="offcanvas"]',(function(e){const t=Z.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),f(this))return;j.one(t,dn,(()=>{h(this)&&this.focus()}));const n=Z.findOne(sn);n&&n!==t&&vn.getInstance(n).hide();vn.getOrCreateInstance(t).toggle(this)})),j.on(window,tn,(()=>{for(const e of Z.find(sn))vn.getOrCreateInstance(e).show()})),j.on(window,hn,(()=>{for(const e of Z.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&vn.getOrCreateInstance(e).hide()})),Y(vn),b(vn);const yn={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},_n=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),bn=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,wn=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?!_n.has(n)||Boolean(bn.test(e.nodeValue)):t.filter((e=>e instanceof RegExp)).some((e=>e.test(n)))};const kn={allowList:yn,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},xn={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Sn={entry:"(string|element|function|null)",selector:"(string|element)"};class En extends W{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return kn}static get DefaultType(){return xn}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((e=>this._resolvePossibleFunction(e))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[t,n]of Object.entries(this._config.content))this._setContent(e,n,t);const t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},Sn)}_setContent(e,t,n){const r=Z.findOne(n,e);r&&((t=this._resolvePossibleFunction(t))?u(t)?this._putElementInTemplate(d(t),r):this._config.html?r.innerHTML=this._maybeSanitize(t):r.textContent=t:r.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,n){if(!e.length)return e;if(n&&"function"==typeof n)return n(e);const r=(new window.DOMParser).parseFromString(e,"text/html"),i=[].concat(...r.body.querySelectorAll("*"));for(const e of i){const n=e.nodeName.toLowerCase();if(!Object.keys(t).includes(n)){e.remove();continue}const r=[].concat(...e.attributes),i=[].concat(t["*"]||[],t[n]||[]);for(const t of r)wn(t,i)||e.removeAttribute(t.nodeName)}return r.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return w(e,[this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const Cn=new Set(["sanitize","allowList","sanitizeFn"]),Tn="fade",An="show",On=".modal",Dn="hide.bs.modal",Mn="hover",Ln="focus",Pn={AUTO:"auto",TOP:"top",RIGHT:_()?"left":"right",BOTTOM:"bottom",LEFT:_()?"right":"left"},In={allowList:yn,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Rn={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Nn extends q{constructor(e,t){if(void 0===r)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return In}static get DefaultType(){return Rn}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),j.off(this._element.closest(On),Dn,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=j.trigger(this._element,this.constructor.eventName("show")),t=(p(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(n),j.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(n),n.classList.add(An),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))j.on(e,"mouseover",m);this._queueCallback((()=>{j.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(!this._isShown())return;if(j.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented)return;if(this._getTipElement().classList.remove(An),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))j.off(e,"mouseover",m);this._activeTrigger.click=!1,this._activeTrigger[Ln]=!1,this._activeTrigger[Mn]=!1,this._isHovered=null;this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),j.trigger(this._element,this.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Tn,An),t.classList.add(`bs-${this.constructor.NAME}-auto`);const n=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(Tn),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new En({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Tn)}_isShown(){return this.tip&&this.tip.classList.contains(An)}_createPopper(e){const t=w(this._config.placement,[this,e,this._element]),n=Pn[t.toUpperCase()];return i.fi(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return w(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...w(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)j.on(this._element,this.constructor.eventName("click"),this._config.selector,(e=>{this._initializeOnDelegatedTarget(e).toggle()}));else if("manual"!==t){const e=t===Mn?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),n=t===Mn?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");j.on(this._element,e,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?Ln:Mn]=!0,t._enter()})),j.on(this._element,n,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?Ln:Mn]=t._element.contains(e.relatedTarget),t._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},j.on(this._element.closest(On),Dn,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=U.getDataAttributes(this._element);for(const e of Object.keys(t))Cn.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:d(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,n]of Object.entries(this._config))this.constructor.Default[t]!==n&&(e[t]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each((function(){const t=Nn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}b(Nn);const Bn={...Nn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Fn={...Nn.DefaultType,content:"(null|string|element|function)"};class jn extends Nn{static get Default(){return Bn}static get DefaultType(){return Fn}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each((function(){const t=jn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}b(jn);const zn=".bs.scrollspy",Hn=`activate${zn}`,$n=`click${zn}`,Un=`load${zn}.data-api`,Wn="active",qn="[href]",Vn=".nav-link",Zn=`${Vn}, .nav-item > ${Vn}, .list-group-item`,Yn={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Gn={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Kn extends q{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Yn}static get DefaultType(){return Gn}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=d(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map((e=>Number.parseFloat(e)))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(j.off(this._config.target,$n),j.on(this._config.target,$n,qn,(e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const n=this._rootElement||window,r=t.offsetTop-this._element.offsetTop;if(n.scrollTo)return void n.scrollTo({top:r,behavior:"smooth"});n.scrollTop=r}})))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((e=>this._observerCallback(e)),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),n=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},r=(this._rootElement||document.documentElement).scrollTop,i=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(o));continue}const e=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&e){if(n(o),!r)return}else i||e||n(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Z.find(qn,this._config.target);for(const t of e){if(!t.hash||f(t))continue;const e=Z.findOne(decodeURI(t.hash),this._element);h(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Wn),this._activateParents(e),j.trigger(this._element,Hn,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))Z.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(Wn);else for(const t of Z.parents(e,".nav, .list-group"))for(const e of Z.prev(t,Zn))e.classList.add(Wn)}_clearActiveClass(e){e.classList.remove(Wn);const t=Z.find(`${qn}.${Wn}`,e);for(const e of t)e.classList.remove(Wn)}static jQueryInterface(e){return this.each((function(){const t=Kn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}j.on(window,Un,(()=>{for(const e of Z.find('[data-bs-spy="scroll"]'))Kn.getOrCreateInstance(e)})),b(Kn);const Xn=".bs.tab",Jn=`hide${Xn}`,Qn=`hidden${Xn}`,er=`show${Xn}`,tr=`shown${Xn}`,nr=`click${Xn}`,rr=`keydown${Xn}`,ir=`load${Xn}`,or="ArrowLeft",sr="ArrowRight",ar="ArrowUp",lr="ArrowDown",cr="Home",ur="End",dr="active",hr="fade",fr="show",pr=".dropdown-toggle",mr=`:not(${pr})`,gr='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',vr=`${`.nav-link${mr}, .list-group-item${mr}, [role="tab"]${mr}`}, ${gr}`,yr=`.${dr}[data-bs-toggle="tab"], .${dr}[data-bs-toggle="pill"], .${dr}[data-bs-toggle="list"]`;class _r extends q{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),j.on(this._element,rr,(e=>this._keydown(e))))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),n=t?j.trigger(t,Jn,{relatedTarget:e}):null;j.trigger(e,er,{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(dr),this._activate(Z.getElementFromSelector(e));this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),j.trigger(e,tr,{relatedTarget:t})):e.classList.add(fr)}),e,e.classList.contains(hr))}_deactivate(e,t){if(!e)return;e.classList.remove(dr),e.blur(),this._deactivate(Z.getElementFromSelector(e));this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),j.trigger(e,Qn,{relatedTarget:t})):e.classList.remove(fr)}),e,e.classList.contains(hr))}_keydown(e){if(![or,sr,ar,lr,cr,ur].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter((e=>!f(e)));let n;if([cr,ur].includes(e.key))n=t[e.key===cr?0:t.length-1];else{const r=[sr,lr].includes(e.key);n=x(t,e.target,r,!0)}n&&(n.focus({preventScroll:!0}),_r.getOrCreateInstance(n).show())}_getChildren(){return Z.find(vr,this._parent)}_getActiveElem(){return this._getChildren().find((e=>this._elemIsActive(e)))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const e of t)this._setInitialAttributesOnChild(e)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Z.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const n=this._getOuterElement(e);if(!n.classList.contains("dropdown"))return;const r=(e,r)=>{const i=Z.findOne(e,n);i&&i.classList.toggle(r,t)};r(pr,dr),r(".dropdown-menu",fr),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(dr)}_getInnerElement(e){return e.matches(vr)?e:Z.findOne(vr,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each((function(){const t=_r.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}j.on(document,nr,gr,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),f(this)||_r.getOrCreateInstance(this).show()})),j.on(window,ir,(()=>{for(const e of Z.find(yr))_r.getOrCreateInstance(e)})),b(_r);const br=".bs.toast",wr=`mouseover${br}`,kr=`mouseout${br}`,xr=`focusin${br}`,Sr=`focusout${br}`,Er=`hide${br}`,Cr=`hidden${br}`,Tr=`show${br}`,Ar=`shown${br}`,Or="hide",Dr="show",Mr="showing",Lr={animation:"boolean",autohide:"boolean",delay:"number"},Pr={animation:!0,autohide:!0,delay:5e3};class Ir extends q{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Pr}static get DefaultType(){return Lr}static get NAME(){return"toast"}show(){if(j.trigger(this._element,Tr).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");this._element.classList.remove(Or),g(this._element),this._element.classList.add(Dr,Mr),this._queueCallback((()=>{this._element.classList.remove(Mr),j.trigger(this._element,Ar),this._maybeScheduleHide()}),this._element,this._config.animation)}hide(){if(!this.isShown())return;if(j.trigger(this._element,Er).defaultPrevented)return;this._element.classList.add(Mr),this._queueCallback((()=>{this._element.classList.add(Or),this._element.classList.remove(Mr,Dr),j.trigger(this._element,Cr)}),this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Dr),super.dispose()}isShown(){return this._element.classList.contains(Dr)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){j.on(this._element,wr,(e=>this._onInteraction(e,!0))),j.on(this._element,kr,(e=>this._onInteraction(e,!1))),j.on(this._element,xr,(e=>this._onInteraction(e,!0))),j.on(this._element,Sr,(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=Ir.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}Y(Ir),b(Ir)},8764:(e,t,n)=>{"use strict";var r=n(9742),i=n(645),o=n(5826);function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n);e=a(e,r);var i=e.write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|f(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=a(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|f(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(r)return H(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,s=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var u=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){for(var d=!0,h=0;h<l;h++)if(c(e,o+h)!==c(t,h)){d=!1;break}if(d)return o}return-1}function _(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function b(e,t,n,r){return U(H(t,e.length-n),e,n,r)}function w(e,t,n,r){return U(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return w(e,t,n,r)}function x(e,t,n,r){return U($(t),e,n,r)}function S(e,t,n,r){return U(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(l=(15&c)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.lW=l,t.h2=50,l.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),s(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.h2;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(r,i),u=e.slice(t,n),d=0;d<a;++d)if(c[d]!==u[d]){o=c[d],s=u[d];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function D(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=z(e[o]);return i}function M(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function L(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=l.isBuffer(e)?e:H(new l(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function z(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}},1924:(e,t,n)=>{"use strict";var r=n(210),i=n(5559),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")>-1?i(n):n}},5559:(e,t,n)=>{"use strict";var r=n(8612),i=n(210),o=n(7771),s=i("%TypeError%"),a=i("%Function.prototype.apply%"),l=i("%Function.prototype.call%"),c=i("%Reflect.apply%",!0)||r.call(l,a),u=i("%Object.defineProperty%",!0),d=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){if("function"!=typeof e)throw new s("a function is required");var t=c(r,l,arguments);return o(t,1+d(0,e.length-(arguments.length-1)),!0)};var h=function(){return c(r,a,arguments)};u?u(e.exports,"apply",{value:h}):e.exports.apply=h},1807:e=>{var t=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=t},2152:function(e){var t;t=function(){return function(){var e={686:function(e,t,n){"use strict";n.d(t,{default:function(){return k}});var r=n(279),i=n.n(r),o=n(370),s=n.n(o),a=n(817),l=n.n(a);function c(e){try{return document.execCommand(e)}catch(e){return!1}}var u=function(e){var t=l()(e);return c("cut"),t},d=function(e,t){var n=function(e){var t="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;return n.style.top="".concat(r,"px"),n.setAttribute("readonly",""),n.value=e,n}(e);t.container.appendChild(n);var r=l()(n);return c("copy"),n.remove(),r},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},n="";return"string"==typeof e?n=d(e,t):e instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null==e?void 0:e.type)?n=d(e.value,t):(n=l()(e),c("copy")),n};function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.action,n=void 0===t?"copy":t,r=e.container,i=e.target,o=e.text;if("copy"!==n&&"cut"!==n)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==i){if(!i||"object"!==f(i)||1!==i.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===n&&i.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===n&&(i.hasAttribute("readonly")||i.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return o?h(o,{container:r}):i?"cut"===n?u(i):h(i,{container:r}):void 0};function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,n)}}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function b(e,t){var n="data-clipboard-".concat(e);if(t.hasAttribute(n))return t.getAttribute(n)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(o,e);var t,n,r,i=y(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=i.call(this)).resolveOptions(t),n.listenClick(e),n}return t=o,n=[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===m(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=s()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget,n=this.action(t)||"copy",r=p({action:n,container:this.container,target:this.target(t),text:this.text(t)});this.emit(r?"success":"error",{action:n,text:r,trigger:t,clearSelection:function(){t&&t.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(e){return b("action",e)}},{key:"defaultTarget",value:function(e){var t=b("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return b("text",e)}},{key:"destroy",value:function(){this.listener.destroy()}}],r=[{key:"copy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return h(e,t)}},{key:"cut",value:function(e){return u(e)}},{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}],n&&g(t.prototype,n),r&&g(t,r),o}(i()),k=w},828:function(e){if("undefined"!=typeof Element&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},438:function(e,t,n){var r=n(828);function i(e,t,n,r,i){var s=o.apply(this,arguments);return e.addEventListener(n,s,i),{destroy:function(){e.removeEventListener(n,s,i)}}}function o(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}e.exports=function(e,t,n,r,o){return"function"==typeof e.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return i(e,t,n,r,o)})))}},879:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},370:function(e,t,n){var r=n(879),i=n(438);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(r.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}(e,t,n);if(r.string(e))return function(e,t,n){return i(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817:function(e){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}},279:function(e){function t(){}t.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,s=r.length;o<s;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=t,e.exports.TinyEmitter=t}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}return n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n(686)}().default},e.exports=t()},6985:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(4015),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,'[data-simplebar]{align-content:flex-start;align-items:flex-start;flex-direction:column;flex-wrap:wrap;justify-content:flex-start;position:relative}.simplebar-wrapper{height:inherit;max-height:inherit;max-width:inherit;overflow:hidden;width:inherit}.simplebar-mask{direction:inherit;height:auto!important;overflow:hidden;width:auto!important;z-index:0}.simplebar-mask,.simplebar-offset{bottom:0;left:0;margin:0;padding:0;position:absolute;right:0;top:0}.simplebar-offset{-webkit-overflow-scrolling:touch;box-sizing:inherit!important;direction:inherit!important;resize:none!important}.simplebar-content-wrapper{-ms-overflow-style:none;box-sizing:border-box!important;direction:inherit;display:block;height:100%;max-height:100%;max-width:100%;overflow:auto;position:relative;scrollbar-width:none;width:auto}.simplebar-content-wrapper::-webkit-scrollbar,.simplebar-hide-scrollbar::-webkit-scrollbar{display:none;height:0;width:0}.simplebar-content:after,.simplebar-content:before{content:" ";display:table}.simplebar-placeholder{max-height:100%;max-width:100%;pointer-events:none;width:100%}.simplebar-height-auto-observer-wrapper{box-sizing:inherit!important;flex-basis:0;flex-grow:inherit;flex-shrink:0;float:left;height:100%;margin:0;max-height:1px;max-width:1px;overflow:hidden;padding:0;pointer-events:none;position:relative;width:100%;z-index:-1}.simplebar-height-auto-observer{box-sizing:inherit;display:block;height:1000%;left:0;min-height:1px;min-width:1px;opacity:0;top:0;width:1000%;z-index:-1}.simplebar-height-auto-observer,.simplebar-track{overflow:hidden;pointer-events:none;position:absolute}.simplebar-track{bottom:0;right:0;z-index:1}[data-simplebar].simplebar-dragging,[data-simplebar].simplebar-dragging .simplebar-content{-webkit-touch-callout:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}[data-simplebar].simplebar-dragging .simplebar-track{pointer-events:all}.simplebar-scrollbar{left:0;min-height:10px;position:absolute;right:0}.simplebar-scrollbar:before{background:#000;border-radius:7px;content:"";opacity:0;position:absolute;transition:opacity .2s linear .5s}.simplebar-scrollbar.simplebar-visible:before{opacity:.5;transition-delay:0s;transition-duration:0s}.simplebar-track.simplebar-vertical{top:0;width:11px}.simplebar-scrollbar:before{bottom:2px;left:2px;right:2px;top:2px}.simplebar-track.simplebar-horizontal{height:11px;left:0}.simplebar-track.simplebar-horizontal .simplebar-scrollbar{bottom:0;left:0;min-height:0;min-width:10px;right:auto;top:0;width:auto}[data-simplebar-direction=rtl] .simplebar-track.simplebar-vertical{left:0;right:auto}.simplebar-dummy-scrollbar-size{-ms-overflow-style:scrollbar!important;direction:rtl;height:500px;opacity:0;overflow-x:scroll;overflow-y:hidden;position:fixed;visibility:hidden;width:500px}.simplebar-dummy-scrollbar-size>div{height:200%;margin:10px 0;width:200%}.simplebar-hide-scrollbar{-ms-overflow-style:none;left:0;overflow-y:scroll;position:fixed;scrollbar-width:none;visibility:hidden}',"",{version:3,sources:["webpack://./node_modules/simplebar/dist/simplebar.css"],names:[],mappings:"AAAA,iBAKE,wBAAyB,CACzB,sBAAuB,CAJvB,qBAAsB,CACtB,cAAe,CACf,0BAA2B,CAH3B,iBAMF,CAEA,mBAGE,cAAe,CAEf,kBAAmB,CADnB,iBAAkB,CAHlB,eAAgB,CAChB,aAIF,CAEA,gBACE,iBAAkB,CAUlB,qBAAuB,CARvB,eAAgB,CAOhB,oBAAsB,CAEtB,SACF,CAEA,kCAPE,QAAS,CAFT,MAAO,CADP,QAAS,CADT,SAAU,CAFV,iBAAkB,CAOlB,OAAQ,CAFR,KAoBF,CAZA,kBAWE,gCAAiC,CATjC,4BAA8B,CAD9B,2BAA6B,CAE7B,qBASF,CAEA,2BAWE,uBAAwB,CATxB,+BAAiC,CADjC,iBAAkB,CAGlB,aAAc,CACd,WAAY,CAGZ,eAAgB,CADhB,cAAe,CAEf,aAAc,CANd,iBAAkB,CAOlB,oBAAqB,CAJrB,UAMF,CAEA,2FAEE,YAAa,CAEb,QAAS,CADT,OAEF,CAEA,mDAEE,WAAY,CACZ,aACF,CAEA,uBACE,eAAgB,CAChB,cAAe,CAEf,mBAAoB,CADpB,UAEF,CAEA,wCACE,4BAA8B,CAc9B,YAAa,CAFb,iBAAkB,CAClB,aAAc,CARd,UAAW,CAJX,WAAY,CASZ,QAAS,CAJT,cAAe,CAHf,aAAc,CAId,eAAgB,CAEhB,SAAU,CAEV,mBAAoB,CAPpB,iBAAkB,CAFlB,UAAW,CAMX,UAOF,CAEA,gCACE,kBAAmB,CACnB,aAAc,CAKd,YAAa,CADb,MAAO,CAGP,cAAe,CACf,aAAc,CAPd,SAAU,CAEV,KAAM,CAGN,WAAY,CAKZ,UACF,CAEA,iDALE,eAAgB,CAChB,mBAAoB,CARpB,iBAmBF,CAPA,iBAIE,QAAS,CADT,OAAQ,CAFR,SAMF,CAYA,2FAEE,0BAA2B,CAD3B,mBAAoB,CAEpB,wBAAyB,CAEzB,qBAAsB,CAEtB,gBACF,CAEA,qDACE,kBACF,CAEA,qBAEE,MAAO,CAEP,eAAgB,CAHhB,iBAAkB,CAElB,OAEF,CAEA,4BAGE,eAAiB,CACjB,iBAAkB,CAFlB,UAAW,CAKX,SAAU,CANV,iBAAkB,CAOlB,iCACF,CAEA,8CACE,UAAY,CACZ,mBAAoB,CACpB,sBACF,CAEA,oCACE,KAAM,CACN,UACF,CAEA,4BAEE,UAAW,CACX,QAAS,CACT,SAAU,CAHV,OAIF,CAEA,sCAEE,WAAY,CADZ,MAEF,CAEA,2DAIE,QAAS,CAFT,MAAO,CAGP,YAAa,CACb,cAAe,CALf,UAAW,CAEX,KAAM,CAIN,UACF,CAGA,mEAEE,MAAO,CADP,UAEF,CAEA,gCASE,sCAAwC,CARxC,aAAc,CAId,YAAa,CAFb,SAAU,CAKV,iBAAkB,CADlB,iBAAkB,CALlB,cAAe,CAEf,iBAAkB,CAElB,WAIF,CAEA,oCAEE,WAAY,CACZ,aAAc,CAFd,UAGF,CAEA,0BAME,uBAAwB,CAJxB,MAAO,CAEP,iBAAkB,CAHlB,cAAe,CAIf,oBAAqB,CAFrB,iBAIF",sourcesContent:["[data-simplebar] {\n  position: relative;\n  flex-direction: column;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-content: flex-start;\n  align-items: flex-start;\n}\n\n.simplebar-wrapper {\n  overflow: hidden;\n  width: inherit;\n  height: inherit;\n  max-width: inherit;\n  max-height: inherit;\n}\n\n.simplebar-mask {\n  direction: inherit;\n  position: absolute;\n  overflow: hidden;\n  padding: 0;\n  margin: 0;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  width: auto !important;\n  height: auto !important;\n  z-index: 0;\n}\n\n.simplebar-offset {\n  direction: inherit !important;\n  box-sizing: inherit !important;\n  resize: none !important;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  padding: 0;\n  margin: 0;\n  -webkit-overflow-scrolling: touch;\n}\n\n.simplebar-content-wrapper {\n  direction: inherit;\n  box-sizing: border-box !important;\n  position: relative;\n  display: block;\n  height: 100%; /* Required for horizontal native scrollbar to not appear if parent is taller than natural height */\n  width: auto;\n  max-width: 100%; /* Not required for horizontal scroll to trigger */\n  max-height: 100%; /* Needed for vertical scroll to trigger */\n  overflow: auto;\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n}\n\n.simplebar-content-wrapper::-webkit-scrollbar,\n.simplebar-hide-scrollbar::-webkit-scrollbar {\n  display: none;\n  width: 0;\n  height: 0;\n}\n\n.simplebar-content:before,\n.simplebar-content:after {\n  content: ' ';\n  display: table;\n}\n\n.simplebar-placeholder {\n  max-height: 100%;\n  max-width: 100%;\n  width: 100%;\n  pointer-events: none;\n}\n\n.simplebar-height-auto-observer-wrapper {\n  box-sizing: inherit !important;\n  height: 100%;\n  width: 100%;\n  max-width: 1px;\n  position: relative;\n  float: left;\n  max-height: 1px;\n  overflow: hidden;\n  z-index: -1;\n  padding: 0;\n  margin: 0;\n  pointer-events: none;\n  flex-grow: inherit;\n  flex-shrink: 0;\n  flex-basis: 0;\n}\n\n.simplebar-height-auto-observer {\n  box-sizing: inherit;\n  display: block;\n  opacity: 0;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 1000%;\n  width: 1000%;\n  min-height: 1px;\n  min-width: 1px;\n  overflow: hidden;\n  pointer-events: none;\n  z-index: -1;\n}\n\n.simplebar-track {\n  z-index: 1;\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  overflow: hidden;\n}\n\n[data-simplebar].simplebar-dragging {\n  pointer-events: none;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n[data-simplebar].simplebar-dragging .simplebar-content {\n  pointer-events: none;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n[data-simplebar].simplebar-dragging .simplebar-track {\n  pointer-events: all;\n}\n\n.simplebar-scrollbar {\n  position: absolute;\n  left: 0;\n  right: 0;\n  min-height: 10px;\n}\n\n.simplebar-scrollbar:before {\n  position: absolute;\n  content: '';\n  background: black;\n  border-radius: 7px;\n  left: 2px;\n  right: 2px;\n  opacity: 0;\n  transition: opacity 0.2s 0.5s linear;\n}\n\n.simplebar-scrollbar.simplebar-visible:before {\n  opacity: 0.5;\n  transition-delay: 0s;\n  transition-duration: 0s;\n}\n\n.simplebar-track.simplebar-vertical {\n  top: 0;\n  width: 11px;\n}\n\n.simplebar-scrollbar:before {\n  top: 2px;\n  bottom: 2px;\n  left: 2px;\n  right: 2px;\n}\n\n.simplebar-track.simplebar-horizontal {\n  left: 0;\n  height: 11px;\n}\n\n.simplebar-track.simplebar-horizontal .simplebar-scrollbar {\n  right: auto;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  min-height: 0;\n  min-width: 10px;\n  width: auto;\n}\n\n/* Rtl support */\n[data-simplebar-direction='rtl'] .simplebar-track.simplebar-vertical {\n  right: auto;\n  left: 0;\n}\n\n.simplebar-dummy-scrollbar-size {\n  direction: rtl;\n  position: fixed;\n  opacity: 0;\n  visibility: hidden;\n  height: 500px;\n  width: 500px;\n  overflow-y: hidden;\n  overflow-x: scroll;\n  -ms-overflow-style: scrollbar !important;\n}\n\n.simplebar-dummy-scrollbar-size > div {\n  width: 200%;\n  height: 200%;\n  margin: 10px 0;\n}\n\n.simplebar-hide-scrollbar {\n  position: fixed;\n  left: 0;\n  visibility: hidden;\n  overflow-y: scroll;\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n}\n"],sourceRoot:""}]);const a=s},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);r&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},4015:e=>{"use strict";function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){var n=t(e,4),r=n[1],i=n[3];if(!i)return r;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),a="/*# ".concat(s," */"),l=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[r].concat(l).concat([a]).join("\n")}return[r].join("\n")}},2296:(e,t,n)=>{"use strict";var r=n(1044)(),i=n(210),o=r&&i("%Object.defineProperty%",!0);if(o)try{o({},"a",{value:1})}catch(e){o=!1}var s=i("%SyntaxError%"),a=i("%TypeError%"),l=n(7296);e.exports=function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new a("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],d=!!l&&l(e,t);if(o)o(e,t,{configurable:null===c&&d?d.configurable:!c,enumerable:null===r&&d?d.enumerable:!r,value:n,writable:null===i&&d?d.writable:!i});else{if(!u&&(r||i||c))throw new s("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}}},7648:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n};e.exports=function(e){var i=this;if("function"!=typeof i||"[object Function]"!==t.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,s=function(e,t){for(var n=[],r=t||0,i=0;r<e.length;r+=1,i+=1)n[i]=e[r];return n}(arguments,1),a=n(0,i.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=i.apply(this,r(s,arguments));return Object(t)===t?t:this}return i.apply(e,r(s,arguments))})),i.prototype){var u=function(){};u.prototype=i.prototype,o.prototype=new u,u.prototype=null}return o}},8612:(e,t,n)=>{"use strict";var r=n(7648);e.exports=Function.prototype.bind||r},210:(e,t,n)=>{"use strict";var r,i=SyntaxError,o=Function,s=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new s},u=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,d=n(1405)(),h=n(8185)(),f=Object.getPrototypeOf||(h?function(e){return e.__proto__}:null),p={},m="undefined"!=typeof Uint8Array&&f?f(Uint8Array):r,g={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":d&&f?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&f?f(f([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d&&f?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d&&f?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&f?f(""[Symbol.iterator]()):r,"%Symbol%":d?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":u,"%TypedArray%":m,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(f)try{null.error}catch(e){var v=f(f(e));g["%Error.prototype%"]=v}var y=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&f&&(n=f(i.prototype))}return g[t]=n,n},_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=n(8612),w=n(8824),k=b.call(Function.call,Array.prototype.concat),x=b.call(Function.apply,Array.prototype.splice),S=b.call(Function.call,String.prototype.replace),E=b.call(Function.call,String.prototype.slice),C=b.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,O=function(e,t){var n,r=e;if(w(_,r)&&(r="%"+(n=_[r])[0]+"%"),w(g,r)){var o=g[r];if(o===p&&(o=y(r)),void 0===o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===C(/^%?[^%]*%?$/,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=E(e,0,1),n=E(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return S(e,T,(function(e,t,n,i){r[r.length]=n?S(i,A,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",o=O("%"+r+"%",t),a=o.name,c=o.value,u=!1,d=o.alias;d&&(r=d[0],x(n,k([0,1],d)));for(var h=1,f=!0;h<n.length;h+=1){var p=n[h],m=E(p,0,1),v=E(p,-1);if(('"'===m||"'"===m||"`"===m||'"'===v||"'"===v||"`"===v)&&m!==v)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&f||(u=!0),w(g,a="%"+(r+="."+p)+"%"))c=g[a];else if(null!=c){if(!(p in c)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&h+1>=n.length){var y=l(c,p);c=(f=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[p]}else f=w(c,p),c=c[p];f&&!u&&(g[a]=c)}}return c}},7296:(e,t,n)=>{"use strict";var r=n(210)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},1044:(e,t,n)=>{"use strict";var r=n(210)("%Object.defineProperty%",!0),i=function(){if(r)try{return r({},"a",{value:1}),!0}catch(e){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},8185:e=>{"use strict";var t={foo:{}},n=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof n)}},1405:(e,t,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(5419);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},5419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},8824:(e,t,n)=>{"use strict";var r=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=n(8612);e.exports=o.call(r,i)},645:(e,t)=>{t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?i-1:0,h=n?-1:1,f=e[t+d];for(d+=h,o=f&(1<<-u)-1,f>>=-u,u+=a;u>0;o=256*o+e[t+d],d+=h,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=c}return(f?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(t*l-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+f]=255&s,f+=p,s/=256,c-=8);e[n+f-p]|=128*m}},5382:function(e){"undefined"!=typeof self&&self,e.exports=function(){"use strict";var e={8741:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=n},3976:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(2839),i={_maxTestPos:500,placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:function(){},onincomplete:function(){},oncleared:function(){},repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,insertModeVisual:!0,clearIncomplete:!1,alias:null,onKeyDown:function(){},onBeforeMask:null,onBeforePaste:function(e,t){return"function"==typeof t.onBeforeMask?t.onBeforeMask.call(this,e,t):e},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:function(){},skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],ignorables:[r.keys.Backspace,r.keys.Tab,r.keys.Pause,r.keys.Escape,r.keys.PageUp,r.keys.PageDown,r.keys.End,r.keys.Home,r.keys.ArrowLeft,r.keys.ArrowUp,r.keys.ArrowRight,r.keys.ArrowDown,r.keys.Insert,r.keys.Delete,r.keys.ContextMenu,r.keys.F1,r.keys.F2,r.keys.F3,r.keys.F4,r.keys.F5,r.keys.F6,r.keys.F7,r.keys.F8,r.keys.F9,r.keys.F10,r.keys.F11,r.keys.F12,r.keys.Process,r.keys.Unidentified,r.keys.Shift,r.keys.Control,r.keys.Alt,r.keys.Tab,r.keys.AltGraph,r.keys.CapsLock],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"text",importDataAttributes:!0,shiftPositions:!0,usePrototypeDefinitions:!0,validationEventTimeOut:3e3,substitutes:{}};t.default=i},7392:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={9:{validator:"[0-9０-９]",definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",definitionSymbol:"*"},"*":{validator:"[0-9０-９A-Za-zА-яЁёÀ-ÿµ]"}}},253:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(void 0===n)return e.__data?e.__data[t]:null;e.__data=e.__data||{},e.__data[t]=n}},3776:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0,t.off=function(e,t){var n,r;return d(this[0])&&e&&(n=this[0].eventRegistry,r=this[0],e.split(" ").forEach((function(e){var i=l(e.split("."),2);(function(e,r){var i,o,s=[];if(e.length>0)if(void 0===t)for(i=0,o=n[e][r].length;i<o;i++)s.push({ev:e,namespace:r&&r.length>0?r:"global",handler:n[e][r][i]});else s.push({ev:e,namespace:r&&r.length>0?r:"global",handler:t});else if(r.length>0)for(var a in n)for(var l in n[a])if(l===r)if(void 0===t)for(i=0,o=n[a][l].length;i<o;i++)s.push({ev:a,namespace:l,handler:n[a][l][i]});else s.push({ev:a,namespace:l,handler:t});return s})(i[0],i[1]).forEach((function(e){var t=e.ev,i=e.handler;!function(e,t,i){if(e in n==1)if(r.removeEventListener?r.removeEventListener(e,i,!1):r.detachEvent&&r.detachEvent("on".concat(e),i),"global"===t)for(var o in n[e])n[e][o].splice(n[e][o].indexOf(i),1);else n[e][t].splice(n[e][t].indexOf(i),1)}(t,e.namespace,i)}))}))),this},t.on=function(e,t){if(d(this[0])){var n=this[0].eventRegistry,r=this[0];e.split(" ").forEach((function(e){var i=l(e.split("."),2),o=i[0],s=i[1];!function(e,i){r.addEventListener?r.addEventListener(e,t,!1):r.attachEvent&&r.attachEvent("on".concat(e),t),n[e]=n[e]||{},n[e][i]=n[e][i]||[],n[e][i].push(t)}(o,void 0===s?"global":s)}))}return this},t.trigger=function(e){var t=arguments;if(d(this[0]))for(var n=this[0].eventRegistry,r=this[0],o="string"==typeof e?e.split(" "):[e.type],a=0;a<o.length;a++){var l=o[a].split("."),c=l[0],u=l[1]||"global";if(void 0!==document&&"global"===u){var h,f={bubbles:!0,cancelable:!0,composed:!0,detail:arguments[1]};if(document.createEvent){try{"input"===c?(f.inputType="insertText",h=new InputEvent(c,f)):h=new CustomEvent(c,f)}catch(e){(h=document.createEvent("CustomEvent")).initCustomEvent(c,f.bubbles,f.cancelable,f.detail)}e.type&&(0,i.default)(h,e),r.dispatchEvent(h)}else(h=document.createEventObject()).eventType=c,h.detail=arguments[1],e.type&&(0,i.default)(h,e),r.fireEvent("on"+h.eventType,h)}else if(void 0!==n[c]){arguments[0]=arguments[0].type?arguments[0]:s.default.Event(arguments[0]),arguments[0].detail=arguments.slice(1);var p=n[c];("global"===u?Object.values(p).flat():p[u]).forEach((function(e){return e.apply(r,t)}))}}return this};var r,i=u(n(600)),o=u(n(9380)),s=u(n(4963)),a=u(n(8741));function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){return e&&e.__esModule?e:{default:e}}function d(e){return e instanceof Element}t.Event=r,"function"==typeof o.default.CustomEvent?t.Event=r=o.default.CustomEvent:a.default&&(t.Event=r=function(e,t){t=t||{bubbles:!1,cancelable:!1,composed:!0,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},r.prototype=o.default.Event.prototype)},600:function(e,t){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(){var t,r,i,o,s,a,l=arguments[0]||{},c=1,u=arguments.length,d=!1;for("boolean"==typeof l&&(d=l,l=arguments[c]||{},c++),"object"!==n(l)&&"function"!=typeof l&&(l={});c<u;c++)if(null!=(t=arguments[c]))for(r in t)i=l[r],l!==(o=t[r])&&(d&&o&&("[object Object]"===Object.prototype.toString.call(o)||(s=Array.isArray(o)))?(s?(s=!1,a=i&&Array.isArray(i)?i:[]):a=i&&"[object Object]"===Object.prototype.toString.call(i)?i:{},l[r]=e(d,a,o)):void 0!==o&&(l[r]=o));return l}},4963:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(600)),i=a(n(9380)),o=a(n(253)),s=n(3776);function a(e){return e&&e.__esModule?e:{default:e}}var l=i.default.document;function c(e){return e instanceof c?e:this instanceof c?void(null!=e&&e!==i.default&&(this[0]=e.nodeName?e:void 0!==e[0]&&e[0].nodeName?e[0]:l.querySelector(e),void 0!==this[0]&&null!==this[0]&&(this[0].eventRegistry=this[0].eventRegistry||{}))):new c(e)}c.prototype={on:s.on,off:s.off,trigger:s.trigger},c.extend=r.default,c.data=o.default,c.Event=s.Event;var u=c;t.default=u},9845:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.mobile=t.iphone=t.ie=void 0;var r,i=(r=n(9380))&&r.__esModule?r:{default:r},o=i.default.navigator&&i.default.navigator.userAgent||"",s=o.indexOf("MSIE ")>0||o.indexOf("Trident/")>0,a=navigator.userAgentData&&navigator.userAgentData.mobile||i.default.navigator&&i.default.navigator.maxTouchPoints||"ontouchstart"in i.default,l=/iphone/i.test(o);t.iphone=l,t.mobile=a,t.ie=s},7184:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(n,"\\$1")};var n=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim")},6030:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EventHandlers=void 0;var r=n(8711),i=n(2839),o=n(9845),s=n(7215),a=n(7760),l=n(4713);function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d={keyEvent:function(e,t,n,c,u){var h=this.inputmask,f=h.opts,p=h.dependencyLib,m=h.maskset,g=this,v=p(g),y=e.key,_=r.caret.call(h,g),b=f.onKeyDown.call(this,e,r.getBuffer.call(h),_,f);if(void 0!==b)return b;if(y===i.keys.Backspace||y===i.keys.Delete||o.iphone&&y===i.keys.BACKSPACE_SAFARI||e.ctrlKey&&y===i.keys.x&&!("oncut"in g))e.preventDefault(),s.handleRemove.call(h,g,y,_),(0,a.writeBuffer)(g,r.getBuffer.call(h,!0),m.p,e,g.inputmask._valueGet()!==r.getBuffer.call(h).join(""));else if(y===i.keys.End||y===i.keys.PageDown){e.preventDefault();var w=r.seekNext.call(h,r.getLastValidPosition.call(h));r.caret.call(h,g,e.shiftKey?_.begin:w,w,!0)}else y===i.keys.Home&&!e.shiftKey||y===i.keys.PageUp?(e.preventDefault(),r.caret.call(h,g,0,e.shiftKey?_.begin:0,!0)):f.undoOnEscape&&y===i.keys.Escape&&!0!==e.altKey?((0,a.checkVal)(g,!0,!1,h.undoValue.split("")),v.trigger("click")):y!==i.keys.Insert||e.shiftKey||e.ctrlKey||void 0!==h.userOptions.insertMode?!0===f.tabThrough&&y===i.keys.Tab?!0===e.shiftKey?(_.end=r.seekPrevious.call(h,_.end,!0),!0===l.getTest.call(h,_.end-1).match.static&&_.end--,_.begin=r.seekPrevious.call(h,_.end,!0),_.begin>=0&&_.end>0&&(e.preventDefault(),r.caret.call(h,g,_.begin,_.end))):(_.begin=r.seekNext.call(h,_.begin,!0),_.end=r.seekNext.call(h,_.begin,!0),_.end<m.maskLength&&_.end--,_.begin<=m.maskLength&&(e.preventDefault(),r.caret.call(h,g,_.begin,_.end))):e.shiftKey||f.insertModeVisual&&!1===f.insertMode&&(y===i.keys.ArrowRight?setTimeout((function(){var e=r.caret.call(h,g);r.caret.call(h,g,e.begin)}),0):y===i.keys.ArrowLeft&&setTimeout((function(){var e=r.translatePosition.call(h,g.inputmask.caretPos.begin);r.translatePosition.call(h,g.inputmask.caretPos.end),h.isRTL?r.caret.call(h,g,e+(e===m.maskLength?0:1)):r.caret.call(h,g,e-(0===e?0:1))}),0)):s.isSelection.call(h,_)?f.insertMode=!f.insertMode:(f.insertMode=!f.insertMode,r.caret.call(h,g,_.begin,_.begin));return h.isComposing=y==i.keys.Process||y==i.keys.Unidentified,h.ignorable=f.ignorables.includes(y),d.keypressEvent.call(this,e,t,n,c,u)},keypressEvent:function(e,t,n,o,l){var c=this.inputmask||this,u=c.opts,d=c.dependencyLib,h=c.maskset,f=c.el,p=d(f),m=e.key;if(!0===t||e.ctrlKey&&e.altKey||!(e.ctrlKey||e.metaKey||c.ignorable)){if(m){var g,v=t?{begin:l,end:l}:r.caret.call(c,f);m=u.substitutes[m]||m,h.writeOutBuffer=!0;var y=s.isValid.call(c,v,m,o,void 0,void 0,void 0,t);if(!1!==y&&(r.resetMaskSet.call(c,!0),g=void 0!==y.caret?y.caret:r.seekNext.call(c,y.pos.begin?y.pos.begin:y.pos),h.p=g),g=u.numericInput&&void 0===y.caret?r.seekPrevious.call(c,g):g,!1!==n&&(setTimeout((function(){u.onKeyValidation.call(f,m,y)}),0),h.writeOutBuffer&&!1!==y)){var _=r.getBuffer.call(c);(0,a.writeBuffer)(f,_,g,e,!0!==t)}if(e.preventDefault(),t)return!1!==y&&(y.forwardPosition=g),y}}else m===i.keys.Enter&&c.undoValue!==c._valueGet(!0)&&(c.undoValue=c._valueGet(!0),setTimeout((function(){p.trigger("change")}),0))},pasteEvent:function(e){var t,n=this.inputmask,i=n.opts,o=n._valueGet(!0),s=r.caret.call(n,this);n.isRTL&&(t=s.end,s.end=r.translatePosition.call(n,s.begin),s.begin=r.translatePosition.call(n,t));var l=o.substr(0,s.begin),u=o.substr(s.end,o.length);if(l==(n.isRTL?r.getBufferTemplate.call(n).slice().reverse():r.getBufferTemplate.call(n)).slice(0,s.begin).join("")&&(l=""),u==(n.isRTL?r.getBufferTemplate.call(n).slice().reverse():r.getBufferTemplate.call(n)).slice(s.end).join("")&&(u=""),window.clipboardData&&window.clipboardData.getData)o=l+window.clipboardData.getData("Text")+u;else{if(!e.clipboardData||!e.clipboardData.getData)return!0;o=l+e.clipboardData.getData("text/plain")+u}var d=o;if(n.isRTL){d=d.split("");var h,f=c(r.getBufferTemplate.call(n));try{for(f.s();!(h=f.n()).done;){var p=h.value;d[0]===p&&d.shift()}}catch(e){f.e(e)}finally{f.f()}d=d.join("")}if("function"==typeof i.onBeforePaste){if(!1===(d=i.onBeforePaste.call(n,d,i)))return!1;d||(d=o)}(0,a.checkVal)(this,!0,!1,d.toString().split(""),e),e.preventDefault()},inputFallBackEvent:function(e){var t,n=this.inputmask,s=n.opts,c=n.dependencyLib,u=this,h=u.inputmask._valueGet(!0),f=(n.isRTL?r.getBuffer.call(n).slice().reverse():r.getBuffer.call(n)).join(""),p=r.caret.call(n,u,void 0,void 0,!0);if(f!==h){if(t=function(e,t,i){for(var o,a,c,u=e.substr(0,i.begin).split(""),d=e.substr(i.begin).split(""),h=t.substr(0,i.begin).split(""),f=t.substr(i.begin).split(""),p=u.length>=h.length?u.length:h.length,m=d.length>=f.length?d.length:f.length,g="",v=[],y="~";u.length<p;)u.push(y);for(;h.length<p;)h.push(y);for(;d.length<m;)d.unshift(y);for(;f.length<m;)f.unshift(y);var _=u.concat(d),b=h.concat(f);for(a=0,o=_.length;a<o;a++)switch(c=l.getPlaceholder.call(n,r.translatePosition.call(n,a)),g){case"insertText":b[a-1]===_[a]&&i.begin==_.length-1&&v.push(_[a]),a=o;break;case"insertReplacementText":case"deleteContentBackward":_[a]===y?i.end++:a=o;break;default:_[a]!==b[a]&&(_[a+1]!==y&&_[a+1]!==c&&void 0!==_[a+1]||(b[a]!==c||b[a+1]!==y)&&b[a]!==y?b[a+1]===y&&b[a]===_[a+1]?(g="insertText",v.push(_[a]),i.begin--,i.end--):_[a]!==c&&_[a]!==y&&(_[a+1]===y||b[a]!==_[a]&&b[a+1]===_[a+1])?(g="insertReplacementText",v.push(_[a]),i.begin--):_[a]===y?(g="deleteContentBackward",(r.isMask.call(n,r.translatePosition.call(n,a),!0)||b[a]===s.radixPoint)&&i.end++):a=o:(g="insertText",v.push(_[a]),i.begin--,i.end--))}return{action:g,data:v,caret:i}}(h,f,p),(u.inputmask.shadowRoot||u.ownerDocument).activeElement!==u&&u.focus(),(0,a.writeBuffer)(u,r.getBuffer.call(n)),r.caret.call(n,u,p.begin,p.end,!0),!o.mobile&&n.skipNextInsert&&"insertText"===e.inputType&&"insertText"===t.action&&n.isComposing)return!1;switch("insertCompositionText"===e.inputType&&"insertText"===t.action&&n.isComposing?n.skipNextInsert=!0:n.skipNextInsert=!1,t.action){case"insertText":case"insertReplacementText":t.data.forEach((function(e,t){var r=new c.Event("keypress");r.key=e,n.ignorable=!1,d.keypressEvent.call(u,r)})),setTimeout((function(){n.$el.trigger("keyup")}),0);break;case"deleteContentBackward":var m=new c.Event("keydown");m.key=i.keys.Backspace,d.keyEvent.call(u,m);break;default:(0,a.applyInputValue)(u,h),r.caret.call(n,u,p.begin,p.end,!0)}e.preventDefault()}},setValueEvent:function(e){var t=this.inputmask,n=this,i=e&&e.detail?e.detail[0]:arguments[1];void 0===i&&(i=n.inputmask._valueGet(!0)),(0,a.applyInputValue)(n,i),(e.detail&&void 0!==e.detail[1]||void 0!==arguments[2])&&r.caret.call(t,n,e.detail?e.detail[1]:arguments[2])},focusEvent:function(e){var t=this.inputmask,n=t.opts,i=null==t?void 0:t._valueGet();n.showMaskOnFocus&&i!==r.getBuffer.call(t).join("")&&(0,a.writeBuffer)(this,r.getBuffer.call(t),r.seekNext.call(t,r.getLastValidPosition.call(t))),!0!==n.positionCaretOnTab||!1!==t.mouseEnter||s.isComplete.call(t,r.getBuffer.call(t))&&-1!==r.getLastValidPosition.call(t)||d.clickEvent.apply(this,[e,!0]),t.undoValue=null==t?void 0:t._valueGet(!0)},invalidEvent:function(e){this.inputmask.validationEvent=!0},mouseleaveEvent:function(){var e=this.inputmask,t=e.opts,n=this;e.mouseEnter=!1,t.clearMaskOnLostFocus&&(n.inputmask.shadowRoot||n.ownerDocument).activeElement!==n&&(0,a.HandleNativePlaceholder)(n,e.originalPlaceholder)},clickEvent:function(e,t){var n=this.inputmask;n.clicked++;var i=this;if((i.inputmask.shadowRoot||i.ownerDocument).activeElement===i){var o=r.determineNewCaretPosition.call(n,r.caret.call(n,i),t);void 0!==o&&r.caret.call(n,i,o)}},cutEvent:function(e){var t=this.inputmask,n=t.maskset,o=this,l=r.caret.call(t,o),c=t.isRTL?r.getBuffer.call(t).slice(l.end,l.begin):r.getBuffer.call(t).slice(l.begin,l.end),u=t.isRTL?c.reverse().join(""):c.join("");window.navigator.clipboard?window.navigator.clipboard.writeText(u):window.clipboardData&&window.clipboardData.getData&&window.clipboardData.setData("Text",u),s.handleRemove.call(t,o,i.keys.Delete,l),(0,a.writeBuffer)(o,r.getBuffer.call(t),n.p,e,t.undoValue!==t._valueGet(!0))},blurEvent:function(e){var t=this.inputmask,n=t.opts,i=t.dependencyLib;t.clicked=0;var o=i(this),l=this;if(l.inputmask){(0,a.HandleNativePlaceholder)(l,t.originalPlaceholder);var c=l.inputmask._valueGet(),u=r.getBuffer.call(t).slice();""!==c&&(n.clearMaskOnLostFocus&&(-1===r.getLastValidPosition.call(t)&&c===r.getBufferTemplate.call(t).join("")?u=[]:a.clearOptionalTail.call(t,u)),!1===s.isComplete.call(t,u)&&(setTimeout((function(){o.trigger("incomplete")}),0),n.clearIncomplete&&(r.resetMaskSet.call(t),u=n.clearMaskOnLostFocus?[]:r.getBufferTemplate.call(t).slice())),(0,a.writeBuffer)(l,u,void 0,e)),t.undoValue!==t._valueGet(!0)&&(t.undoValue=t._valueGet(!0),o.trigger("change"))}},mouseenterEvent:function(){var e=this.inputmask,t=e.opts.showMaskOnHover,n=this;if(e.mouseEnter=!0,(n.inputmask.shadowRoot||n.ownerDocument).activeElement!==n){var i=(e.isRTL?r.getBufferTemplate.call(e).slice().reverse():r.getBufferTemplate.call(e)).join("");t&&(0,a.HandleNativePlaceholder)(n,i)}},submitEvent:function(){var e=this.inputmask,t=e.opts;e.undoValue!==e._valueGet(!0)&&e.$el.trigger("change"),-1===r.getLastValidPosition.call(e)&&e._valueGet&&e._valueGet()===r.getBufferTemplate.call(e).join("")&&e._valueSet(""),t.clearIncomplete&&!1===s.isComplete.call(e,r.getBuffer.call(e))&&e._valueSet(""),t.removeMaskOnSubmit&&(e._valueSet(e.unmaskedvalue(),!0),setTimeout((function(){(0,a.writeBuffer)(e.el,r.getBuffer.call(e))}),0))},resetEvent:function(){var e=this.inputmask;e.refreshValue=!0,setTimeout((function(){(0,a.applyInputValue)(e.el,e._valueGet(!0))}),0)}};t.EventHandlers=d},9716:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EventRuler=void 0;var r,i=(r=n(2394))&&r.__esModule?r:{default:r},o=n(2839),s=n(8711),a=n(7760),l={on:function(e,t,n){var r=e.inputmask.dependencyLib,l=function(t){t.originalEvent&&(t=t.originalEvent||t,arguments[0]=t);var l,c=this,u=c.inputmask,d=u?u.opts:void 0;if(void 0===u&&"FORM"!==this.nodeName){var h=r.data(c,"_inputmask_opts");r(c).off(),h&&new i.default(h).mask(c)}else{if(["submit","reset","setvalue"].includes(t.type)||"FORM"===this.nodeName||!(c.disabled||c.readOnly&&!("keydown"===t.type&&t.ctrlKey&&t.key===o.keys.c||!1===d.tabThrough&&t.key===o.keys.Tab))){switch(t.type){case"input":if(!0===u.skipInputEvent)return u.skipInputEvent=!1,t.preventDefault();break;case"click":case"focus":return u.validationEvent?(u.validationEvent=!1,e.blur(),(0,a.HandleNativePlaceholder)(e,(u.isRTL?s.getBufferTemplate.call(u).slice().reverse():s.getBufferTemplate.call(u)).join("")),setTimeout((function(){e.focus()}),d.validationEventTimeOut),!1):(l=arguments,void setTimeout((function(){e.inputmask&&n.apply(c,l)}),0))}var f=n.apply(c,arguments);return!1===f&&(t.preventDefault(),t.stopPropagation()),f}t.preventDefault()}};["submit","reset"].includes(t)?(l=l.bind(e),null!==e.form&&r(e.form).on(t,l)):r(e).on(t,l),e.inputmask.events[t]=e.inputmask.events[t]||[],e.inputmask.events[t].push(l)},off:function(e,t){if(e.inputmask&&e.inputmask.events){var n=e.inputmask.dependencyLib,r=e.inputmask.events;for(var i in t&&((r=[])[t]=e.inputmask.events[t]),r){for(var o=r[i];o.length>0;){var s=o.pop();["submit","reset"].includes(i)?null!==e.form&&n(e.form).off(i,s):n(e).off(i,s)}delete e.inputmask.events[i]}}}};t.EventRuler=l},219:function(e,t,n){var r=h(n(2394)),i=n(2839),o=h(n(7184)),s=n(8711),a=n(4713);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=void 0,i=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r.key,"string"),"symbol"===u(i)?i:String(i)),r)}var i}function h(e){return e&&e.__esModule?e:{default:e}}var f=r.default.dependencyLib,p=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mask=t,this.format=n,this.opts=r,this._date=new Date(1,0,1),this.initDateObject(t,this.opts)}var t,n,r;return t=e,(n=[{key:"date",get:function(){return void 0===this._date&&(this._date=new Date(1,0,1),this.initDateObject(void 0,this.opts)),this._date}},{key:"initDateObject",value:function(e,t){var n;for(k(t).lastIndex=0;n=k(t).exec(this.format);){var r=new RegExp("\\d+$").exec(n[0]),i=r?n[0][0]+"x":n[0],o=void 0;if(void 0!==e){if(r){var s=k(t).lastIndex,a=A(n.index,t);k(t).lastIndex=s,o=e.slice(0,e.indexOf(a.nextMatch[0]))}else o=e.slice(0,v[i]&&v[i][4]||i.length);e=e.slice(o.length)}Object.prototype.hasOwnProperty.call(v,i)&&this.setValue(this,o,i,v[i][2],v[i][1])}}},{key:"setValue",value:function(e,t,n,r,i){if(void 0!==t&&(e[r]="ampm"===r?t:t.replace(/[^0-9]/g,"0"),e["raw"+r]=t.replace(/\s/g,"_")),void 0!==i){var o=e[r];("day"===r&&29===parseInt(o)||"month"===r&&2===parseInt(o))&&(29!==parseInt(e.day)||2!==parseInt(e.month)||""!==e.year&&void 0!==e.year||e._date.setFullYear(2012,1,29)),"day"===r&&(g=!0,0===parseInt(o)&&(o=1)),"month"===r&&(g=!0),"year"===r&&(g=!0,o.length<4&&(o=E(o,4,!0))),""===o||isNaN(o)||i.call(e._date,o),"ampm"===r&&i.call(e._date,o)}}},{key:"reset",value:function(){this._date=new Date(1,0,1)}},{key:"reInit",value:function(){this._date=void 0,this.date}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),m=(new Date).getFullYear(),g=!1,v={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return E(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",function(e){var t=e?parseInt(e):0;return t>0&&t--,Date.prototype.setMonth.call(this,t)},"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",function(e){var t=e?parseInt(e):0;return t>0&&t--,Date.prototype.setMonth.call(this,t)},"month",function(){return E(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return E(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return E(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return E(Date.prototype.getHours.call(this),2)}],hx:[function(e){return"[0-9]{".concat(e,"}")},Date.prototype.setHours,"hours",function(e){return Date.prototype.getHours}],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return E(Date.prototype.getHours.call(this),2)}],Hx:[function(e){return"[0-9]{".concat(e,"}")},Date.prototype.setHours,"hours",function(e){return function(){return E(Date.prototype.getHours.call(this),e)}}],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return E(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setSeconds,"seconds",function(){return E(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return E(Date.prototype.getMilliseconds.call(this),3)},3],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return E(Date.prototype.getMilliseconds.call(this),2)},2],t:["[ap]",_,"ampm",b,1],tt:["[ap]m",_,"ampm",b,2],T:["[AP]",_,"ampm",b,1],TT:["[AP]M",_,"ampm",b,2],Z:[".*",void 0,"Z",function(){var e=this.toString().match(/\((.+)\)/)[1];return e.includes(" ")&&(e=(e=e.replace("-"," ").toUpperCase()).split(" ").map((function(e){return l(e,1)[0]})).join("")),e}],o:[""],S:[""]},y={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function _(e){var t=this.getHours();e.toLowerCase().includes("p")?this.setHours(t+12):e.toLowerCase().includes("a")&&t>=12&&this.setHours(t-12)}function b(){var e=this.getHours();return(e=e||12)>=12?"PM":"AM"}function w(e){var t=new RegExp("\\d+$").exec(e[0]);if(t&&void 0!==t[0]){var n=v[e[0][0]+"x"].slice("");return n[0]=n[0](t[0]),n[3]=n[3](t[0]),n}if(v[e[0]])return v[e[0]]}function k(e){if(!e.tokenizer){var t=[],n=[];for(var r in v)if(/\.*x$/.test(r)){var i=r[0]+"\\d+";-1===n.indexOf(i)&&n.push(i)}else-1===t.indexOf(r[0])&&t.push(r[0]);e.tokenizer="("+(n.length>0?n.join("|")+"|":"")+t.join("+|")+")+?|.",e.tokenizer=new RegExp(e.tokenizer,"g")}return e.tokenizer}function x(e,t,n){if(!g)return!0;if(void 0===e.rawday||!isFinite(e.rawday)&&new Date(e.date.getFullYear(),isFinite(e.rawmonth)?e.month:e.date.getMonth()+1,0).getDate()>=e.day||"29"==e.day&&(!isFinite(e.rawyear)||void 0===e.rawyear||""===e.rawyear)||new Date(e.date.getFullYear(),isFinite(e.rawmonth)?e.month:e.date.getMonth()+1,0).getDate()>=e.day)return t;if("29"==e.day){var r=A(t.pos,n);if("yyyy"===r.targetMatch[0]&&t.pos-r.targetMatchIndex==2)return t.remove=t.pos+1,t}else if("02"==e.month&&"30"==e.day&&void 0!==t.c)return e.day="03",e.date.setDate(3),e.date.setMonth(1),t.insert=[{pos:t.pos,c:"0"},{pos:t.pos+1,c:t.c}],t.caret=s.seekNext.call(this,t.pos+1),t;return!1}function S(e,t,n,r){var i,s,a="";for(k(n).lastIndex=0;i=k(n).exec(e);)if(void 0===t)if(s=w(i))a+="("+s[0]+")";else switch(i[0]){case"[":a+="(";break;case"]":a+=")?";break;default:a+=(0,o.default)(i[0])}else(s=w(i))?!0!==r&&s[3]?a+=s[3].call(t.date):s[2]?a+=t["raw"+s[2]]:a+=i[0]:a+=i[0];return a}function E(e,t,n){for(e=String(e),t=t||2;e.length<t;)e=n?e+"0":"0"+e;return e}function C(e,t,n){return"string"==typeof e?new p(e,t,n):e&&"object"===u(e)&&Object.prototype.hasOwnProperty.call(e,"date")?e:void 0}function T(e,t){return S(t.inputFormat,{date:e},t)}function A(e,t){var n,r,i=0,o=0;for(k(t).lastIndex=0;r=k(t).exec(t.inputFormat);){var s=new RegExp("\\d+$").exec(r[0]);if((i+=o=s?parseInt(s[0]):r[0].length)>=e+1){n=r,r=k(t).exec(t.inputFormat);break}}return{targetMatchIndex:i-o,nextMatch:r,targetMatch:n}}r.default.extendAliases({datetime:{mask:function(e){return e.numericInput=!1,v.S=e.i18n.ordinalSuffix.join("|"),e.inputFormat=y[e.inputFormat]||e.inputFormat,e.displayFormat=y[e.displayFormat]||e.displayFormat||e.inputFormat,e.outputFormat=y[e.outputFormat]||e.outputFormat||e.inputFormat,e.placeholder=""!==e.placeholder?e.placeholder:e.inputFormat.replace(/[[\]]/,""),e.regex=S(e.inputFormat,void 0,e),e.min=C(e.min,e.inputFormat,e),e.max=C(e.max,e.inputFormat,e),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:null,outputFormat:null,min:null,max:null,skipOptionalPartCharacter:"",i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},preValidation:function(e,t,n,r,i,o,s,a){if(a)return!0;if(isNaN(n)&&e[t]!==n){var l=A(t,i);if(l.nextMatch&&l.nextMatch[0]===n&&l.targetMatch[0].length>1){var c=v[l.targetMatch[0]][0];if(new RegExp(c).test("0"+e[t-1]))return e[t]=e[t-1],e[t-1]="0",{fuzzy:!0,buffer:e,refreshFromBuffer:{start:t-1,end:t+1},pos:t+1}}}return!0},postValidation:function(e,t,n,r,i,o,s,l){var c,u;if(s)return!0;if(!1===r&&(((c=A(t+1,i)).targetMatch&&c.targetMatchIndex===t&&c.targetMatch[0].length>1&&void 0!==v[c.targetMatch[0]]||(c=A(t+2,i)).targetMatch&&c.targetMatchIndex===t+1&&c.targetMatch[0].length>1&&void 0!==v[c.targetMatch[0]])&&(u=v[c.targetMatch[0]][0]),void 0!==u&&(void 0!==o.validPositions[t+1]&&new RegExp(u).test(n+"0")?(e[t]=n,e[t+1]="0",r={pos:t+2,caret:t}):new RegExp(u).test("0"+n)&&(e[t]="0",e[t+1]=n,r={pos:t+2})),!1===r))return r;if(r.fuzzy&&(e=r.buffer,t=r.pos),(c=A(t,i)).targetMatch&&c.targetMatch[0]&&void 0!==v[c.targetMatch[0]]){var d=v[c.targetMatch[0]];u=d[0];var h=e.slice(c.targetMatchIndex,c.targetMatchIndex+c.targetMatch[0].length);if(!1===new RegExp(u).test(h.join(""))&&2===c.targetMatch[0].length&&o.validPositions[c.targetMatchIndex]&&o.validPositions[c.targetMatchIndex+1]&&(o.validPositions[c.targetMatchIndex+1].input="0"),"year"==d[2])for(var f=a.getMaskTemplate.call(this,!1,1,void 0,!0),p=t+1;p<e.length;p++)e[p]=f[p],delete o.validPositions[p]}var g=r,y=C(e.join(""),i.inputFormat,i);return g&&!isNaN(y.date.getTime())&&(i.prefillYear&&(g=function(e,t,n){if(e.year!==e.rawyear){var r=m.toString(),i=e.rawyear.replace(/[^0-9]/g,""),o=r.slice(0,i.length),s=r.slice(i.length);if(2===i.length&&i===o){var a=new Date(m,e.month-1,e.day);e.day==a.getDate()&&(!n.max||n.max.date.getTime()>=a.getTime())&&(e.date.setFullYear(m),e.year=r,t.insert=[{pos:t.pos+1,c:s[0]},{pos:t.pos+2,c:s[1]}])}}return t}(y,g,i)),g=function(e,t,n,r,i){if(!t)return t;if(t&&n.min&&!isNaN(n.min.date.getTime())){var o;for(e.reset(),k(n).lastIndex=0;o=k(n).exec(n.inputFormat);){var s;if((s=w(o))&&s[3]){for(var a=s[1],l=e[s[2]],c=n.min[s[2]],u=n.max?n.max[s[2]]:c,d=[],h=!1,f=0;f<c.length;f++)void 0!==r.validPositions[f+o.index]||h?(d[f]=l[f],h=h||l[f]>c[f]):(d[f]=c[f],"year"===s[2]&&l.length-1==f&&c!=u&&(d=(parseInt(d.join(""))+1).toString().split("")),"ampm"===s[2]&&c!=u&&n.min.date.getTime()>e.date.getTime()&&(d[f]=u[f]));a.call(e._date,d.join(""))}}t=n.min.date.getTime()<=e.date.getTime(),e.reInit()}return t&&n.max&&(isNaN(n.max.date.getTime())||(t=n.max.date.getTime()>=e.date.getTime())),t}(y,g=x.call(this,y,g,i),i,o)),void 0!==t&&g&&r.pos!==t?{buffer:S(i.inputFormat,y,i).split(""),refreshFromBuffer:{start:t,end:r.pos},pos:r.caret||r.pos}:g},onKeyDown:function(e,t,n,r){e.ctrlKey&&e.key===i.keys.ArrowRight&&(this.inputmask._valueSet(T(new Date,r)),f(this).trigger("setvalue"))},onUnMask:function(e,t,n){return t?S(n.outputFormat,C(e,n.inputFormat,n),n,!0):t},casing:function(e,t,n,r){return 0==t.nativeDef.indexOf("[ap]")?e.toLowerCase():0==t.nativeDef.indexOf("[AP]")?e.toUpperCase():e},onBeforeMask:function(e,t){return"[object Date]"===Object.prototype.toString.call(e)&&(e=T(e,t)),e},insertMode:!1,insertModeVisual:!1,shiftPositions:!1,keepStatic:!1,inputmode:"numeric",prefillYear:!0}})},3851:function(e,t,n){var r,i=(r=n(2394))&&r.__esModule?r:{default:r},o=n(8711),s=n(4713);i.default.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}});var a=new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]");function l(e,t,n,r,i){return n-1>-1&&"."!==t.buffer[n-1]?(e=t.buffer[n-1]+e,e=n-2>-1&&"."!==t.buffer[n-2]?t.buffer[n-2]+e:"0"+e):e="00"+e,a.test(e)}i.default.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)://.*",autoUnmask:!1,keepStatic:!1,tabThrough:!0},ip:{mask:"i{1,3}.j{1,3}.k{1,3}.l{1,3}",definitions:{i:{validator:l},j:{validator:l},k:{validator:l},l:{validator:l}},onUnMask:function(e,t,n){return e},inputmode:"decimal",substitutes:{",":"."}},email:{mask:function(e){var t=e.separator,n=e.quantifier,r="*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",i=r;if(t)for(var o=0;o<n;o++)i+="[".concat(t).concat(r,"]");return i},greedy:!1,casing:"lower",separator:null,quantifier:5,skipOptionalPartCharacter:"",onBeforePaste:function(e,t){return(e=e.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(e,t,n){return e},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0},ssn:{mask:"999-99-9999",postValidation:function(e,t,n,r,i,a,l){var c=s.getMaskTemplate.call(this,!0,o.getLastValidPosition.call(this),!0,!0);return/^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(c.join(""))}}})},207:function(e,t,n){var r=a(n(2394)),i=a(n(7184)),o=n(8711),s=n(2839);function a(e){return e&&e.__esModule?e:{default:e}}var l=r.default.dependencyLib;function c(e,t){for(var n="",i=0;i<e.length;i++)r.default.prototype.definitions[e.charAt(i)]||t.definitions[e.charAt(i)]||t.optionalmarker[0]===e.charAt(i)||t.optionalmarker[1]===e.charAt(i)||t.quantifiermarker[0]===e.charAt(i)||t.quantifiermarker[1]===e.charAt(i)||t.groupmarker[0]===e.charAt(i)||t.groupmarker[1]===e.charAt(i)||t.alternatormarker===e.charAt(i)?n+="\\"+e.charAt(i):n+=e.charAt(i);return n}function u(e,t,n,r){if(e.length>0&&t>0&&(!n.digitsOptional||r)){var i=e.indexOf(n.radixPoint),o=!1;n.negationSymbol.back===e[e.length-1]&&(o=!0,e.length--),-1===i&&(e.push(n.radixPoint),i=e.length-1);for(var s=1;s<=t;s++)isFinite(e[i+s])||(e[i+s]="0")}return o&&e.push(n.negationSymbol.back),e}function d(e,t){var n=0;for(var r in"+"===e&&(n=o.seekNext.call(this,t.validPositions.length-1)),t.tests)if((r=parseInt(r))>=n)for(var i=0,s=t.tests[r].length;i<s;i++)if((void 0===t.validPositions[r]||"-"===e)&&t.tests[r][i].match.def===e)return r+(void 0!==t.validPositions[r]&&"-"!==e?1:0);return n}function h(e,t){for(var n=-1,r=0,i=t.validPositions.length;r<i;r++){var o=t.validPositions[r];if(o&&o.match.def===e){n=r;break}}return n}function f(e,t,n,r,i){var o=t.buffer?t.buffer.indexOf(i.radixPoint):-1,s=(-1!==o||r&&i.jitMasking)&&new RegExp(i.definitions[9].validator).test(e);return i._radixDance&&-1!==o&&s&&null==t.validPositions[o]?{insert:{pos:o===n?o+1:o,c:i.radixPoint},pos:n}:s}r.default.extendAliases({numeric:{mask:function(e){e.repeat=0,e.groupSeparator===e.radixPoint&&e.digits&&"0"!==e.digits&&("."===e.radixPoint?e.groupSeparator=",":","===e.radixPoint?e.groupSeparator=".":e.groupSeparator="")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=void 0),e.placeholder.length>1&&(e.placeholder=e.placeholder.charAt(0)),"radixFocus"===e.positionCaretOnClick&&""===e.placeholder&&(e.positionCaretOnClick="lvp");var t="0",n=e.radixPoint;!0===e.numericInput&&void 0===e.__financeInput?(t="1",e.positionCaretOnClick="radixFocus"===e.positionCaretOnClick?"lvp":e.positionCaretOnClick,e.digitsOptional=!1,isNaN(e.digits)&&(e.digits=2),e._radixDance=!1,n=","===e.radixPoint?"?":"!",""!==e.radixPoint&&void 0===e.definitions[n]&&(e.definitions[n]={},e.definitions[n].validator="["+e.radixPoint+"]",e.definitions[n].placeholder=e.radixPoint,e.definitions[n].static=!0,e.definitions[n].generated=!0)):(e.__financeInput=!1,e.numericInput=!0);var r,o="[+]";if(o+=c(e.prefix,e),""!==e.groupSeparator?(void 0===e.definitions[e.groupSeparator]&&(e.definitions[e.groupSeparator]={},e.definitions[e.groupSeparator].validator="["+e.groupSeparator+"]",e.definitions[e.groupSeparator].placeholder=e.groupSeparator,e.definitions[e.groupSeparator].static=!0,e.definitions[e.groupSeparator].generated=!0),o+=e._mask(e)):o+="9{+}",void 0!==e.digits&&0!==e.digits){var s=e.digits.toString().split(",");isFinite(s[0])&&s[1]&&isFinite(s[1])?o+=n+t+"{"+e.digits+"}":(isNaN(e.digits)||parseInt(e.digits)>0)&&(e.digitsOptional||e.jitMasking?(r=o+n+t+"{0,"+e.digits+"}",e.keepStatic=!0):o+=n+t+"{"+e.digits+"}")}else e.inputmode="numeric";return o+=c(e.suffix,e),o+="[-]",r&&(o=[r+c(e.suffix,e)+"[-]",o]),e.greedy=!1,function(e){void 0===e.parseMinMaxOptions&&(null!==e.min&&(e.min=e.min.toString().replace(new RegExp((0,i.default)(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.min=e.min.replace(e.radixPoint,".")),e.min=isFinite(e.min)?parseFloat(e.min):NaN,isNaN(e.min)&&(e.min=Number.MIN_VALUE)),null!==e.max&&(e.max=e.max.toString().replace(new RegExp((0,i.default)(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.max=e.max.replace(e.radixPoint,".")),e.max=isFinite(e.max)?parseFloat(e.max):NaN,isNaN(e.max)&&(e.max=Number.MAX_VALUE)),e.parseMinMaxOptions="done")}(e),""!==e.radixPoint&&e.substituteRadixPoint&&(e.substitutes["."==e.radixPoint?",":"."]=e.radixPoint),o},_mask:function(e){return"("+e.groupSeparator+"999){+|1}"},digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",_radixDance:!0,groupSeparator:"",allowMinus:!0,negationSymbol:{front:"-",back:""},prefix:"",suffix:"",min:null,max:null,SetMaxOnOverflow:!1,step:1,inputType:"text",unmaskAsNumber:!1,roundingFN:Math.round,inputmode:"decimal",shortcuts:{k:"1000",m:"1000000"},placeholder:"0",greedy:!1,rightAlign:!0,insertMode:!0,autoUnmask:!1,skipOptionalPartCharacter:"",usePrototypeDefinitions:!1,stripLeadingZeroes:!0,substituteRadixPoint:!0,definitions:{0:{validator:f},1:{validator:f,definitionSymbol:"9"},9:{validator:"[0-9０-９٠-٩۰-۹]",definitionSymbol:"*"},"+":{validator:function(e,t,n,r,i){return i.allowMinus&&("-"===e||e===i.negationSymbol.front)}},"-":{validator:function(e,t,n,r,i){return i.allowMinus&&e===i.negationSymbol.back}}},preValidation:function(e,t,n,r,i,o,s,a){if(!1!==i.__financeInput&&n===i.radixPoint)return!1;var l=e.indexOf(i.radixPoint),c=t;if(t=function(e,t,n,r,i){return i._radixDance&&i.numericInput&&t!==i.negationSymbol.back&&e<=n&&(n>0||t==i.radixPoint)&&(void 0===r.validPositions[e-1]||r.validPositions[e-1].input!==i.negationSymbol.back)&&(e-=1),e}(t,n,l,o,i),"-"===n||n===i.negationSymbol.front){if(!0!==i.allowMinus)return!1;var u=!1,f=h("+",o),p=h("-",o);return-1!==f&&(u=[f,p]),!1!==u?{remove:u,caret:c-i.negationSymbol.back.length}:{insert:[{pos:d.call(this,"+",o),c:i.negationSymbol.front,fromIsValid:!0},{pos:d.call(this,"-",o),c:i.negationSymbol.back,fromIsValid:void 0}],caret:c+i.negationSymbol.back.length}}if(n===i.groupSeparator)return{caret:c};if(a)return!0;if(-1!==l&&!0===i._radixDance&&!1===r&&n===i.radixPoint&&void 0!==i.digits&&(isNaN(i.digits)||parseInt(i.digits)>0)&&l!==t)return{caret:i._radixDance&&t===l-1?l+1:l};if(!1===i.__financeInput)if(r){if(i.digitsOptional)return{rewritePosition:s.end};if(!i.digitsOptional){if(s.begin>l&&s.end<=l)return n===i.radixPoint?{insert:{pos:l+1,c:"0",fromIsValid:!0},rewritePosition:l}:{rewritePosition:l+1};if(s.begin<l)return{rewritePosition:s.begin-1}}}else if(!i.showMaskOnHover&&!i.showMaskOnFocus&&!i.digitsOptional&&i.digits>0&&""===this.__valueGet.call(this.el))return{rewritePosition:l};return{rewritePosition:t}},postValidation:function(e,t,n,r,i,o,s){if(!1===r)return r;if(s)return!0;if(null!==i.min||null!==i.max){var a=i.onUnMask(e.slice().reverse().join(""),void 0,l.extend({},i,{unmaskAsNumber:!0}));if(null!==i.min&&a<i.min&&(a.toString().length>i.min.toString().length||a<0))return!1;if(null!==i.max&&a>i.max)return!!i.SetMaxOnOverflow&&{refreshFromBuffer:!0,buffer:u(i.max.toString().replace(".",i.radixPoint).split(""),i.digits,i).reverse()}}return r},onUnMask:function(e,t,n){if(""===t&&!0===n.nullable)return t;var r=e.replace(n.prefix,"");return r=(r=r.replace(n.suffix,"")).replace(new RegExp((0,i.default)(n.groupSeparator),"g"),""),""!==n.placeholder.charAt(0)&&(r=r.replace(new RegExp(n.placeholder.charAt(0),"g"),"0")),n.unmaskAsNumber?(""!==n.radixPoint&&-1!==r.indexOf(n.radixPoint)&&(r=r.replace(i.default.call(this,n.radixPoint),".")),r=(r=r.replace(new RegExp("^"+(0,i.default)(n.negationSymbol.front)),"-")).replace(new RegExp((0,i.default)(n.negationSymbol.back)+"$"),""),Number(r)):r},isComplete:function(e,t){var n=(t.numericInput?e.slice().reverse():e).join("");return n=(n=(n=(n=(n=n.replace(new RegExp("^"+(0,i.default)(t.negationSymbol.front)),"-")).replace(new RegExp((0,i.default)(t.negationSymbol.back)+"$"),"")).replace(t.prefix,"")).replace(t.suffix,"")).replace(new RegExp((0,i.default)(t.groupSeparator)+"([0-9]{3})","g"),"$1"),","===t.radixPoint&&(n=n.replace((0,i.default)(t.radixPoint),".")),isFinite(n)},onBeforeMask:function(e,t){var n=t.radixPoint||",";isFinite(t.digits)&&(t.digits=parseInt(t.digits)),"number"!=typeof e&&"number"!==t.inputType||""===n||(e=e.toString().replace(".",n));var r="-"===e.charAt(0)||e.charAt(0)===t.negationSymbol.front,o=e.split(n),s=o[0].replace(/[^\-0-9]/g,""),a=o.length>1?o[1].replace(/[^0-9]/g,""):"",l=o.length>1;e=s+(""!==a?n+a:a);var c=0;if(""!==n&&(c=t.digitsOptional?t.digits<a.length?t.digits:a.length:t.digits,""!==a||!t.digitsOptional)){var d=Math.pow(10,c||1);e=e.replace((0,i.default)(n),"."),isNaN(parseFloat(e))||(e=(t.roundingFN(parseFloat(e)*d)/d).toFixed(c)),e=e.toString().replace(".",n)}if(0===t.digits&&-1!==e.indexOf(n)&&(e=e.substring(0,e.indexOf(n))),null!==t.min||null!==t.max){var h=e.toString().replace(n,".");null!==t.min&&h<t.min?e=t.min.toString().replace(".",n):null!==t.max&&h>t.max&&(e=t.max.toString().replace(".",n))}return r&&"-"!==e.charAt(0)&&(e="-"+e),u(e.toString().split(""),c,t,l).join("")},onBeforeWrite:function(e,t,n,r){function o(e,t){if(!1!==r.__financeInput||t){var n=e.indexOf(r.radixPoint);-1!==n&&e.splice(n,1)}if(""!==r.groupSeparator)for(;-1!==(n=e.indexOf(r.groupSeparator));)e.splice(n,1);return e}var s,a;if(r.stripLeadingZeroes&&(a=function(e,t){var n=new RegExp("(^"+(""!==t.negationSymbol.front?(0,i.default)(t.negationSymbol.front)+"?":"")+(0,i.default)(t.prefix)+")(.*)("+(0,i.default)(t.suffix)+(""!=t.negationSymbol.back?(0,i.default)(t.negationSymbol.back)+"?":"")+"$)").exec(e.slice().reverse().join("")),r=n?n[2]:"",o=!1;return r&&(r=r.split(t.radixPoint.charAt(0))[0],o=new RegExp("^[0"+t.groupSeparator+"]*").exec(r)),!(!o||!(o[0].length>1||o[0].length>0&&o[0].length<r.length))&&o}(t,r)))for(var c=t.join("").lastIndexOf(a[0].split("").reverse().join(""))-(a[0]==a.input?0:1),d=a[0]==a.input?1:0,h=a[0].length-d;h>0;h--)delete this.maskset.validPositions[c+h],delete t[c+h];if(e)switch(e.type){case"blur":case"checkval":if(null!==r.min){var f=r.onUnMask(t.slice().reverse().join(""),void 0,l.extend({},r,{unmaskAsNumber:!0}));if(null!==r.min&&f<r.min)return{refreshFromBuffer:!0,buffer:u(r.min.toString().replace(".",r.radixPoint).split(""),r.digits,r).reverse()}}if(t[t.length-1]===r.negationSymbol.front){var p=new RegExp("(^"+(""!=r.negationSymbol.front?(0,i.default)(r.negationSymbol.front)+"?":"")+(0,i.default)(r.prefix)+")(.*)("+(0,i.default)(r.suffix)+(""!=r.negationSymbol.back?(0,i.default)(r.negationSymbol.back)+"?":"")+"$)").exec(o(t.slice(),!0).reverse().join(""));0==(p?p[2]:"")&&(s={refreshFromBuffer:!0,buffer:[0]})}else""!==r.radixPoint&&t.indexOf(r.radixPoint)===r.suffix.length&&(s&&s.buffer?s.buffer.splice(0,1+r.suffix.length):(t.splice(0,1+r.suffix.length),s={refreshFromBuffer:!0,buffer:o(t)}));if(r.enforceDigitsOnBlur){var m=(s=s||{})&&s.buffer||t.slice().reverse();s.refreshFromBuffer=!0,s.buffer=u(m,r.digits,r,!0).reverse()}}return s},onKeyDown:function(e,t,n,r){var i,o=l(this);if(3!=e.location){var a,c=e.key;if((a=r.shortcuts&&r.shortcuts[c])&&a.length>1)return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())*parseInt(a)),o.trigger("setvalue"),!1}if(e.ctrlKey)switch(e.key){case s.keys.ArrowUp:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())+parseInt(r.step)),o.trigger("setvalue"),!1;case s.keys.ArrowDown:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())-parseInt(r.step)),o.trigger("setvalue"),!1}if(!e.shiftKey&&(e.key===s.keys.Delete||e.key===s.keys.Backspace||e.key===s.keys.BACKSPACE_SAFARI)&&n.begin!==t.length){if(t[e.key===s.keys.Delete?n.begin-1:n.end]===r.negationSymbol.front)return i=t.slice().reverse(),""!==r.negationSymbol.front&&i.shift(),""!==r.negationSymbol.back&&i.pop(),o.trigger("setvalue",[i.join(""),n.begin]),!1;if(!0===r._radixDance){var d=t.indexOf(r.radixPoint);if(r.digitsOptional){if(0===d)return(i=t.slice().reverse()).pop(),o.trigger("setvalue",[i.join(""),n.begin>=i.length?i.length:n.begin]),!1}else if(-1!==d&&(n.begin<d||n.end<d||e.key===s.keys.Delete&&(n.begin===d||n.begin-1===d))){var h=void 0;return n.begin===n.end&&(e.key===s.keys.Backspace||e.key===s.keys.BACKSPACE_SAFARI?n.begin++:e.key===s.keys.Delete&&n.begin-1===d&&(h=l.extend({},n),n.begin--,n.end--)),(i=t.slice().reverse()).splice(i.length-n.begin,n.begin-n.end+1),i=u(i,r.digits,r).join(""),h&&(n=h),o.trigger("setvalue",[i,n.begin>=i.length?d+1:n.begin]),!1}}}}},currency:{prefix:"",groupSeparator:",",alias:"numeric",digits:2,digitsOptional:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",inputmode:"numeric",digits:0},percentage:{alias:"numeric",min:0,max:100,suffix:" %",digits:0,allowMinus:!1},indianns:{alias:"numeric",_mask:function(e){return"("+e.groupSeparator+"99){*|1}("+e.groupSeparator+"999){1|1}"},groupSeparator:",",radixPoint:".",placeholder:"0",digits:2,digitsOptional:!1}})},9380:function(e,t,n){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((r=n(8741))&&r.__esModule?r:{default:r}).default?window:{};t.default=i},7760:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HandleNativePlaceholder=function(e,t){var n=e?e.inputmask:this;if(a.ie){if(e.inputmask._valueGet()!==t&&(e.placeholder!==t||""===e.placeholder)){var r=o.getBuffer.call(n).slice(),i=e.inputmask._valueGet();if(i!==t){var s=o.getLastValidPosition.call(n);-1===s&&i===o.getBufferTemplate.call(n).join("")?r=[]:-1!==s&&u.call(n,r),h(e,r)}}}else e.placeholder!==t&&(e.placeholder=t,""===e.placeholder&&e.removeAttribute("placeholder"))},t.applyInputValue=c,t.checkVal=d,t.clearOptionalTail=u,t.unmaskedvalue=function(e){var t=e?e.inputmask:this,n=t.opts,r=t.maskset;if(e){if(void 0===e.inputmask)return e.value;e.inputmask&&e.inputmask.refreshValue&&c(e,e.inputmask._valueGet(!0))}for(var i=[],s=r.validPositions,a=0,l=s.length;a<l;a++)s[a]&&s[a].match&&(1!=s[a].match.static||Array.isArray(r.metadata)&&!0!==s[a].generatedInput)&&i.push(s[a].input);var u=0===i.length?"":(t.isRTL?i.reverse():i).join("");if("function"==typeof n.onUnMask){var d=(t.isRTL?o.getBuffer.call(t).slice().reverse():o.getBuffer.call(t)).join("");u=n.onUnMask.call(t,d,u,n)}return u},t.writeBuffer=h;var r=n(2839),i=n(4713),o=n(8711),s=n(7215),a=n(9845),l=n(6030);function c(e,t){var n=e?e.inputmask:this,r=n.opts;e.inputmask.refreshValue=!1,"function"==typeof r.onBeforeMask&&(t=r.onBeforeMask.call(n,t,r)||t),d(e,!0,!1,t=(t||"").toString().split("")),n.undoValue=n._valueGet(!0),(r.clearMaskOnLostFocus||r.clearIncomplete)&&e.inputmask._valueGet()===o.getBufferTemplate.call(n).join("")&&-1===o.getLastValidPosition.call(n)&&e.inputmask._valueSet("")}function u(e){e.length=0;for(var t,n=i.getMaskTemplate.call(this,!0,0,!0,void 0,!0);void 0!==(t=n.shift());)e.push(t);return e}function d(e,t,n,r,a){var c=e?e.inputmask:this,u=c.maskset,d=c.opts,f=c.dependencyLib,p=r.slice(),m="",g=-1,v=void 0,y=d.skipOptionalPartCharacter;d.skipOptionalPartCharacter="",o.resetMaskSet.call(c),u.tests={},g=d.radixPoint?o.determineNewCaretPosition.call(c,{begin:0,end:0},!1,!1===d.__financeInput?"radixFocus":void 0).begin:0,u.p=g,c.caretPos={begin:g};var _=[],b=c.caretPos;if(p.forEach((function(e,t){if(void 0!==e){var r=new f.Event("_checkval");r.key=e,m+=e;var s=o.getLastValidPosition.call(c,void 0,!0);!function(e,t){for(var n=i.getMaskTemplate.call(c,!0,0).slice(e,o.seekNext.call(c,e,!1,!1)).join("").replace(/'/g,""),r=n.indexOf(t);r>0&&" "===n[r-1];)r--;var s=0===r&&!o.isMask.call(c,e)&&(i.getTest.call(c,e).match.nativeDef===t.charAt(0)||!0===i.getTest.call(c,e).match.static&&i.getTest.call(c,e).match.nativeDef==="'"+t.charAt(0)||" "===i.getTest.call(c,e).match.nativeDef&&(i.getTest.call(c,e+1).match.nativeDef===t.charAt(0)||!0===i.getTest.call(c,e+1).match.static&&i.getTest.call(c,e+1).match.nativeDef==="'"+t.charAt(0)));if(!s&&r>0&&!o.isMask.call(c,e,!1,!0)){var a=o.seekNext.call(c,e);c.caretPos.begin<a&&(c.caretPos={begin:a})}return s}(g,m)?(v=l.EventHandlers.keypressEvent.call(c,r,!0,!1,n,c.caretPos.begin))&&(g=c.caretPos.begin+1,m=""):v=l.EventHandlers.keypressEvent.call(c,r,!0,!1,n,s+1),v?(void 0!==v.pos&&u.validPositions[v.pos]&&!0===u.validPositions[v.pos].match.static&&void 0===u.validPositions[v.pos].alternation&&(_.push(v.pos),c.isRTL||(v.forwardPosition=v.pos+1)),h.call(c,void 0,o.getBuffer.call(c),v.forwardPosition,r,!1),c.caretPos={begin:v.forwardPosition,end:v.forwardPosition},b=c.caretPos):void 0===u.validPositions[t]&&p[t]===i.getPlaceholder.call(c,t)&&o.isMask.call(c,t,!0)?c.caretPos.begin++:c.caretPos=b}})),_.length>0){var w,k,x=o.seekNext.call(c,-1,void 0,!1);if(!s.isComplete.call(c,o.getBuffer.call(c))&&_.length<=x||s.isComplete.call(c,o.getBuffer.call(c))&&_.length>0&&_.length!==x&&0===_[0])for(var S=x;void 0!==(w=_.shift());){var E=new f.Event("_checkval");if((k=u.validPositions[w]).generatedInput=!0,E.key=k.input,(v=l.EventHandlers.keypressEvent.call(c,E,!0,!1,n,S))&&void 0!==v.pos&&v.pos!==w&&u.validPositions[v.pos]&&!0===u.validPositions[v.pos].match.static)_.push(v.pos);else if(!v)break;S++}}t&&h.call(c,e,o.getBuffer.call(c),v?v.forwardPosition:c.caretPos.begin,a||new f.Event("checkval"),a&&("input"===a.type&&c.undoValue!==o.getBuffer.call(c).join("")||"paste"===a.type)),d.skipOptionalPartCharacter=y}function h(e,t,n,i,a){var l=e?e.inputmask:this,c=l.opts,u=l.dependencyLib;if(i&&"function"==typeof c.onBeforeWrite){var d=c.onBeforeWrite.call(l,i,t,n,c);if(d){if(d.refreshFromBuffer){var h=d.refreshFromBuffer;s.refreshFromBuffer.call(l,!0===h?h:h.start,h.end,d.buffer||t),t=o.getBuffer.call(l,!0)}void 0!==n&&(n=void 0!==d.caret?d.caret:n)}}if(void 0!==e&&(e.inputmask._valueSet(t.join("")),void 0===n||void 0!==i&&"blur"===i.type||o.caret.call(l,e,n,void 0,void 0,void 0!==i&&"keydown"===i.type&&(i.key===r.keys.Delete||i.key===r.keys.Backspace)),!0===a)){var f=u(e),p=e.inputmask._valueGet();e.inputmask.skipInputEvent=!0,f.trigger("input"),setTimeout((function(){p===o.getBufferTemplate.call(l).join("")?f.trigger("cleared"):!0===s.isComplete.call(l,t)&&f.trigger("complete")}),0)}}},2394:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(157),i=g(n(4963)),o=g(n(9380)),s=n(2391),a=n(4713),l=n(8711),c=n(7215),u=n(7760),d=n(9716),h=g(n(7392)),f=g(n(3976)),p=g(n(8741));function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function g(e){return e&&e.__esModule?e:{default:e}}var v=o.default.document,y="_inputmask_opts";function _(e,t,n){if(p.default){if(!(this instanceof _))return new _(e,t,n);this.dependencyLib=i.default,this.el=void 0,this.events={},this.maskset=void 0,!0!==n&&("[object Object]"===Object.prototype.toString.call(e)?t=e:(t=t||{},e&&(t.alias=e)),this.opts=i.default.extend(!0,{},this.defaults,t),this.noMasksCache=t&&void 0!==t.definitions,this.userOptions=t||{},b(this.opts.alias,t,this.opts)),this.refreshValue=!1,this.undoValue=void 0,this.$el=void 0,this.skipInputEvent=!1,this.validationEvent=!1,this.ignorable=!1,this.maxLength,this.mouseEnter=!1,this.clicked=0,this.originalPlaceholder=void 0,this.isComposing=!1,this.hasAlternator=!1}}function b(e,t,n){var r=_.prototype.aliases[e];return r?(r.alias&&b(r.alias,void 0,n),i.default.extend(!0,n,r),i.default.extend(!0,n,t),!0):(null===n.mask&&(n.mask=e),!1)}_.prototype={dataAttribute:"data-inputmask",defaults:f.default,definitions:h.default,aliases:{},masksCache:{},get isRTL(){return this.opts.isRTL||this.opts.numericInput},mask:function(e){var t=this;return"string"==typeof e&&(e=v.getElementById(e)||v.querySelectorAll(e)),(e=e.nodeName?[e]:Array.isArray(e)?e:[].slice.call(e)).forEach((function(e,n){var a=i.default.extend(!0,{},t.opts);if(function(e,t,n,r){function s(t,i){var s=""===r?t:r+"-"+t;null!==(i=void 0!==i?i:e.getAttribute(s))&&("string"==typeof i&&(0===t.indexOf("on")?i=o.default[i]:"false"===i?i=!1:"true"===i&&(i=!0)),n[t]=i)}if(!0===t.importDataAttributes){var a,l,c,u,d=e.getAttribute(r);if(d&&""!==d&&(d=d.replace(/'/g,'"'),l=JSON.parse("{"+d+"}")),l)for(u in c=void 0,l)if("alias"===u.toLowerCase()){c=l[u];break}for(a in s("alias",c),n.alias&&b(n.alias,n,t),t){if(l)for(u in c=void 0,l)if(u.toLowerCase()===a.toLowerCase()){c=l[u];break}s(a,c)}}return i.default.extend(!0,t,n),("rtl"===e.dir||t.rightAlign)&&(e.style.textAlign="right"),("rtl"===e.dir||t.numericInput)&&(e.dir="ltr",e.removeAttribute("dir"),t.isRTL=!0),Object.keys(n).length}(e,a,i.default.extend(!0,{},t.userOptions),t.dataAttribute)){var l=(0,s.generateMaskSet)(a,t.noMasksCache);void 0!==l&&(void 0!==e.inputmask&&(e.inputmask.opts.autoUnmask=!0,e.inputmask.remove()),e.inputmask=new _(void 0,void 0,!0),e.inputmask.opts=a,e.inputmask.noMasksCache=t.noMasksCache,e.inputmask.userOptions=i.default.extend(!0,{},t.userOptions),e.inputmask.el=e,e.inputmask.$el=(0,i.default)(e),e.inputmask.maskset=l,i.default.data(e,y,t.userOptions),r.mask.call(e.inputmask))}})),e&&e[0]&&e[0].inputmask||this},option:function(e,t){return"string"==typeof e?this.opts[e]:"object"===m(e)?(i.default.extend(this.userOptions,e),this.el&&!0!==t&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){if(this.maskset=this.maskset||(0,s.generateMaskSet)(this.opts,this.noMasksCache),void 0===this.el||void 0!==e){var t=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,e,this.opts)||e).split("");u.checkVal.call(this,void 0,!1,!1,t),"function"==typeof this.opts.onBeforeWrite&&this.opts.onBeforeWrite.call(this,void 0,l.getBuffer.call(this),0,this.opts)}return u.unmaskedvalue.call(this,this.el)},remove:function(){if(this.el){i.default.data(this.el,y,null);var e=this.opts.autoUnmask?(0,u.unmaskedvalue)(this.el):this._valueGet(this.opts.autoUnmask);e!==l.getBufferTemplate.call(this).join("")?this._valueSet(e,this.opts.autoUnmask):this._valueSet(""),d.EventRuler.off(this.el),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el),"value")&&this.__valueGet&&Object.defineProperty(this.el,"value",{get:this.__valueGet,set:this.__valueSet,configurable:!0}):v.__lookupGetter__&&this.el.__lookupGetter__("value")&&this.__valueGet&&(this.el.__defineGetter__("value",this.__valueGet),this.el.__defineSetter__("value",this.__valueSet)),this.el.inputmask=void 0}return this.el},getemptymask:function(){return this.maskset=this.maskset||(0,s.generateMaskSet)(this.opts,this.noMasksCache),(this.isRTL?l.getBufferTemplate.call(this).reverse():l.getBufferTemplate.call(this)).join("")},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||(0,s.generateMaskSet)(this.opts,this.noMasksCache),c.isComplete.call(this,l.getBuffer.call(this))},getmetadata:function(){if(this.maskset=this.maskset||(0,s.generateMaskSet)(this.opts,this.noMasksCache),Array.isArray(this.maskset.metadata)){var e=a.getMaskTemplate.call(this,!0,0,!1).join("");return this.maskset.metadata.forEach((function(t){return t.mask!==e||(e=t,!1)})),e}return this.maskset.metadata},isValid:function(e){if(this.maskset=this.maskset||(0,s.generateMaskSet)(this.opts,this.noMasksCache),e){var t=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,e,this.opts)||e).split("");u.checkVal.call(this,void 0,!0,!1,t)}else e=this.isRTL?l.getBuffer.call(this).slice().reverse().join(""):l.getBuffer.call(this).join("");for(var n=l.getBuffer.call(this),r=l.determineLastRequiredPosition.call(this),i=n.length-1;i>r&&!l.isMask.call(this,i);i--);return n.splice(r,i+1-r),c.isComplete.call(this,n)&&e===(this.isRTL?l.getBuffer.call(this).slice().reverse().join(""):l.getBuffer.call(this).join(""))},format:function(e,t){this.maskset=this.maskset||(0,s.generateMaskSet)(this.opts,this.noMasksCache);var n=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,e,this.opts)||e).split("");u.checkVal.call(this,void 0,!0,!1,n);var r=this.isRTL?l.getBuffer.call(this).slice().reverse().join(""):l.getBuffer.call(this).join("");return t?{value:r,metadata:this.getmetadata()}:r},setValue:function(e){this.el&&(0,i.default)(this.el).trigger("setvalue",[e])},analyseMask:s.analyseMask},_.extendDefaults=function(e){i.default.extend(!0,_.prototype.defaults,e)},_.extendDefinitions=function(e){i.default.extend(!0,_.prototype.definitions,e)},_.extendAliases=function(e){i.default.extend(!0,_.prototype.aliases,e)},_.format=function(e,t,n){return _(t).format(e,n)},_.unmask=function(e,t){return _(t).unmaskedvalue(e)},_.isValid=function(e,t){return _(t).isValid(e)},_.remove=function(e){"string"==typeof e&&(e=v.getElementById(e)||v.querySelectorAll(e)),(e=e.nodeName?[e]:e).forEach((function(e){e.inputmask&&e.inputmask.remove()}))},_.setValue=function(e,t){"string"==typeof e&&(e=v.getElementById(e)||v.querySelectorAll(e)),(e=e.nodeName?[e]:e).forEach((function(e){e.inputmask?e.inputmask.setValue(t):(0,i.default)(e).trigger("setvalue",[t])}))},_.dependencyLib=i.default,o.default.Inputmask=_;var w=_;t.default=w},5296:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=p(n(9380)),o=p(n(2394)),s=p(n(8741));function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=void 0,o=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i.key,"string"),"symbol"===r(o)?o:String(o)),i)}var o}function l(e){var t=d();return function(){var n,i=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function c(e){var t="function"==typeof Map?new Map:void 0;return c=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return u(e,arguments,f(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,e)},c(e)}function u(e,t,n){return u=d()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&h(i,n.prototype),i},u.apply(null,arguments)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e){return e&&e.__esModule?e:{default:e}}var m=i.default.document;if(s.default&&m&&m.head&&m.head.attachShadow&&i.default.customElements&&void 0===i.default.customElements.get("input-mask")){var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(s,e);var t,n,r,i=l(s);function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var t=(e=i.call(this)).getAttributeNames(),n=e.attachShadow({mode:"closed"}),r=m.createElement("input");for(var a in r.type="text",n.appendChild(r),t)Object.prototype.hasOwnProperty.call(t,a)&&r.setAttribute(t[a],e.getAttribute(t[a]));var l=new o.default;return l.dataAttribute="",l.mask(r),r.inputmask.shadowRoot=n,e}return t=s,n&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(c(HTMLElement));i.default.customElements.define("input-mask",g)}},2839:function(e,t){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.keys=t.keyCode=void 0,t.toKey=function(e,t){return o[e]||(t?String.fromCharCode(e):String.fromCharCode(e).toLowerCase())},t.toKeyCode=function(e){return i[e]};var i={AltGraph:18,ArrowDown:40,ArrowLeft:37,ArrowRight:39,ArrowUp:38,Backspace:8,BACKSPACE_SAFARI:127,CapsLock:20,Delete:46,End:35,Enter:13,Escape:27,Home:36,Insert:45,PageDown:34,PageUp:33,Space:32,Tab:9,c:67,x:88,z:90,Shift:16,Control:17,Alt:18,Pause:19,Meta_LEFT:91,Meta_RIGHT:92,ContextMenu:93,Process:229,Unidentified:229,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123};t.keyCode=i;var o=Object.entries(i).reduce((function(e,t){var r=n(t,2),i=r[0],o=r[1];return e[o]=void 0===e[o]?i:e[o],e}),{}),s=Object.entries(i).reduce((function(e,t){var r=n(t,2),i=r[0];return r[1],e[i]="Space"===i?" ":i,e}),{});t.keys=s},2391:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.analyseMask=function(e,t,n){var r,s,a,l,c,u,d=/(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g,h=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,f=!1,p=new i.default,m=[],g=[],v=!1;function y(e,r,i){i=void 0!==i?i:e.matches.length;var s=e.matches[i-1];if(t){if(0===r.indexOf("[")||f&&/\\d|\\s|\\w|\\p/i.test(r)||"."===r){var a=n.casing?"i":"";/^\\p\{.*}$/i.test(r)&&(a+="u"),e.matches.splice(i++,0,{fn:new RegExp(r,a),static:!1,optionality:!1,newBlockMarker:void 0===s?"master":s.def!==r,casing:null,def:r,placeholder:void 0,nativeDef:r})}else f&&(r=r[r.length-1]),r.split("").forEach((function(t,r){s=e.matches[i-1],e.matches.splice(i++,0,{fn:/[a-z]/i.test(n.staticDefinitionSymbol||t)?new RegExp("["+(n.staticDefinitionSymbol||t)+"]",n.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===s?"master":s.def!==t&&!0!==s.static,casing:null,def:n.staticDefinitionSymbol||t,placeholder:void 0!==n.staticDefinitionSymbol?t:void 0,nativeDef:(f?"'":"")+t})}));f=!1}else{var l=n.definitions&&n.definitions[r]||n.usePrototypeDefinitions&&o.default.prototype.definitions[r];l&&!f?e.matches.splice(i++,0,{fn:l.validator?"string"==typeof l.validator?new RegExp(l.validator,n.casing?"i":""):new function(){this.test=l.validator}:new RegExp("."),static:l.static||!1,optionality:l.optional||!1,defOptionality:l.optional||!1,newBlockMarker:void 0===s||l.optional?"master":s.def!==(l.definitionSymbol||r),casing:l.casing,def:l.definitionSymbol||r,placeholder:l.placeholder,nativeDef:r,generated:l.generated}):(e.matches.splice(i++,0,{fn:/[a-z]/i.test(n.staticDefinitionSymbol||r)?new RegExp("["+(n.staticDefinitionSymbol||r)+"]",n.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===s?"master":s.def!==r&&!0!==s.static,casing:null,def:n.staticDefinitionSymbol||r,placeholder:void 0!==n.staticDefinitionSymbol?r:void 0,nativeDef:(f?"'":"")+r}),f=!1)}}function _(){if(m.length>0){if(y(l=m[m.length-1],s),l.isAlternator){c=m.pop();for(var e=0;e<c.matches.length;e++)c.matches[e].isGroup&&(c.matches[e].isGroup=!1);m.length>0?(l=m[m.length-1]).matches.push(c):p.matches.push(c)}}else y(p,s)}function b(e){var t=new i.default(!0);return t.openGroup=!1,t.matches=e,t}function w(){if((a=m.pop()).openGroup=!1,void 0!==a)if(m.length>0){if((l=m[m.length-1]).matches.push(a),l.isAlternator){for(var e=(c=m.pop()).matches[0].matches?c.matches[0].matches.length:1,t=0;t<c.matches.length;t++)c.matches[t].isGroup=!1,c.matches[t].alternatorGroup=!1,null===n.keepStatic&&e<(c.matches[t].matches?c.matches[t].matches.length:1)&&(n.keepStatic=!0),e=c.matches[t].matches?c.matches[t].matches.length:1;m.length>0?(l=m[m.length-1]).matches.push(c):p.matches.push(c)}}else p.matches.push(a);else _()}function k(e){var t=e.pop();return t.isQuantifier&&(t=b([e.pop(),t])),t}for(t&&(n.optionalmarker[0]=void 0,n.optionalmarker[1]=void 0);r=t?h.exec(e):d.exec(e);){if(s=r[0],t){switch(s.charAt(0)){case"?":s="{0,1}";break;case"+":case"*":s="{"+s+"}";break;case"|":if(0===m.length){var x=b(p.matches);x.openGroup=!0,m.push(x),p.matches=[],v=!0}}switch(s){case"\\d":s="[0-9]";break;case"\\p":s+=h.exec(e)[0],s+=h.exec(e)[0]}}if(f)_();else switch(s.charAt(0)){case"$":case"^":t||_();break;case n.escapeChar:f=!0,t&&_();break;case n.optionalmarker[1]:case n.groupmarker[1]:w();break;case n.optionalmarker[0]:m.push(new i.default(!1,!0));break;case n.groupmarker[0]:m.push(new i.default(!0));break;case n.quantifiermarker[0]:var S=new i.default(!1,!1,!0),E=(s=s.replace(/[{}?]/g,"")).split("|"),C=E[0].split(","),T=isNaN(C[0])?C[0]:parseInt(C[0]),A=1===C.length?T:isNaN(C[1])?C[1]:parseInt(C[1]),O=isNaN(E[1])?E[1]:parseInt(E[1]);"*"!==T&&"+"!==T||(T="*"===A?0:1),S.quantifier={min:T,max:A,jit:O};var D=m.length>0?m[m.length-1].matches:p.matches;(r=D.pop()).isGroup||(r=b([r])),D.push(r),D.push(S);break;case n.alternatormarker:if(m.length>0){var M=(l=m[m.length-1]).matches[l.matches.length-1];u=l.openGroup&&(void 0===M.matches||!1===M.isGroup&&!1===M.isAlternator)?m.pop():k(l.matches)}else u=k(p.matches);if(u.isAlternator)m.push(u);else if(u.alternatorGroup?(c=m.pop(),u.alternatorGroup=!1):c=new i.default(!1,!1,!1,!0),c.matches.push(u),m.push(c),u.openGroup){u.openGroup=!1;var L=new i.default(!0);L.alternatorGroup=!0,m.push(L)}break;default:_()}}for(v&&w();m.length>0;)a=m.pop(),p.matches.push(a);return p.matches.length>0&&(function e(r){r&&r.matches&&r.matches.forEach((function(i,o){var s=r.matches[o+1];(void 0===s||void 0===s.matches||!1===s.isQuantifier)&&i&&i.isGroup&&(i.isGroup=!1,t||(y(i,n.groupmarker[0],0),!0!==i.openGroup&&y(i,n.groupmarker[1]))),e(i)}))}(p),g.push(p)),(n.numericInput||n.isRTL)&&function e(t){for(var r in t.matches=t.matches.reverse(),t.matches)if(Object.prototype.hasOwnProperty.call(t.matches,r)){var i=parseInt(r);if(t.matches[r].isQuantifier&&t.matches[i+1]&&t.matches[i+1].isGroup){var o=t.matches[r];t.matches.splice(r,1),t.matches.splice(i+1,0,o)}void 0!==t.matches[r].matches?t.matches[r]=e(t.matches[r]):t.matches[r]=((s=t.matches[r])===n.optionalmarker[0]?s=n.optionalmarker[1]:s===n.optionalmarker[1]?s=n.optionalmarker[0]:s===n.groupmarker[0]?s=n.groupmarker[1]:s===n.groupmarker[1]&&(s=n.groupmarker[0]),s)}var s;return t}(g[0]),g},t.generateMaskSet=function(e,t){var n;function i(e,t){var n=t.repeat,r=t.groupmarker,i=t.quantifiermarker,o=t.keepStatic;if(n>0||"*"===n||"+"===n){var l="*"===n?0:"+"===n?1:n;e=r[0]+e+r[1]+i[0]+l+","+n+i[1]}if(!0===o){var c=e.match(new RegExp("(.)\\[([^\\]]*)\\]","g"));c&&c.forEach((function(t,n){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.split("["),2),i=r[0],o=r[1];o=o.replace("]",""),e=e.replace(new RegExp("".concat((0,s.default)(i),"\\[").concat((0,s.default)(o),"\\]")),i.charAt(0)===o.charAt(0)?"(".concat(i,"|").concat(i).concat(o,")"):"".concat(i,"[").concat(o,"]"))}))}return e}function l(e,n,s){var a,l,c=!1;return null!==e&&""!==e||((c=null!==s.regex)?e=(e=s.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(c=!0,e=".*")),1===e.length&&!1===s.greedy&&0!==s.repeat&&(s.placeholder=""),e=i(e,s),l=c?"regex_"+s.regex:s.numericInput?e.split("").reverse().join(""):e,null!==s.keepStatic&&(l="ks_"+s.keepStatic+l),void 0===o.default.prototype.masksCache[l]||!0===t?(a={mask:e,maskToken:o.default.prototype.analyseMask(e,c,s),validPositions:[],_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:n,maskLength:void 0,jitOffset:{}},!0!==t&&(o.default.prototype.masksCache[l]=a,a=r.default.extend(!0,{},o.default.prototype.masksCache[l]))):a=r.default.extend(!0,{},o.default.prototype.masksCache[l]),a}if("function"==typeof e.mask&&(e.mask=e.mask(e)),Array.isArray(e.mask)){if(e.mask.length>1){null===e.keepStatic&&(e.keepStatic=!0);var c=e.groupmarker[0];return(e.isRTL?e.mask.reverse():e.mask).forEach((function(t){c.length>1&&(c+=e.alternatormarker),void 0!==t.mask&&"function"!=typeof t.mask?c+=t.mask:c+=t})),l(c+=e.groupmarker[1],e.mask,e)}e.mask=e.mask.pop()}return n=e.mask&&void 0!==e.mask.mask&&"function"!=typeof e.mask.mask?l(e.mask.mask,e.mask,e):l(e.mask,e.mask,e),null===e.keepStatic&&(e.keepStatic=!1),n};var r=l(n(4963)),i=l(n(9695)),o=l(n(2394)),s=l(n(7184));function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return e&&e.__esModule?e:{default:e}}},157:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.mask=function(){var e=this,t=this.opts,n=this.el,u=this.dependencyLib;s.EventRuler.off(n);var d=function(t,n){"textarea"!==t.tagName.toLowerCase()&&n.ignorables.push(r.keys.Enter);var a=t.getAttribute("type"),l="input"===t.tagName.toLowerCase()&&n.supportsInputType.includes(a)||t.isContentEditable||"textarea"===t.tagName.toLowerCase();if(!l)if("input"===t.tagName.toLowerCase()){var c=document.createElement("input");c.setAttribute("type",a),l="text"===c.type,c=null}else l="partial";return!1!==l?function(t){var r,a;function l(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==i.getLastValidPosition.call(e)||!0!==n.nullable?(this.inputmask.shadowRoot||this.ownerDocument).activeElement===this&&n.clearMaskOnLostFocus?(e.isRTL?o.clearOptionalTail.call(e,i.getBuffer.call(e).slice()).reverse():o.clearOptionalTail.call(e,i.getBuffer.call(e).slice())).join(""):r.call(this):"":r.call(this)}function c(e){a.call(this,e),this.inputmask&&(0,o.applyInputValue)(this,e)}if(!t.inputmask.__valueGet){if(!0!==n.noValuePatching){if(Object.getOwnPropertyDescriptor){var d=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):void 0;d&&d.get&&d.set?(r=d.get,a=d.set,Object.defineProperty(t,"value",{get:l,set:c,configurable:!0})):"input"!==t.tagName.toLowerCase()&&(r=function(){return this.textContent},a=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:l,set:c,configurable:!0}))}else document.__lookupGetter__&&t.__lookupGetter__("value")&&(r=t.__lookupGetter__("value"),a=t.__lookupSetter__("value"),t.__defineGetter__("value",l),t.__defineSetter__("value",c));t.inputmask.__valueGet=r,t.inputmask.__valueSet=a}t.inputmask._valueGet=function(t){return e.isRTL&&!0!==t?r.call(this.el).split("").reverse().join(""):r.call(this.el)},t.inputmask._valueSet=function(t,n){a.call(this.el,null==t?"":!0!==n&&e.isRTL?t.split("").reverse().join(""):t)},void 0===r&&(r=function(){return this.value},a=function(e){this.value=e},function(t){if(u.valHooks&&(void 0===u.valHooks[t]||!0!==u.valHooks[t].inputmaskpatch)){var r=u.valHooks[t]&&u.valHooks[t].get?u.valHooks[t].get:function(e){return e.value},s=u.valHooks[t]&&u.valHooks[t].set?u.valHooks[t].set:function(e,t){return e.value=t,e};u.valHooks[t]={get:function(t){if(t.inputmask){if(t.inputmask.opts.autoUnmask)return t.inputmask.unmaskedvalue();var o=r(t);return-1!==i.getLastValidPosition.call(e,void 0,void 0,t.inputmask.maskset.validPositions)||!0!==n.nullable?o:""}return r(t)},set:function(e,t){var n=s(e,t);return e.inputmask&&(0,o.applyInputValue)(e,t),n},inputmaskpatch:!0}}}(t.type),function(e){s.EventRuler.on(e,"mouseenter",(function(){var e=this,t=e.inputmask._valueGet(!0);t!=(e.inputmask.isRTL?i.getBuffer.call(e.inputmask).slice().reverse():i.getBuffer.call(e.inputmask)).join("")&&(0,o.applyInputValue)(e,t)}))}(t))}}(t):t.inputmask=void 0,l}(n,t);if(!1!==d){e.originalPlaceholder=n.placeholder,e.maxLength=void 0!==n?n.maxLength:void 0,-1===e.maxLength&&(e.maxLength=void 0),"inputMode"in n&&null===n.getAttribute("inputmode")&&(n.inputMode=t.inputmode,n.setAttribute("inputmode",t.inputmode)),!0===d&&(t.showMaskOnFocus=t.showMaskOnFocus&&-1===["cc-number","cc-exp"].indexOf(n.autocomplete),a.iphone&&(t.insertModeVisual=!1,n.setAttribute("autocorrect","off")),s.EventRuler.on(n,"submit",c.EventHandlers.submitEvent),s.EventRuler.on(n,"reset",c.EventHandlers.resetEvent),s.EventRuler.on(n,"blur",c.EventHandlers.blurEvent),s.EventRuler.on(n,"focus",c.EventHandlers.focusEvent),s.EventRuler.on(n,"invalid",c.EventHandlers.invalidEvent),s.EventRuler.on(n,"click",c.EventHandlers.clickEvent),s.EventRuler.on(n,"mouseleave",c.EventHandlers.mouseleaveEvent),s.EventRuler.on(n,"mouseenter",c.EventHandlers.mouseenterEvent),s.EventRuler.on(n,"paste",c.EventHandlers.pasteEvent),s.EventRuler.on(n,"cut",c.EventHandlers.cutEvent),s.EventRuler.on(n,"complete",t.oncomplete),s.EventRuler.on(n,"incomplete",t.onincomplete),s.EventRuler.on(n,"cleared",t.oncleared),!0!==t.inputEventOnly&&s.EventRuler.on(n,"keydown",c.EventHandlers.keyEvent),(a.mobile||t.inputEventOnly)&&n.removeAttribute("maxLength"),s.EventRuler.on(n,"input",c.EventHandlers.inputFallBackEvent)),s.EventRuler.on(n,"setvalue",c.EventHandlers.setValueEvent),i.getBufferTemplate.call(e).join(""),e.undoValue=e._valueGet(!0);var h=(n.inputmask.shadowRoot||n.ownerDocument).activeElement;if(""!==n.inputmask._valueGet(!0)||!1===t.clearMaskOnLostFocus||h===n){(0,o.applyInputValue)(n,n.inputmask._valueGet(!0),t);var f=i.getBuffer.call(e).slice();!1===l.isComplete.call(e,f)&&t.clearIncomplete&&i.resetMaskSet.call(e),t.clearMaskOnLostFocus&&h!==n&&(-1===i.getLastValidPosition.call(e)?f=[]:o.clearOptionalTail.call(e,f)),(!1===t.clearMaskOnLostFocus||t.showMaskOnFocus&&h===n||""!==n.inputmask._valueGet(!0))&&(0,o.writeBuffer)(n,f),h===n&&i.caret.call(e,n,i.seekNext.call(e,i.getLastValidPosition.call(e)))}}};var r=n(2839),i=n(8711),o=n(7760),s=n(9716),a=n(9845),l=n(7215),c=n(6030)},9695:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){this.matches=[],this.openGroup=e||!1,this.alternatorGroup=!1,this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=n||!1,this.isAlternator=r||!1,this.quantifier={min:1,max:1}}},3194:function(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;for(var i=0|t,o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;){if(n[o]===e)return!0;o++}return!1}})},9302:function(){var e=Function.bind.call(Function.call,Array.prototype.reduce),t=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),n=Function.bind.call(Function.call,Array.prototype.concat),r=Object.keys;Object.entries||(Object.entries=function(i){return e(r(i),(function(e,r){return n(e,"string"==typeof r&&t(i,r)?[[r,i[r]]]:[])}),[])})},7149:function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===e("test".__proto__)?function(e){return e.__proto__}:function(e){return e.constructor.prototype})},4013:function(){String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)})},8711:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.caret=function(e,t,n,r,i){var o,s=this,a=this.opts;if(void 0===t)return"selectionStart"in e&&"selectionEnd"in e?(t=e.selectionStart,n=e.selectionEnd):window.getSelection?(o=window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==e&&o.commonAncestorContainer!==e||(t=o.startOffset,n=o.endOffset):document.selection&&document.selection.createRange&&(n=(t=0-(o=document.selection.createRange()).duplicate().moveStart("character",-e.inputmask._valueGet().length))+o.text.length),{begin:r?t:c.call(s,t),end:r?n:c.call(s,n)};if(Array.isArray(t)&&(n=s.isRTL?t[0]:t[1],t=s.isRTL?t[1]:t[0]),void 0!==t.begin&&(n=s.isRTL?t.begin:t.end,t=s.isRTL?t.end:t.begin),"number"==typeof t){t=r?t:c.call(s,t),n="number"==typeof(n=r?n:c.call(s,n))?n:t;var l=parseInt(((e.ownerDocument.defaultView||window).getComputedStyle?(e.ownerDocument.defaultView||window).getComputedStyle(e,null):e.currentStyle).fontSize)*n;if(e.scrollLeft=l>e.scrollWidth?l:0,e.inputmask.caretPos={begin:t,end:n},a.insertModeVisual&&!1===a.insertMode&&t===n&&(i||n++),e===(e.inputmask.shadowRoot||e.ownerDocument).activeElement)if("setSelectionRange"in e)e.setSelectionRange(t,n);else if(window.getSelection){if(o=document.createRange(),void 0===e.firstChild||null===e.firstChild){var u=document.createTextNode("");e.appendChild(u)}o.setStart(e.firstChild,t<e.inputmask._valueGet().length?t:e.inputmask._valueGet().length),o.setEnd(e.firstChild,n<e.inputmask._valueGet().length?n:e.inputmask._valueGet().length),o.collapse(!0);var d=window.getSelection();d.removeAllRanges(),d.addRange(o)}else e.createTextRange&&((o=e.createTextRange()).collapse(!0),o.moveEnd("character",n),o.moveStart("character",t),o.select())}},t.determineLastRequiredPosition=function(e){var t,n,o=this,a=o.maskset,l=o.dependencyLib,c=r.getMaskTemplate.call(o,!0,s.call(o),!0,!0),u=c.length,d=s.call(o),h={},f=a.validPositions[d],p=void 0!==f?f.locator.slice():void 0;for(t=d+1;t<c.length;t++)p=(n=r.getTestTemplate.call(o,t,p,t-1)).locator.slice(),h[t]=l.extend(!0,{},n);var m=f&&void 0!==f.alternation?f.locator[f.alternation]:void 0;for(t=u-1;t>d&&((n=h[t]).match.optionality||n.match.optionalQuantifier&&n.match.newBlockMarker||m&&(m!==h[t].locator[f.alternation]&&1!=n.match.static||!0===n.match.static&&n.locator[f.alternation]&&i.checkAlternationMatch.call(o,n.locator[f.alternation].toString().split(","),m.toString().split(","))&&""!==r.getTests.call(o,t)[0].def))&&c[t]===r.getPlaceholder.call(o,t,n.match);t--)u--;return e?{l:u,def:h[u]?h[u].match:void 0}:u},t.determineNewCaretPosition=function(e,t,n){var i=this,c=i.maskset,u=i.opts;if(t&&(i.isRTL?e.end=e.begin:e.begin=e.end),e.begin===e.end){switch(n=n||u.positionCaretOnClick){case"none":break;case"select":e={begin:0,end:o.call(i).length};break;case"ignore":e.end=e.begin=l.call(i,s.call(i));break;case"radixFocus":if(i.clicked>1&&0==c.validPositions.length)break;if(function(e){if(""!==u.radixPoint&&0!==u.digits){var t=c.validPositions;if(void 0===t[e]||t[e].input===r.getPlaceholder.call(i,e)){if(e<l.call(i,-1))return!0;var n=o.call(i).indexOf(u.radixPoint);if(-1!==n){for(var s=0,a=t.length;s<a;s++)if(t[s]&&n<s&&t[s].input!==r.getPlaceholder.call(i,s))return!1;return!0}}}return!1}(e.begin)){var d=o.call(i).join("").indexOf(u.radixPoint);e.end=e.begin=u.numericInput?l.call(i,d):d;break}default:var h=e.begin,f=s.call(i,h,!0),p=l.call(i,-1!==f||a.call(i,0)?f:-1);if(h<=p)e.end=e.begin=a.call(i,h,!1,!0)?h:l.call(i,h);else{var m=c.validPositions[f],g=r.getTestTemplate.call(i,p,m?m.match.locator:void 0,m),v=r.getPlaceholder.call(i,p,g.match);if(""!==v&&o.call(i)[p]!==v&&!0!==g.match.optionalQuantifier&&!0!==g.match.newBlockMarker||!a.call(i,p,u.keepStatic,!0)&&g.match.def===v){var y=l.call(i,p);(h>=y||h===p)&&(p=y)}e.end=e.begin=p}}return e}},t.getBuffer=o,t.getBufferTemplate=function(){var e=this.maskset;return void 0===e._buffer&&(e._buffer=r.getMaskTemplate.call(this,!1,1),void 0===e.buffer&&(e.buffer=e._buffer.slice())),e._buffer},t.getLastValidPosition=s,t.isMask=a,t.resetMaskSet=function(e){var t=this.maskset;t.buffer=void 0,!0!==e&&(t.validPositions=[],t.p=0)},t.seekNext=l,t.seekPrevious=function(e,t){var n=this,i=e-1;if(e<=0)return 0;for(;i>0&&(!0===t&&(!0!==r.getTest.call(n,i).match.newBlockMarker||!a.call(n,i,void 0,!0))||!0!==t&&!a.call(n,i,void 0,!0));)i--;return i},t.translatePosition=c;var r=n(4713),i=n(7215);function o(e){var t=this,n=t.maskset;return void 0!==n.buffer&&!0!==e||(n.buffer=r.getMaskTemplate.call(t,!0,s.call(t),!0),void 0===n._buffer&&(n._buffer=n.buffer.slice())),n.buffer}function s(e,t,n){var r=this.maskset,i=-1,o=-1,s=n||r.validPositions;void 0===e&&(e=-1);for(var a=0,l=s.length;a<l;a++)s[a]&&(t||!0!==s[a].generatedInput)&&(a<=e&&(i=a),a>=e&&(o=a));return-1===i||i==e?o:-1==o||e-i<o-e?i:o}function a(e,t,n){var i=this,o=this.maskset,s=r.getTestTemplate.call(i,e).match;if(""===s.def&&(s=r.getTest.call(i,e).match),!0!==s.static)return s.fn;if(!0===n&&void 0!==o.validPositions[e]&&!0!==o.validPositions[e].generatedInput)return!0;if(!0!==t&&e>-1){if(n){var a=r.getTests.call(i,e);return a.length>1+(""===a[a.length-1].match.def?1:0)}var l=r.determineTestTemplate.call(i,e,r.getTests.call(i,e)),c=r.getPlaceholder.call(i,e,l.match);return l.match.def!==c}return!1}function l(e,t,n){var i=this;void 0===n&&(n=!0);for(var o=e+1;""!==r.getTest.call(i,o).match.def&&(!0===t&&(!0!==r.getTest.call(i,o).match.newBlockMarker||!a.call(i,o,void 0,!0))||!0!==t&&!a.call(i,o,void 0,n));)o++;return o}function c(e){var t=this.opts,n=this.el;return!this.isRTL||"number"!=typeof e||t.greedy&&""===t.placeholder||!n||(e=this._valueGet().length-e)<0&&(e=0),e}},4713:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.determineTestTemplate=c,t.getDecisionTaker=s,t.getMaskTemplate=function(e,t,n,r,i){var o=this,s=this.opts,u=this.maskset,d=s.greedy;i&&s.greedy&&(s.greedy=!1,o.maskset.tests={}),t=t||0;var f,p,m,g,v=[],y=0;do{if(!0===e&&u.validPositions[y])p=(m=i&&u.validPositions[y].match.optionality&&void 0===u.validPositions[y+1]&&(!0===u.validPositions[y].generatedInput||u.validPositions[y].input==s.skipOptionalPartCharacter&&y>0)?c.call(o,y,h.call(o,y,f,y-1)):u.validPositions[y]).match,f=m.locator.slice(),v.push(!0===n?m.input:!1===n?p.nativeDef:a.call(o,y,p));else{p=(m=l.call(o,y,f,y-1)).match,f=m.locator.slice();var _=!0!==r&&(!1!==s.jitMasking?s.jitMasking:p.jit);(g=(g&&p.static&&p.def!==s.groupSeparator&&null===p.fn||u.validPositions[y-1]&&p.static&&p.def!==s.groupSeparator&&null===p.fn)&&u.tests[y])||!1===_||void 0===_||"number"==typeof _&&isFinite(_)&&_>y?v.push(!1===n?p.nativeDef:a.call(o,v.length,p)):g=!1}y++}while(!0!==p.static||""!==p.def||t>y);return""===v[v.length-1]&&v.pop(),!1===n&&void 0!==u.maskLength||(u.maskLength=y-1),s.greedy=d,v},t.getPlaceholder=a,t.getTest=u,t.getTestTemplate=l,t.getTests=h,t.isSubsetOf=d;var r,i=(r=n(2394))&&r.__esModule?r:{default:r};function o(e,t){var n=(null!=e.alternation?e.mloc[s(e)]:e.locator).join("");if(""!==n)for(;n.length<t;)n+="0";return n}function s(e){var t=e.locator[e.alternation];return"string"==typeof t&&t.length>0&&(t=t.split(",")[0]),void 0!==t?t.toString():""}function a(e,t,n){var r=this.opts,i=this.maskset;if(void 0!==(t=t||u.call(this,e).match).placeholder||!0===n)return"function"==typeof t.placeholder?t.placeholder(r):t.placeholder;if(!0===t.static){if(e>-1&&void 0===i.validPositions[e]){var o,s=h.call(this,e),a=[];if(s.length>1+(""===s[s.length-1].match.def?1:0))for(var l=0;l<s.length;l++)if(""!==s[l].match.def&&!0!==s[l].match.optionality&&!0!==s[l].match.optionalQuantifier&&(!0===s[l].match.static||void 0===o||!1!==s[l].match.fn.test(o.match.def,i,e,!0,r))&&(a.push(s[l]),!0===s[l].match.static&&(o=s[l]),a.length>1&&/[0-9a-bA-Z]/.test(a[0].match.def)))return r.placeholder.charAt(e%r.placeholder.length)}return t.def}return r.placeholder.charAt(e%r.placeholder.length)}function l(e,t,n){return this.maskset.validPositions[e]||c.call(this,e,h.call(this,e,t?t.slice():t,n))}function c(e,t){var n=this.opts,r=0,i=function(e,t){var n=0,r=!1;return t.forEach((function(e){e.match.optionality&&(0!==n&&n!==e.match.optionality&&(r=!0),(0===n||n>e.match.optionality)&&(n=e.match.optionality))})),n&&(0==e||1==t.length?n=0:r||(n=0)),n}(e,t);e=e>0?e-1:0;var s,a,l,c=o(u.call(this,e));n.greedy&&t.length>1&&""===t[t.length-1].match.def&&(r=1);for(var d=0;d<t.length-r;d++){var h=t[d];s=o(h,c.length);var f=Math.abs(s-c);(void 0===a||""!==s&&f<a||l&&!n.greedy&&l.match.optionality&&l.match.optionality-i>0&&"master"===l.match.newBlockMarker&&(!h.match.optionality||h.match.optionality-i<1||!h.match.newBlockMarker)||l&&!n.greedy&&l.match.optionalQuantifier&&!h.match.optionalQuantifier)&&(a=f,l=h)}return l}function u(e,t){var n=this.maskset;return n.validPositions[e]?n.validPositions[e]:(t||h.call(this,e))[0]}function d(e,t,n){function r(e){for(var t,n=[],r=-1,i=0,o=e.length;i<o;i++)if("-"===e.charAt(i))for(t=e.charCodeAt(i+1);++r<t;)n.push(String.fromCharCode(r));else r=e.charCodeAt(i),n.push(e.charAt(i));return n.join("")}return e.match.def===t.match.nativeDef||!(!(n.regex||e.match.fn instanceof RegExp&&t.match.fn instanceof RegExp)||!0===e.match.static||!0===t.match.static)&&-1!==r(t.match.fn.toString().replace(/[[\]/]/g,"")).indexOf(r(e.match.fn.toString().replace(/[[\]/]/g,"")))}function h(e,t,n){var r,o,s=this,a=this.dependencyLib,l=this.maskset,u=this.opts,h=this.el,f=l.maskToken,p=t?n:0,m=t?t.slice():[0],g=[],v=!1,y=t?t.join(""):"";function _(t,n,o,a){function c(o,a,f){function m(e,t){var n=0===t.matches.indexOf(e);return n||t.matches.every((function(r,i){return!0===r.isQuantifier?n=m(e,t.matches[i-1]):Object.prototype.hasOwnProperty.call(r,"matches")&&(n=m(e,r)),!n})),n}function w(e,t,n){var r,i;if((l.tests[e]||l.validPositions[e])&&(l.tests[e]||[l.validPositions[e]]).every((function(e,o){if(e.mloc[t])return r=e,!1;var s=void 0!==n?n:e.alternation,a=void 0!==e.locator[s]?e.locator[s].toString().indexOf(t):-1;return(void 0===i||a<i)&&-1!==a&&(r=e,i=a),!0})),r){var o=r.locator[r.alternation];return(r.mloc[t]||r.mloc[o]||r.locator).slice((void 0!==n?n:r.alternation)+1)}return void 0!==n?w(e,t):void 0}function k(e,t){var n=e.alternation,r=void 0===t||n===t.alternation&&-1===e.locator[n].toString().indexOf(t.locator[n]);if(!r&&n>t.alternation)for(var i=t.alternation;i<n;i++)if(e.locator[i]!==t.locator[i]){n=i,r=!0;break}if(r){e.mloc=e.mloc||{};var o=e.locator[n];if(void 0!==o){if("string"==typeof o&&(o=o.split(",")[0]),void 0===e.mloc[o]&&(e.mloc[o]=e.locator.slice()),void 0!==t){for(var s in t.mloc)"string"==typeof s&&(s=s.split(",")[0]),void 0===e.mloc[s]&&(e.mloc[s]=t.mloc[s]);e.locator[n]=Object.keys(e.mloc).join(",")}return!0}e.alternation=void 0}return!1}function x(e,t){if(e.locator.length!==t.locator.length)return!1;for(var n=e.alternation+1;n<e.locator.length;n++)if(e.locator[n]!==t.locator[n])return!1;return!0}if(p>e+u._maxTestPos)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+l.mask;if(p===e&&void 0===o.matches){if(g.push({match:o,locator:a.reverse(),cd:y,mloc:{}}),!o.optionality||void 0!==f||!(u.definitions&&u.definitions[o.nativeDef]&&u.definitions[o.nativeDef].optional||i.default.prototype.definitions[o.nativeDef]&&i.default.prototype.definitions[o.nativeDef].optional))return!0;v=!0,p=e}else if(void 0!==o.matches){if(o.isGroup&&f!==o)return function(){if(o=c(t.matches[t.matches.indexOf(o)+1],a,f))return!0}();if(o.isOptional)return function(){var t=o,i=g.length;if(o=_(o,n,a,f),g.length>0){if(g.forEach((function(e,t){t>=i&&(e.match.optionality=e.match.optionality?e.match.optionality+1:1)})),r=g[g.length-1].match,void 0!==f||!m(r,t))return o;v=!0,p=e}}();if(o.isAlternator)return function(){s.hasAlternator=!0;var r,i,m,y=o,_=[],b=g.slice(),S=a.length,E=!1,C=n.length>0?n.shift():-1;if(-1===C||"string"==typeof C){var T,A=p,O=n.slice(),D=[];if("string"==typeof C)D=C.split(",");else for(T=0;T<y.matches.length;T++)D.push(T.toString());if(void 0!==l.excludes[e]){for(var M=D.slice(),L=0,P=l.excludes[e].length;L<P;L++){var I=l.excludes[e][L].toString().split(":");a.length==I[1]&&D.splice(D.indexOf(I[0]),1)}0===D.length&&(delete l.excludes[e],D=M)}(!0===u.keepStatic||isFinite(parseInt(u.keepStatic))&&A>=u.keepStatic)&&(D=D.slice(0,1));for(var R=0;R<D.length;R++){T=parseInt(D[R]),g=[],n="string"==typeof C&&w(p,T,S)||O.slice();var N=y.matches[T];if(N&&c(N,[T].concat(a),f))o=!0;else if(0===R&&(E=!0),N&&N.matches&&N.matches.length>y.matches[0].matches.length)break;r=g.slice(),p=A,g=[];for(var B=0;B<r.length;B++){var F=r[B],j=!1;F.match.jit=F.match.jit||E,F.alternation=F.alternation||S,k(F);for(var z=0;z<_.length;z++){var H=_[z];if("string"!=typeof C||void 0!==F.alternation&&D.includes(F.locator[F.alternation].toString())){if(F.match.nativeDef===H.match.nativeDef){j=!0,k(H,F);break}if(d(F,H,u)){k(F,H)&&(j=!0,_.splice(_.indexOf(H),0,F));break}if(d(H,F,u)){k(H,F);break}if(m=H,!0===(i=F).match.static&&!0!==m.match.static&&m.match.fn.test(i.match.def,l,e,!1,u,!1)){x(F,H)||void 0!==h.inputmask.userOptions.keepStatic?k(F,H)&&(j=!0,_.splice(_.indexOf(H),0,F)):u.keepStatic=!0;break}}}j||_.push(F)}}g=b.concat(_),p=e,v=g.length>0,o=_.length>0,n=O.slice()}else o=c(y.matches[C]||t.matches[C],[C].concat(a),f);if(o)return!0}();if(o.isQuantifier&&f!==t.matches[t.matches.indexOf(o)-1])return function(){for(var i=o,s=!1,d=n.length>0?n.shift():0;d<(isNaN(i.quantifier.max)?d+1:i.quantifier.max)&&p<=e;d++){var h=t.matches[t.matches.indexOf(i)-1];if(o=c(h,[d].concat(a),h)){if(g.forEach((function(t,n){(r=b(h,t.match)?t.match:g[g.length-1].match).optionalQuantifier=d>=i.quantifier.min,r.jit=(d+1)*(h.matches.indexOf(r)+1)>i.quantifier.jit,r.optionalQuantifier&&m(r,h)&&(v=!0,p=e,u.greedy&&null==l.validPositions[e-1]&&d>i.quantifier.min&&-1!=["*","+"].indexOf(i.quantifier.max)&&(g.pop(),y=void 0),s=!0,o=!1),!s&&r.jit&&(l.jitOffset[e]=h.matches.length-h.matches.indexOf(r))})),s)break;return!0}}}();if(o=_(o,n,a,f))return!0}else p++}for(var f=n.length>0?n.shift():0;f<t.matches.length;f++)if(!0!==t.matches[f].isQuantifier){var m=c(t.matches[f],[f].concat(o),a);if(m&&p===e)return m;if(p>e)break}}function b(e,t){var n=-1!=e.matches.indexOf(t);return n||e.matches.forEach((function(e,r){void 0===e.matches||n||(n=b(e,t))})),n}if(e>-1){if(void 0===t){for(var w,k=e-1;void 0===(w=l.validPositions[k]||l.tests[k])&&k>-1;)k--;void 0!==w&&k>-1&&(m=function(e,t){var n,r=[];return Array.isArray(t)||(t=[t]),t.length>0&&(void 0===t[0].alternation||!0===u.keepStatic?0===(r=c.call(s,e,t.slice()).locator.slice()).length&&(r=t[0].locator.slice()):t.forEach((function(e){""!==e.def&&(0===r.length?(n=e.alternation,r=e.locator.slice()):e.locator[n]&&-1===r[n].toString().indexOf(e.locator[n])&&(r[n]+=","+e.locator[n]))}))),r}(k,w),y=m.join(""),p=k)}if(l.tests[e]&&l.tests[e][0].cd===y)return l.tests[e];for(var x=m.shift();x<f.length&&!(_(f[x],m,[x])&&p===e||p>e);x++);}return(0===g.length||v)&&g.push({match:{fn:null,static:!0,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:y}),void 0!==t&&l.tests[e]?o=a.extend(!0,[],g):(l.tests[e]=a.extend(!0,[],g),o=l.tests[e]),g.forEach((function(e){e.match.optionality=e.match.defOptionality||!1})),o}},7215:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.alternate=a,t.checkAlternationMatch=function(e,t,n){for(var r,i=this.opts.greedy?t:t.slice(0,1),o=!1,s=void 0!==n?n.split(","):[],a=0;a<s.length;a++)-1!==(r=e.indexOf(s[a]))&&e.splice(r,1);for(var l=0;l<e.length;l++)if(i.includes(e[l])){o=!0;break}return o},t.handleRemove=function(e,t,n,s,l){var c=this,u=this.maskset,d=this.opts;if((d.numericInput||c.isRTL)&&(t===i.keys.Backspace?t=i.keys.Delete:t===i.keys.Delete&&(t=i.keys.Backspace),c.isRTL)){var h=n.end;n.end=n.begin,n.begin=h}var f,p=o.getLastValidPosition.call(c,void 0,!0);if(n.end>=o.getBuffer.call(c).length&&p>=n.end&&(n.end=p+1),t===i.keys.Backspace?n.end-n.begin<1&&(n.begin=o.seekPrevious.call(c,n.begin)):t===i.keys.Delete&&n.begin===n.end&&(n.end=o.isMask.call(c,n.end,!0,!0)?n.end+1:o.seekNext.call(c,n.end)+1),!1!==(f=m.call(c,n))){if(!0!==s&&!1!==d.keepStatic||null!==d.regex&&-1!==r.getTest.call(c,n.begin).match.def.indexOf("|")){var g=a.call(c,!0);if(g){var v=void 0!==g.caret?g.caret:g.pos?o.seekNext.call(c,g.pos.begin?g.pos.begin:g.pos):o.getLastValidPosition.call(c,-1,!0);(t!==i.keys.Delete||n.begin>v)&&n.begin}}!0!==s&&(u.p=t===i.keys.Delete?n.begin+f:n.begin,u.p=o.determineNewCaretPosition.call(c,{begin:u.p,end:u.p},!1,!1===d.insertMode&&t===i.keys.Backspace?"none":void 0).begin)}},t.isComplete=c,t.isSelection=u,t.isValid=d,t.refreshFromBuffer=f,t.revalidateMask=m;var r=n(4713),i=n(2839),o=n(8711),s=n(6030);function a(e,t,n,i,s,l){var c,u,h,f,p,m,g,v,y,_,b,w=this,k=this.dependencyLib,x=this.opts,S=w.maskset,E=k.extend(!0,[],S.validPositions),C=k.extend(!0,{},S.tests),T=!1,A=!1,O=void 0!==s?s:o.getLastValidPosition.call(w);if(l&&(_=l.begin,b=l.end,l.begin>l.end&&(_=l.end,b=l.begin)),-1===O&&void 0===s)c=0,u=(f=r.getTest.call(w,c)).alternation;else for(;O>=0;O--)if((h=S.validPositions[O])&&void 0!==h.alternation){if(O<=(e||0)&&f&&f.locator[h.alternation]!==h.locator[h.alternation])break;c=O,u=S.validPositions[c].alternation,f=h}if(void 0!==u){g=parseInt(c),S.excludes[g]=S.excludes[g]||[],!0!==e&&S.excludes[g].push((0,r.getDecisionTaker)(f)+":"+f.alternation);var D=[],M=-1;for(p=g;p<o.getLastValidPosition.call(w,void 0,!0)+1;p++)-1===M&&e<=p&&void 0!==t&&(D.push(t),M=D.length-1),(m=S.validPositions[p])&&!0!==m.generatedInput&&(void 0===l||p<_||p>=b)&&D.push(m.input),delete S.validPositions[p];for(-1===M&&void 0!==t&&(D.push(t),M=D.length-1);void 0!==S.excludes[g]&&S.excludes[g].length<10;){for(S.tests={},o.resetMaskSet.call(w,!0),T=!0,p=0;p<D.length&&(v=T.caret||o.getLastValidPosition.call(w,void 0,!0)+1,y=D[p],T=d.call(w,v,y,!1,i,!0));p++)p===M&&(A=T),1==e&&T&&(A={caretPos:p});if(T)break;if(o.resetMaskSet.call(w),f=r.getTest.call(w,g),S.validPositions=k.extend(!0,[],E),S.tests=k.extend(!0,{},C),!S.excludes[g]){A=a.call(w,e,t,n,i,g-1,l);break}var L=(0,r.getDecisionTaker)(f);if(-1!==S.excludes[g].indexOf(L+":"+f.alternation)){A=a.call(w,e,t,n,i,g-1,l);break}for(S.excludes[g].push(L+":"+f.alternation),p=g;p<o.getLastValidPosition.call(w,void 0,!0)+1;p++)delete S.validPositions[p]}}return A&&!1===x.keepStatic||delete S.excludes[g],A}function l(e,t,n){var r=this.opts,o=this.maskset;switch(r.casing||t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break;case"title":var s=o.validPositions[n-1];e=0===n||s&&s.input===String.fromCharCode(i.keyCode.Space)?e.toUpperCase():e.toLowerCase();break;default:if("function"==typeof r.casing){var a=Array.prototype.slice.call(arguments);a.push(o.validPositions),e=r.casing.apply(this,a)}}return e}function c(e){var t=this,n=this.opts,i=this.maskset;if("function"==typeof n.isComplete)return n.isComplete(e,n);if("*"!==n.repeat){var s=!1,a=o.determineLastRequiredPosition.call(t,!0),l=o.seekPrevious.call(t,a.l);if(void 0===a.def||a.def.newBlockMarker||a.def.optionality||a.def.optionalQuantifier){s=!0;for(var c=0;c<=l;c++){var u=r.getTestTemplate.call(t,c).match;if(!0!==u.static&&void 0===i.validPositions[c]&&!0!==u.optionality&&!0!==u.optionalQuantifier||!0===u.static&&e[c]!==r.getPlaceholder.call(t,c,u)){s=!1;break}}}return s}}function u(e){var t=this.opts.insertMode?0:1;return this.isRTL?e.begin-e.end>t:e.end-e.begin>t}function d(e,t,n,i,s,h,g){var v=this,y=this.dependencyLib,_=this.opts,b=v.maskset;n=!0===n;var w=e;function k(e){if(void 0!==e){if(void 0!==e.remove&&(Array.isArray(e.remove)||(e.remove=[e.remove]),e.remove.sort((function(e,t){return v.isRTL?e.pos-t.pos:t.pos-e.pos})).forEach((function(e){m.call(v,{begin:e,end:e+1})})),e.remove=void 0),void 0!==e.insert&&(Array.isArray(e.insert)||(e.insert=[e.insert]),e.insert.sort((function(e,t){return v.isRTL?t.pos-e.pos:e.pos-t.pos})).forEach((function(e){""!==e.c&&d.call(v,e.pos,e.c,void 0===e.strict||e.strict,void 0!==e.fromIsValid?e.fromIsValid:i)})),e.insert=void 0),e.refreshFromBuffer&&e.buffer){var t=e.refreshFromBuffer;f.call(v,!0===t?t:t.start,t.end,e.buffer),e.refreshFromBuffer=void 0}void 0!==e.rewritePosition&&(w=e.rewritePosition,e=!0)}return e}function x(t,n,s){var a=!1;return r.getTests.call(v,t).every((function(c,d){var h=c.match;if(o.getBuffer.call(v,!0),!1!==(a=(!h.jit||void 0!==b.validPositions[o.seekPrevious.call(v,t)])&&(null!=h.fn?h.fn.test(n,b,t,s,_,u.call(v,e)):(n===h.def||n===_.skipOptionalPartCharacter)&&""!==h.def&&{c:r.getPlaceholder.call(v,t,h,!0)||h.def,pos:t}))){var f=void 0!==a.c?a.c:n,p=t;return f=f===_.skipOptionalPartCharacter&&!0===h.static?r.getPlaceholder.call(v,t,h,!0)||h.def:f,!0!==(a=k(a))&&void 0!==a.pos&&a.pos!==t&&(p=a.pos),!0!==a&&void 0===a.pos&&void 0===a.c||!1===m.call(v,e,y.extend({},c,{input:l.call(v,f,h,p)}),i,p)&&(a=!1),!1}return!0})),a}void 0!==e.begin&&(w=v.isRTL?e.end:e.begin);var S=!0,E=y.extend(!0,{},b.validPositions);if(!1===_.keepStatic&&void 0!==b.excludes[w]&&!0!==s&&!0!==i)for(var C=w;C<(v.isRTL?e.begin:e.end);C++)void 0!==b.excludes[C]&&(b.excludes[C]=void 0,delete b.tests[C]);if("function"==typeof _.preValidation&&!0!==i&&!0!==h&&(S=k(S=_.preValidation.call(v,o.getBuffer.call(v),w,t,u.call(v,e),_,b,e,n||s))),!0===S){if(S=x(w,t,n),(!n||!0===i)&&!1===S&&!0!==h){var T=b.validPositions[w];if(!T||!0!==T.match.static||T.match.def!==t&&t!==_.skipOptionalPartCharacter){if(_.insertMode||void 0===b.validPositions[o.seekNext.call(v,w)]||e.end>w){var A=!1;if(b.jitOffset[w]&&void 0===b.validPositions[o.seekNext.call(v,w)]&&!1!==(S=d.call(v,w+b.jitOffset[w],t,!0,!0))&&(!0!==s&&(S.caret=w),A=!0),e.end>w&&(b.validPositions[w]=void 0),!A&&!o.isMask.call(v,w,_.keepStatic&&0===w))for(var O=w+1,D=o.seekNext.call(v,w,!1,0!==w);O<=D;O++)if(!1!==(S=x(O,t,n))){S=p.call(v,w,void 0!==S.pos?S.pos:O)||S,w=O;break}}}else S={caret:o.seekNext.call(v,w)}}v.hasAlternator&&!0!==s&&!n&&(!1===S&&_.keepStatic&&(c.call(v,o.getBuffer.call(v))||0===w)?S=a.call(v,w,t,n,i,void 0,e):(u.call(v,e)&&b.tests[w]&&b.tests[w].length>1&&_.keepStatic||1==S&&!0!==_.numericInput&&b.tests[w]&&b.tests[w].length>1&&o.getLastValidPosition.call(v,void 0,!0)>w)&&(S=a.call(v,!0))),!0===S&&(S={pos:w})}if("function"==typeof _.postValidation&&!0!==i&&!0!==h){var M=_.postValidation.call(v,o.getBuffer.call(v,!0),void 0!==e.begin?v.isRTL?e.end:e.begin:e,t,S,_,b,n,g);void 0!==M&&(S=!0===M?S:M)}S&&void 0===S.pos&&(S.pos=w),!1===S||!0===h?(o.resetMaskSet.call(v,!0),b.validPositions=y.extend(!0,[],E)):p.call(v,void 0,w,!0);var L=k(S);return void 0!==v.maxLength&&o.getBuffer.call(v).length>v.maxLength&&!i&&(o.resetMaskSet.call(v,!0),b.validPositions=y.extend(!0,[],E),L=!1),L}function h(e,t,n){for(var i=this.maskset,o=!1,s=r.getTests.call(this,e),a=0;a<s.length;a++){if(s[a].match&&(s[a].match.nativeDef===t.match[n.shiftPositions?"def":"nativeDef"]&&(!n.shiftPositions||!t.match.static)||s[a].match.nativeDef===t.match.nativeDef||n.regex&&!s[a].match.static&&s[a].match.fn.test(t.input,i,e,!1,n))){o=!0;break}if(s[a].match&&s[a].match.def===t.match.nativeDef){o=void 0;break}}return!1===o&&void 0!==i.jitOffset[e]&&(o=h.call(this,e+i.jitOffset[e],t,n)),o}function f(e,t,n){var r,i,a=this,l=this.maskset,c=this.opts,u=this.dependencyLib,d=c.skipOptionalPartCharacter,h=a.isRTL?n.slice().reverse():n;if(c.skipOptionalPartCharacter="",!0===e)o.resetMaskSet.call(a),l.tests={},e=0,t=n.length,i=o.determineNewCaretPosition.call(a,{begin:0,end:0},!1).begin;else{for(r=e;r<t;r++)delete l.validPositions[r];i=e}var f=new u.Event("keypress");for(r=e;r<t;r++){f.key=h[r].toString(),a.ignorable=!1;var p=s.EventHandlers.keypressEvent.call(a,f,!0,!1,!1,i);!1!==p&&void 0!==p&&(i=p.forwardPosition)}c.skipOptionalPartCharacter=d}function p(e,t,n){var i=this,s=this.maskset,a=this.dependencyLib;if(void 0===e)for(e=t-1;e>0&&!s.validPositions[e];e--);for(var l=e;l<t;l++)if(void 0===s.validPositions[l]&&!o.isMask.call(i,l,!1)&&(0==l?r.getTest.call(i,l):s.validPositions[l-1])){var c=r.getTests.call(i,l).slice();""===c[c.length-1].match.def&&c.pop();var u,h=r.determineTestTemplate.call(i,l,c);if(h&&(!0!==h.match.jit||"master"===h.match.newBlockMarker&&(u=s.validPositions[l+1])&&!0===u.match.optionalQuantifier)&&((h=a.extend({},h,{input:r.getPlaceholder.call(i,l,h.match,!0)||h.match.def})).generatedInput=!0,m.call(i,l,h,!0),!0!==n)){var f=s.validPositions[t].input;return s.validPositions[t]=void 0,d.call(i,t,f,!0,!0)}}}function m(e,t,n,i){var s=this,a=this.maskset,l=this.opts,c=this.dependencyLib;function u(e,t,n){var r=t[e];if(void 0!==r&&!0===r.match.static&&!0!==r.match.optionality&&(void 0===t[0]||void 0===t[0].alternation)){var i=n.begin<=e-1?t[e-1]&&!0===t[e-1].match.static&&t[e-1]:t[e-1],o=n.end>e+1?t[e+1]&&!0===t[e+1].match.static&&t[e+1]:t[e+1];return i&&o}return!1}var f=0,p=void 0!==e.begin?e.begin:e,m=void 0!==e.end?e.end:e,g=!0;if(e.begin>e.end&&(p=e.end,m=e.begin),i=void 0!==i?i:p,void 0===n&&(p!==m||l.insertMode&&void 0!==a.validPositions[i]||void 0===t||t.match.optionalQuantifier||t.match.optionality)){var v,y=c.extend(!0,{},a.validPositions),_=o.getLastValidPosition.call(s,void 0,!0);for(a.p=p,v=_;v>=p;v--)delete a.validPositions[v],void 0===t&&delete a.tests[v+1];var b,w,k=i,x=k;for(t&&(a.validPositions[i]=c.extend(!0,{},t),x++,k++),v=t?m:m-1;v<=_;v++){if(void 0!==(b=y[v])&&!0!==b.generatedInput&&(v>=m||v>=p&&u(v,y,{begin:p,end:m}))){for(;""!==r.getTest.call(s,x).match.def;){if(!1!==(w=h.call(s,x,b,l))||"+"===b.match.def){"+"===b.match.def&&o.getBuffer.call(s,!0);var S=d.call(s,x,b.input,"+"!==b.match.def,!0);if(g=!1!==S,k=(S.pos||x)+1,!g&&w)break}else g=!1;if(g){void 0===t&&b.match.static&&v===e.begin&&f++;break}if(!g&&o.getBuffer.call(s),x>a.maskLength)break;x++}""==r.getTest.call(s,x).match.def&&(g=!1),x=k}if(!g)break}if(!g)return a.validPositions=c.extend(!0,[],y),o.resetMaskSet.call(s,!0),!1}else t&&r.getTest.call(s,i).match.cd===t.match.cd&&(a.validPositions[i]=c.extend(!0,{},t));return o.resetMaskSet.call(s,!0),f}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}var r={};return function(){var e,t=r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(7149),n(3194),n(9302),n(4013),n(3851),n(219),n(207),n(5296);var i=((e=n(2394))&&e.__esModule?e:{default:e}).default;t.default=i}(),r}()},5826:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},4554:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function d(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}n.d(t,{ZP:()=>O});var f=function(){function e(){i(this,e)}return s(e,[{key:"listenForWhisper",value:function(e,t){return this.listen(".client-"+e,t)}},{key:"notification",value:function(e){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",e)}},{key:"stopListeningForWhisper",value:function(e,t){return this.stopListening(".client-"+e,t)}}]),e}(),p=function(){function e(t){i(this,e),this.namespace=t}return s(e,[{key:"format",value:function(e){return"."===e.charAt(0)||"\\"===e.charAt(0)?e.substr(1):(this.namespace&&(e=this.namespace+"."+e),e.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(e){this.namespace=e}}]),e}(),m=function(e){l(n,e);var t=h(n);function n(e,r,o){var s;return i(this,n),(s=t.call(this)).name=r,s.pusher=e,s.options=o,s.eventFormatter=new p(s.options.namespace),s.subscribe(),s}return s(n,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(e,t){return this.on(this.eventFormatter.format(e),t),this}},{key:"listenToAll",value:function(e){var t=this;return this.subscription.bind_global((function(n,r){if(!n.startsWith("pusher:")){var i=t.options.namespace.replace(/\./g,"\\"),o=n.startsWith(i)?n.substring(i.length+1):"."+n;e(o,r)}})),this}},{key:"stopListening",value:function(e,t){return t?this.subscription.unbind(this.eventFormatter.format(e),t):this.subscription.unbind(this.eventFormatter.format(e)),this}},{key:"stopListeningToAll",value:function(e){return e?this.subscription.unbind_global(e):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(e){return this.on("pusher:subscription_succeeded",(function(){e()})),this}},{key:"error",value:function(e){return this.on("pusher:subscription_error",(function(t){e(t)})),this}},{key:"on",value:function(e,t){return this.subscription.bind(e,t),this}}]),n}(f),g=function(e){l(n,e);var t=h(n);function n(){return i(this,n),t.apply(this,arguments)}return s(n,[{key:"whisper",value:function(e,t){return this.pusher.channels.channels[this.name].trigger("client-".concat(e),t),this}}]),n}(m),v=function(e){l(n,e);var t=h(n);function n(){return i(this,n),t.apply(this,arguments)}return s(n,[{key:"whisper",value:function(e,t){return this.pusher.channels.channels[this.name].trigger("client-".concat(e),t),this}}]),n}(m),y=function(e){l(n,e);var t=h(n);function n(){return i(this,n),t.apply(this,arguments)}return s(n,[{key:"here",value:function(e){return this.on("pusher:subscription_succeeded",(function(t){e(Object.keys(t.members).map((function(e){return t.members[e]})))})),this}},{key:"joining",value:function(e){return this.on("pusher:member_added",(function(t){e(t.info)})),this}},{key:"whisper",value:function(e,t){return this.pusher.channels.channels[this.name].trigger("client-".concat(e),t),this}},{key:"leaving",value:function(e){return this.on("pusher:member_removed",(function(t){e(t.info)})),this}}]),n}(m),_=function(e){l(n,e);var t=h(n);function n(e,r,o){var s;return i(this,n),(s=t.call(this)).events={},s.listeners={},s.name=r,s.socket=e,s.options=o,s.eventFormatter=new p(s.options.namespace),s.subscribe(),s}return s(n,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(e,t){return this.on(this.eventFormatter.format(e),t),this}},{key:"stopListening",value:function(e,t){return this.unbindEvent(this.eventFormatter.format(e),t),this}},{key:"subscribed",value:function(e){return this.on("connect",(function(t){e(t)})),this}},{key:"error",value:function(e){return this}},{key:"on",value:function(e,t){var n=this;return this.listeners[e]=this.listeners[e]||[],this.events[e]||(this.events[e]=function(t,r){n.name===t&&n.listeners[e]&&n.listeners[e].forEach((function(e){return e(r)}))},this.socket.on(e,this.events[e])),this.listeners[e].push(t),this}},{key:"unbind",value:function(){var e=this;Object.keys(this.events).forEach((function(t){e.unbindEvent(t)}))}},{key:"unbindEvent",value:function(e,t){this.listeners[e]=this.listeners[e]||[],t&&(this.listeners[e]=this.listeners[e].filter((function(e){return e!==t}))),t&&0!==this.listeners[e].length||(this.events[e]&&(this.socket.removeListener(e,this.events[e]),delete this.events[e]),delete this.listeners[e])}}]),n}(f),b=function(e){l(n,e);var t=h(n);function n(){return i(this,n),t.apply(this,arguments)}return s(n,[{key:"whisper",value:function(e,t){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(e),data:t}),this}}]),n}(_),w=function(e){l(n,e);var t=h(n);function n(){return i(this,n),t.apply(this,arguments)}return s(n,[{key:"here",value:function(e){return this.on("presence:subscribed",(function(t){e(t.map((function(e){return e.user_info})))})),this}},{key:"joining",value:function(e){return this.on("presence:joining",(function(t){return e(t.user_info)})),this}},{key:"whisper",value:function(e,t){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(e),data:t}),this}},{key:"leaving",value:function(e){return this.on("presence:leaving",(function(t){return e(t.user_info)})),this}}]),n}(b),k=function(e){l(n,e);var t=h(n);function n(){return i(this,n),t.apply(this,arguments)}return s(n,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(e,t){return this}},{key:"listenToAll",value:function(e){return this}},{key:"stopListening",value:function(e,t){return this}},{key:"subscribed",value:function(e){return this}},{key:"error",value:function(e){return this}},{key:"on",value:function(e,t){return this}}]),n}(f),x=function(e){l(n,e);var t=h(n);function n(){return i(this,n),t.apply(this,arguments)}return s(n,[{key:"whisper",value:function(e,t){return this}}]),n}(k),S=function(e){l(n,e);var t=h(n);function n(){return i(this,n),t.apply(this,arguments)}return s(n,[{key:"here",value:function(e){return this}},{key:"joining",value:function(e){return this}},{key:"whisper",value:function(e,t){return this}},{key:"leaving",value:function(e){return this}}]),n}(k),E=function(){function e(t){i(this,e),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},broadcaster:"pusher",csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(t),this.connect()}return s(e,[{key:"setOptions",value:function(e){this.options=a(this._defaultOptions,e);var t=this.csrfToken();return t&&(this.options.auth.headers["X-CSRF-TOKEN"]=t,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=t),(t=this.options.bearerToken)&&(this.options.auth.headers.Authorization="Bearer "+t,this.options.userAuthentication.headers.Authorization="Bearer "+t),e}},{key:"csrfToken",value:function(){var e;return"undefined"!=typeof window&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:"undefined"!=typeof document&&"function"==typeof document.querySelector&&(e=document.querySelector('meta[name="csrf-token"]'))?e.getAttribute("content"):null}}]),e}(),C=function(e){l(n,e);var t=h(n);function n(){var e;return i(this,n),(e=t.apply(this,arguments)).channels={},e}return s(n,[{key:"connect",value:function(){void 0!==this.options.client?this.pusher=this.options.client:this.options.Pusher?this.pusher=new this.options.Pusher(this.options.key,this.options):this.pusher=new Pusher(this.options.key,this.options)}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(e,t,n){return this.channel(e).listen(t,n)}},{key:"channel",value:function(e){return this.channels[e]||(this.channels[e]=new m(this.pusher,e,this.options)),this.channels[e]}},{key:"privateChannel",value:function(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new g(this.pusher,"private-"+e,this.options)),this.channels["private-"+e]}},{key:"encryptedPrivateChannel",value:function(e){return this.channels["private-encrypted-"+e]||(this.channels["private-encrypted-"+e]=new v(this.pusher,"private-encrypted-"+e,this.options)),this.channels["private-encrypted-"+e]}},{key:"presenceChannel",value:function(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new y(this.pusher,"presence-"+e,this.options)),this.channels["presence-"+e]}},{key:"leave",value:function(e){var t=this;[e,"private-"+e,"private-encrypted-"+e,"presence-"+e].forEach((function(e,n){t.leaveChannel(e)}))}},{key:"leaveChannel",value:function(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),n}(E),T=function(e){l(n,e);var t=h(n);function n(){var e;return i(this,n),(e=t.apply(this,arguments)).channels={},e}return s(n,[{key:"connect",value:function(){var e=this,t=this.getSocketIO();return this.socket=t(this.options.host,this.options),this.socket.on("reconnect",(function(){Object.values(e.channels).forEach((function(e){e.subscribe()}))})),this.socket}},{key:"getSocketIO",value:function(){if(void 0!==this.options.client)return this.options.client;if("undefined"!=typeof io)return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(e,t,n){return this.channel(e).listen(t,n)}},{key:"channel",value:function(e){return this.channels[e]||(this.channels[e]=new _(this.socket,e,this.options)),this.channels[e]}},{key:"privateChannel",value:function(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new b(this.socket,"private-"+e,this.options)),this.channels["private-"+e]}},{key:"presenceChannel",value:function(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new w(this.socket,"presence-"+e,this.options)),this.channels["presence-"+e]}},{key:"leave",value:function(e){var t=this;[e,"private-"+e,"presence-"+e].forEach((function(e){t.leaveChannel(e)}))}},{key:"leaveChannel",value:function(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),n}(E),A=function(e){l(n,e);var t=h(n);function n(){var e;return i(this,n),(e=t.apply(this,arguments)).channels={},e}return s(n,[{key:"connect",value:function(){}},{key:"listen",value:function(e,t,n){return new k}},{key:"channel",value:function(e){return new k}},{key:"privateChannel",value:function(e){return new x}},{key:"encryptedPrivateChannel",value:function(e){return new x}},{key:"presenceChannel",value:function(e){return new S}},{key:"leave",value:function(e){}},{key:"leaveChannel",value:function(e){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),n}(E),O=function(){function e(t){i(this,e),this.options=t,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return s(e,[{key:"channel",value:function(e){return this.connector.channel(e)}},{key:"connect",value:function(){"pusher"==this.options.broadcaster?this.connector=new C(this.options):"socket.io"==this.options.broadcaster?this.connector=new T(this.options):"null"==this.options.broadcaster?this.connector=new A(this.options):"function"==typeof this.options.broadcaster&&(this.connector=new this.options.broadcaster(this.options))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(e){return this.connector.presenceChannel(e)}},{key:"leave",value:function(e){this.connector.leave(e)}},{key:"leaveChannel",value:function(e){this.connector.leaveChannel(e)}},{key:"leaveAllChannels",value:function(){for(var e in this.connector.channels)this.leaveChannel(e)}},{key:"listen",value:function(e,t,n){return this.connector.listen(e,t,n)}},{key:"private",value:function(e){return this.connector.privateChannel(e)}},{key:"encryptedPrivate",value:function(e){return this.connector.encryptedPrivateChannel(e)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){"function"==typeof Vue&&Vue.http&&this.registerVueRequestInterceptor(),"function"==typeof axios&&this.registerAxiosRequestInterceptor(),"function"==typeof jQuery&&this.registerjQueryAjaxSetup(),"object"===("undefined"==typeof Turbo?"undefined":r(Turbo))&&this.registerTurboRequestInterceptor()}},{key:"registerVueRequestInterceptor",value:function(){var e=this;Vue.http.interceptors.push((function(t,n){e.socketId()&&t.headers.set("X-Socket-ID",e.socketId()),n()}))}},{key:"registerAxiosRequestInterceptor",value:function(){var e=this;axios.interceptors.request.use((function(t){return e.socketId()&&(t.headers["X-Socket-Id"]=e.socketId()),t}))}},{key:"registerjQueryAjaxSetup",value:function(){var e=this;void 0!==jQuery.ajax&&jQuery.ajaxPrefilter((function(t,n,r){e.socketId()&&r.setRequestHeader("X-Socket-Id",e.socketId())}))}},{key:"registerTurboRequestInterceptor",value:function(){var e=this;document.addEventListener("turbo:before-fetch-request",(function(t){t.detail.fetchOptions.headers["X-Socket-Id"]=e.socketId()}))}}]),e}()},5243:function(e,t){!function(e){"use strict";var t="1.9.4";function n(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(t in i=arguments[n])e[t]=i[t];return e}var r=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function i(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var o=0;function s(e){return"_leaflet_id"in e||(e._leaflet_id=++o),e._leaflet_id}function a(e,t,n){var r,i,o,s;return s=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(s,t),r=!0)},o}function l(e,t,n){var r=t[1],i=t[0],o=r-i;return e===r&&n?e:((e-i)%o+o)%o+i}function c(){return!1}function u(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function d(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function h(e){return d(e).split(/\s+/)}function f(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?r(e.options):{}),t)e.options[n]=t[n];return e.options}function p(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}var m=/\{ *([\w_ -]+) *\}/g;function g(e,t){return e.replace(m,(function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"==typeof r&&(r=r(t)),r}))}var v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function y(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var _="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var w=0;function k(e){var t=+new Date,n=Math.max(0,16-(t-w));return w=t+n,window.setTimeout(e,n)}var x=window.requestAnimationFrame||b("RequestAnimationFrame")||k,S=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function E(e,t,n){if(!n||x!==k)return x.call(window,i(e,t));e.call(t)}function C(e){e&&S.call(window,e)}var T={__proto__:null,extend:n,create:r,bind:i,get lastId(){return o},stamp:s,throttle:a,wrapNum:l,falseFn:c,formatNum:u,trim:d,splitWords:h,setOptions:f,getParamString:p,template:g,isArray:v,indexOf:y,emptyImageUrl:_,requestFn:x,cancelFn:S,requestAnimFrame:E,cancelAnimFrame:C};function A(){}function O(e){if("undefined"!=typeof L&&L&&L.Mixin){e=v(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}A.extend=function(e){var t=function(){f(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=t.__super__=this.prototype,o=r(i);for(var s in o.constructor=t,t.prototype=o,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(t[s]=this[s]);return e.statics&&n(t,e.statics),e.includes&&(O(e.includes),n.apply(null,[o].concat(e.includes))),n(o,e),delete o.statics,delete o.includes,o.options&&(o.options=i.options?r(i.options):{},n(o.options,e.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=o._initHooks.length;e<t;e++)o._initHooks[e].call(this)}},t},A.include=function(e){var t=this.prototype.options;return n(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},A.mergeOptions=function(e){return n(this.prototype.options,e),this},A.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var D={on:function(e,t,n){if("object"==typeof e)for(var r in e)this._on(r,e[r],t);else for(var i=0,o=(e=h(e)).length;i<o;i++)this._on(e[i],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"==typeof e)for(var r in e)this._off(r,e[r],t);else{e=h(e);for(var i=1===arguments.length,o=0,s=e.length;o<s;o++)i?this._off(e[o]):this._off(e[o],t,n)}else delete this._events;return this},_on:function(e,t,n,r){if("function"==typeof t){if(!1===this._listens(e,t,n)){n===this&&(n=void 0);var i={fn:t,ctx:n};r&&(i.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(i)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var r,i,o;if(this._events&&(r=this._events[e]))if(1!==arguments.length)if("function"==typeof t){var s=this._listens(e,t,n);if(!1!==s){var a=r[s];this._firingCount&&(a.fn=c,this._events[e]=r=r.slice()),r.splice(s,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(i=0,o=r.length;i<o;i++)r[i].fn=c;delete this._events[e]}},fire:function(e,t,r){if(!this.listens(e,r))return this;var i=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var o=this._events[e];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var l=o[s],c=l.fn;l.once&&this.off(e,c,l.ctx),c.call(l.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(e,t,n,r){"string"!=typeof e&&console.warn('"string" type argument expected');var i=t;"function"!=typeof t&&(r=!!t,i=void 0,n=void 0);var o=this._events&&this._events[e];if(o&&o.length&&!1!==this._listens(e,i,n))return!0;if(r)for(var s in this._eventParents)if(this._eventParents[s].listens(e,t,n,r))return!0;return!1},_listens:function(e,t,n){if(!this._events)return!1;var r=this._events[e]||[];if(!t)return!!r.length;n===this&&(n=void 0);for(var i=0,o=r.length;i<o;i++)if(r[i].fn===t&&r[i].ctx===n)return i;return!1},once:function(e,t,n){if("object"==typeof e)for(var r in e)this._on(r,e[r],t,!0);else for(var i=0,o=(e=h(e)).length;i<o;i++)this._on(e[i],t,n,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[s(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[s(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};D.addEventListener=D.on,D.removeEventListener=D.clearAllEventListeners=D.off,D.addOneTimeEventListener=D.once,D.fireEvent=D.fire,D.hasEventListeners=D.listens;var M=A.extend(D);function P(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var I=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function R(e,t,n){return e instanceof P?e:v(e)?new P(e[0],e[1]):null==e?e:"object"==typeof e&&"x"in e&&"y"in e?new P(e.x,e.y):new P(e,t,n)}function N(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function B(e,t){return!e||e instanceof N?e:new N(e,t)}function F(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function j(e,t){return e instanceof F?e:new F(e,t)}function z(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function H(e,t,n){return e instanceof z?e:v(e)&&"object"!=typeof e[0]?3===e.length?new z(e[0],e[1],e[2]):2===e.length?new z(e[0],e[1]):null:null==e?e:"object"==typeof e&&"lat"in e?new z(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new z(e,t,n)}P.prototype={clone:function(){return new P(this.x,this.y)},add:function(e){return this.clone()._add(R(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(R(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new P(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new P(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=I(this.x),this.y=I(this.y),this},distanceTo:function(e){var t=(e=R(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=R(e)).x===this.x&&e.y===this.y},contains:function(e){return e=R(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},N.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof P||"number"==typeof e[0]||"x"in e)t=n=R(e);else if(t=(e=B(e)).min,n=e.max,!t||!n)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=t.clone(),this.max=n.clone()),this},getCenter:function(e){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"==typeof e[0]||e instanceof P?R(e):B(e))instanceof N?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=B(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>=t.x&&r.x<=n.x,s=i.y>=t.y&&r.y<=n.y;return o&&s},overlaps:function(e){e=B(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>t.x&&r.x<n.x,s=i.y>t.y&&r.y<n.y;return o&&s},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,n=this.max,r=Math.abs(t.x-n.x)*e,i=Math.abs(t.y-n.y)*e;return B(R(t.x-r,t.y-i),R(n.x+r,n.y+i))},equals:function(e){return!!e&&(e=B(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},F.prototype={extend:function(e){var t,n,r=this._southWest,i=this._northEast;if(e instanceof z)t=e,n=e;else{if(!(e instanceof F))return e?this.extend(H(e)||j(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||i?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new z(t.lat,t.lng),this._northEast=new z(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new F(new z(t.lat-r,t.lng-i),new z(n.lat+r,n.lng+i))},getCenter:function(){return new z((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new z(this.getNorth(),this.getWest())},getSouthEast:function(){return new z(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof z||"lat"in e?H(e):j(e);var t,n,r=this._southWest,i=this._northEast;return e instanceof F?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=i.lat&&t.lng>=r.lng&&n.lng<=i.lng},intersects:function(e){e=j(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>=t.lat&&r.lat<=n.lat,s=i.lng>=t.lng&&r.lng<=n.lng;return o&&s},overlaps:function(e){e=j(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>t.lat&&r.lat<n.lat,s=i.lng>t.lng&&r.lng<n.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=j(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},z.prototype={equals:function(e,t){return!!e&&(e=H(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+u(this.lat,e)+", "+u(this.lng,e)+")"},distanceTo:function(e){return W.distance(this,H(e))},wrap:function(){return W.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return j([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new z(this.lat,this.lng,this.alt)}};var $,U={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new N(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?l(e.lng,this.wrapLng,!0):e.lng;return new z(this.wrapLat?l(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(0===r&&0===i)return e;var o=e.getSouthWest(),s=e.getNorthEast();return new F(new z(o.lat-r,o.lng-i),new z(s.lat-r,s.lng-i))}},W=n({},U,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,o=Math.sin((t.lat-e.lat)*n/2),s=Math.sin((t.lng-e.lng)*n/2),a=o*o+Math.cos(r)*Math.cos(i)*s*s,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),q=6378137,V={R:q,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new P(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new z((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:($=q*Math.PI,new N([-$,-$],[$,$]))};function Z(e,t,n,r){if(v(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function Y(e,t,n,r){return new Z(e,t,n,r)}Z.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new P((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var G=n({},W,{code:"EPSG:3857",projection:V,transformation:function(){var e=.5/(Math.PI*V.R);return Y(e,.5,-e,.5)}()}),K=n({},G,{code:"EPSG:900913"});function X(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function J(e,t){var n,r,i,o,s,a,l="";for(n=0,i=e.length;n<i;n++){for(r=0,o=(s=e[n]).length;r<o;r++)l+=(r?"L":"M")+(a=s[r]).x+" "+a.y;l+=t?Fe.svg?"z":"x":""}return l||"M0 0"}var Q,ee=document.documentElement.style,te="ActiveXObject"in window,ne=te&&!document.addEventListener,re="msLaunchUri"in navigator&&!("documentMode"in document),ie=Be("webkit"),oe=Be("android"),se=Be("android 2")||Be("android 3"),ae=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),le=oe&&Be("Google")&&ae<537&&!("AudioNode"in window),ce=!!window.opera,ue=!re&&Be("chrome"),de=Be("gecko")&&!ie&&!ce&&!te,he=!ue&&Be("safari"),fe=Be("phantom"),pe="OTransition"in ee,me=0===navigator.platform.indexOf("Win"),ge=te&&"transition"in ee,ve="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!se,ye="MozPerspective"in ee,_e=!window.L_DISABLE_3D&&(ge||ve||ye)&&!pe&&!fe,be="undefined"!=typeof orientation||Be("mobile"),we=be&&ie,ke=be&&ve,xe=!window.PointerEvent&&window.MSPointerEvent,Se=!(!window.PointerEvent&&!xe),Ee="ontouchstart"in window||!!window.TouchEvent,Ce=!window.L_NO_TOUCH&&(Ee||Se),Te=be&&ce,Ae=be&&de,Oe=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,De=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",c,t),window.removeEventListener("testPassiveEventSupport",c,t)}catch(e){}return e}(),Me=!!document.createElement("canvas").getContext,Le=!(!document.createElementNS||!X("svg").createSVGRect),Pe=!!Le&&((Q=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(Q.firstChild&&Q.firstChild.namespaceURI)),Ie=!Le&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(e){return!1}}(),Re=0===navigator.platform.indexOf("Mac"),Ne=0===navigator.platform.indexOf("Linux");function Be(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Fe={ie:te,ielt9:ne,edge:re,webkit:ie,android:oe,android23:se,androidStock:le,opera:ce,chrome:ue,gecko:de,safari:he,phantom:fe,opera12:pe,win:me,ie3d:ge,webkit3d:ve,gecko3d:ye,any3d:_e,mobile:be,mobileWebkit:we,mobileWebkit3d:ke,msPointer:xe,pointer:Se,touch:Ce,touchNative:Ee,mobileOpera:Te,mobileGecko:Ae,retina:Oe,passiveEvents:De,canvas:Me,svg:Le,vml:Ie,inlineSvg:Pe,mac:Re,linux:Ne},je=Fe.msPointer?"MSPointerDown":"pointerdown",ze=Fe.msPointer?"MSPointerMove":"pointermove",He=Fe.msPointer?"MSPointerUp":"pointerup",$e=Fe.msPointer?"MSPointerCancel":"pointercancel",Ue={touchstart:je,touchmove:ze,touchend:He,touchcancel:$e},We={touchstart:et,touchmove:Qe,touchend:Qe,touchcancel:Qe},qe={},Ve=!1;function Ze(e,t,n){return"touchstart"===t&&Je(),We[t]?(n=We[t].bind(this,n),e.addEventListener(Ue[t],n,!1),n):(console.warn("wrong event specified:",t),c)}function Ye(e,t,n){Ue[t]?e.removeEventListener(Ue[t],n,!1):console.warn("wrong event specified:",t)}function Ge(e){qe[e.pointerId]=e}function Ke(e){qe[e.pointerId]&&(qe[e.pointerId]=e)}function Xe(e){delete qe[e.pointerId]}function Je(){Ve||(document.addEventListener(je,Ge,!0),document.addEventListener(ze,Ke,!0),document.addEventListener(He,Xe,!0),document.addEventListener($e,Xe,!0),Ve=!0)}function Qe(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],qe)t.touches.push(qe[n]);t.changedTouches=[t],e(t)}}function et(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Gt(t),Qe(e,t)}function tt(e){var t,n,r={};for(n in e)t=e[n],r[n]=t&&t.bind?t.bind(e):t;return e=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var nt=200;function rt(e,t){e.addEventListener("dblclick",t);var n,r=0;function i(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var i=Xt(e);if(!i.some((function(e){return e instanceof HTMLLabelElement&&e.attributes.for}))||i.some((function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement}))){var o=Date.now();o-r<=nt?2==++n&&t(tt(e)):n=1,r=o}}}else n=e.detail}return e.addEventListener("click",i),{dblclick:t,simDblclick:i}}function it(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var ot,st,at,lt,ct,ut=Tt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),dt=Tt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ht="webkitTransition"===dt||"OTransition"===dt?dt+"End":"transitionend";function ft(e){return"string"==typeof e?document.getElementById(e):e}function pt(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}function mt(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function gt(e){var t=e.parentNode;t&&t.removeChild(e)}function vt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function yt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function _t(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function bt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=St(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function wt(e,t){if(void 0!==e.classList)for(var n=h(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!bt(e,t)){var o=St(e);xt(e,(o?o+" ":"")+t)}}function kt(e,t){void 0!==e.classList?e.classList.remove(t):xt(e,d((" "+St(e)+" ").replace(" "+t+" "," ")))}function xt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function St(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function Et(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&Ct(e,t)}function Ct(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(e){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}function Tt(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function At(e,t,n){var r=t||new P(0,0);e.style[ut]=(Fe.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function Ot(e,t){e._leaflet_pos=t,Fe.any3d?At(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function Dt(e){return e._leaflet_pos||new P(0,0)}if("onselectstart"in document)ot=function(){jt(window,"selectstart",Gt)},st=function(){Ht(window,"selectstart",Gt)};else{var Mt=Tt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ot=function(){if(Mt){var e=document.documentElement.style;at=e[Mt],e[Mt]="none"}},st=function(){Mt&&(document.documentElement.style[Mt]=at,at=void 0)}}function Lt(){jt(window,"dragstart",Gt)}function Pt(){Ht(window,"dragstart",Gt)}function It(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Rt(),lt=e,ct=e.style.outlineStyle,e.style.outlineStyle="none",jt(window,"keydown",Rt))}function Rt(){lt&&(lt.style.outlineStyle=ct,lt=void 0,ct=void 0,Ht(window,"keydown",Rt))}function Nt(e){do{e=e.parentNode}while(!(e.offsetWidth&&e.offsetHeight||e===document.body));return e}function Bt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Ft={__proto__:null,TRANSFORM:ut,TRANSITION:dt,TRANSITION_END:ht,get:ft,getStyle:pt,create:mt,remove:gt,empty:vt,toFront:yt,toBack:_t,hasClass:bt,addClass:wt,removeClass:kt,setClass:xt,getClass:St,setOpacity:Et,testProp:Tt,setTransform:At,setPosition:Ot,getPosition:Dt,get disableTextSelection(){return ot},get enableTextSelection(){return st},disableImageDrag:Lt,enableImageDrag:Pt,preventOutline:It,restoreOutline:Rt,getSizedParentNode:Nt,getScale:Bt};function jt(e,t,n,r){if(t&&"object"==typeof t)for(var i in t)Wt(e,i,t[i],n);else for(var o=0,s=(t=h(t)).length;o<s;o++)Wt(e,t[o],n,r);return this}var zt="_leaflet_events";function Ht(e,t,n,r){if(1===arguments.length)$t(e),delete e[zt];else if(t&&"object"==typeof t)for(var i in t)qt(e,i,t[i],n);else if(t=h(t),2===arguments.length)$t(e,(function(e){return-1!==y(t,e)}));else for(var o=0,s=t.length;o<s;o++)qt(e,t[o],n,r);return this}function $t(e,t){for(var n in e[zt]){var r=n.split(/\d/)[0];t&&!t(r)||qt(e,r,null,null,n)}}var Ut={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Wt(e,t,n,r){var i=t+s(n)+(r?"_"+s(r):"");if(e[zt]&&e[zt][i])return this;var o=function(t){return n.call(r||e,t||window.event)},a=o;!Fe.touchNative&&Fe.pointer&&0===t.indexOf("touch")?o=Ze(e,t,o):Fe.touch&&"dblclick"===t?o=rt(e,o):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Ut[t]||t,o,!!Fe.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(o=function(t){t=t||window.event,tn(e,t)&&a(t)},e.addEventListener(Ut[t],o,!1)):e.addEventListener(t,a,!1):e.attachEvent("on"+t,o),e[zt]=e[zt]||{},e[zt][i]=o}function qt(e,t,n,r,i){i=i||t+s(n)+(r?"_"+s(r):"");var o=e[zt]&&e[zt][i];if(!o)return this;!Fe.touchNative&&Fe.pointer&&0===t.indexOf("touch")?Ye(e,t,o):Fe.touch&&"dblclick"===t?it(e,o):"removeEventListener"in e?e.removeEventListener(Ut[t]||t,o,!1):e.detachEvent("on"+t,o),e[zt][i]=null}function Vt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Zt(e){return Wt(e,"wheel",Vt),this}function Yt(e){return jt(e,"mousedown touchstart dblclick contextmenu",Vt),e._leaflet_disable_click=!0,this}function Gt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Kt(e){return Gt(e),Vt(e),this}function Xt(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function Jt(e,t){if(!t)return new P(e.clientX,e.clientY);var n=Bt(t),r=n.boundingClientRect;return new P((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var Qt=Fe.linux&&Fe.chrome?window.devicePixelRatio:Fe.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function en(e){return Fe.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Qt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function tn(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(e){return!1}return n!==e}var nn={__proto__:null,on:jt,off:Ht,stopPropagation:Vt,disableScrollPropagation:Zt,disableClickPropagation:Yt,preventDefault:Gt,stop:Kt,getPropagationPath:Xt,getMousePosition:Jt,getWheelDelta:en,isExternalTarget:tn,addListener:jt,removeListener:Ht},rn=M.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=Dt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=E(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),Ot(this._el,n),this.fire("step")},_complete:function(){C(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),on=M.extend({options:{crs:G,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=f(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(H(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=dt&&Fe.any3d&&!Fe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),jt(this._proxy,ht,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,r){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(H(e),t,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,r.zoom):this._tryAnimatedPan(e,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,r.pan&&r.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(Fe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(Fe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),o=(e instanceof P?e:this.latLngToContainerPoint(e)).subtract(i).multiplyBy(1-1/r),s=this.containerPointToLatLng(i.add(o));return this.setView(s,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():j(e);var n=R(t.paddingTopLeft||t.padding||[0,0]),r=R(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if((i="number"==typeof t.maxZoom?Math.min(t.maxZoom,i):i)===1/0)return{center:e.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),s=this.project(e.getSouthWest(),i),a=this.project(e.getNorthEast(),i);return{center:this.unproject(s.add(a).divideBy(2).add(o),i),zoom:i}},fitBounds:function(e,t){if(!(e=j(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=R(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new rn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){wt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!Fe.any3d)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),i=this.project(e),o=this.getSize(),s=this._zoom;e=H(e),t=void 0===t?s:t;var a=Math.max(o.x,o.y),l=a*this.getZoomScale(s,t),c=i.distanceTo(r)||1,u=1.42,d=u*u;function h(e){var t=(l*l-a*a+(e?-1:1)*d*d*c*c)/(2*(e?l:a)*d*c),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function f(e){return(Math.exp(e)-Math.exp(-e))/2}function p(e){return(Math.exp(e)+Math.exp(-e))/2}function m(e){return f(e)/p(e)}var g=h(0);function v(e){return a*(p(g)/p(g+u*e))}function y(e){return a*(p(g)*m(g+u*e)-f(g))/d}function _(e){return 1-Math.pow(1-e,1.5)}var b=Date.now(),w=(h(1)-g)/u,k=n.duration?1e3*n.duration:1e3*w*.8;function x(){var n=(Date.now()-b)/k,o=_(n)*w;n<=1?(this._flyToFrame=E(x,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(y(o)/c)),s),this.getScaleZoom(a/v(o),s),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),x.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=j(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,j(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=R((t=t||{}).paddingTopLeft||t.padding||[0,0]),r=R(t.paddingBottomRight||t.padding||[0,0]),i=this.project(this.getCenter()),o=this.project(e),s=this.getPixelBounds(),a=B([s.min.add(n),s.max.subtract(r)]),l=a.getSize();if(!a.contains(o)){this._enforcingBounds=!0;var c=o.subtract(a.getCenter()),u=a.extend(o).getSize().subtract(l);i.x+=c.x<0?-u.x:u.x,i.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(i),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=t.divideBy(2).round(),s=r.divideBy(2).round(),a=o.subtract(s);return a.x||a.y?(e.animate&&e.pan?this.panBy(a):(e.pan&&this._rawPanBy(a),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,r,e):navigator.geolocation.getCurrentPosition(t,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new z(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(t,r.maxZoom?Math.min(i,r.maxZoom):i)}var o={latlng:t,bounds:n,timestamp:e.timestamp};for(var s in e.coords)"number"==typeof e.coords[s]&&(o[s]=e.coords[s]);this.fire("locationfound",o)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),gt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(C(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)gt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=mt("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new F(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=j(e),n=R(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),s=e.getNorthWest(),a=e.getSouthEast(),l=this.getSize().subtract(n),c=B(this.project(a,r),this.project(s,r)).getSize(),u=Fe.any3d?this.options.zoomSnap:1,d=l.x/c.x,h=l.y/c.y,f=t?Math.max(d,h):Math.min(d,h);return r=this.getScaleZoom(f,r),u&&(r=Math.round(r/(u/100))*(u/100),r=t?Math.ceil(r/u)*u:Math.floor(r/u)*u),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new P(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new N(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(H(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(R(e),t)},layerPointToLatLng:function(e){var t=R(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(H(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(H(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(j(e))},distance:function(e,t){return this.options.crs.distance(H(e),H(t))},containerPointToLayerPoint:function(e){return R(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return R(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(R(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(H(e)))},mouseEventToContainerPoint:function(e){return Jt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=ft(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");jt(t,"scroll",this._onScroll,this),this._containerId=s(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Fe.any3d,wt(e,"leaflet-container"+(Fe.touch?" leaflet-touch":"")+(Fe.retina?" leaflet-retina":"")+(Fe.ielt9?" leaflet-oldie":"")+(Fe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=pt(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ot(this._mapPane,new P(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(wt(e.markerPane,"leaflet-zoom-hide"),wt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){Ot(this._mapPane,new P(0,0));var r=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var i=this._zoom!==t;this._moveStart(i,n)._move(e,t)._moveEnd(i),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,r){void 0===t&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?n&&n.pinch&&this.fire("zoom",n):((i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return C(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Ot(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[s(this._container)]=this;var t=e?Ht:jt;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Fe.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){C(this._resizeRequest),this._resizeRequest=E((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],i="mouseout"===t||"mouseover"===t,o=e.target||e.srcElement,a=!1;o;){if((n=this._targets[s(o)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(t,!0)){if(i&&!tn(o,e))break;if(r.push(n),i)break}if(o===this._container)break;o=o.parentNode}return r.length||a||i||!this.listens(t,!0)||(r=[this]),r},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&It(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,r){if("click"===e.type){var i=n({},e);i.type="preclick",this._fireDOMEvent(i,i.type,r)}var o=this._findEventTargets(e,t);if(r){for(var s=[],a=0;a<r.length;a++)r[a].listens(t,!0)&&s.push(r[a]);o=s.concat(o)}if(o.length){"contextmenu"===t&&Gt(e);var l=o[0],c={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(a=0;a<o.length;a++)if(o[a].fire(t,c,!0),c.originalEvent._stopped||!1===o[a].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return Dt(this._mapPane)||new P(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return B([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),o=new N(r.subtract(i),r.add(i)),s=this._getBoundsOffset(o,n,t);return Math.abs(s.x)<=1&&Math.abs(s.y)<=1?e:this.unproject(r.add(s),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new N(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=B(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),o=r.max.subtract(e.max);return new P(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=Fe.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){kt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n)||(this.panBy(n,t),0))},_createAnimProxy:function(){var e=this._proxy=mt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=ut,n=this._proxy.style[t];At(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){gt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();At(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i)||(E((function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(e,t,!0)}),this),0))},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,wt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&kt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function sn(e,t){return new on(e,t)}var an=A.extend({options:{position:"topright"},initialize:function(e){f(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return wt(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(gt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),ln=function(e){return new an(e)};on.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=mt("div",t+"control-container",this._container);function r(r,i){var o=t+r+" "+t+i;e[r+i]=mt("div",o,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)gt(this._controlCorners[e]);gt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var cn=an.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in f(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return an.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(s(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){wt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(wt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):kt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return kt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=mt("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Yt(t),Zt(t);var r=this._section=mt("section",e+"-list");n&&(this._map.on("click",this.collapse,this),jt(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var i=this._layersLink=mt("a",e+"-toggle",t);i.href="#",i.title="Layers",i.setAttribute("role","button"),jt(i,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){Gt(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=mt("div",e+"-base",r),this._separator=mt("div",e+"-separator",r),this._overlaysList=mt("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&s(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;vt(this._baseLayersList),vt(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&i>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(s(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=document.createElement("label"),r=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=r):t=this._createRadioElement("leaflet-base-layers_"+s(this),r),this._layerControlInputs.push(t),t.layerId=s(e.layer),jt(t,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+e.name;var o=document.createElement("span");return n.appendChild(o),o.appendChild(t),o.appendChild(i),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e,t,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)e=n[o],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||i.push(t);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,jt(e,"click",Gt),this.expand();var t=this;setTimeout((function(){Ht(e,"click",Gt),t._preventClick=!1}))}}),un=function(e,t,n){return new cn(e,t,n)},dn=an.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=mt("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var o=mt("a",n,r);return o.innerHTML=e,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),Yt(o),jt(o,"click",Kt),jt(o,"click",i,this),jt(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";kt(this._zoomInButton,t),kt(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(wt(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(wt(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});on.mergeOptions({zoomControl:!0}),on.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new dn,this.addControl(this.zoomControl))}));var hn=function(e){return new dn(e)},fn=an.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=mt("div",t),r=this.options;return this._addScales(r,t+"-line",n),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=mt("div",t,n)),e.imperial&&(this._iScale=mt("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),pn=function(e){return new fn(e)},mn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',gn=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Fe.inlineSvg?mn+" ":"")+"Leaflet</a>"},initialize:function(e){f(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=mt("div","leaflet-control-attribution"),Yt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",(function(){this.removeAttribution(e.layer.getAttribution())}),this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});on.mergeOptions({attributionControl:!0}),on.addInitHook((function(){this.options.attributionControl&&(new gn).addTo(this)}));var vn=function(e){return new gn(e)};an.Layers=cn,an.Zoom=dn,an.Scale=fn,an.Attribution=gn,ln.layers=un,ln.zoom=hn,ln.scale=pn,ln.attribution=vn;var yn=A.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});yn.addTo=function(e,t){return e.addHandler(t,this),this};var _n={Events:D},bn=Fe.touch?"touchstart mousedown":"mousedown",wn=M.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){f(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(jt(this._dragStartTarget,bn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wn._dragging===this&&this.finishDrag(!0),Ht(this._dragStartTarget,bn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!bt(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)wn._dragging===this&&this.finishDrag();else if(!(wn._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(wn._dragging=this,this._preventOutline&&It(this._element),Lt(),ot(),this._moving))){this.fire("down");var t=e.touches?e.touches[0]:e,n=Nt(this._element);this._startPoint=new P(t.clientX,t.clientY),this._startPos=Dt(this._element),this._parentScale=Bt(n);var r="mousedown"===e.type;jt(document,r?"mousemove":"touchmove",this._onMove,this),jt(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new P(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Gt(e),this._moved||(this.fire("dragstart"),this._moved=!0,wt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),wt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Ot(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){kt(document.body,"leaflet-dragging"),this._lastTarget&&(kt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ht(document,"mousemove touchmove",this._onMove,this),Ht(document,"mouseup touchend touchcancel",this._onUp,this),Pt(),st();var t=this._moved&&this._moving;this._moving=!1,wn._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function kn(e,t,n){var r,i,o,s,a,l,c,u,d,h=[1,4,2,8];for(i=0,c=e.length;i<c;i++)e[i]._code=Rn(e[i],t);for(s=0;s<4;s++){for(u=h[s],r=[],i=0,o=(c=e.length)-1;i<c;o=i++)a=e[i],l=e[o],a._code&u?l._code&u||((d=In(l,a,u,t,n))._code=Rn(d,t),r.push(d)):(l._code&u&&((d=In(l,a,u,t,n))._code=Rn(d,t),r.push(d)),r.push(a));e=r}return e}function xn(e,t){var n,r,i,o,s,a,l,c,u;if(!e||0===e.length)throw new Error("latlngs not passed");Fn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var d=H([0,0]),h=j(e);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(d=Sn(e));var f=e.length,p=[];for(n=0;n<f;n++){var m=H(e[n]);p.push(t.project(H([m.lat-d.lat,m.lng-d.lng])))}for(a=l=c=0,n=0,r=f-1;n<f;r=n++)i=p[n],o=p[r],s=i.y*o.x-o.y*i.x,l+=(i.x+o.x)*s,c+=(i.y+o.y)*s,a+=3*s;u=0===a?p[0]:[l/a,c/a];var g=t.unproject(R(u));return H([g.lat+d.lat,g.lng+d.lng])}function Sn(e){for(var t=0,n=0,r=0,i=0;i<e.length;i++){var o=H(e[i]);t+=o.lat,n+=o.lng,r++}return H([t/r,n/r])}var En,Cn={__proto__:null,clipPolygon:kn,polygonCenter:xn,centroid:Sn};function Tn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=Dn(e=Ln(e,n),n)}function An(e,t,n){return Math.sqrt(Bn(e,t,n,!0))}function On(e,t,n){return Bn(e,t,n)}function Dn(e,t){var n=e.length,r=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,Mn(e,r,t,0,n-1);var i,o=[];for(i=0;i<n;i++)r[i]&&o.push(e[i]);return o}function Mn(e,t,n,r,i){var o,s,a,l=0;for(s=r+1;s<=i-1;s++)(a=Bn(e[s],e[r],e[i],!0))>l&&(o=s,l=a);l>n&&(t[o]=1,Mn(e,t,n,r,o),Mn(e,t,n,o,i))}function Ln(e,t){for(var n=[e[0]],r=1,i=0,o=e.length;r<o;r++)Nn(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<o-1&&n.push(e[o-1]),n}function Pn(e,t,n,r,i){var o,s,a,l=r?En:Rn(e,n),c=Rn(t,n);for(En=c;;){if(!(l|c))return[e,t];if(l&c)return!1;a=Rn(s=In(e,t,o=l||c,n,i),n),o===l?(e=s,l=a):(t=s,c=a)}}function In(e,t,n,r,i){var o,s,a=t.x-e.x,l=t.y-e.y,c=r.min,u=r.max;return 8&n?(o=e.x+a*(u.y-e.y)/l,s=u.y):4&n?(o=e.x+a*(c.y-e.y)/l,s=c.y):2&n?(o=u.x,s=e.y+l*(u.x-e.x)/a):1&n&&(o=c.x,s=e.y+l*(c.x-e.x)/a),new P(o,s,i)}function Rn(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function Nn(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Bn(e,t,n,r){var i,o=t.x,s=t.y,a=n.x-o,l=n.y-s,c=a*a+l*l;return c>0&&((i=((e.x-o)*a+(e.y-s)*l)/c)>1?(o=n.x,s=n.y):i>0&&(o+=a*i,s+=l*i)),a=e.x-o,l=e.y-s,r?a*a+l*l:new P(o,s)}function Fn(e){return!v(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function jn(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Fn(e)}function zn(e,t){var n,r,i,o,s,a,l,c;if(!e||0===e.length)throw new Error("latlngs not passed");Fn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var u=H([0,0]),d=j(e);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(u=Sn(e));var h=e.length,f=[];for(n=0;n<h;n++){var p=H(e[n]);f.push(t.project(H([p.lat-u.lat,p.lng-u.lng])))}for(n=0,r=0;n<h-1;n++)r+=f[n].distanceTo(f[n+1])/2;if(0===r)c=f[0];else for(n=0,o=0;n<h-1;n++)if(s=f[n],a=f[n+1],(o+=i=s.distanceTo(a))>r){l=(o-r)/i,c=[a.x-l*(a.x-s.x),a.y-l*(a.y-s.y)];break}var m=t.unproject(R(c));return H([m.lat+u.lat,m.lng+u.lng])}var Hn={__proto__:null,simplify:Tn,pointToSegmentDistance:An,closestPointOnSegment:On,clipSegment:Pn,_getEdgeIntersection:In,_getBitCode:Rn,_sqClosestPointOnSegment:Bn,isFlat:Fn,_flat:jn,polylineCenter:zn},$n={project:function(e){return new P(e.lng,e.lat)},unproject:function(e){return new z(e.y,e.x)},bounds:new N([-180,-90],[180,90])},Un={R:6378137,R_MINOR:6356752.314245179,bounds:new N([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),s=o*Math.sin(r),a=Math.tan(Math.PI/4-r/2)/Math.pow((1-s)/(1+s),o/2);return r=-n*Math.log(Math.max(a,1e-10)),new P(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),s=Math.exp(-e.y/r),a=Math.PI/2-2*Math.atan(s),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=o*Math.sin(a),t=Math.pow((1-t)/(1+t),o/2),a+=c=Math.PI/2-2*Math.atan(s*t)-a;return new z(a*n,e.x*n/r)}},Wn={__proto__:null,LonLat:$n,Mercator:Un,SphericalMercator:V},qn=n({},W,{code:"EPSG:3395",projection:Un,transformation:function(){var e=.5/(Math.PI*Un.R);return Y(e,.5,-e,.5)}()}),Vn=n({},W,{code:"EPSG:4326",projection:$n,transformation:Y(1/180,1,-1/180,.5)}),Zn=n({},U,{projection:$n,transformation:Y(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});U.Earth=W,U.EPSG3395=qn,U.EPSG3857=G,U.EPSG900913=K,U.EPSG4326=Vn,U.Simple=Zn;var Yn=M.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[s(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[s(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});on.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=s(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=s(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return s(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?v(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[s(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=s(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=void 0===i.minZoom?e:Math.min(e,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Gn=Yn.extend({initialize:function(e,t){var n,r;if(f(this,t),this._layers={},e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"==typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return s(e)}}),Kn=function(e,t){return new Gn(e,t)},Xn=Gn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Gn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Gn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new F;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Jn=function(e,t){return new Xn(e,t)},Qn=A.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){f(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"==typeof r&&(r=[r,r]);var i=R(r),o=R("shadow"===t&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Fe.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function er(e){return new Qn(e)}var tr=Qn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!=typeof tr.imagePath&&(tr.imagePath=this._detectIconPath()),(this.options.imagePath||tr.imagePath)+Qn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var r=t.exec(e);return r&&r[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=mt("div","leaflet-default-icon-path",document.body),t=pt(e,"background-image")||pt(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),nr=yn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new wn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),wt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&kt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=Dt(t._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),l=B(s.min._subtract(a).add(i),s.max._subtract(a).subtract(i));if(!l.contains(o)){var c=R((Math.max(l.max.x,o.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(r);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),Ot(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=E(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(C(this._panRequest),this._panRequest=E(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=Dt(t._icon),i=t._map.layerPointToLatLng(r);n&&Ot(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){C(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),rr=Yn.extend({options:{icon:new tr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){f(this,t),this._latlng=H(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=H(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),wt(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&jt(n,"focus",this._panOnFocus,this);var i=e.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(wt(i,t),i.alt=""),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ht(this._icon,"focus",this._panOnFocus,this),gt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&gt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Ot(this._icon,e),this._shadow&&Ot(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(wt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),nr)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new nr(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Et(this._icon,e),this._shadow&&Et(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?R(t.iconSize):R(0,0),r=t.iconAnchor?R(t.iconAnchor):R(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ir(e,t){return new rr(e,t)}var or=Yn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return f(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),sr=or.extend({options:{fill:!0,radius:10},initialize:function(e,t){f(this,t),this._latlng=H(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=H(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return or.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new N(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ar(e,t){return new sr(e,t)}var lr=sr.extend({initialize:function(e,t,r){if("number"==typeof t&&(t=n({},r,{radius:t})),f(this,t),this._latlng=H(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:or.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===W.distance){var i=Math.PI/180,o=this._mRadius/W.R/i,s=n.project([t+o,e]),a=n.project([t-o,e]),l=s.add(a).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(o*i)-Math.sin(t*i)*Math.sin(c*i))/(Math.cos(t*i)*Math.cos(c*i)))/i;(isNaN(u)||0===u)&&(u=o/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,e-u]).x,this._radiusY=l.y-s.y}else{var d=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}});function cr(e,t,n){return new lr(e,t,n)}var ur=or.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){f(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,i=null,o=Bn,s=0,a=this._parts.length;s<a;s++)for(var l=this._parts[s],c=1,u=l.length;c<u;c++){var d=o(e,t=l[c-1],n=l[c],!0);d<r&&(r=d,i=o(e,t,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=H(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new F,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Fn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Fn(e),r=0,i=e.length;r<i;r++)n?(t[r]=H(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new N;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new P(e,e);this._rawPxBounds&&(this._pxBounds=new N([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var r,i,o=e[0]instanceof z,s=e.length;if(o){for(i=[],r=0;r<s;r++)i[r]=this._map.latLngToLayerPoint(e[r]),n.extend(i[r]);t.push(i)}else for(r=0;r<s;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,r,i,o,s,a,l=this._parts;for(t=0,r=0,i=this._rings.length;t<i;t++)for(n=0,o=(a=this._rings[t]).length;n<o-1;n++)(s=Pn(a[n],a[n+1],e,n,!0))&&(l[r]=l[r]||[],l[r].push(s[0]),s[1]===a[n+1]&&n!==o-2||(l[r].push(s[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=Tn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,o,s,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,o=this._parts.length;n<o;n++)for(r=0,i=(s=(a=this._parts[n]).length)-1;r<s;i=r++)if((t||0!==r)&&An(e,a[i],a[r])<=l)return!0;return!1}});function dr(e,t){return new ur(e,t)}ur._flat=jn;var hr=ur.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=ur.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof z&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){ur.prototype._setLatLngs.call(this,e),Fn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Fn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new P(t,t);if(e=new N(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,o=this._rings.length;i<o;i++)(r=kn(this._rings[i],e,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,i,o,s,a,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,a=this._parts.length;i<a;i++)for(o=0,s=(l=(t=this._parts[i]).length)-1;o<l;s=o++)n=t[o],r=t[s],n.y>e.y!=r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c||ur.prototype._containsPoint.call(this,e,!0)}});function fr(e,t){return new hr(e,t)}var pr=Xn.extend({initialize:function(e,t){f(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,i=v(e)?e:e.features;if(i){for(t=0,n=i.length;t<n;t++)((r=i[t]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var s=mr(e,o);return s?(s.feature=kr(e),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(e,s),this.addLayer(s)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"==typeof t&&(t=t(e.feature)),e.setStyle(t))}});function mr(e,t){var n,r,i,o,s="Feature"===e.type?e.geometry:e,a=s?s.coordinates:null,l=[],c=t&&t.pointToLayer,u=t&&t.coordsToLatLng||vr;if(!a&&!s)return null;switch(s.type){case"Point":return gr(c,e,n=u(a),t);case"MultiPoint":for(i=0,o=a.length;i<o;i++)n=u(a[i]),l.push(gr(c,e,n,t));return new Xn(l);case"LineString":case"MultiLineString":return r=yr(a,"LineString"===s.type?0:1,u),new ur(r,t);case"Polygon":case"MultiPolygon":return r=yr(a,"Polygon"===s.type?1:2,u),new hr(r,t);case"GeometryCollection":for(i=0,o=s.geometries.length;i<o;i++){var d=mr({geometry:s.geometries[i],type:"Feature",properties:e.properties},t);d&&l.push(d)}return new Xn(l);case"FeatureCollection":for(i=0,o=s.features.length;i<o;i++){var h=mr(s.features[i],t);h&&l.push(h)}return new Xn(l);default:throw new Error("Invalid GeoJSON object.")}}function gr(e,t,n,r){return e?e(t,n):new rr(n,r&&r.markersInheritOptions&&r)}function vr(e){return new z(e[1],e[0],e[2])}function yr(e,t,n){for(var r,i=[],o=0,s=e.length;o<s;o++)r=t?yr(e[o],t-1,n):(n||vr)(e[o]),i.push(r);return i}function _r(e,t){return void 0!==(e=H(e)).alt?[u(e.lng,t),u(e.lat,t),u(e.alt,t)]:[u(e.lng,t),u(e.lat,t)]}function br(e,t,n,r){for(var i=[],o=0,s=e.length;o<s;o++)i.push(t?br(e[o],Fn(e[o])?0:t-1,n,r):_r(e[o],r));return!t&&n&&i.length>0&&i.push(i[0].slice()),i}function wr(e,t){return e.feature?n({},e.feature,{geometry:t}):kr(t)}function kr(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var xr={toGeoJSON:function(e){return wr(this,{type:"Point",coordinates:_r(this.getLatLng(),e)})}};function Sr(e,t){return new pr(e,t)}rr.include(xr),lr.include(xr),sr.include(xr),ur.include({toGeoJSON:function(e){var t=!Fn(this._latlngs);return wr(this,{type:(t?"Multi":"")+"LineString",coordinates:br(this._latlngs,t?1:0,!1,e)})}}),hr.include({toGeoJSON:function(e){var t=!Fn(this._latlngs),n=t&&!Fn(this._latlngs[0]),r=br(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),wr(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Gn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),wr(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer((function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var o=kr(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}})),n?wr(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var Er=Sr,Cr=Yn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=j(t),f(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(wt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){gt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&yt(this._image),this},bringToBack:function(){return this._map&&_t(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=j(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:mt("img");wt(t,"leaflet-image-layer"),this._zoomAnimated&&wt(t,"leaflet-zoom-animated"),this.options.className&&wt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onload=i(this.fire,this,"load"),t.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;At(this._image,n,t)},_reset:function(){var e=this._image,t=new N(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();Ot(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){Et(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Tr=function(e,t,n){return new Cr(e,t,n)},Ar=Cr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:mt("video");if(wt(t,"leaflet-image-layer"),this._zoomAnimated&&wt(t,"leaflet-zoom-animated"),this.options.className&&wt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onloadeddata=i(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),r=[],o=0;o<n.length;o++)r.push(n[o].src);this._url=n.length>0?r:[t.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var s=0;s<this._url.length;s++){var a=mt("source");a.src=this._url[s],t.appendChild(a)}}}});function Or(e,t,n){return new Ar(e,t,n)}var Dr=Cr.extend({_initImage:function(){var e=this._image=this._url;wt(e,"leaflet-image-layer"),this._zoomAnimated&&wt(e,"leaflet-zoom-animated"),this.options.className&&wt(e,this.options.className),e.onselectstart=c,e.onmousemove=c}});function Mr(e,t,n){return new Dr(e,t,n)}var Lr=Yn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof z||v(e))?(this._latlng=H(e),f(this,t)):(f(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Et(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Et(this._container,1),this.bringToFront(),this.options.interactive&&(wt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(Et(this._container,0),this._removeTimeout=setTimeout(i(gt,void 0,this._container),200)):gt(this._container),this.options.interactive&&(kt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=H(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&yt(this._container),this},bringToBack:function(){return this._map&&_t(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Xn){t=null;var n=this._source._layers;for(var r in n)if(n[r]._map){t=n[r];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=R(this.options.offset),n=this._getAnchor();this._zoomAnimated?Ot(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}});on.include({_initOverlay:function(e,t,n,r){var i=t;return i instanceof e||(i=new e(r).setContent(t)),n&&i.setLatLng(n),i}}),Yn.include({_initOverlay:function(e,t,n,r){var i=n;return i instanceof e?(f(i,r),i._source=this):(i=t&&!r?t:new e(r,this)).setContent(n),i}});var Pr=Lr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Lr.prototype.openOn.call(this,e)},onAdd:function(e){Lr.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof or||this._source.on("preclick",Vt))},onRemove:function(e){Lr.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof or||this._source.off("preclick",Vt))},getEvents:function(){var e=Lr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=mt("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=mt("div",e+"-content-wrapper",t);if(this._contentNode=mt("div",e+"-content",n),Yt(t),Zt(this._contentNode),jt(t,"contextmenu",Vt),this._tipContainer=mt("div",e+"-tip-container",t),this._tip=mt("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=mt("a",e+"-close-button",t);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',jt(r,"click",(function(e){Gt(e),this.close()}),this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,i=this.options.maxHeight,o="leaflet-popup-scrolled";i&&r>i?(t.height=i+"px",wt(e,o)):kt(e,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();Ot(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(pt(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,i=new P(this._containerLeft,-n-this._containerBottom);i._add(Dt(this._container));var o=e.layerPointToContainerPoint(i),s=R(this.options.autoPanPadding),a=R(this.options.autoPanPaddingTopLeft||s),l=R(this.options.autoPanPaddingBottomRight||s),c=e.getSize(),u=0,d=0;o.x+r+l.x>c.x&&(u=o.x+r-c.x+l.x),o.x-u-a.x<0&&(u=o.x-a.x),o.y+n+l.y>c.y&&(d=o.y+n-c.y+l.y),o.y-d-a.y<0&&(d=o.y-a.y),(u||d)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([u,d]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ir=function(e,t){return new Pr(e,t)};on.mergeOptions({closePopupOnClick:!0}),on.include({openPopup:function(e,t,n){return this._initOverlay(Pr,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Yn.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Pr,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Xn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){Kt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof or?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Rr=Lr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Lr.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Lr.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Lr.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=mt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+s(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,r=this._map,i=this._container,o=r.latLngToContainerPoint(r.getCenter()),s=r.layerPointToContainerPoint(e),a=this.options.direction,l=i.offsetWidth,c=i.offsetHeight,u=R(this.options.offset),d=this._getAnchor();"top"===a?(t=l/2,n=c):"bottom"===a?(t=l/2,n=0):"center"===a?(t=l/2,n=c/2):"right"===a?(t=0,n=c/2):"left"===a?(t=l,n=c/2):s.x<o.x?(a="right",t=0,n=c/2):(a="left",t=l+2*(u.x+d.x),n=c/2),e=e.subtract(R(t,n,!0)).add(u).add(d),kt(i,"leaflet-tooltip-right"),kt(i,"leaflet-tooltip-left"),kt(i,"leaflet-tooltip-top"),kt(i,"leaflet-tooltip-bottom"),wt(i,"leaflet-tooltip-"+a),Ot(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Et(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Nr=function(e,t){return new Rr(e,t)};on.include({openTooltip:function(e,t,n){return this._initOverlay(Rr,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Yn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Rr,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Xn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t="function"==typeof e.getElement&&e.getElement();t&&(jt(t,"focus",(function(){this._tooltip._source=e,this.openTooltip()}),this),jt(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t="function"==typeof e.getElement&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",(function(){t._openOnceFlag=!1,t._openTooltip(e)}))}else this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Br=Qn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(vt(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=R(n.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Fr(e){return new Br(e)}Qn.Default=tr;var jr=Yn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Fe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){f(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),gt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(yt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(_t(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof P?e:new P(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),i=0,o=n.length;i<o;i++)t=n[i].style.zIndex,n[i]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Fe.ielt9){Et(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(e-i.loaded)/200);Et(i.el,o),o<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(C(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=mt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(gt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||((r=this._levels[e]={}).el=mt("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),c(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)gt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),o=Math.floor(t/2),s=n-1,a=new P(+i,+o);a.z=+s;var l=this._tileCoordsToKey(a),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),s>r&&this._retainParent(i,o,s,r))},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var o=2*t;o<2*t+2;o++){var s=new P(i,o);s.z=n+1;var a=this._tileCoordsToKey(s),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=Math.round(t);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var o=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();Fe.any3d?At(e.el,i,r):Ot(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*r);return new N(i.subtract(o),i.add(o))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),o=i.getCenter(),s=[],a=this.options.keepBuffer,l=new N(i.getBottomLeft().subtract([a,-a]),i.getTopRight().add([a,-a]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new P(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var d=i.min.y;d<=i.max.y;d++)for(var h=i.min.x;h<=i.max.x;h++){var f=new P(h,d);if(f.z=this._tileZoom,this._isValidTile(f)){var p=this._tiles[this._tileCoordsToKey(f)];p?p.current=!0:s.push(f)}}if(s.sort((function(e,t){return e.distanceTo(o)-t.distanceTo(o)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(h=0;h<s.length;h++)this._addTile(s[h],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return j(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new F(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new P(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(gt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){wt(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=c,e.onmousemove=c,Fe.ielt9&&this.options.opacity<1&&Et(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),i(this._tileReady,this,e));this._initTile(o),this.createTile.length<2&&E(i(this._tileReady,this,e,null,o)),Ot(o,n),this._tiles[r]={el:o,coords:e,current:!0},t.appendChild(o),this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(Et(n.el,0),C(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(wt(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Fe.ielt9||!this._map._fadeAnimated?E(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new P(this._wrapX?l(e.x,this._wrapX):e.x,this._wrapY?l(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new N(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function zr(e){return new jr(e)}var Hr=jr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=f(this,t)).detectRetina&&Fe.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return jt(n,"load",i(this._tileOnLoad,this,t,n)),jt(n,"error",i(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:Fe.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=r),t["-y"]=r}return g(this._url,n(t,this.options))},_tileOnLoad:function(e,t){Fe.ielt9?setTimeout(i(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=c,t.onerror=c,!t.complete)){t.src=_;var n=this._tiles[e].coords;gt(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",_),jr.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==_))return jr.prototype._tileReady.call(this,e,t,n)}});function $r(e,t){return new Hr(e,t)}var Ur=Hr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var r=n({},this.defaultWmsParams);for(var i in t)i in this.options||(r[i]=t[i]);var o=(t=f(this,t)).detectRetina&&Fe.retina?2:1,s=this.getTileSize();r.width=s.x*o,r.height=s.y*o,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Hr.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=B(n.project(t[0]),n.project(t[1])),i=r.min,o=r.max,s=(this._wmsVersion>=1.3&&this._crs===Vn?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),a=Hr.prototype.getTileUrl.call(this,e);return a+p(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});function Wr(e,t){return new Ur(e,t)}Hr.WMS=Ur,$r.wms=Wr;var qr=Yn.extend({options:{padding:.1},initialize:function(e){f(this,e),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),wt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,t),o=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(e,t));Fe.any3d?At(this._container,o,n):Ot(this._container,o)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new N(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Vr=qr.extend({options:{tolerance:0},getEvents:function(){var e=qr.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");jt(e,"mousemove",this._onMouseMove,this),jt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),jt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){C(this._redrawRequest),delete this._ctx,gt(this._container),Ht(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){qr.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=Fe.retina?2:1;Ot(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",Fe.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){qr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[s(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[s(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"==typeof e.options.dashArray){var t,n,r=e.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(t=Number(r[n]),isNaN(t))return;i.push(t)}e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||E(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new N,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,o,s=e._parts,a=s.length,l=this._ctx;if(a){for(l.beginPath(),n=0;n<a;n++){for(r=0,i=s[n].length;r<i;r++)o=s[n][r],l[r?"lineTo":"moveTo"](o.x,o.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),i=this._drawFirst;i;i=i.next)(t=i.layer).options.interactive&&t._containsPoint(r)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(kt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(wt(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(i((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function Zr(e){return Fe.canvas?new Vr(e):null}var Yr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Gr={_initContainer:function(){this._container=mt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qr.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Yr("shape");wt(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Yr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[s(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;gt(t),e.removeInteractiveTarget(t),delete this._layers[s(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||(t=e._stroke=Yr("stroke")),i.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=v(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=Yr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){yt(e._container)},_bringToBack:function(e){_t(e._container)}},Kr=Fe.vml?Yr:X,Xr=qr.extend({_initContainer:function(){this._container=Kr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Kr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){gt(this._container),Ht(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){qr.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),Ot(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Kr("path");e.options.className&&wt(t,e.options.className),e.options.interactive&&wt(t,"leaflet-interactive"),this._updateStyle(e),this._layers[s(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){gt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[s(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,J(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",i=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(e,i)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){yt(e._path)},_bringToBack:function(e){_t(e._path)}});function Jr(e){return Fe.svg||Fe.vml?new Xr(e):null}Fe.vml&&Xr.include(Gr),on.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Zr(e)||Jr(e)}});var Qr=hr.extend({initialize:function(e,t){hr.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=j(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function ei(e,t){return new Qr(e,t)}Xr.create=Kr,Xr.pointsToPath=J,pr.geometryToLayer=mr,pr.coordsToLatLng=vr,pr.coordsToLatLngs=yr,pr.latLngToCoords=_r,pr.latLngsToCoords=br,pr.getFeature=wr,pr.asFeature=kr,on.mergeOptions({boxZoom:!0});var ti=yn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){jt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ht(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){gt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),ot(),Lt(),this._startPoint=this._map.mouseEventToContainerPoint(e),jt(document,{contextmenu:Kt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=mt("div","leaflet-zoom-box",this._container),wt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new N(this._point,this._startPoint),n=t.getSize();Ot(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(gt(this._box),kt(this._container,"leaflet-crosshair")),st(),Pt(),Ht(document,{contextmenu:Kt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var t=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});on.addInitHook("addHandler","boxZoom",ti),on.mergeOptions({doubleClickZoom:!0});var ni=yn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});on.addInitHook("addHandler","doubleClickZoom",ni),on.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ri=yn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new wn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}wt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){kt(this._map._container,"leaflet-grab"),kt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=j(this._map.options.maxBounds);this._offsetLimit=B(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,o=(r+t+n)%e-t-n,s=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=i.multiplyBy(s/o),l=a.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=a.multiplyBy(c/l),d=c/(n.inertiaDeceleration*s),h=u.multiplyBy(-d/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),E((function(){t.panBy(h,{duration:d,easeLinearity:s,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});on.addInitHook("addHandler","dragging",ri),on.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ii=yn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),jt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ht(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},i=this.keyCodes;for(t=0,n=i.left.length;t<n;t++)r[i.left[t]]=[-1*e,0];for(t=0,n=i.right.length;t<n;t++)r[i.right[t]]=[e,0];for(t=0,n=i.down.length;t<n;t++)r[i.down[t]]=[0,e];for(t=0,n=i.up.length;t<n;t++)r[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},i=this.keyCodes;for(t=0,n=i.zoomIn.length;t<n;t++)r[i.zoomIn[t]]=e;for(t=0,n=i.zoomOut.length;t<n;t++)r[i.zoomOut[t]]=-e},_addHooks:function(){jt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ht(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(t=this._panKeys[n],e.shiftKey&&(t=R(t).multiplyBy(3)),r.options.maxBounds&&(t=r._limitOffset(R(t),r.options.maxBounds)),r.options.worldCopyJump){var i=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(t)));r.panTo(i)}else r.panBy(t)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Kt(e)}}});on.addInitHook("addHandler","keyboard",ii),on.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var oi=yn.extend({addHooks:function(){jt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ht(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=en(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),Kt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,s=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0,this._startTime=null,s&&("center"===e.options.scrollWheelZoom?e.setZoom(t+s):e.setZoomAround(this._lastMousePos,t+s))}});on.addInitHook("addHandler","scrollWheelZoom",oi);var si=600;on.mergeOptions({tapHold:Fe.touchNative&&Fe.safari&&Fe.mobile,tapTolerance:15});var ai=yn.extend({addHooks:function(){jt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ht(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new P(t.clientX,t.clientY),this._holdTimeout=setTimeout(i((function(){this._cancel(),this._isTapValid()&&(jt(document,"touchend",Gt),jt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))}),this),si),jt(document,"touchend touchcancel contextmenu",this._cancel,this),jt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Ht(document,"touchend",Gt),Ht(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Ht(document,"touchend touchcancel contextmenu",this._cancel,this),Ht(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new P(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});on.addInitHook("addHandler","tapHold",ai),on.mergeOptions({touchZoom:Fe.touch,bounceAtZoomLimits:!0});var li=yn.extend({addHooks:function(){wt(this._map._container,"leaflet-touch-zoom"),jt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){kt(this._map._container,"leaflet-touch-zoom"),Ht(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),jt(document,"touchmove",this._onTouchMove,this),jt(document,"touchend touchcancel",this._onTouchEnd,this),Gt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(o,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&o<1||this._zoom>t.getMaxZoom()&&o>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),C(this._animRequest);var a=i(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=E(a,this,!0),Gt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,C(this._animRequest),Ht(document,"touchmove",this._onTouchMove,this),Ht(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});on.addInitHook("addHandler","touchZoom",li),on.BoxZoom=ti,on.DoubleClickZoom=ni,on.Drag=ri,on.Keyboard=ii,on.ScrollWheelZoom=oi,on.TapHold=ai,on.TouchZoom=li,e.Bounds=N,e.Browser=Fe,e.CRS=U,e.Canvas=Vr,e.Circle=lr,e.CircleMarker=sr,e.Class=A,e.Control=an,e.DivIcon=Br,e.DivOverlay=Lr,e.DomEvent=nn,e.DomUtil=Ft,e.Draggable=wn,e.Evented=M,e.FeatureGroup=Xn,e.GeoJSON=pr,e.GridLayer=jr,e.Handler=yn,e.Icon=Qn,e.ImageOverlay=Cr,e.LatLng=z,e.LatLngBounds=F,e.Layer=Yn,e.LayerGroup=Gn,e.LineUtil=Hn,e.Map=on,e.Marker=rr,e.Mixin=_n,e.Path=or,e.Point=P,e.PolyUtil=Cn,e.Polygon=hr,e.Polyline=ur,e.Popup=Pr,e.PosAnimation=rn,e.Projection=Wn,e.Rectangle=Qr,e.Renderer=qr,e.SVG=Xr,e.SVGOverlay=Dr,e.TileLayer=Hr,e.Tooltip=Rr,e.Transformation=Z,e.Util=T,e.VideoOverlay=Ar,e.bind=i,e.bounds=B,e.canvas=Zr,e.circle=cr,e.circleMarker=ar,e.control=ln,e.divIcon=Fr,e.extend=n,e.featureGroup=Jn,e.geoJSON=Sr,e.geoJson=Er,e.gridLayer=zr,e.icon=er,e.imageOverlay=Tr,e.latLng=H,e.latLngBounds=j,e.layerGroup=Kn,e.map=sn,e.marker=ir,e.point=R,e.polygon=fr,e.polyline=dr,e.popup=Ir,e.rectangle=ei,e.setOptions=f,e.stamp=s,e.svg=Jr,e.svgOverlay=Mr,e.tileLayer=$r,e.tooltip=Nr,e.transformation=Y,e.version=t,e.videoOverlay=Or;var ci=window.L;e.noConflict=function(){return window.L=ci,this},window.L=e}(t)},7466:e=>{window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r="en-US"),this.dateInstance="object"==typeof n&&null!==n?n.parse(t instanceof e?t.clone().toJSDate():t):"string"==typeof n?e.parseDateTime(t,n,r):t?e.parseDateTime(t):e.parseDateTime(new Date),this.lang=r}return e.parseDateTime=function(t,n,r){if(void 0===n&&(n="YYYY-MM-DD"),void 0===r&&(r="en-US"),!t)return new Date(NaN);if(t instanceof Date)return new Date(t);if(t instanceof e)return t.clone().toJSDate();if(/^-?\d{10,}$/.test(t))return e.getDateZeroTime(new Date(Number(t)));if("string"==typeof t){for(var i=[],o=null;null!=(o=e.regex.exec(n));)"\\"!==o[1]&&i.push(o);if(i.length){var s={year:null,month:null,shortMonth:null,longMonth:null,day:null,value:""};i[0].index>0&&(s.value+=".*?");for(var a=0,l=Object.entries(i);a<l.length;a++){var c=l[a],u=c[0],d=c[1],h=Number(u),f=e.formatPatterns(d[0],r),p=f.group,m=f.pattern;s[p]=h+1,s.value+=m,s.value+=".*?"}var g=new RegExp("^"+s.value+"$");if(g.test(t)){var v=g.exec(t),y=Number(v[s.year]),_=null;s.month?_=Number(v[s.month])-1:s.shortMonth?_=e.shortMonths(r).indexOf(v[s.shortMonth]):s.longMonth&&(_=e.longMonths(r).indexOf(v[s.longMonth]));var b=Number(v[s.day])||1;return new Date(y,_,b,0,0,0,0)}}}return e.getDateZeroTime(new Date(t))},e.convertArray=function(t,n){return t.map((function(t){return t instanceof Array?t.map((function(t){return new e(t,n)})):new e(t,n)}))},e.getDateZeroTime=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)},e.shortMonths=function(t){return e.MONTH_JS.map((function(e){return new Date(2019,e).toLocaleString(t,{month:"short"})}))},e.longMonths=function(t){return e.MONTH_JS.map((function(e){return new Date(2019,e).toLocaleString(t,{month:"long"})}))},e.formatPatterns=function(t,n){switch(t){case"YY":case"YYYY":return{group:"year",pattern:"(\\d{"+t.length+"})"};case"M":return{group:"month",pattern:"(\\d{1,2})"};case"MM":return{group:"month",pattern:"(\\d{2})"};case"MMM":return{group:"shortMonth",pattern:"("+e.shortMonths(n).join("|")+")"};case"MMMM":return{group:"longMonth",pattern:"("+e.longMonths(n).join("|")+")"};case"D":return{group:"day",pattern:"(\\d{1,2})"};case"DD":return{group:"day",pattern:"(\\d{2})"}}},e.prototype.toJSDate=function(){return this.dateInstance},e.prototype.toLocaleString=function(e,t){return this.dateInstance.toLocaleString(e,t)},e.prototype.toDateString=function(){return this.dateInstance.toDateString()},e.prototype.getSeconds=function(){return this.dateInstance.getSeconds()},e.prototype.getDay=function(){return this.dateInstance.getDay()},e.prototype.getTime=function(){return this.dateInstance.getTime()},e.prototype.getDate=function(){return this.dateInstance.getDate()},e.prototype.getMonth=function(){return this.dateInstance.getMonth()},e.prototype.getFullYear=function(){return this.dateInstance.getFullYear()},e.prototype.setMonth=function(e){return this.dateInstance.setMonth(e)},e.prototype.setHours=function(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.dateInstance.setHours(e,t,n,r)},e.prototype.setSeconds=function(e){return this.dateInstance.setSeconds(e)},e.prototype.setDate=function(e){return this.dateInstance.setDate(e)},e.prototype.setFullYear=function(e){return this.dateInstance.setFullYear(e)},e.prototype.getWeek=function(e){var t=new Date(this.timestamp()),n=(this.getDay()+(7-e))%7;t.setDate(t.getDate()-n);var r=t.getTime();return t.setMonth(0,1),t.getDay()!==e&&t.setMonth(0,1+(4-t.getDay()+7)%7),1+Math.ceil((r-t.getTime())/6048e5)},e.prototype.clone=function(){return new e(this.toJSDate())},e.prototype.isBetween=function(e,t,n){switch(void 0===n&&(n="()"),n){default:case"()":return this.timestamp()>e.getTime()&&this.timestamp()<t.getTime();case"[)":return this.timestamp()>=e.getTime()&&this.timestamp()<t.getTime();case"(]":return this.timestamp()>e.getTime()&&this.timestamp()<=t.getTime();case"[]":return this.timestamp()>=e.getTime()&&this.timestamp()<=t.getTime()}},e.prototype.isBefore=function(e,t){switch(void 0===t&&(t="seconds"),t){case"second":case"seconds":return e.getTime()>this.getTime();case"day":case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()>new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime();case"month":case"months":return new Date(e.getFullYear(),e.getMonth(),1).getTime()>new Date(this.getFullYear(),this.getMonth(),1).getTime();case"year":case"years":return e.getFullYear()>this.getFullYear()}throw new Error("isBefore: Invalid unit!")},e.prototype.isSameOrBefore=function(e,t){switch(void 0===t&&(t="seconds"),t){case"second":case"seconds":return e.getTime()>=this.getTime();case"day":case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()>=new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime();case"month":case"months":return new Date(e.getFullYear(),e.getMonth(),1).getTime()>=new Date(this.getFullYear(),this.getMonth(),1).getTime()}throw new Error("isSameOrBefore: Invalid unit!")},e.prototype.isAfter=function(e,t){switch(void 0===t&&(t="seconds"),t){case"second":case"seconds":return this.getTime()>e.getTime();case"day":case"days":return new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime()>new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();case"month":case"months":return new Date(this.getFullYear(),this.getMonth(),1).getTime()>new Date(e.getFullYear(),e.getMonth(),1).getTime();case"year":case"years":return this.getFullYear()>e.getFullYear()}throw new Error("isAfter: Invalid unit!")},e.prototype.isSameOrAfter=function(e,t){switch(void 0===t&&(t="seconds"),t){case"second":case"seconds":return this.getTime()>=e.getTime();case"day":case"days":return new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime()>=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();case"month":case"months":return new Date(this.getFullYear(),this.getMonth(),1).getTime()>=new Date(e.getFullYear(),e.getMonth(),1).getTime()}throw new Error("isSameOrAfter: Invalid unit!")},e.prototype.isSame=function(e,t){switch(void 0===t&&(t="seconds"),t){case"second":case"seconds":return this.getTime()===e.getTime();case"day":case"days":return new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime()===new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();case"month":case"months":return new Date(this.getFullYear(),this.getMonth(),1).getTime()===new Date(e.getFullYear(),e.getMonth(),1).getTime()}throw new Error("isSame: Invalid unit!")},e.prototype.add=function(e,t){switch(void 0===t&&(t="seconds"),t){case"second":case"seconds":this.setSeconds(this.getSeconds()+e);break;case"day":case"days":this.setDate(this.getDate()+e);break;case"month":case"months":this.setMonth(this.getMonth()+e)}return this},e.prototype.subtract=function(e,t){switch(void 0===t&&(t="seconds"),t){case"second":case"seconds":this.setSeconds(this.getSeconds()-e);break;case"day":case"days":this.setDate(this.getDate()-e);break;case"month":case"months":this.setMonth(this.getMonth()-e)}return this},e.prototype.diff=function(e,t){switch(void 0===t&&(t="seconds"),t){default:case"second":case"seconds":return this.getTime()-e.getTime();case"day":case"days":return Math.round((this.timestamp()-e.getTime())/864e5);case"month":case"months":}},e.prototype.format=function(t,n){if(void 0===n&&(n="en-US"),"object"==typeof t)return t.output(this.clone().toJSDate());for(var r="",i=[],o=null;null!=(o=e.regex.exec(t));)"\\"!==o[1]&&i.push(o);if(i.length){i[0].index>0&&(r+=t.substring(0,i[0].index));for(var s=0,a=Object.entries(i);s<a.length;s++){var l=a[s],c=l[0],u=l[1],d=Number(c);r+=this.formatTokens(u[0],n),i[d+1]&&(r+=t.substring(u.index+u[0].length,i[d+1].index)),d===i.length-1&&(r+=t.substring(u.index+u[0].length))}}return r.replace(/\\/g,"")},e.prototype.timestamp=function(){return new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0,0).getTime()},e.prototype.formatTokens=function(t,n){switch(t){case"YY":return String(this.getFullYear()).slice(-2);case"YYYY":return String(this.getFullYear());case"M":return String(this.getMonth()+1);case"MM":return("0"+(this.getMonth()+1)).slice(-2);case"MMM":return e.shortMonths(n)[this.getMonth()];case"MMMM":return e.longMonths(n)[this.getMonth()];case"D":return String(this.getDate());case"DD":return("0"+this.getDate()).slice(-2);default:return""}},e.regex=/(\\)?(Y{2,4}|M{1,4}|D{1,2}|d{1,4})/g,e.MONTH_JS=[0,1,2,3,4,5,6,7,8,9,10,11],e}();t.DateTime=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(t,"__esModule",{value:!0});var s=n(5),a=n(0),l=n(3),c=n(2),u=function(e){function t(t){var n=e.call(this,t)||this;return n.preventClick=!1,n.bindEvents(),n}return i(t,e),t.prototype.scrollToDate=function(e){if(this.options.scrollToDate){var t=this.options.startDate instanceof a.DateTime?this.options.startDate.clone():null,n=this.options.endDate instanceof a.DateTime?this.options.endDate.clone():null;!this.options.startDate||e&&e!==this.options.element?e&&this.options.endDate&&e===this.options.elementEnd&&(n.setDate(1),this.options.numberOfMonths>1&&n.isAfter(t)&&n.setMonth(n.getMonth()-(this.options.numberOfMonths-1)),this.calendars[0]=n.clone()):(t.setDate(1),this.calendars[0]=t.clone())}},t.prototype.bindEvents=function(){document.addEventListener("click",this.onClick.bind(this),!0),this.ui=document.createElement("div"),this.ui.className=l.litepicker,this.ui.style.display="none",this.ui.addEventListener("mouseenter",this.onMouseEnter.bind(this),!0),this.ui.addEventListener("mouseleave",this.onMouseLeave.bind(this),!1),this.options.autoRefresh?(this.options.element instanceof HTMLElement&&this.options.element.addEventListener("keyup",this.onInput.bind(this),!0),this.options.elementEnd instanceof HTMLElement&&this.options.elementEnd.addEventListener("keyup",this.onInput.bind(this),!0)):(this.options.element instanceof HTMLElement&&this.options.element.addEventListener("change",this.onInput.bind(this),!0),this.options.elementEnd instanceof HTMLElement&&this.options.elementEnd.addEventListener("change",this.onInput.bind(this),!0)),this.options.parentEl?this.options.parentEl instanceof HTMLElement?this.options.parentEl.appendChild(this.ui):document.querySelector(this.options.parentEl).appendChild(this.ui):this.options.inlineMode?this.options.element instanceof HTMLInputElement?this.options.element.parentNode.appendChild(this.ui):this.options.element.appendChild(this.ui):document.body.appendChild(this.ui),this.updateInput(),this.init(),"function"==typeof this.options.setup&&this.options.setup.call(this,this),this.render(),this.options.inlineMode&&this.show()},t.prototype.updateInput=function(){if(this.options.element instanceof HTMLInputElement){var e=this.options.startDate,t=this.options.endDate;if(this.options.singleMode&&e)this.options.element.value=e.format(this.options.format,this.options.lang);else if(!this.options.singleMode&&e&&t){var n=e.format(this.options.format,this.options.lang),r=t.format(this.options.format,this.options.lang);this.options.elementEnd instanceof HTMLInputElement?(this.options.element.value=n,this.options.elementEnd.value=r):this.options.element.value=""+n+this.options.delimiter+r}e||t||(this.options.element.value="",this.options.elementEnd instanceof HTMLInputElement&&(this.options.elementEnd.value=""))}},t.prototype.isSamePicker=function(e){return e.closest("."+l.litepicker)===this.ui},t.prototype.shouldShown=function(e){return!e.disabled&&(e===this.options.element||this.options.elementEnd&&e===this.options.elementEnd)},t.prototype.shouldResetDatePicked=function(){return this.options.singleMode||2===this.datePicked.length},t.prototype.shouldSwapDatePicked=function(){return 2===this.datePicked.length&&this.datePicked[0].getTime()>this.datePicked[1].getTime()},t.prototype.shouldCheckLockDays=function(){return this.options.disallowLockDaysInRange&&2===this.datePicked.length},t.prototype.onClick=function(e){var t=e.target;if(e.target.shadowRoot&&(t=e.composedPath()[0]),t&&this.ui)if(this.shouldShown(t))this.show(t);else if(t.closest("."+l.litepicker)||!this.isShowning()){if(this.isSamePicker(t))if(this.emit("before:click",t),this.preventClick)this.preventClick=!1;else{if(t.classList.contains(l.dayItem)){if(e.preventDefault(),t.classList.contains(l.isLocked))return;if(this.shouldResetDatePicked()&&(this.datePicked.length=0),this.datePicked[this.datePicked.length]=new a.DateTime(t.dataset.time),this.shouldSwapDatePicked()){var n=this.datePicked[1].clone();this.datePicked[1]=this.datePicked[0].clone(),this.datePicked[0]=n.clone()}return this.shouldCheckLockDays()&&c.rangeIsLocked(this.datePicked,this.options)&&(this.emit("error:range",this.datePicked),this.datePicked.length=0),this.render(),this.emit.apply(this,o(["preselect"],o(this.datePicked).map((function(e){return e.clone()})))),void(this.options.autoApply&&(this.options.singleMode&&this.datePicked.length?(this.setDate(this.datePicked[0]),this.hide()):this.options.singleMode||2!==this.datePicked.length||(this.setDateRange(this.datePicked[0],this.datePicked[1]),this.hide())))}if(t.classList.contains(l.buttonPreviousMonth)){e.preventDefault();var r=0,i=this.options.switchingMonths||this.options.numberOfMonths;if(this.options.splitView){var s=t.closest("."+l.monthItem);r=c.findNestedMonthItem(s),i=1}return this.calendars[r].setMonth(this.calendars[r].getMonth()-i),this.gotoDate(this.calendars[r],r),void this.emit("change:month",this.calendars[r],r)}if(t.classList.contains(l.buttonNextMonth))return e.preventDefault(),r=0,i=this.options.switchingMonths||this.options.numberOfMonths,this.options.splitView&&(s=t.closest("."+l.monthItem),r=c.findNestedMonthItem(s),i=1),this.calendars[r].setMonth(this.calendars[r].getMonth()+i),this.gotoDate(this.calendars[r],r),void this.emit("change:month",this.calendars[r],r);t.classList.contains(l.buttonCancel)&&(e.preventDefault(),this.hide(),this.emit("button:cancel")),t.classList.contains(l.buttonApply)&&(e.preventDefault(),this.options.singleMode&&this.datePicked.length?this.setDate(this.datePicked[0]):this.options.singleMode||2!==this.datePicked.length||this.setDateRange(this.datePicked[0],this.datePicked[1]),this.hide(),this.emit("button:apply",this.options.startDate,this.options.endDate))}}else this.hide()},t.prototype.showTooltip=function(e,t){var n=this.ui.querySelector("."+l.containerTooltip);n.style.visibility="visible",n.innerHTML=t;var r=this.ui.getBoundingClientRect(),i=n.getBoundingClientRect(),o=e.getBoundingClientRect(),s=o.top,a=o.left;if(this.options.inlineMode&&this.options.parentEl){var c=this.ui.parentNode.getBoundingClientRect();s-=c.top,a-=c.left}else s-=r.top,a-=r.left;s-=i.height,a-=i.width/2,a+=o.width/2,n.style.top=s+"px",n.style.left=a+"px",this.emit("tooltip",n,e)},t.prototype.hideTooltip=function(){this.ui.querySelector("."+l.containerTooltip).style.visibility="hidden"},t.prototype.shouldAllowMouseEnter=function(e){return!this.options.singleMode&&!e.classList.contains(l.isLocked)},t.prototype.shouldAllowRepick=function(){return this.options.elementEnd&&this.options.allowRepick&&this.options.startDate&&this.options.endDate},t.prototype.isDayItem=function(e){return e.classList.contains(l.dayItem)},t.prototype.onMouseEnter=function(e){var t=this,n=e.target;if(this.isDayItem(n)&&this.shouldAllowMouseEnter(n)){if(this.shouldAllowRepick()&&(this.triggerElement===this.options.element?this.datePicked[0]=this.options.endDate.clone():this.triggerElement===this.options.elementEnd&&(this.datePicked[0]=this.options.startDate.clone())),1!==this.datePicked.length)return;var r=this.ui.querySelector("."+l.dayItem+'[data-time="'+this.datePicked[0].getTime()+'"]'),i=this.datePicked[0].clone(),o=new a.DateTime(n.dataset.time),s=!1;if(i.getTime()>o.getTime()){var c=i.clone();i=o.clone(),o=c.clone(),s=!0}if(Array.prototype.slice.call(this.ui.querySelectorAll("."+l.dayItem)).forEach((function(e){var n=new a.DateTime(e.dataset.time),r=t.renderDay(n);n.isBetween(i,o)&&r.classList.add(l.isInRange),e.className=r.className})),n.classList.add(l.isEndDate),s?(r&&r.classList.add(l.isFlipped),n.classList.add(l.isFlipped)):(r&&r.classList.remove(l.isFlipped),n.classList.remove(l.isFlipped)),this.options.showTooltip){var u=o.diff(i,"day")+1;if("function"==typeof this.options.tooltipNumber&&(u=this.options.tooltipNumber.call(this,u)),u>0){var d=this.pluralSelector(u),h=u+" "+(this.options.tooltipText[d]?this.options.tooltipText[d]:"["+d+"]");this.showTooltip(n,h);var f=window.navigator.userAgent,p=/(iphone|ipad)/i.test(f),m=/OS 1([0-2])/i.test(f);p&&m&&n.dispatchEvent(new Event("click"))}else this.hideTooltip()}}},t.prototype.onMouseLeave=function(e){e.target,this.options.allowRepick&&(!this.options.allowRepick||this.options.startDate||this.options.endDate)&&(this.datePicked.length=0,this.render())},t.prototype.onInput=function(e){var t=this.parseInput(),n=t[0],r=t[1],i=this.options.format;if(this.options.elementEnd?n instanceof a.DateTime&&r instanceof a.DateTime&&n.format(i)===this.options.element.value&&r.format(i)===this.options.elementEnd.value:this.options.singleMode?n instanceof a.DateTime&&n.format(i)===this.options.element.value:n instanceof a.DateTime&&r instanceof a.DateTime&&""+n.format(i)+this.options.delimiter+r.format(i)===this.options.element.value){if(r&&n.getTime()>r.getTime()){var o=n.clone();n=r.clone(),r=o.clone()}this.options.startDate=new a.DateTime(n,this.options.format,this.options.lang),r&&(this.options.endDate=new a.DateTime(r,this.options.format,this.options.lang)),this.updateInput(),this.render();var s=n.clone(),l=0;(this.options.elementEnd?n.format(i)===e.target.value:e.target.value.startsWith(n.format(i)))||(s=r.clone(),l=this.options.numberOfMonths-1),this.emit("selected",this.getStartDate(),this.getEndDate()),this.gotoDate(s,l)}},t}(s.Calendar);t.Litepicker=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findNestedMonthItem=function(e){for(var t=e.parentNode.childNodes,n=0;n<t.length;n+=1)if(t.item(n)===e)return n;return 0},t.dateIsLocked=function(e,t,n){var r=!1;return t.lockDays.length&&(r=t.lockDays.filter((function(n){return n instanceof Array?e.isBetween(n[0],n[1],t.lockDaysInclusivity):n.isSame(e,"day")})).length),r||"function"!=typeof t.lockDaysFilter||(r=t.lockDaysFilter.call(this,e.clone(),null,n)),r},t.rangeIsLocked=function(e,t){var n=!1;return t.lockDays.length&&(n=t.lockDays.filter((function(n){if(n instanceof Array){var r=e[0].toDateString()===n[0].toDateString()&&e[1].toDateString()===n[1].toDateString();return n[0].isBetween(e[0],e[1],t.lockDaysInclusivity)||n[1].isBetween(e[0],e[1],t.lockDaysInclusivity)||r}return n.isBetween(e[0],e[1],t.lockDaysInclusivity)})).length),n||"function"!=typeof t.lockDaysFilter||(n=t.lockDaysFilter.call(this,e[0].clone(),e[1].clone(),e)),n}},function(e,t,n){var r=n(8);"string"==typeof r&&(r=[[e.i,r,""]]);var i={insert:function(e){var t=document.querySelector("head"),n=window._lastElementInsertedByStyleLoader;window.disableLitepickerStyles||(n?n.nextSibling?t.insertBefore(e,n.nextSibling):t.appendChild(e):t.insertBefore(e,t.firstChild),window._lastElementInsertedByStyleLoader=e)},singleton:!1};n(10)(r,i),r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.Litepicker=r.Litepicker,n(11),window.Litepicker=r.Litepicker,t.default=r.Litepicker},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),s=n(0),a=n(3),l=n(2),c=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t.prototype.render=function(){var e=this;this.emit("before:render",this.ui);var t=document.createElement("div");t.className=a.containerMain;var n=document.createElement("div");n.className=a.containerMonths,a["columns"+this.options.numberOfColumns]&&(n.classList.remove(a.columns2,a.columns3,a.columns4),n.classList.add(a["columns"+this.options.numberOfColumns])),this.options.splitView&&n.classList.add(a.splitView),this.options.showWeekNumbers&&n.classList.add(a.showWeekNumbers);for(var r=this.calendars[0].clone(),i=r.getMonth(),o=r.getMonth()+this.options.numberOfMonths,s=0,l=i;l<o;l+=1){var c=r.clone();c.setDate(1),c.setHours(0,0,0,0),this.options.splitView?c=this.calendars[s].clone():c.setMonth(l),n.appendChild(this.renderMonth(c,s)),s+=1}if(this.ui.innerHTML="",t.appendChild(n),this.options.resetButton){var u=void 0;"function"==typeof this.options.resetButton?u=this.options.resetButton.call(this):((u=document.createElement("button")).type="button",u.className=a.resetButton,u.innerHTML=this.options.buttonText.reset),u.addEventListener("click",(function(t){t.preventDefault(),e.clearSelection()})),t.querySelector("."+a.monthItem+":last-child").querySelector("."+a.monthItemHeader).appendChild(u)}this.ui.appendChild(t),this.options.autoApply&&!this.options.footerHTML||this.ui.appendChild(this.renderFooter()),this.options.showTooltip&&this.ui.appendChild(this.renderTooltip()),this.ui.dataset.plugins=(this.options.plugins||[]).join("|"),this.emit("render",this.ui)},t.prototype.renderMonth=function(e,t){var n=this,r=e.clone(),i=32-new Date(r.getFullYear(),r.getMonth(),32).getDate(),o=document.createElement("div");o.className=a.monthItem;var c=document.createElement("div");c.className=a.monthItemHeader;var u=document.createElement("div");if(this.options.dropdowns.months){var d=document.createElement("select");d.className=a.monthItemName;for(var h=0;h<12;h+=1){var f=document.createElement("option"),p=new s.DateTime(new Date(e.getFullYear(),h,2,0,0,0)),m=new s.DateTime(new Date(e.getFullYear(),h,1,0,0,0));f.value=String(h),f.text=p.toLocaleString(this.options.lang,{month:"long"}),f.disabled=this.options.minDate&&m.isBefore(new s.DateTime(this.options.minDate),"month")||this.options.maxDate&&m.isAfter(new s.DateTime(this.options.maxDate),"month"),f.selected=m.getMonth()===e.getMonth(),d.appendChild(f)}d.addEventListener("change",(function(e){var t=e.target,r=0;if(n.options.splitView){var i=t.closest("."+a.monthItem);r=l.findNestedMonthItem(i)}n.calendars[r].setMonth(Number(t.value)),n.render(),n.emit("change:month",n.calendars[r],r,e)})),u.appendChild(d)}else(p=document.createElement("strong")).className=a.monthItemName,p.innerHTML=e.toLocaleString(this.options.lang,{month:"long"}),u.appendChild(p);if(this.options.dropdowns.years){var g=document.createElement("select");g.className=a.monthItemYear;var v=this.options.dropdowns.minYear,y=this.options.dropdowns.maxYear?this.options.dropdowns.maxYear:(new Date).getFullYear();for(e.getFullYear()>y&&((f=document.createElement("option")).value=String(e.getFullYear()),f.text=String(e.getFullYear()),f.selected=!0,f.disabled=!0,g.appendChild(f)),h=y;h>=v;h-=1){f=document.createElement("option");var _=new s.DateTime(new Date(h,0,1,0,0,0));f.value=String(h),f.text=String(h),f.disabled=this.options.minDate&&_.isBefore(new s.DateTime(this.options.minDate),"year")||this.options.maxDate&&_.isAfter(new s.DateTime(this.options.maxDate),"year"),f.selected=e.getFullYear()===h,g.appendChild(f)}if(e.getFullYear()<v&&((f=document.createElement("option")).value=String(e.getFullYear()),f.text=String(e.getFullYear()),f.selected=!0,f.disabled=!0,g.appendChild(f)),"asc"===this.options.dropdowns.years){var b=Array.prototype.slice.call(g.childNodes).reverse();g.innerHTML="",b.forEach((function(e){e.innerHTML=e.value,g.appendChild(e)}))}g.addEventListener("change",(function(e){var t=e.target,r=0;if(n.options.splitView){var i=t.closest("."+a.monthItem);r=l.findNestedMonthItem(i)}n.calendars[r].setFullYear(Number(t.value)),n.render(),n.emit("change:year",n.calendars[r],r,e)})),u.appendChild(g)}else{var w=document.createElement("span");w.className=a.monthItemYear,w.innerHTML=String(e.getFullYear()),u.appendChild(w)}var k=document.createElement("button");k.type="button",k.className=a.buttonPreviousMonth,k.innerHTML=this.options.buttonText.previousMonth;var x=document.createElement("button");x.type="button",x.className=a.buttonNextMonth,x.innerHTML=this.options.buttonText.nextMonth,c.appendChild(k),c.appendChild(u),c.appendChild(x),this.options.minDate&&r.isSameOrBefore(new s.DateTime(this.options.minDate),"month")&&o.classList.add(a.noPreviousMonth),this.options.maxDate&&r.isSameOrAfter(new s.DateTime(this.options.maxDate),"month")&&o.classList.add(a.noNextMonth);var S=document.createElement("div");S.className=a.monthItemWeekdaysRow,this.options.showWeekNumbers&&(S.innerHTML="<div>W</div>");for(var E=1;E<=7;E+=1){var C=3+this.options.firstDay+E,T=document.createElement("div");T.innerHTML=this.weekdayName(C),T.title=this.weekdayName(C,"long"),S.appendChild(T)}var A=document.createElement("div");A.className=a.containerDays;var O=this.calcSkipDays(r);this.options.showWeekNumbers&&O&&A.appendChild(this.renderWeekNumber(r));for(var D=0;D<O;D+=1){var M=document.createElement("div");A.appendChild(M)}for(D=1;D<=i;D+=1)r.setDate(D),this.options.showWeekNumbers&&r.getDay()===this.options.firstDay&&A.appendChild(this.renderWeekNumber(r)),A.appendChild(this.renderDay(r));return o.appendChild(c),o.appendChild(S),o.appendChild(A),this.emit("render:month",o,e),o},t.prototype.renderDay=function(e){e.setHours();var t=document.createElement("div");if(t.className=a.dayItem,t.innerHTML=String(e.getDate()),t.dataset.time=String(e.getTime()),e.toDateString()===(new Date).toDateString()&&t.classList.add(a.isToday),this.datePicked.length)this.datePicked[0].toDateString()===e.toDateString()&&(t.classList.add(a.isStartDate),this.options.singleMode&&t.classList.add(a.isEndDate)),2===this.datePicked.length&&this.datePicked[1].toDateString()===e.toDateString()&&t.classList.add(a.isEndDate),2===this.datePicked.length&&e.isBetween(this.datePicked[0],this.datePicked[1])&&t.classList.add(a.isInRange);else if(this.options.startDate){var n=this.options.startDate,r=this.options.endDate;n.toDateString()===e.toDateString()&&(t.classList.add(a.isStartDate),this.options.singleMode&&t.classList.add(a.isEndDate)),r&&r.toDateString()===e.toDateString()&&t.classList.add(a.isEndDate),n&&r&&e.isBetween(n,r)&&t.classList.add(a.isInRange)}if(this.options.minDate&&e.isBefore(new s.DateTime(this.options.minDate))&&t.classList.add(a.isLocked),this.options.maxDate&&e.isAfter(new s.DateTime(this.options.maxDate))&&t.classList.add(a.isLocked),this.options.minDays>1&&1===this.datePicked.length){var i=this.options.minDays-1,o=this.datePicked[0].clone().subtract(i,"day"),c=this.datePicked[0].clone().add(i,"day");e.isBetween(o,this.datePicked[0],"(]")&&t.classList.add(a.isLocked),e.isBetween(this.datePicked[0],c,"[)")&&t.classList.add(a.isLocked)}if(this.options.maxDays&&1===this.datePicked.length){var u=this.options.maxDays;o=this.datePicked[0].clone().subtract(u,"day"),c=this.datePicked[0].clone().add(u,"day"),e.isSameOrBefore(o)&&t.classList.add(a.isLocked),e.isSameOrAfter(c)&&t.classList.add(a.isLocked)}return this.options.selectForward&&1===this.datePicked.length&&e.isBefore(this.datePicked[0])&&t.classList.add(a.isLocked),this.options.selectBackward&&1===this.datePicked.length&&e.isAfter(this.datePicked[0])&&t.classList.add(a.isLocked),l.dateIsLocked(e,this.options,this.datePicked)&&t.classList.add(a.isLocked),this.options.highlightedDays.length&&this.options.highlightedDays.filter((function(t){return t instanceof Array?e.isBetween(t[0],t[1],"[]"):t.isSame(e,"day")})).length&&t.classList.add(a.isHighlighted),t.tabIndex=t.classList.contains("is-locked")?-1:0,this.emit("render:day",t,e),t},t.prototype.renderFooter=function(){var e=document.createElement("div");if(e.className=a.containerFooter,this.options.footerHTML?e.innerHTML=this.options.footerHTML:e.innerHTML='\n      <span class="'+a.previewDateRange+'"></span>\n      <button type="button" class="'+a.buttonCancel+'">'+this.options.buttonText.cancel+'</button>\n      <button type="button" class="'+a.buttonApply+'">'+this.options.buttonText.apply+"</button>\n      ",this.options.singleMode){if(1===this.datePicked.length){var t=this.datePicked[0].format(this.options.format,this.options.lang);e.querySelector("."+a.previewDateRange).innerHTML=t}}else if(1===this.datePicked.length&&e.querySelector("."+a.buttonApply).setAttribute("disabled",""),2===this.datePicked.length){t=this.datePicked[0].format(this.options.format,this.options.lang);var n=this.datePicked[1].format(this.options.format,this.options.lang);e.querySelector("."+a.previewDateRange).innerHTML=""+t+this.options.delimiter+n}return this.emit("render:footer",e),e},t.prototype.renderWeekNumber=function(e){var t=document.createElement("div"),n=e.getWeek(this.options.firstDay);return t.className=a.weekNumber,t.innerHTML=53===n&&0===e.getMonth()?"53 / 1":n,t},t.prototype.renderTooltip=function(){var e=document.createElement("div");return e.className=a.containerTooltip,e},t.prototype.weekdayName=function(e,t){return void 0===t&&(t="short"),new Date(1970,0,e,12,0,0,0).toLocaleString(this.options.lang,{weekday:t})},t.prototype.calcSkipDays=function(e){var t=e.getDay()-this.options.firstDay;return t<0&&(t+=7),t},t}(o.LPCore);t.Calendar=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(7),a=n(0),l=n(1),c=function(e){function t(t){var n=e.call(this)||this;n.datePicked=[],n.calendars=[],n.options={element:null,elementEnd:null,parentEl:null,firstDay:1,format:"YYYY-MM-DD",lang:"en-US",delimiter:" - ",numberOfMonths:1,numberOfColumns:1,startDate:null,endDate:null,zIndex:9999,position:"auto",selectForward:!1,selectBackward:!1,splitView:!1,inlineMode:!1,singleMode:!0,autoApply:!0,allowRepick:!1,showWeekNumbers:!1,showTooltip:!0,scrollToDate:!0,mobileFriendly:!0,resetButton:!1,autoRefresh:!1,lockDaysFormat:"YYYY-MM-DD",lockDays:[],disallowLockDaysInRange:!1,lockDaysInclusivity:"[]",highlightedDaysFormat:"YYYY-MM-DD",highlightedDays:[],dropdowns:{minYear:1990,maxYear:null,months:!1,years:!1},buttonText:{apply:"Apply",cancel:"Cancel",previousMonth:'<svg width="11" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M7.919 0l2.748 2.667L5.333 8l5.334 5.333L7.919 16 0 8z" fill-rule="nonzero"/></svg>',nextMonth:'<svg width="11" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M2.748 16L0 13.333 5.333 8 0 2.667 2.748 0l7.919 8z" fill-rule="nonzero"/></svg>',reset:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M0 0h24v24H0z" fill="none"/>\n        <path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/>\n      </svg>'},tooltipText:{one:"day",other:"days"}},n.options=o(o({},n.options),t.element.dataset),Object.keys(n.options).forEach((function(e){"true"!==n.options[e]&&"false"!==n.options[e]||(n.options[e]="true"===n.options[e])}));var r=o(o({},n.options.dropdowns),t.dropdowns),i=o(o({},n.options.buttonText),t.buttonText),s=o(o({},n.options.tooltipText),t.tooltipText);n.options=o(o({},n.options),t),n.options.dropdowns=o({},r),n.options.buttonText=o({},i),n.options.tooltipText=o({},s),n.options.elementEnd||(n.options.allowRepick=!1),n.options.lockDays.length&&(n.options.lockDays=a.DateTime.convertArray(n.options.lockDays,n.options.lockDaysFormat)),n.options.highlightedDays.length&&(n.options.highlightedDays=a.DateTime.convertArray(n.options.highlightedDays,n.options.highlightedDaysFormat));var l=n.parseInput(),c=l[0],u=l[1];n.options.startDate&&(n.options.singleMode||n.options.endDate)&&(c=new a.DateTime(n.options.startDate,n.options.format,n.options.lang)),c&&n.options.endDate&&(u=new a.DateTime(n.options.endDate,n.options.format,n.options.lang)),c instanceof a.DateTime&&!isNaN(c.getTime())&&(n.options.startDate=c),n.options.startDate&&u instanceof a.DateTime&&!isNaN(u.getTime())&&(n.options.endDate=u),!n.options.singleMode||n.options.startDate instanceof a.DateTime||(n.options.startDate=null),n.options.singleMode||n.options.startDate instanceof a.DateTime&&n.options.endDate instanceof a.DateTime||(n.options.startDate=null,n.options.endDate=null);for(var d=0;d<n.options.numberOfMonths;d+=1){var h=n.options.startDate instanceof a.DateTime?n.options.startDate.clone():new a.DateTime;if(!n.options.startDate&&(0===d||n.options.splitView)){var f=n.options.maxDate?new a.DateTime(n.options.maxDate):null,p=n.options.minDate?new a.DateTime(n.options.minDate):null,m=n.options.numberOfMonths-1;p&&f&&h.isAfter(f)?(h=p.clone()).setDate(1):!p&&f&&h.isAfter(f)&&((h=f.clone()).setDate(1),h.setMonth(h.getMonth()-m))}h.setDate(1),h.setMonth(h.getMonth()+d),n.calendars[d]=h}if(n.options.showTooltip)if(n.options.tooltipPluralSelector)n.pluralSelector=n.options.tooltipPluralSelector;else try{var g=new Intl.PluralRules(n.options.lang);n.pluralSelector=g.select.bind(g)}catch(e){n.pluralSelector=function(e){return 0===Math.abs(e)?"one":"other"}}return n}return i(t,e),t.add=function(e,t){l.Litepicker.prototype[e]=t},t.prototype.DateTime=function(e,t){return e?new a.DateTime(e,t):new a.DateTime},t.prototype.init=function(){var e=this;this.options.plugins&&this.options.plugins.length&&this.options.plugins.forEach((function(t){l.Litepicker.prototype.hasOwnProperty(t)?l.Litepicker.prototype[t].init.call(e,e):console.warn("Litepicker: plugin «"+t+"» not found.")}))},t.prototype.parseInput=function(){var e=this.options.delimiter,t=new RegExp(""+e),n=this.options.element instanceof HTMLInputElement?this.options.element.value.split(e):[];if(this.options.elementEnd){if(this.options.element instanceof HTMLInputElement&&this.options.element.value.length&&this.options.elementEnd instanceof HTMLInputElement&&this.options.elementEnd.value.length)return[new a.DateTime(this.options.element.value,this.options.format),new a.DateTime(this.options.elementEnd.value,this.options.format)]}else if(this.options.singleMode){if(this.options.element instanceof HTMLInputElement&&this.options.element.value.length)return[new a.DateTime(this.options.element.value,this.options.format)]}else if(this.options.element instanceof HTMLInputElement&&t.test(this.options.element.value)&&n.length&&n.length%2==0){var r=n.slice(0,n.length/2).join(e),i=n.slice(n.length/2).join(e);return[new a.DateTime(r,this.options.format),new a.DateTime(i,this.options.format)]}return[]},t.prototype.isShowning=function(){return this.ui&&"none"!==this.ui.style.display},t.prototype.findPosition=function(e){var t=e.getBoundingClientRect(),n=this.ui.getBoundingClientRect(),r=this.options.position.split(" "),i=window.scrollX||window.pageXOffset,o=window.scrollY||window.pageYOffset,s=0,a=0;if("auto"!==r[0]&&/top|bottom/.test(r[0]))s=t[r[0]]+o,"top"===r[0]&&(s-=n.height);else{s=t.bottom+o;var l=t.bottom+n.height>window.innerHeight,c=t.top+o-n.height>=n.height;l&&c&&(s=t.top+o-n.height)}if(/left|right/.test(r[0])||r[1]&&"auto"!==r[1]&&/left|right/.test(r[1]))a=/left|right/.test(r[0])?t[r[0]]+i:t[r[1]]+i,"right"!==r[0]&&"right"!==r[1]||(a-=n.width);else{a=t.left+i,l=t.left+n.width>window.innerWidth;var u=t.right+i-n.width>=0;l&&u&&(a=t.right+i-n.width)}return{left:a,top:s}},t}(s.EventEmitter);t.LPCore=c},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var l=10;function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var i,o,s,a;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,a=l,console&&console.warn&&console.warn(a)}return e}function d(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):m(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else{var c=l.length,u=m(l,c);for(n=0;n<c;++n)o(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return u(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return u(this,e,t,!0)},a.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,o,s;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){(t=n(9)(!1)).push([e.i,':root{--litepicker-container-months-color-bg: #fff;--litepicker-container-months-box-shadow-color: #ddd;--litepicker-footer-color-bg: #fafafa;--litepicker-footer-box-shadow-color: #ddd;--litepicker-tooltip-color-bg: #fff;--litepicker-month-header-color: #333;--litepicker-button-prev-month-color: #9e9e9e;--litepicker-button-next-month-color: #9e9e9e;--litepicker-button-prev-month-color-hover: #2196f3;--litepicker-button-next-month-color-hover: #2196f3;--litepicker-month-width: calc(var(--litepicker-day-width) * 7);--litepicker-month-weekday-color: #9e9e9e;--litepicker-month-week-number-color: #9e9e9e;--litepicker-day-width: 38px;--litepicker-day-color: #333;--litepicker-day-color-hover: #2196f3;--litepicker-is-today-color: #f44336;--litepicker-is-in-range-color: #bbdefb;--litepicker-is-locked-color: #9e9e9e;--litepicker-is-start-color: #fff;--litepicker-is-start-color-bg: #2196f3;--litepicker-is-end-color: #fff;--litepicker-is-end-color-bg: #2196f3;--litepicker-button-cancel-color: #fff;--litepicker-button-cancel-color-bg: #9e9e9e;--litepicker-button-apply-color: #fff;--litepicker-button-apply-color-bg: #2196f3;--litepicker-button-reset-color: #909090;--litepicker-button-reset-color-hover: #2196f3;--litepicker-highlighted-day-color: #333;--litepicker-highlighted-day-color-bg: #ffeb3b}.show-week-numbers{--litepicker-month-width: calc(var(--litepicker-day-width) * 8)}.litepicker{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;font-size:0.8em;display:none}.litepicker button{border:none;background:none}.litepicker .container__main{display:-webkit-box;display:-ms-flexbox;display:flex}.litepicker .container__months{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;background-color:var(--litepicker-container-months-color-bg);border-radius:5px;-webkit-box-shadow:0 0 5px var(--litepicker-container-months-box-shadow-color);box-shadow:0 0 5px var(--litepicker-container-months-box-shadow-color);width:calc(var(--litepicker-month-width) + 10px);-webkit-box-sizing:content-box;box-sizing:content-box}.litepicker .container__months.columns-2{width:calc((var(--litepicker-month-width) * 2) + 20px)}.litepicker .container__months.columns-3{width:calc((var(--litepicker-month-width) * 3) + 30px)}.litepicker .container__months.columns-4{width:calc((var(--litepicker-month-width) * 4) + 40px)}.litepicker .container__months.split-view .month-item-header .button-previous-month,.litepicker .container__months.split-view .month-item-header .button-next-month{visibility:visible}.litepicker .container__months .month-item{padding:5px;width:var(--litepicker-month-width);-webkit-box-sizing:content-box;box-sizing:content-box}.litepicker .container__months .month-item-header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;font-weight:500;padding:10px 5px;text-align:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--litepicker-month-header-color)}.litepicker .container__months .month-item-header div{-webkit-box-flex:1;-ms-flex:1;flex:1}.litepicker .container__months .month-item-header div>.month-item-name{margin-right:5px}.litepicker .container__months .month-item-header div>.month-item-year{padding:0}.litepicker .container__months .month-item-header .reset-button{color:var(--litepicker-button-reset-color)}.litepicker .container__months .month-item-header .reset-button>svg{fill:var(--litepicker-button-reset-color)}.litepicker .container__months .month-item-header .reset-button *{pointer-events:none}.litepicker .container__months .month-item-header .reset-button:hover{color:var(--litepicker-button-reset-color-hover)}.litepicker .container__months .month-item-header .reset-button:hover>svg{fill:var(--litepicker-button-reset-color-hover)}.litepicker .container__months .month-item-header .button-previous-month,.litepicker .container__months .month-item-header .button-next-month{visibility:hidden;text-decoration:none;padding:3px 5px;border-radius:3px;-webkit-transition:color 0.3s, border 0.3s;transition:color 0.3s, border 0.3s;cursor:default}.litepicker .container__months .month-item-header .button-previous-month *,.litepicker .container__months .month-item-header .button-next-month *{pointer-events:none}.litepicker .container__months .month-item-header .button-previous-month{color:var(--litepicker-button-prev-month-color)}.litepicker .container__months .month-item-header .button-previous-month>svg,.litepicker .container__months .month-item-header .button-previous-month>img{fill:var(--litepicker-button-prev-month-color)}.litepicker .container__months .month-item-header .button-previous-month:hover{color:var(--litepicker-button-prev-month-color-hover)}.litepicker .container__months .month-item-header .button-previous-month:hover>svg{fill:var(--litepicker-button-prev-month-color-hover)}.litepicker .container__months .month-item-header .button-next-month{color:var(--litepicker-button-next-month-color)}.litepicker .container__months .month-item-header .button-next-month>svg,.litepicker .container__months .month-item-header .button-next-month>img{fill:var(--litepicker-button-next-month-color)}.litepicker .container__months .month-item-header .button-next-month:hover{color:var(--litepicker-button-next-month-color-hover)}.litepicker .container__months .month-item-header .button-next-month:hover>svg{fill:var(--litepicker-button-next-month-color-hover)}.litepicker .container__months .month-item-weekdays-row{display:-webkit-box;display:-ms-flexbox;display:flex;justify-self:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;color:var(--litepicker-month-weekday-color)}.litepicker .container__months .month-item-weekdays-row>div{padding:5px 0;font-size:85%;-webkit-box-flex:1;-ms-flex:1;flex:1;width:var(--litepicker-day-width);text-align:center}.litepicker .container__months .month-item:first-child .button-previous-month{visibility:visible}.litepicker .container__months .month-item:last-child .button-next-month{visibility:visible}.litepicker .container__months .month-item.no-previous-month .button-previous-month{visibility:hidden}.litepicker .container__months .month-item.no-next-month .button-next-month{visibility:hidden}.litepicker .container__days{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;justify-self:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:center;-webkit-box-sizing:content-box;box-sizing:content-box}.litepicker .container__days>div,.litepicker .container__days>a{padding:5px 0;width:var(--litepicker-day-width)}.litepicker .container__days .day-item{color:var(--litepicker-day-color);text-align:center;text-decoration:none;border-radius:3px;-webkit-transition:color 0.3s, border 0.3s;transition:color 0.3s, border 0.3s;cursor:default}.litepicker .container__days .day-item:hover{color:var(--litepicker-day-color-hover);-webkit-box-shadow:inset 0 0 0 1px var(--litepicker-day-color-hover);box-shadow:inset 0 0 0 1px var(--litepicker-day-color-hover)}.litepicker .container__days .day-item.is-today{color:var(--litepicker-is-today-color)}.litepicker .container__days .day-item.is-locked{color:var(--litepicker-is-locked-color)}.litepicker .container__days .day-item.is-locked:hover{color:var(--litepicker-is-locked-color);-webkit-box-shadow:none;box-shadow:none;cursor:default}.litepicker .container__days .day-item.is-in-range{background-color:var(--litepicker-is-in-range-color);border-radius:0}.litepicker .container__days .day-item.is-start-date{color:var(--litepicker-is-start-color);background-color:var(--litepicker-is-start-color-bg);border-top-left-radius:5px;border-bottom-left-radius:5px;border-top-right-radius:0;border-bottom-right-radius:0}.litepicker .container__days .day-item.is-start-date.is-flipped{border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:5px;border-bottom-right-radius:5px}.litepicker .container__days .day-item.is-end-date{color:var(--litepicker-is-end-color);background-color:var(--litepicker-is-end-color-bg);border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:5px;border-bottom-right-radius:5px}.litepicker .container__days .day-item.is-end-date.is-flipped{border-top-left-radius:5px;border-bottom-left-radius:5px;border-top-right-radius:0;border-bottom-right-radius:0}.litepicker .container__days .day-item.is-start-date.is-end-date{border-top-left-radius:5px;border-bottom-left-radius:5px;border-top-right-radius:5px;border-bottom-right-radius:5px}.litepicker .container__days .day-item.is-highlighted{color:var(--litepicker-highlighted-day-color);background-color:var(--litepicker-highlighted-day-color-bg)}.litepicker .container__days .week-number{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;color:var(--litepicker-month-week-number-color);font-size:85%}.litepicker .container__footer{text-align:right;padding:10px 5px;margin:0 5px;background-color:var(--litepicker-footer-color-bg);-webkit-box-shadow:inset 0px 3px 3px 0px var(--litepicker-footer-box-shadow-color);box-shadow:inset 0px 3px 3px 0px var(--litepicker-footer-box-shadow-color);border-bottom-left-radius:5px;border-bottom-right-radius:5px}.litepicker .container__footer .preview-date-range{margin-right:10px;font-size:90%}.litepicker .container__footer .button-cancel{background-color:var(--litepicker-button-cancel-color-bg);color:var(--litepicker-button-cancel-color);border:0;padding:3px 7px 4px;border-radius:3px}.litepicker .container__footer .button-cancel *{pointer-events:none}.litepicker .container__footer .button-apply{background-color:var(--litepicker-button-apply-color-bg);color:var(--litepicker-button-apply-color);border:0;padding:3px 7px 4px;border-radius:3px;margin-left:10px;margin-right:10px}.litepicker .container__footer .button-apply:disabled{opacity:0.7}.litepicker .container__footer .button-apply *{pointer-events:none}.litepicker .container__tooltip{position:absolute;margin-top:-4px;padding:4px 8px;border-radius:4px;background-color:var(--litepicker-tooltip-color-bg);-webkit-box-shadow:0 1px 3px rgba(0,0,0,0.25);box-shadow:0 1px 3px rgba(0,0,0,0.25);white-space:nowrap;font-size:11px;pointer-events:none;visibility:hidden}.litepicker .container__tooltip:before{position:absolute;bottom:-5px;left:calc(50% - 5px);border-top:5px solid rgba(0,0,0,0.12);border-right:5px solid transparent;border-left:5px solid transparent;content:""}.litepicker .container__tooltip:after{position:absolute;bottom:-4px;left:calc(50% - 4px);border-top:4px solid var(--litepicker-tooltip-color-bg);border-right:4px solid transparent;border-left:4px solid transparent;content:""}\n',""]),t.locals={showWeekNumbers:"show-week-numbers",litepicker:"litepicker",containerMain:"container__main",containerMonths:"container__months",columns2:"columns-2",columns3:"columns-3",columns4:"columns-4",splitView:"split-view",monthItemHeader:"month-item-header",buttonPreviousMonth:"button-previous-month",buttonNextMonth:"button-next-month",monthItem:"month-item",monthItemName:"month-item-name",monthItemYear:"month-item-year",resetButton:"reset-button",monthItemWeekdaysRow:"month-item-weekdays-row",noPreviousMonth:"no-previous-month",noNextMonth:"no-next-month",containerDays:"container__days",dayItem:"day-item",isToday:"is-today",isLocked:"is-locked",isInRange:"is-in-range",isStartDate:"is-start-date",isFlipped:"is-flipped",isEndDate:"is-end-date",isHighlighted:"is-highlighted",weekNumber:"week-number",containerFooter:"container__footer",previewDateRange:"preview-date-range",buttonCancel:"button-cancel",buttonApply:"button-apply",containerTooltip:"container__tooltip"},e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r,i,o=e[1]||"",s=e[3];if(!s)return o;if(t&&"function"==typeof btoa){var a=(n=s,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(i," */")),l=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[o].concat(l).concat([a]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);r&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){"use strict";var r,i={},o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},s=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}();function a(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],s=t.base?o[0]+t.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}function l(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id],s=0;if(o){for(o.refs++;s<o.parts.length;s++)o.parts[s](r.parts[s]);for(;s<r.parts.length;s++)o.parts.push(g(r.parts[s],t))}else{for(var a=[];s<r.parts.length;s++)a.push(g(r.parts[s],t));i[r.id]={id:r.id,refs:1,parts:a}}}}function c(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var r=n.nc;r&&(e.attributes.nonce=r)}if(Object.keys(e.attributes).forEach((function(n){t.setAttribute(n,e.attributes[n])})),"function"==typeof e.insert)e.insert(t);else{var i=s(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function h(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function f(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i&&e.setAttribute("media",i),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,m=0;function g(e,t){var n,r,i;if(t.singleton){var o=m++;n=p||(p=c(t)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=c(t),r=f.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=a(e,t);return l(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var s=n[o],c=i[s.id];c&&(c.refs--,r.push(c))}e&&l(a(e,t),t);for(var u=0;u<r.length;u++){var d=r[u];if(0===d.refs){for(var h=0;h<d.parts.length;h++)d.parts[h]();delete i[d.id]}}}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(1),s=n(2);o.Litepicker.prototype.show=function(e){void 0===e&&(e=null),this.emit("before:show",e);var t=e||this.options.element;if(this.triggerElement=t,!this.isShowning()){if(this.options.inlineMode)return this.ui.style.position="relative",this.ui.style.display="inline-block",this.ui.style.top=null,this.ui.style.left=null,this.ui.style.bottom=null,void(this.ui.style.right=null);this.scrollToDate(e),this.render(),this.ui.style.position="absolute",this.ui.style.display="block",this.ui.style.zIndex=this.options.zIndex;var n=this.findPosition(t);this.ui.style.top=n.top+"px",this.ui.style.left=n.left+"px",this.ui.style.right=null,this.ui.style.bottom=null,this.emit("show",e)}},o.Litepicker.prototype.hide=function(){this.isShowning()&&(this.datePicked.length=0,this.updateInput(),this.options.inlineMode?this.render():(this.ui.style.display="none",this.emit("hide")))},o.Litepicker.prototype.getDate=function(){return this.getStartDate()},o.Litepicker.prototype.getStartDate=function(){return this.options.startDate?this.options.startDate.clone():null},o.Litepicker.prototype.getEndDate=function(){return this.options.endDate?this.options.endDate.clone():null},o.Litepicker.prototype.setDate=function(e,t){void 0===t&&(t=!1);var n=new i.DateTime(e,this.options.format,this.options.lang);s.dateIsLocked(n,this.options,[n])&&!t?this.emit("error:date",n):(this.setStartDate(e),this.options.inlineMode&&this.render(),this.emit("selected",this.getDate()))},o.Litepicker.prototype.setStartDate=function(e){e&&(this.options.startDate=new i.DateTime(e,this.options.format,this.options.lang),this.updateInput())},o.Litepicker.prototype.setEndDate=function(e){e&&(this.options.endDate=new i.DateTime(e,this.options.format,this.options.lang),this.options.startDate.getTime()>this.options.endDate.getTime()&&(this.options.endDate=this.options.startDate.clone(),this.options.startDate=new i.DateTime(e,this.options.format,this.options.lang)),this.updateInput())},o.Litepicker.prototype.setDateRange=function(e,t,n){void 0===n&&(n=!1),this.triggerElement=void 0;var r=new i.DateTime(e,this.options.format,this.options.lang),o=new i.DateTime(t,this.options.format,this.options.lang);(this.options.disallowLockDaysInRange?s.rangeIsLocked([r,o],this.options):s.dateIsLocked(r,this.options,[r,o])||s.dateIsLocked(o,this.options,[r,o]))&&!n?this.emit("error:range",[r,o]):(this.setStartDate(r),this.setEndDate(o),this.options.inlineMode&&this.render(),this.updateInput(),this.emit("selected",this.getStartDate(),this.getEndDate()))},o.Litepicker.prototype.gotoDate=function(e,t){void 0===t&&(t=0);var n=new i.DateTime(e);n.setDate(1),this.calendars[t]=n.clone(),this.render()},o.Litepicker.prototype.setLockDays=function(e){this.options.lockDays=i.DateTime.convertArray(e,this.options.lockDaysFormat),this.render()},o.Litepicker.prototype.setHighlightedDays=function(e){this.options.highlightedDays=i.DateTime.convertArray(e,this.options.highlightedDaysFormat),this.render()},o.Litepicker.prototype.setOptions=function(e){delete e.element,delete e.elementEnd,delete e.parentEl,e.startDate&&(e.startDate=new i.DateTime(e.startDate,this.options.format,this.options.lang)),e.endDate&&(e.endDate=new i.DateTime(e.endDate,this.options.format,this.options.lang));var t=r(r({},this.options.dropdowns),e.dropdowns),n=r(r({},this.options.buttonText),e.buttonText),o=r(r({},this.options.tooltipText),e.tooltipText);this.options=r(r({},this.options),e),this.options.dropdowns=r({},t),this.options.buttonText=r({},n),this.options.tooltipText=r({},o),!this.options.singleMode||this.options.startDate instanceof i.DateTime||(this.options.startDate=null,this.options.endDate=null),this.options.singleMode||this.options.startDate instanceof i.DateTime&&this.options.endDate instanceof i.DateTime||(this.options.startDate=null,this.options.endDate=null);for(var s=0;s<this.options.numberOfMonths;s+=1){var a=this.options.startDate?this.options.startDate.clone():new i.DateTime;a.setDate(1),a.setMonth(a.getMonth()+s),this.calendars[s]=a}this.options.lockDays.length&&(this.options.lockDays=i.DateTime.convertArray(this.options.lockDays,this.options.lockDaysFormat)),this.options.highlightedDays.length&&(this.options.highlightedDays=i.DateTime.convertArray(this.options.highlightedDays,this.options.highlightedDaysFormat)),this.render(),this.options.inlineMode&&this.show(),this.updateInput()},o.Litepicker.prototype.clearSelection=function(){this.options.startDate=null,this.options.endDate=null,this.datePicked.length=0,this.updateInput(),this.isShowning()&&this.render(),this.emit("clear:selection")},o.Litepicker.prototype.destroy=function(){this.ui&&this.ui.parentNode&&(this.ui.parentNode.removeChild(this.ui),this.ui=null),this.emit("destroy")}}])},6486:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=16,c=32,u=64,d=128,h=256,f=1/0,p=9007199254740991,m=NaN,g=4294967295,v=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",h]],y="[object Arguments]",_="[object Array]",b="[object Boolean]",w="[object Date]",k="[object Error]",x="[object Function]",S="[object GeneratorFunction]",E="[object Map]",C="[object Number]",T="[object Object]",A="[object Promise]",O="[object RegExp]",D="[object Set]",M="[object String]",L="[object Symbol]",P="[object WeakMap]",I="[object ArrayBuffer]",R="[object DataView]",N="[object Float32Array]",B="[object Float64Array]",F="[object Int8Array]",j="[object Int16Array]",z="[object Int32Array]",H="[object Uint8Array]",$="[object Uint8ClampedArray]",U="[object Uint16Array]",W="[object Uint32Array]",q=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,Z=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,K=RegExp(Y.source),X=RegExp(G.source),J=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),se=/^\s+/,ae=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,_e=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ke=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,Se="\\ud800-\\udfff",Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Ae="A-Z\\xc0-\\xd6\\xd8-\\xde",Oe="\\ufe0e\\ufe0f",De="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Me="['’]",Le="["+Se+"]",Pe="["+De+"]",Ie="["+Ee+"]",Re="\\d+",Ne="["+Ce+"]",Be="["+Te+"]",Fe="[^"+Se+De+Re+Ce+Te+Ae+"]",je="\\ud83c[\\udffb-\\udfff]",ze="[^"+Se+"]",He="(?:\\ud83c[\\udde6-\\uddff]){2}",$e="[\\ud800-\\udbff][\\udc00-\\udfff]",Ue="["+Ae+"]",We="\\u200d",qe="(?:"+Be+"|"+Fe+")",Ve="(?:"+Ue+"|"+Fe+")",Ze="(?:['’](?:d|ll|m|re|s|t|ve))?",Ye="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ge="(?:"+Ie+"|"+je+")"+"?",Ke="["+Oe+"]?",Xe=Ke+Ge+("(?:"+We+"(?:"+[ze,He,$e].join("|")+")"+Ke+Ge+")*"),Je="(?:"+[Ne,He,$e].join("|")+")"+Xe,Qe="(?:"+[ze+Ie+"?",Ie,He,$e,Le].join("|")+")",et=RegExp(Me,"g"),tt=RegExp(Ie,"g"),nt=RegExp(je+"(?="+je+")|"+Qe+Xe,"g"),rt=RegExp([Ue+"?"+Be+"+"+Ze+"(?="+[Pe,Ue,"$"].join("|")+")",Ve+"+"+Ye+"(?="+[Pe,Ue+qe,"$"].join("|")+")",Ue+"?"+qe+"+"+Ze,Ue+"+"+Ye,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Re,Je].join("|"),"g"),it=RegExp("["+We+Se+Ee+Oe+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,st=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,lt={};lt[N]=lt[B]=lt[F]=lt[j]=lt[z]=lt[H]=lt[$]=lt[U]=lt[W]=!0,lt[y]=lt[_]=lt[I]=lt[b]=lt[R]=lt[w]=lt[k]=lt[x]=lt[E]=lt[C]=lt[T]=lt[O]=lt[D]=lt[M]=lt[P]=!1;var ct={};ct[y]=ct[_]=ct[I]=ct[R]=ct[b]=ct[w]=ct[N]=ct[B]=ct[F]=ct[j]=ct[z]=ct[E]=ct[C]=ct[T]=ct[O]=ct[D]=ct[M]=ct[L]=ct[H]=ct[$]=ct[U]=ct[W]=!0,ct[k]=ct[x]=ct[P]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ht=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,mt=ft||pt||Function("return this")(),gt=t&&!t.nodeType&&t,vt=gt&&e&&!e.nodeType&&e,yt=vt&&vt.exports===gt,_t=yt&&ft.process,bt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||_t&&_t.binding&&_t.binding("util")}catch(e){}}(),wt=bt&&bt.isArrayBuffer,kt=bt&&bt.isDate,xt=bt&&bt.isMap,St=bt&&bt.isRegExp,Et=bt&&bt.isSet,Ct=bt&&bt.isTypedArray;function Tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function At(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Dt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Mt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Lt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Pt(e,t){return!!(null==e?0:e.length)&&Ut(e,t,0)>-1}function It(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Nt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Bt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Ft(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var zt=Zt("length");function Ht(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function $t(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Ut(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):$t(e,qt,n)}function Wt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function qt(e){return e!=e}function Vt(e,t){var n=null==e?0:e.length;return n?Kt(e,t)/n:m}function Zt(e){return function(t){return null==t?i:t[e]}}function Yt(e){return function(t){return null==e?i:e[t]}}function Gt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Kt(e,t){for(var n,r=-1,o=e.length;++r<o;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function Xt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Jt(e){return e?e.slice(0,gn(e)+1).replace(se,""):e}function Qt(e){return function(t){return e(t)}}function en(e,t){return Rt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Ut(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Ut(t,e[n],0)>-1;);return n}var on=Yt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),sn=Yt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ut[e]}function ln(e){return it.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function un(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):zt(e)}function mn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var vn=Yt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n,r=(t=null==t?mt:yn.defaults(mt.Object(),t,yn.pick(mt,st))).Array,ae=t.Date,Se=t.Error,Ee=t.Function,Ce=t.Math,Te=t.Object,Ae=t.RegExp,Oe=t.String,De=t.TypeError,Me=r.prototype,Le=Ee.prototype,Pe=Te.prototype,Ie=t["__core-js_shared__"],Re=Le.toString,Ne=Pe.hasOwnProperty,Be=0,Fe=(n=/[^.]+$/.exec(Ie&&Ie.keys&&Ie.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",je=Pe.toString,ze=Re.call(Te),He=mt._,$e=Ae("^"+Re.call(Ne).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=yt?t.Buffer:i,We=t.Symbol,qe=t.Uint8Array,Ve=Ue?Ue.allocUnsafe:i,Ze=un(Te.getPrototypeOf,Te),Ye=Te.create,Ge=Pe.propertyIsEnumerable,Ke=Me.splice,Xe=We?We.isConcatSpreadable:i,Je=We?We.iterator:i,Qe=We?We.toStringTag:i,nt=function(){try{var e=fo(Te,"defineProperty");return e({},"",{}),e}catch(e){}}(),it=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,ut=ae&&ae.now!==mt.Date.now&&ae.now,ft=t.setTimeout!==mt.setTimeout&&t.setTimeout,pt=Ce.ceil,gt=Ce.floor,vt=Te.getOwnPropertySymbols,_t=Ue?Ue.isBuffer:i,bt=t.isFinite,zt=Me.join,Yt=un(Te.keys,Te),_n=Ce.max,bn=Ce.min,wn=ae.now,kn=t.parseInt,xn=Ce.random,Sn=Me.reverse,En=fo(t,"DataView"),Cn=fo(t,"Map"),Tn=fo(t,"Promise"),An=fo(t,"Set"),On=fo(t,"WeakMap"),Dn=fo(Te,"create"),Mn=On&&new On,Ln={},Pn=jo(En),In=jo(Cn),Rn=jo(Tn),Nn=jo(An),Bn=jo(On),Fn=We?We.prototype:i,jn=Fn?Fn.valueOf:i,zn=Fn?Fn.toString:i;function Hn(e){if(na(e)&&!qs(e)&&!(e instanceof qn)){if(e instanceof Wn)return e;if(Ne.call(e,"__wrapped__"))return zo(e)}return new Wn(e)}var $n=function(){function e(){}return function(t){if(!ta(t))return{};if(Ye)return Ye(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Un(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function qn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Yn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Zn(e);this.size=t.size}function Xn(e,t){var n=qs(e),r=!n&&Ws(e),i=!n&&!r&&Gs(e),o=!n&&!r&&!i&&ua(e),s=n||r||i||o,a=s?Xt(e.length,Oe):[],l=a.length;for(var c in e)!t&&!Ne.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||bo(c,l))||a.push(c);return a}function Jn(e){var t=e.length;return t?e[Gr(0,t-1)]:i}function Qn(e,t){return No(Di(e),lr(t,0,e.length))}function er(e){return No(Di(e))}function tr(e,t,n){(n!==i&&!Hs(e[t],n)||n===i&&!(t in e))&&sr(e,t,n)}function nr(e,t,n){var r=e[t];Ne.call(e,t)&&Hs(r,n)&&(n!==i||t in e)||sr(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Hs(e[n][0],t))return n;return-1}function ir(e,t,n,r){return fr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function or(e,t){return e&&Mi(t,La(t),e)}function sr(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ar(e,t){for(var n=-1,o=t.length,s=r(o),a=null==e;++n<o;)s[n]=a?i:Ta(e,t[n]);return s}function lr(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function cr(e,t,n,r,o,s){var a,l=1&t,c=2&t,u=4&t;if(n&&(a=o?n(e,r,o,s):n(e)),a!==i)return a;if(!ta(e))return e;var d=qs(e);if(d){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ne.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Di(e,a)}else{var h=go(e),f=h==x||h==S;if(Gs(e))return Si(e,l);if(h==T||h==y||f&&!o){if(a=c||f?{}:yo(e),!l)return c?function(e,t){return Mi(e,mo(e),t)}(e,function(e,t){return e&&Mi(t,Pa(t),e)}(a,e)):function(e,t){return Mi(e,po(e),t)}(e,or(a,e))}else{if(!ct[h])return o?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case I:return Ei(e);case b:case w:return new r(+e);case R:return function(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case N:case B:case F:case j:case z:case H:case $:case U:case W:return Ci(e,n);case E:return new r;case C:case M:return new r(e);case O:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case D:return new r;case L:return i=e,jn?Te(jn.call(i)):{}}var i}(e,h,l)}}s||(s=new Kn);var p=s.get(e);if(p)return p;s.set(e,a),aa(e)?e.forEach((function(r){a.add(cr(r,t,n,r,e,s))})):ra(e)&&e.forEach((function(r,i){a.set(i,cr(r,t,n,i,e,s))}));var m=d?i:(u?c?oo:io:c?Pa:La)(e);return Ot(m||e,(function(r,i){m&&(r=e[i=r]),nr(a,i,cr(r,t,n,i,e,s))})),a}function ur(e,t,n){var r=n.length;if(null==e)return!r;for(e=Te(e);r--;){var o=n[r],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function dr(e,t,n){if("function"!=typeof e)throw new De(o);return Lo((function(){e.apply(i,n)}),t)}function hr(e,t,n,r){var i=-1,o=Pt,s=!0,a=e.length,l=[],c=t.length;if(!a)return l;n&&(t=Rt(t,Qt(n))),r?(o=It,s=!1):t.length>=200&&(o=tn,s=!1,t=new Gn(t));e:for(;++i<a;){var u=e[i],d=null==n?u:n(u);if(u=r||0!==u?u:0,s&&d==d){for(var h=c;h--;)if(t[h]===d)continue e;l.push(u)}else o(t,d,r)||l.push(u)}return l}Hn.templateSettings={escape:J,evaluate:Q,interpolate:ee,variable:"",imports:{_:Hn}},Hn.prototype=Un.prototype,Hn.prototype.constructor=Hn,Wn.prototype=$n(Un.prototype),Wn.prototype.constructor=Wn,qn.prototype=$n(Un.prototype),qn.prototype.constructor=qn,Vn.prototype.clear=function(){this.__data__=Dn?Dn(null):{},this.size=0},Vn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vn.prototype.get=function(e){var t=this.__data__;if(Dn){var n=t[e];return n===s?i:n}return Ne.call(t,e)?t[e]:i},Vn.prototype.has=function(e){var t=this.__data__;return Dn?t[e]!==i:Ne.call(t,e)},Vn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Dn&&t===i?s:t,this},Zn.prototype.clear=function(){this.__data__=[],this.size=0},Zn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,!0)},Zn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Zn.prototype.has=function(e){return rr(this.__data__,e)>-1},Zn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(Cn||Zn),string:new Vn}},Yn.prototype.delete=function(e){var t=uo(this,e).delete(e);return this.size-=t?1:0,t},Yn.prototype.get=function(e){return uo(this,e).get(e)},Yn.prototype.has=function(e){return uo(this,e).has(e)},Yn.prototype.set=function(e,t){var n=uo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Gn.prototype.add=Gn.prototype.push=function(e){return this.__data__.set(e,s),this},Gn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Zn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Zn){var r=n.__data__;if(!Cn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(e,t),this.size=n.size,this};var fr=Ii(wr),pr=Ii(kr,!0);function mr(e,t){var n=!0;return fr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function gr(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(l===i?a==a&&!ca(a):n(a,l)))var l=a,c=s}return c}function vr(e,t){var n=[];return fr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function yr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=_o),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?yr(a,t-1,n,r,i):Nt(i,a):r||(i[i.length]=a)}return i}var _r=Ri(),br=Ri(!0);function wr(e,t){return e&&_r(e,t,La)}function kr(e,t){return e&&br(e,t,La)}function xr(e,t){return Lt(t,(function(t){return Js(e[t])}))}function Sr(e,t){for(var n=0,r=(t=bi(t,e)).length;null!=e&&n<r;)e=e[Fo(t[n++])];return n&&n==r?e:i}function Er(e,t,n){var r=t(e);return qs(e)?r:Nt(r,n(e))}function Cr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Qe&&Qe in Te(e)?function(e){var t=Ne.call(e,Qe),n=e[Qe];try{e[Qe]=i;var r=!0}catch(e){}var o=je.call(e);r&&(t?e[Qe]=n:delete e[Qe]);return o}(e):function(e){return je.call(e)}(e)}function Tr(e,t){return e>t}function Ar(e,t){return null!=e&&Ne.call(e,t)}function Or(e,t){return null!=e&&t in Te(e)}function Dr(e,t,n){for(var o=n?It:Pt,s=e[0].length,a=e.length,l=a,c=r(a),u=1/0,d=[];l--;){var h=e[l];l&&t&&(h=Rt(h,Qt(t))),u=bn(h.length,u),c[l]=!n&&(t||s>=120&&h.length>=120)?new Gn(l&&h):i}h=e[0];var f=-1,p=c[0];e:for(;++f<s&&d.length<u;){var m=h[f],g=t?t(m):m;if(m=n||0!==m?m:0,!(p?tn(p,g):o(d,g,n))){for(l=a;--l;){var v=c[l];if(!(v?tn(v,g):o(e[l],g,n)))continue e}p&&p.push(g),d.push(m)}}return d}function Mr(e,t,n){var r=null==(e=Oo(e,t=bi(t,e)))?e:e[Fo(Xo(t))];return null==r?i:Tt(r,e,n)}function Lr(e){return na(e)&&Cr(e)==y}function Pr(e,t,n,r,o){return e===t||(null==e||null==t||!na(e)&&!na(t)?e!=e&&t!=t:function(e,t,n,r,o,s){var a=qs(e),l=qs(t),c=a?_:go(e),u=l?_:go(t),d=(c=c==y?T:c)==T,h=(u=u==y?T:u)==T,f=c==u;if(f&&Gs(e)){if(!Gs(t))return!1;a=!0,d=!1}if(f&&!d)return s||(s=new Kn),a||ua(e)?no(e,t,n,r,o,s):function(e,t,n,r,i,o,s){switch(n){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!o(new qe(e),new qe(t)));case b:case w:case C:return Hs(+e,+t);case k:return e.name==t.name&&e.message==t.message;case O:case M:return e==t+"";case E:var a=cn;case D:var l=1&r;if(a||(a=hn),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var u=no(a(e),a(t),r,i,o,s);return s.delete(e),u;case L:if(jn)return jn.call(e)==jn.call(t)}return!1}(e,t,c,n,r,o,s);if(!(1&n)){var p=d&&Ne.call(e,"__wrapped__"),m=h&&Ne.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,v=m?t.value():t;return s||(s=new Kn),o(g,v,n,r,s)}}if(!f)return!1;return s||(s=new Kn),function(e,t,n,r,o,s){var a=1&n,l=io(e),c=l.length,u=io(t),d=u.length;if(c!=d&&!a)return!1;var h=c;for(;h--;){var f=l[h];if(!(a?f in t:Ne.call(t,f)))return!1}var p=s.get(e),m=s.get(t);if(p&&m)return p==t&&m==e;var g=!0;s.set(e,t),s.set(t,e);var v=a;for(;++h<c;){var y=e[f=l[h]],_=t[f];if(r)var b=a?r(_,y,f,t,e,s):r(y,_,f,e,t,s);if(!(b===i?y===_||o(y,_,n,r,s):b)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var w=e.constructor,k=t.constructor;w==k||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof k&&k instanceof k||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,n,r,o,s)}(e,t,n,r,Pr,o))}function Ir(e,t,n,r){var o=n.length,s=o,a=!r;if(null==e)return!s;for(e=Te(e);o--;){var l=n[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){var c=(l=n[o])[0],u=e[c],d=l[1];if(a&&l[2]){if(u===i&&!(c in e))return!1}else{var h=new Kn;if(r)var f=r(u,d,c,e,t,h);if(!(f===i?Pr(d,u,3,r,h):f))return!1}}return!0}function Rr(e){return!(!ta(e)||(t=e,Fe&&Fe in t))&&(Js(e)?$e:ye).test(jo(e));var t}function Nr(e){return"function"==typeof e?e:null==e?il:"object"==typeof e?qs(e)?$r(e[0],e[1]):Hr(e):fl(e)}function Br(e){if(!Eo(e))return Yt(e);var t=[];for(var n in Te(e))Ne.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!ta(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=Eo(e),n=[];for(var r in e)("constructor"!=r||!t&&Ne.call(e,r))&&n.push(r);return n}function jr(e,t){return e<t}function zr(e,t){var n=-1,i=Zs(e)?r(e.length):[];return fr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Hr(e){var t=ho(e);return 1==t.length&&t[0][2]?To(t[0][0],t[0][1]):function(n){return n===e||Ir(n,e,t)}}function $r(e,t){return ko(e)&&Co(t)?To(Fo(e),t):function(n){var r=Ta(n,e);return r===i&&r===t?Aa(n,e):Pr(t,r,3)}}function Ur(e,t,n,r,o){e!==t&&_r(t,(function(s,a){if(o||(o=new Kn),ta(s))!function(e,t,n,r,o,s,a){var l=Do(e,n),c=Do(t,n),u=a.get(c);if(u)return void tr(e,n,u);var d=s?s(l,c,n+"",e,t,a):i,h=d===i;if(h){var f=qs(c),p=!f&&Gs(c),m=!f&&!p&&ua(c);d=c,f||p||m?qs(l)?d=l:Ys(l)?d=Di(l):p?(h=!1,d=Si(c,!0)):m?(h=!1,d=Ci(c,!0)):d=[]:oa(c)||Ws(c)?(d=l,Ws(l)?d=ya(l):ta(l)&&!Js(l)||(d=yo(c))):h=!1}h&&(a.set(c,d),o(d,c,r,s,a),a.delete(c));tr(e,n,d)}(e,t,a,n,Ur,r,o);else{var l=r?r(Do(e,a),s,a+"",e,t,o):i;l===i&&(l=s),tr(e,a,l)}}),Pa)}function Wr(e,t){var n=e.length;if(n)return bo(t+=t<0?n:0,n)?e[t]:i}function qr(e,t,n){t=t.length?Rt(t,(function(e){return qs(e)?function(t){return Sr(t,1===e.length?e[0]:e)}:e})):[il];var r=-1;t=Rt(t,Qt(co()));var i=zr(e,(function(e,n,i){var o=Rt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){var l=Ti(i[r],o[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Vr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=Sr(e,s);n(a,s)&&ei(o,bi(s,e),a)}return o}function Zr(e,t,n,r){var i=r?Wt:Ut,o=-1,s=t.length,a=e;for(e===t&&(t=Di(t)),n&&(a=Rt(e,Qt(n)));++o<s;)for(var l=0,c=t[o],u=n?n(c):c;(l=i(a,u,l,r))>-1;)a!==e&&Ke.call(a,l,1),Ke.call(e,l,1);return e}function Yr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;bo(i)?Ke.call(e,i,1):hi(e,i)}}return e}function Gr(e,t){return e+gt(xn()*(t-e+1))}function Kr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=gt(t/2))&&(e+=e)}while(t);return n}function Xr(e,t){return Po(Ao(e,t,il),e+"")}function Jr(e){return Jn(Ha(e))}function Qr(e,t){var n=Ha(e);return No(n,lr(t,0,n.length))}function ei(e,t,n,r){if(!ta(e))return e;for(var o=-1,s=(t=bi(t,e)).length,a=s-1,l=e;null!=l&&++o<s;){var c=Fo(t[o]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var d=l[c];(u=r?r(d,c,l):i)===i&&(u=ta(d)?d:bo(t[o+1])?[]:{})}nr(l,c,u),l=l[c]}return e}var ti=Mn?function(e,t){return Mn.set(e,t),e}:il,ni=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:tl(t),writable:!0})}:il;function ri(e){return No(Ha(e))}function ii(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function oi(e,t){var n;return fr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function si(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!ca(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return ai(e,t,il,n)}function ai(e,t,n,r){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,l=null===t,c=ca(t),u=t===i;o<s;){var d=gt((o+s)/2),h=n(e[d]),f=h!==i,p=null===h,m=h==h,g=ca(h);if(a)var v=r||m;else v=u?m&&(r||f):l?m&&f&&(r||!p):c?m&&f&&!p&&(r||!g):!p&&!g&&(r?h<=t:h<t);v?o=d+1:s=d}return bn(s,4294967294)}function li(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Hs(a,l)){var l=a;o[i++]=0===s?0:s}}return o}function ci(e){return"number"==typeof e?e:ca(e)?m:+e}function ui(e){if("string"==typeof e)return e;if(qs(e))return Rt(e,ui)+"";if(ca(e))return zn?zn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function di(e,t,n){var r=-1,i=Pt,o=e.length,s=!0,a=[],l=a;if(n)s=!1,i=It;else if(o>=200){var c=t?null:Ki(e);if(c)return hn(c);s=!1,i=tn,l=new Gn}else l=t?[]:a;e:for(;++r<o;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,s&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),a.push(u)}else i(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function hi(e,t){return null==(e=Oo(e,t=bi(t,e)))||delete e[Fo(Xo(t))]}function fi(e,t,n,r){return ei(e,t,n(Sr(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ii(e,r?0:o,r?o+1:i):ii(e,r?o+1:0,r?i:o)}function mi(e,t){var n=e;return n instanceof qn&&(n=n.value()),Bt(t,(function(e,t){return t.func.apply(t.thisArg,Nt([e],t.args))}),n)}function gi(e,t,n){var i=e.length;if(i<2)return i?di(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],l=-1;++l<i;)l!=o&&(s[o]=hr(s[o]||a,e[l],t,n));return di(yr(s,1),t,n)}function vi(e,t,n){for(var r=-1,o=e.length,s=t.length,a={};++r<o;){var l=r<s?t[r]:i;n(a,e[r],l)}return a}function yi(e){return Ys(e)?e:[]}function _i(e){return"function"==typeof e?e:il}function bi(e,t){return qs(e)?e:ko(e,t)?[e]:Bo(_a(e))}var wi=Xr;function ki(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var xi=it||function(e){return mt.clearTimeout(e)};function Si(e,t){if(t)return e.slice();var n=e.length,r=Ve?Ve(n):new e.constructor(n);return e.copy(r),r}function Ei(e){var t=new e.constructor(e.byteLength);return new qe(t).set(new qe(e)),t}function Ci(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ti(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,s=ca(e),a=t!==i,l=null===t,c=t==t,u=ca(t);if(!l&&!u&&!s&&e>t||s&&a&&c&&!l&&!u||r&&a&&c||!n&&c||!o)return 1;if(!r&&!s&&!u&&e<t||u&&n&&o&&!r&&!s||l&&n&&o||!a&&o||!c)return-1}return 0}function Ai(e,t,n,i){for(var o=-1,s=e.length,a=n.length,l=-1,c=t.length,u=_n(s-a,0),d=r(c+u),h=!i;++l<c;)d[l]=t[l];for(;++o<a;)(h||o<s)&&(d[n[o]]=e[o]);for(;u--;)d[l++]=e[o++];return d}function Oi(e,t,n,i){for(var o=-1,s=e.length,a=-1,l=n.length,c=-1,u=t.length,d=_n(s-l,0),h=r(d+u),f=!i;++o<d;)h[o]=e[o];for(var p=o;++c<u;)h[p+c]=t[c];for(;++a<l;)(f||o<s)&&(h[p+n[a]]=e[o++]);return h}function Di(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Mi(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var l=t[s],c=r?r(n[l],e[l],l,n,e):i;c===i&&(c=e[l]),o?sr(n,l,c):nr(n,l,c)}return n}function Li(e,t){return function(n,r){var i=qs(n)?At:ir,o=t?t():{};return i(n,e,co(r,2),o)}}function Pi(e){return Xr((function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&wo(n[0],n[1],a)&&(s=o<3?i:s,o=1),t=Te(t);++r<o;){var l=n[r];l&&e(t,l,r,s)}return t}))}function Ii(e,t){return function(n,r){if(null==n)return n;if(!Zs(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Te(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ri(e){return function(t,n,r){for(var i=-1,o=Te(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}function Ni(e){return function(t){var n=ln(t=_a(t))?mn(t):i,r=n?n[0]:t.charAt(0),o=n?ki(n,1).join(""):t.slice(1);return r[e]()+o}}function Bi(e){return function(t){return Bt(Ja(Wa(t).replace(et,"")),e,"")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=$n(e.prototype),r=e.apply(n,t);return ta(r)?r:n}}function ji(e){return function(t,n,r){var o=Te(t);if(!Zs(t)){var s=co(n,3);t=La(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[s?t[a]:a]:i}}function zi(e){return ro((function(t){var n=t.length,r=n,s=Wn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new De(o);if(s&&!l&&"wrapper"==ao(a))var l=new Wn([],!0)}for(r=l?r:n;++r<n;){var c=ao(a=t[r]),u="wrapper"==c?so(a):i;l=u&&xo(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[ao(u[0])].apply(l,u[3]):1==a.length&&xo(a)?l[c]():l.thru(a)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&qs(r))return l.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Hi(e,t,n,o,s,a,l,c,u,h){var f=t&d,p=1&t,m=2&t,g=24&t,v=512&t,y=m?i:Fi(e);return function d(){for(var _=arguments.length,b=r(_),w=_;w--;)b[w]=arguments[w];if(g)var k=lo(d),x=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,k);if(o&&(b=Ai(b,o,s,g)),a&&(b=Oi(b,a,l,g)),_-=x,g&&_<h){var S=dn(b,k);return Yi(e,t,Hi,d.placeholder,n,b,S,c,u,h-_)}var E=p?n:this,C=m?E[e]:e;return _=b.length,c?b=function(e,t){var n=e.length,r=bn(t.length,n),o=Di(e);for(;r--;){var s=t[r];e[r]=bo(s,n)?o[s]:i}return e}(b,c):v&&_>1&&b.reverse(),f&&u<_&&(b.length=u),this&&this!==mt&&this instanceof d&&(C=y||Fi(C)),C.apply(E,b)}}function $i(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Ui(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ui(n),r=ui(r)):(n=ci(n),r=ci(r)),o=e(n,r)}return o}}function Wi(e){return ro((function(t){return t=Rt(t,Qt(co())),Xr((function(n){var r=this;return e(t,(function(e){return Tt(e,r,n)}))}))}))}function qi(e,t){var n=(t=t===i?" ":ui(t)).length;if(n<2)return n?Kr(t,e):t;var r=Kr(t,pt(e/pn(t)));return ln(t)?ki(mn(r),0,e).join(""):r.slice(0,e)}function Vi(e){return function(t,n,o){return o&&"number"!=typeof o&&wo(t,n,o)&&(n=o=i),t=pa(t),n===i?(n=t,t=0):n=pa(n),function(e,t,n,i){for(var o=-1,s=_n(pt((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,o=o===i?t<n?1:-1:pa(o),e)}}function Zi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=va(t),n=va(n)),e(t,n)}}function Yi(e,t,n,r,o,s,a,l,d,h){var f=8&t;t|=f?c:u,4&(t&=~(f?u:c))||(t&=-4);var p=[e,t,o,f?s:i,f?a:i,f?i:s,f?i:a,l,d,h],m=n.apply(i,p);return xo(e)&&Mo(m,p),m.placeholder=r,Io(m,e,t)}function Gi(e){var t=Ce[e];return function(e,n){if(e=va(e),(n=null==n?0:bn(ma(n),292))&&bt(e)){var r=(_a(e)+"e").split("e");return+((r=(_a(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ki=An&&1/hn(new An([,-0]))[1]==f?function(e){return new An(e)}:cl;function Xi(e){return function(t){var n=go(t);return n==E?cn(t):n==D?fn(t):function(e,t){return Rt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,n,s,f,p,m,g){var v=2&t;if(!v&&"function"!=typeof e)throw new De(o);var y=s?s.length:0;if(y||(t&=-97,s=f=i),m=m===i?m:_n(ma(m),0),g=g===i?g:ma(g),y-=f?f.length:0,t&u){var _=s,b=f;s=f=i}var w=v?i:so(e),k=[e,t,n,s,f,_,b,p,m,g];if(w&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==d&&8==n||r==d&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?Ai(c,l,t[4]):l,e[4]=c?dn(e[3],a):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Oi(c,l,t[6]):l,e[6]=c?dn(e[5],a):t[6]);(l=t[7])&&(e[7]=l);r&d&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(k,w),e=k[0],t=k[1],n=k[2],s=k[3],f=k[4],!(g=k[9]=k[9]===i?v?0:e.length:_n(k[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==l?function(e,t,n){var o=Fi(e);return function s(){for(var a=arguments.length,l=r(a),c=a,u=lo(s);c--;)l[c]=arguments[c];var d=a<3&&l[0]!==u&&l[a-1]!==u?[]:dn(l,u);return(a-=d.length)<n?Yi(e,t,Hi,s.placeholder,i,l,d,i,i,n-a):Tt(this&&this!==mt&&this instanceof s?o:e,this,l)}}(e,t,g):t!=c&&33!=t||f.length?Hi.apply(i,k):function(e,t,n,i){var o=1&t,s=Fi(e);return function t(){for(var a=-1,l=arguments.length,c=-1,u=i.length,d=r(u+l),h=this&&this!==mt&&this instanceof t?s:e;++c<u;)d[c]=i[c];for(;l--;)d[c++]=arguments[++a];return Tt(h,o?n:this,d)}}(e,t,n,s);else var x=function(e,t,n){var r=1&t,i=Fi(e);return function t(){return(this&&this!==mt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Io((w?ti:Mo)(x,k),e,t)}function Qi(e,t,n,r){return e===i||Hs(e,Pe[n])&&!Ne.call(r,n)?t:e}function eo(e,t,n,r,o,s){return ta(e)&&ta(t)&&(s.set(t,e),Ur(e,t,i,eo,s),s.delete(t)),e}function to(e){return oa(e)?i:e}function no(e,t,n,r,o,s){var a=1&n,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var h=-1,f=!0,p=2&n?new Gn:i;for(s.set(e,t),s.set(t,e);++h<l;){var m=e[h],g=t[h];if(r)var v=a?r(g,m,h,t,e,s):r(m,g,h,e,t,s);if(v!==i){if(v)continue;f=!1;break}if(p){if(!jt(t,(function(e,t){if(!tn(p,t)&&(m===e||o(m,e,n,r,s)))return p.push(t)}))){f=!1;break}}else if(m!==g&&!o(m,g,n,r,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function ro(e){return Po(Ao(e,i,Vo),e+"")}function io(e){return Er(e,La,po)}function oo(e){return Er(e,Pa,mo)}var so=Mn?function(e){return Mn.get(e)}:cl;function ao(e){for(var t=e.name+"",n=Ln[t],r=Ne.call(Ln,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function lo(e){return(Ne.call(Hn,"placeholder")?Hn:e).placeholder}function co(){var e=Hn.iteratee||ol;return e=e===ol?Nr:e,arguments.length?e(arguments[0],arguments[1]):e}function uo(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ho(e){for(var t=La(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Co(i)]}return t}function fo(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Rr(n)?n:i}var po=vt?function(e){return null==e?[]:(e=Te(e),Lt(vt(e),(function(t){return Ge.call(e,t)})))}:gl,mo=vt?function(e){for(var t=[];e;)Nt(t,po(e)),e=Ze(e);return t}:gl,go=Cr;function vo(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,o=!1;++r<i;){var s=Fo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ea(i)&&bo(s,i)&&(qs(e)||Ws(e))}function yo(e){return"function"!=typeof e.constructor||Eo(e)?{}:$n(Ze(e))}function _o(e){return qs(e)||Ws(e)||!!(Xe&&e&&e[Xe])}function bo(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function wo(e,t,n){if(!ta(n))return!1;var r=typeof t;return!!("number"==r?Zs(n)&&bo(t,n.length):"string"==r&&t in n)&&Hs(n[t],e)}function ko(e,t){if(qs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ca(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Te(t))}function xo(e){var t=ao(e),n=Hn[t];if("function"!=typeof n||!(t in qn.prototype))return!1;if(e===n)return!0;var r=so(n);return!!r&&e===r[0]}(En&&go(new En(new ArrayBuffer(1)))!=R||Cn&&go(new Cn)!=E||Tn&&go(Tn.resolve())!=A||An&&go(new An)!=D||On&&go(new On)!=P)&&(go=function(e){var t=Cr(e),n=t==T?e.constructor:i,r=n?jo(n):"";if(r)switch(r){case Pn:return R;case In:return E;case Rn:return A;case Nn:return D;case Bn:return P}return t});var So=Ie?Js:vl;function Eo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function Co(e){return e==e&&!ta(e)}function To(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Te(n)))}}function Ao(e,t,n){return t=_n(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=_n(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var l=r(t+1);++o<t;)l[o]=i[o];return l[t]=n(a),Tt(e,this,l)}}function Oo(e,t){return t.length<2?e:Sr(e,ii(t,0,-1))}function Do(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Mo=Ro(ti),Lo=ft||function(e,t){return mt.setTimeout(e,t)},Po=Ro(ni);function Io(e,t,n){var r=t+"";return Po(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ot(v,(function(n){var r="_."+n[0];t&n[1]&&!Pt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(ue):[]}(r),n)))}function Ro(e){var t=0,n=0;return function(){var r=wn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function No(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var s=Gr(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Bo=function(e){var t=Rs(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(fe,"$1"):n||e)})),t}));function Fo(e){if("string"==typeof e||ca(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function jo(e){if(null!=e){try{return Re.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function zo(e){if(e instanceof qn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Di(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ho=Xr((function(e,t){return Ys(e)?hr(e,yr(t,1,Ys,!0)):[]})),$o=Xr((function(e,t){var n=Xo(t);return Ys(n)&&(n=i),Ys(e)?hr(e,yr(t,1,Ys,!0),co(n,2)):[]})),Uo=Xr((function(e,t){var n=Xo(t);return Ys(n)&&(n=i),Ys(e)?hr(e,yr(t,1,Ys,!0),i,n):[]}));function Wo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ma(n);return i<0&&(i=_n(r+i,0)),$t(e,co(t,3),i)}function qo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ma(n),o=n<0?_n(r+o,0):bn(o,r-1)),$t(e,co(t,3),o,!0)}function Vo(e){return(null==e?0:e.length)?yr(e,1):[]}function Zo(e){return e&&e.length?e[0]:i}var Yo=Xr((function(e){var t=Rt(e,yi);return t.length&&t[0]===e[0]?Dr(t):[]})),Go=Xr((function(e){var t=Xo(e),n=Rt(e,yi);return t===Xo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Dr(n,co(t,2)):[]})),Ko=Xr((function(e){var t=Xo(e),n=Rt(e,yi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Dr(n,i,t):[]}));function Xo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Jo=Xr(Qo);function Qo(e,t){return e&&e.length&&t&&t.length?Zr(e,t):e}var es=ro((function(e,t){var n=null==e?0:e.length,r=ar(e,t);return Yr(e,Rt(t,(function(e){return bo(e,n)?+e:e})).sort(Ti)),r}));function ts(e){return null==e?e:Sn.call(e)}var ns=Xr((function(e){return di(yr(e,1,Ys,!0))})),rs=Xr((function(e){var t=Xo(e);return Ys(t)&&(t=i),di(yr(e,1,Ys,!0),co(t,2))})),is=Xr((function(e){var t=Xo(e);return t="function"==typeof t?t:i,di(yr(e,1,Ys,!0),i,t)}));function os(e){if(!e||!e.length)return[];var t=0;return e=Lt(e,(function(e){if(Ys(e))return t=_n(e.length,t),!0})),Xt(t,(function(t){return Rt(e,Zt(t))}))}function ss(e,t){if(!e||!e.length)return[];var n=os(e);return null==t?n:Rt(n,(function(e){return Tt(t,i,e)}))}var as=Xr((function(e,t){return Ys(e)?hr(e,t):[]})),ls=Xr((function(e){return gi(Lt(e,Ys))})),cs=Xr((function(e){var t=Xo(e);return Ys(t)&&(t=i),gi(Lt(e,Ys),co(t,2))})),us=Xr((function(e){var t=Xo(e);return t="function"==typeof t?t:i,gi(Lt(e,Ys),i,t)})),ds=Xr(os);var hs=Xr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,ss(e,n)}));function fs(e){var t=Hn(e);return t.__chain__=!0,t}function ps(e,t){return t(e)}var ms=ro((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return ar(t,e)};return!(t>1||this.__actions__.length)&&r instanceof qn&&bo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ps,args:[o],thisArg:i}),new Wn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var gs=Li((function(e,t,n){Ne.call(e,n)?++e[n]:sr(e,n,1)}));var vs=ji(Wo),ys=ji(qo);function _s(e,t){return(qs(e)?Ot:fr)(e,co(t,3))}function bs(e,t){return(qs(e)?Dt:pr)(e,co(t,3))}var ws=Li((function(e,t,n){Ne.call(e,n)?e[n].push(t):sr(e,n,[t])}));var ks=Xr((function(e,t,n){var i=-1,o="function"==typeof t,s=Zs(e)?r(e.length):[];return fr(e,(function(e){s[++i]=o?Tt(t,e,n):Mr(e,t,n)})),s})),xs=Li((function(e,t,n){sr(e,n,t)}));function Ss(e,t){return(qs(e)?Rt:zr)(e,co(t,3))}var Es=Li((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Cs=Xr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&wo(e,t[0],t[1])?t=[]:n>2&&wo(t[0],t[1],t[2])&&(t=[t[0]]),qr(e,yr(t,1),[])})),Ts=ut||function(){return mt.Date.now()};function As(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ji(e,d,i,i,i,i,t)}function Os(e,t){var n;if("function"!=typeof t)throw new De(o);return e=ma(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Ds=Xr((function(e,t,n){var r=1;if(n.length){var i=dn(n,lo(Ds));r|=c}return Ji(e,r,t,n,i)})),Ms=Xr((function(e,t,n){var r=3;if(n.length){var i=dn(n,lo(Ms));r|=c}return Ji(t,r,e,n,i)}));function Ls(e,t,n){var r,s,a,l,c,u,d=0,h=!1,f=!1,p=!0;if("function"!=typeof e)throw new De(o);function m(t){var n=r,o=s;return r=s=i,d=t,l=e.apply(o,n)}function g(e){var n=e-u;return u===i||n>=t||n<0||f&&e-d>=a}function v(){var e=Ts();if(g(e))return y(e);c=Lo(v,function(e){var n=t-(e-u);return f?bn(n,a-(e-d)):n}(e))}function y(e){return c=i,p&&r?m(e):(r=s=i,l)}function _(){var e=Ts(),n=g(e);if(r=arguments,s=this,u=e,n){if(c===i)return function(e){return d=e,c=Lo(v,t),h?m(e):l}(u);if(f)return xi(c),c=Lo(v,t),m(u)}return c===i&&(c=Lo(v,t)),l}return t=va(t)||0,ta(n)&&(h=!!n.leading,a=(f="maxWait"in n)?_n(va(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),_.cancel=function(){c!==i&&xi(c),d=0,r=u=s=c=i},_.flush=function(){return c===i?l:y(Ts())},_}var Ps=Xr((function(e,t){return dr(e,1,t)})),Is=Xr((function(e,t,n){return dr(e,va(t)||0,n)}));function Rs(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new De(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Rs.Cache||Yn),n}function Ns(e){if("function"!=typeof e)throw new De(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Rs.Cache=Yn;var Bs=wi((function(e,t){var n=(t=1==t.length&&qs(t[0])?Rt(t[0],Qt(co())):Rt(yr(t,1),Qt(co()))).length;return Xr((function(r){for(var i=-1,o=bn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Tt(e,this,r)}))})),Fs=Xr((function(e,t){var n=dn(t,lo(Fs));return Ji(e,c,i,t,n)})),js=Xr((function(e,t){var n=dn(t,lo(js));return Ji(e,u,i,t,n)})),zs=ro((function(e,t){return Ji(e,h,i,i,i,t)}));function Hs(e,t){return e===t||e!=e&&t!=t}var $s=Zi(Tr),Us=Zi((function(e,t){return e>=t})),Ws=Lr(function(){return arguments}())?Lr:function(e){return na(e)&&Ne.call(e,"callee")&&!Ge.call(e,"callee")},qs=r.isArray,Vs=wt?Qt(wt):function(e){return na(e)&&Cr(e)==I};function Zs(e){return null!=e&&ea(e.length)&&!Js(e)}function Ys(e){return na(e)&&Zs(e)}var Gs=_t||vl,Ks=kt?Qt(kt):function(e){return na(e)&&Cr(e)==w};function Xs(e){if(!na(e))return!1;var t=Cr(e);return t==k||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!oa(e)}function Js(e){if(!ta(e))return!1;var t=Cr(e);return t==x||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qs(e){return"number"==typeof e&&e==ma(e)}function ea(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ta(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function na(e){return null!=e&&"object"==typeof e}var ra=xt?Qt(xt):function(e){return na(e)&&go(e)==E};function ia(e){return"number"==typeof e||na(e)&&Cr(e)==C}function oa(e){if(!na(e)||Cr(e)!=T)return!1;var t=Ze(e);if(null===t)return!0;var n=Ne.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Re.call(n)==ze}var sa=St?Qt(St):function(e){return na(e)&&Cr(e)==O};var aa=Et?Qt(Et):function(e){return na(e)&&go(e)==D};function la(e){return"string"==typeof e||!qs(e)&&na(e)&&Cr(e)==M}function ca(e){return"symbol"==typeof e||na(e)&&Cr(e)==L}var ua=Ct?Qt(Ct):function(e){return na(e)&&ea(e.length)&&!!lt[Cr(e)]};var da=Zi(jr),ha=Zi((function(e,t){return e<=t}));function fa(e){if(!e)return[];if(Zs(e))return la(e)?mn(e):Di(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=go(e);return(t==E?cn:t==D?hn:Ha)(e)}function pa(e){return e?(e=va(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ma(e){var t=pa(e),n=t%1;return t==t?n?t-n:t:0}function ga(e){return e?lr(ma(e),0,g):0}function va(e){if("number"==typeof e)return e;if(ca(e))return m;if(ta(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ta(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var n=ve.test(e);return n||_e.test(e)?ht(e.slice(2),n?2:8):ge.test(e)?m:+e}function ya(e){return Mi(e,Pa(e))}function _a(e){return null==e?"":ui(e)}var ba=Pi((function(e,t){if(Eo(t)||Zs(t))Mi(t,La(t),e);else for(var n in t)Ne.call(t,n)&&nr(e,n,t[n])})),wa=Pi((function(e,t){Mi(t,Pa(t),e)})),ka=Pi((function(e,t,n,r){Mi(t,Pa(t),e,r)})),xa=Pi((function(e,t,n,r){Mi(t,La(t),e,r)})),Sa=ro(ar);var Ea=Xr((function(e,t){e=Te(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&wo(t[0],t[1],o)&&(r=1);++n<r;)for(var s=t[n],a=Pa(s),l=-1,c=a.length;++l<c;){var u=a[l],d=e[u];(d===i||Hs(d,Pe[u])&&!Ne.call(e,u))&&(e[u]=s[u])}return e})),Ca=Xr((function(e){return e.push(i,eo),Tt(Ra,i,e)}));function Ta(e,t,n){var r=null==e?i:Sr(e,t);return r===i?n:r}function Aa(e,t){return null!=e&&vo(e,t,Or)}var Oa=$i((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),e[t]=n}),tl(il)),Da=$i((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),Ne.call(e,t)?e[t].push(n):e[t]=[n]}),co),Ma=Xr(Mr);function La(e){return Zs(e)?Xn(e):Br(e)}function Pa(e){return Zs(e)?Xn(e,!0):Fr(e)}var Ia=Pi((function(e,t,n){Ur(e,t,n)})),Ra=Pi((function(e,t,n,r){Ur(e,t,n,r)})),Na=ro((function(e,t){var n={};if(null==e)return n;var r=!1;t=Rt(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Mi(e,oo(e),n),r&&(n=cr(n,7,to));for(var i=t.length;i--;)hi(n,t[i]);return n}));var Ba=ro((function(e,t){return null==e?{}:function(e,t){return Vr(e,t,(function(t,n){return Aa(e,n)}))}(e,t)}));function Fa(e,t){if(null==e)return{};var n=Rt(oo(e),(function(e){return[e]}));return t=co(t),Vr(e,n,(function(e,n){return t(e,n[0])}))}var ja=Xi(La),za=Xi(Pa);function Ha(e){return null==e?[]:en(e,La(e))}var $a=Bi((function(e,t,n){return t=t.toLowerCase(),e+(n?Ua(t):t)}));function Ua(e){return Xa(_a(e).toLowerCase())}function Wa(e){return(e=_a(e))&&e.replace(we,on).replace(tt,"")}var qa=Bi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Va=Bi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Za=Ni("toLowerCase");var Ya=Bi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ga=Bi((function(e,t,n){return e+(n?" ":"")+Xa(t)}));var Ka=Bi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xa=Ni("toUpperCase");function Ja(e,t,n){return e=_a(e),(t=n?i:t)===i?function(e){return ot.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Qa=Xr((function(e,t){try{return Tt(e,i,t)}catch(e){return Xs(e)?e:new Se(e)}})),el=ro((function(e,t){return Ot(t,(function(t){t=Fo(t),sr(e,t,Ds(e[t],e))})),e}));function tl(e){return function(){return e}}var nl=zi(),rl=zi(!0);function il(e){return e}function ol(e){return Nr("function"==typeof e?e:cr(e,1))}var sl=Xr((function(e,t){return function(n){return Mr(n,e,t)}})),al=Xr((function(e,t){return function(n){return Mr(e,n,t)}}));function ll(e,t,n){var r=La(t),i=xr(t,r);null!=n||ta(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=xr(t,La(t)));var o=!(ta(n)&&"chain"in n&&!n.chain),s=Js(e);return Ot(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Di(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Nt([this.value()],arguments))})})),e}function cl(){}var ul=Wi(Rt),dl=Wi(Mt),hl=Wi(jt);function fl(e){return ko(e)?Zt(Fo(e)):function(e){return function(t){return Sr(t,e)}}(e)}var pl=Vi(),ml=Vi(!0);function gl(){return[]}function vl(){return!1}var yl=Ui((function(e,t){return e+t}),0),_l=Gi("ceil"),bl=Ui((function(e,t){return e/t}),1),wl=Gi("floor");var kl,xl=Ui((function(e,t){return e*t}),1),Sl=Gi("round"),El=Ui((function(e,t){return e-t}),0);return Hn.after=function(e,t){if("function"!=typeof t)throw new De(o);return e=ma(e),function(){if(--e<1)return t.apply(this,arguments)}},Hn.ary=As,Hn.assign=ba,Hn.assignIn=wa,Hn.assignInWith=ka,Hn.assignWith=xa,Hn.at=Sa,Hn.before=Os,Hn.bind=Ds,Hn.bindAll=el,Hn.bindKey=Ms,Hn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return qs(e)?e:[e]},Hn.chain=fs,Hn.chunk=function(e,t,n){t=(n?wo(e,t,n):t===i)?1:_n(ma(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,l=r(pt(o/t));s<o;)l[a++]=ii(e,s,s+=t);return l},Hn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Hn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Nt(qs(n)?Di(n):[n],yr(t,1))},Hn.cond=function(e){var t=null==e?0:e.length,n=co();return e=t?Rt(e,(function(e){if("function"!=typeof e[1])throw new De(o);return[n(e[0]),e[1]]})):[],Xr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Tt(i[0],this,n))return Tt(i[1],this,n)}}))},Hn.conforms=function(e){return function(e){var t=La(e);return function(n){return ur(n,e,t)}}(cr(e,1))},Hn.constant=tl,Hn.countBy=gs,Hn.create=function(e,t){var n=$n(e);return null==t?n:or(n,t)},Hn.curry=function e(t,n,r){var o=Ji(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Hn.curryRight=function e(t,n,r){var o=Ji(t,l,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Hn.debounce=Ls,Hn.defaults=Ea,Hn.defaultsDeep=Ca,Hn.defer=Ps,Hn.delay=Is,Hn.difference=Ho,Hn.differenceBy=$o,Hn.differenceWith=Uo,Hn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:ma(t))<0?0:t,r):[]},Hn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:ma(t)))<0?0:t):[]},Hn.dropRightWhile=function(e,t){return e&&e.length?pi(e,co(t,3),!0,!0):[]},Hn.dropWhile=function(e,t){return e&&e.length?pi(e,co(t,3),!0):[]},Hn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&wo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=ma(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ma(r))<0&&(r+=o),r=n>r?0:ga(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Hn.filter=function(e,t){return(qs(e)?Lt:vr)(e,co(t,3))},Hn.flatMap=function(e,t){return yr(Ss(e,t),1)},Hn.flatMapDeep=function(e,t){return yr(Ss(e,t),f)},Hn.flatMapDepth=function(e,t,n){return n=n===i?1:ma(n),yr(Ss(e,t),n)},Hn.flatten=Vo,Hn.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,f):[]},Hn.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===i?1:ma(t)):[]},Hn.flip=function(e){return Ji(e,512)},Hn.flow=nl,Hn.flowRight=rl,Hn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Hn.functions=function(e){return null==e?[]:xr(e,La(e))},Hn.functionsIn=function(e){return null==e?[]:xr(e,Pa(e))},Hn.groupBy=ws,Hn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Hn.intersection=Yo,Hn.intersectionBy=Go,Hn.intersectionWith=Ko,Hn.invert=Oa,Hn.invertBy=Da,Hn.invokeMap=ks,Hn.iteratee=ol,Hn.keyBy=xs,Hn.keys=La,Hn.keysIn=Pa,Hn.map=Ss,Hn.mapKeys=function(e,t){var n={};return t=co(t,3),wr(e,(function(e,r,i){sr(n,t(e,r,i),e)})),n},Hn.mapValues=function(e,t){var n={};return t=co(t,3),wr(e,(function(e,r,i){sr(n,r,t(e,r,i))})),n},Hn.matches=function(e){return Hr(cr(e,1))},Hn.matchesProperty=function(e,t){return $r(e,cr(t,1))},Hn.memoize=Rs,Hn.merge=Ia,Hn.mergeWith=Ra,Hn.method=sl,Hn.methodOf=al,Hn.mixin=ll,Hn.negate=Ns,Hn.nthArg=function(e){return e=ma(e),Xr((function(t){return Wr(t,e)}))},Hn.omit=Na,Hn.omitBy=function(e,t){return Fa(e,Ns(co(t)))},Hn.once=function(e){return Os(2,e)},Hn.orderBy=function(e,t,n,r){return null==e?[]:(qs(t)||(t=null==t?[]:[t]),qs(n=r?i:n)||(n=null==n?[]:[n]),qr(e,t,n))},Hn.over=ul,Hn.overArgs=Bs,Hn.overEvery=dl,Hn.overSome=hl,Hn.partial=Fs,Hn.partialRight=js,Hn.partition=Es,Hn.pick=Ba,Hn.pickBy=Fa,Hn.property=fl,Hn.propertyOf=function(e){return function(t){return null==e?i:Sr(e,t)}},Hn.pull=Jo,Hn.pullAll=Qo,Hn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Zr(e,t,co(n,2)):e},Hn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Zr(e,t,i,n):e},Hn.pullAt=es,Hn.range=pl,Hn.rangeRight=ml,Hn.rearg=zs,Hn.reject=function(e,t){return(qs(e)?Lt:vr)(e,Ns(co(t,3)))},Hn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=co(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Yr(e,i),n},Hn.rest=function(e,t){if("function"!=typeof e)throw new De(o);return Xr(e,t=t===i?t:ma(t))},Hn.reverse=ts,Hn.sampleSize=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:ma(t),(qs(e)?Qn:Qr)(e,t)},Hn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Hn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},Hn.shuffle=function(e){return(qs(e)?er:ri)(e)},Hn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&wo(e,t,n)?(t=0,n=r):(t=null==t?0:ma(t),n=n===i?r:ma(n)),ii(e,t,n)):[]},Hn.sortBy=Cs,Hn.sortedUniq=function(e){return e&&e.length?li(e):[]},Hn.sortedUniqBy=function(e,t){return e&&e.length?li(e,co(t,2)):[]},Hn.split=function(e,t,n){return n&&"number"!=typeof n&&wo(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=_a(e))&&("string"==typeof t||null!=t&&!sa(t))&&!(t=ui(t))&&ln(e)?ki(mn(e),0,n):e.split(t,n):[]},Hn.spread=function(e,t){if("function"!=typeof e)throw new De(o);return t=null==t?0:_n(ma(t),0),Xr((function(n){var r=n[t],i=ki(n,0,t);return r&&Nt(i,r),Tt(e,this,i)}))},Hn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Hn.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:ma(t))<0?0:t):[]},Hn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:ma(t)))<0?0:t,r):[]},Hn.takeRightWhile=function(e,t){return e&&e.length?pi(e,co(t,3),!1,!0):[]},Hn.takeWhile=function(e,t){return e&&e.length?pi(e,co(t,3)):[]},Hn.tap=function(e,t){return t(e),e},Hn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new De(o);return ta(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ls(e,t,{leading:r,maxWait:t,trailing:i})},Hn.thru=ps,Hn.toArray=fa,Hn.toPairs=ja,Hn.toPairsIn=za,Hn.toPath=function(e){return qs(e)?Rt(e,Fo):ca(e)?[e]:Di(Bo(_a(e)))},Hn.toPlainObject=ya,Hn.transform=function(e,t,n){var r=qs(e),i=r||Gs(e)||ua(e);if(t=co(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ta(e)&&Js(o)?$n(Ze(e)):{}}return(i?Ot:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Hn.unary=function(e){return As(e,1)},Hn.union=ns,Hn.unionBy=rs,Hn.unionWith=is,Hn.uniq=function(e){return e&&e.length?di(e):[]},Hn.uniqBy=function(e,t){return e&&e.length?di(e,co(t,2)):[]},Hn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?di(e,i,t):[]},Hn.unset=function(e,t){return null==e||hi(e,t)},Hn.unzip=os,Hn.unzipWith=ss,Hn.update=function(e,t,n){return null==e?e:fi(e,t,_i(n))},Hn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:fi(e,t,_i(n),r)},Hn.values=Ha,Hn.valuesIn=function(e){return null==e?[]:en(e,Pa(e))},Hn.without=as,Hn.words=Ja,Hn.wrap=function(e,t){return Fs(_i(t),e)},Hn.xor=ls,Hn.xorBy=cs,Hn.xorWith=us,Hn.zip=ds,Hn.zipObject=function(e,t){return vi(e||[],t||[],nr)},Hn.zipObjectDeep=function(e,t){return vi(e||[],t||[],ei)},Hn.zipWith=hs,Hn.entries=ja,Hn.entriesIn=za,Hn.extend=wa,Hn.extendWith=ka,ll(Hn,Hn),Hn.add=yl,Hn.attempt=Qa,Hn.camelCase=$a,Hn.capitalize=Ua,Hn.ceil=_l,Hn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=va(n))==n?n:0),t!==i&&(t=(t=va(t))==t?t:0),lr(va(e),t,n)},Hn.clone=function(e){return cr(e,4)},Hn.cloneDeep=function(e){return cr(e,5)},Hn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:i)},Hn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:i)},Hn.conformsTo=function(e,t){return null==t||ur(e,t,La(t))},Hn.deburr=Wa,Hn.defaultTo=function(e,t){return null==e||e!=e?t:e},Hn.divide=bl,Hn.endsWith=function(e,t,n){e=_a(e),t=ui(t);var r=e.length,o=n=n===i?r:lr(ma(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Hn.eq=Hs,Hn.escape=function(e){return(e=_a(e))&&X.test(e)?e.replace(G,sn):e},Hn.escapeRegExp=function(e){return(e=_a(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Hn.every=function(e,t,n){var r=qs(e)?Mt:mr;return n&&wo(e,t,n)&&(t=i),r(e,co(t,3))},Hn.find=vs,Hn.findIndex=Wo,Hn.findKey=function(e,t){return Ht(e,co(t,3),wr)},Hn.findLast=ys,Hn.findLastIndex=qo,Hn.findLastKey=function(e,t){return Ht(e,co(t,3),kr)},Hn.floor=wl,Hn.forEach=_s,Hn.forEachRight=bs,Hn.forIn=function(e,t){return null==e?e:_r(e,co(t,3),Pa)},Hn.forInRight=function(e,t){return null==e?e:br(e,co(t,3),Pa)},Hn.forOwn=function(e,t){return e&&wr(e,co(t,3))},Hn.forOwnRight=function(e,t){return e&&kr(e,co(t,3))},Hn.get=Ta,Hn.gt=$s,Hn.gte=Us,Hn.has=function(e,t){return null!=e&&vo(e,t,Ar)},Hn.hasIn=Aa,Hn.head=Zo,Hn.identity=il,Hn.includes=function(e,t,n,r){e=Zs(e)?e:Ha(e),n=n&&!r?ma(n):0;var i=e.length;return n<0&&(n=_n(i+n,0)),la(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ut(e,t,n)>-1},Hn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ma(n);return i<0&&(i=_n(r+i,0)),Ut(e,t,i)},Hn.inRange=function(e,t,n){return t=pa(t),n===i?(n=t,t=0):n=pa(n),function(e,t,n){return e>=bn(t,n)&&e<_n(t,n)}(e=va(e),t,n)},Hn.invoke=Ma,Hn.isArguments=Ws,Hn.isArray=qs,Hn.isArrayBuffer=Vs,Hn.isArrayLike=Zs,Hn.isArrayLikeObject=Ys,Hn.isBoolean=function(e){return!0===e||!1===e||na(e)&&Cr(e)==b},Hn.isBuffer=Gs,Hn.isDate=Ks,Hn.isElement=function(e){return na(e)&&1===e.nodeType&&!oa(e)},Hn.isEmpty=function(e){if(null==e)return!0;if(Zs(e)&&(qs(e)||"string"==typeof e||"function"==typeof e.splice||Gs(e)||ua(e)||Ws(e)))return!e.length;var t=go(e);if(t==E||t==D)return!e.size;if(Eo(e))return!Br(e).length;for(var n in e)if(Ne.call(e,n))return!1;return!0},Hn.isEqual=function(e,t){return Pr(e,t)},Hn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Pr(e,t,i,n):!!r},Hn.isError=Xs,Hn.isFinite=function(e){return"number"==typeof e&&bt(e)},Hn.isFunction=Js,Hn.isInteger=Qs,Hn.isLength=ea,Hn.isMap=ra,Hn.isMatch=function(e,t){return e===t||Ir(e,t,ho(t))},Hn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Ir(e,t,ho(t),n)},Hn.isNaN=function(e){return ia(e)&&e!=+e},Hn.isNative=function(e){if(So(e))throw new Se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rr(e)},Hn.isNil=function(e){return null==e},Hn.isNull=function(e){return null===e},Hn.isNumber=ia,Hn.isObject=ta,Hn.isObjectLike=na,Hn.isPlainObject=oa,Hn.isRegExp=sa,Hn.isSafeInteger=function(e){return Qs(e)&&e>=-9007199254740991&&e<=p},Hn.isSet=aa,Hn.isString=la,Hn.isSymbol=ca,Hn.isTypedArray=ua,Hn.isUndefined=function(e){return e===i},Hn.isWeakMap=function(e){return na(e)&&go(e)==P},Hn.isWeakSet=function(e){return na(e)&&"[object WeakSet]"==Cr(e)},Hn.join=function(e,t){return null==e?"":zt.call(e,t)},Hn.kebabCase=qa,Hn.last=Xo,Hn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ma(n))<0?_n(r+o,0):bn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):$t(e,qt,o,!0)},Hn.lowerCase=Va,Hn.lowerFirst=Za,Hn.lt=da,Hn.lte=ha,Hn.max=function(e){return e&&e.length?gr(e,il,Tr):i},Hn.maxBy=function(e,t){return e&&e.length?gr(e,co(t,2),Tr):i},Hn.mean=function(e){return Vt(e,il)},Hn.meanBy=function(e,t){return Vt(e,co(t,2))},Hn.min=function(e){return e&&e.length?gr(e,il,jr):i},Hn.minBy=function(e,t){return e&&e.length?gr(e,co(t,2),jr):i},Hn.stubArray=gl,Hn.stubFalse=vl,Hn.stubObject=function(){return{}},Hn.stubString=function(){return""},Hn.stubTrue=function(){return!0},Hn.multiply=xl,Hn.nth=function(e,t){return e&&e.length?Wr(e,ma(t)):i},Hn.noConflict=function(){return mt._===this&&(mt._=He),this},Hn.noop=cl,Hn.now=Ts,Hn.pad=function(e,t,n){e=_a(e);var r=(t=ma(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return qi(gt(i),n)+e+qi(pt(i),n)},Hn.padEnd=function(e,t,n){e=_a(e);var r=(t=ma(t))?pn(e):0;return t&&r<t?e+qi(t-r,n):e},Hn.padStart=function(e,t,n){e=_a(e);var r=(t=ma(t))?pn(e):0;return t&&r<t?qi(t-r,n)+e:e},Hn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),kn(_a(e).replace(se,""),t||0)},Hn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&wo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=pa(e),t===i?(t=e,e=0):t=pa(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=xn();return bn(e+o*(t-e+dt("1e-"+((o+"").length-1))),t)}return Gr(e,t)},Hn.reduce=function(e,t,n){var r=qs(e)?Bt:Gt,i=arguments.length<3;return r(e,co(t,4),n,i,fr)},Hn.reduceRight=function(e,t,n){var r=qs(e)?Ft:Gt,i=arguments.length<3;return r(e,co(t,4),n,i,pr)},Hn.repeat=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:ma(t),Kr(_a(e),t)},Hn.replace=function(){var e=arguments,t=_a(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Hn.result=function(e,t,n){var r=-1,o=(t=bi(t,e)).length;for(o||(o=1,e=i);++r<o;){var s=null==e?i:e[Fo(t[r])];s===i&&(r=o,s=n),e=Js(s)?s.call(e):s}return e},Hn.round=Sl,Hn.runInContext=e,Hn.sample=function(e){return(qs(e)?Jn:Jr)(e)},Hn.size=function(e){if(null==e)return 0;if(Zs(e))return la(e)?pn(e):e.length;var t=go(e);return t==E||t==D?e.size:Br(e).length},Hn.snakeCase=Ya,Hn.some=function(e,t,n){var r=qs(e)?jt:oi;return n&&wo(e,t,n)&&(t=i),r(e,co(t,3))},Hn.sortedIndex=function(e,t){return si(e,t)},Hn.sortedIndexBy=function(e,t,n){return ai(e,t,co(n,2))},Hn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=si(e,t);if(r<n&&Hs(e[r],t))return r}return-1},Hn.sortedLastIndex=function(e,t){return si(e,t,!0)},Hn.sortedLastIndexBy=function(e,t,n){return ai(e,t,co(n,2),!0)},Hn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=si(e,t,!0)-1;if(Hs(e[n],t))return n}return-1},Hn.startCase=Ga,Hn.startsWith=function(e,t,n){return e=_a(e),n=null==n?0:lr(ma(n),0,e.length),t=ui(t),e.slice(n,n+t.length)==t},Hn.subtract=El,Hn.sum=function(e){return e&&e.length?Kt(e,il):0},Hn.sumBy=function(e,t){return e&&e.length?Kt(e,co(t,2)):0},Hn.template=function(e,t,n){var r=Hn.templateSettings;n&&wo(e,t,n)&&(t=i),e=_a(e),t=ka({},t,r,Qi);var o,s,a=ka({},t.imports,r.imports,Qi),l=La(a),c=en(a,l),u=0,d=t.interpolate||ke,h="__p += '",f=Ae((t.escape||ke).source+"|"+d.source+"|"+(d===ee?pe:ke).source+"|"+(t.evaluate||ke).source+"|$","g"),p="//# sourceURL="+(Ne.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(f,(function(t,n,r,i,a,l){return r||(r=i),h+=e.slice(u,l).replace(xe,an),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),h+="';\n";var m=Ne.call(t,"variable")&&t.variable;if(m){if(he.test(m))throw new Se("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(q,""):h).replace(V,"$1").replace(Z,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Qa((function(){return Ee(l,p+"return "+h).apply(i,c)}));if(g.source=h,Xs(g))throw g;return g},Hn.times=function(e,t){if((e=ma(e))<1||e>p)return[];var n=g,r=bn(e,g);t=co(t),e-=g;for(var i=Xt(r,t);++n<e;)t(n);return i},Hn.toFinite=pa,Hn.toInteger=ma,Hn.toLength=ga,Hn.toLower=function(e){return _a(e).toLowerCase()},Hn.toNumber=va,Hn.toSafeInteger=function(e){return e?lr(ma(e),-9007199254740991,p):0===e?e:0},Hn.toString=_a,Hn.toUpper=function(e){return _a(e).toUpperCase()},Hn.trim=function(e,t,n){if((e=_a(e))&&(n||t===i))return Jt(e);if(!e||!(t=ui(t)))return e;var r=mn(e),o=mn(t);return ki(r,nn(r,o),rn(r,o)+1).join("")},Hn.trimEnd=function(e,t,n){if((e=_a(e))&&(n||t===i))return e.slice(0,gn(e)+1);if(!e||!(t=ui(t)))return e;var r=mn(e);return ki(r,0,rn(r,mn(t))+1).join("")},Hn.trimStart=function(e,t,n){if((e=_a(e))&&(n||t===i))return e.replace(se,"");if(!e||!(t=ui(t)))return e;var r=mn(e);return ki(r,nn(r,mn(t))).join("")},Hn.truncate=function(e,t){var n=30,r="...";if(ta(t)){var o="separator"in t?t.separator:o;n="length"in t?ma(t.length):n,r="omission"in t?ui(t.omission):r}var s=(e=_a(e)).length;if(ln(e)){var a=mn(e);s=a.length}if(n>=s)return e;var l=n-pn(r);if(l<1)return r;var c=a?ki(a,0,l).join(""):e.slice(0,l);if(o===i)return c+r;if(a&&(l+=c.length-l),sa(o)){if(e.slice(l).search(o)){var u,d=c;for(o.global||(o=Ae(o.source,_a(me.exec(o))+"g")),o.lastIndex=0;u=o.exec(d);)var h=u.index;c=c.slice(0,h===i?l:h)}}else if(e.indexOf(ui(o),l)!=l){var f=c.lastIndexOf(o);f>-1&&(c=c.slice(0,f))}return c+r},Hn.unescape=function(e){return(e=_a(e))&&K.test(e)?e.replace(Y,vn):e},Hn.uniqueId=function(e){var t=++Be;return _a(e)+t},Hn.upperCase=Ka,Hn.upperFirst=Xa,Hn.each=_s,Hn.eachRight=bs,Hn.first=Zo,ll(Hn,(kl={},wr(Hn,(function(e,t){Ne.call(Hn.prototype,t)||(kl[t]=e)})),kl),{chain:!1}),Hn.VERSION="4.17.21",Ot(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Hn[e].placeholder=Hn})),Ot(["drop","take"],(function(e,t){qn.prototype[e]=function(n){n=n===i?1:_n(ma(n),0);var r=this.__filtered__&&!t?new qn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},qn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ot(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;qn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:co(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ot(["head","last"],(function(e,t){var n="take"+(t?"Right":"");qn.prototype[e]=function(){return this[n](1).value()[0]}})),Ot(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");qn.prototype[e]=function(){return this.__filtered__?new qn(this):this[n](1)}})),qn.prototype.compact=function(){return this.filter(il)},qn.prototype.find=function(e){return this.filter(e).head()},qn.prototype.findLast=function(e){return this.reverse().find(e)},qn.prototype.invokeMap=Xr((function(e,t){return"function"==typeof e?new qn(this):this.map((function(n){return Mr(n,e,t)}))})),qn.prototype.reject=function(e){return this.filter(Ns(co(e)))},qn.prototype.slice=function(e,t){e=ma(e);var n=this;return n.__filtered__&&(e>0||t<0)?new qn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=ma(t))<0?n.dropRight(-t):n.take(t-e)),n)},qn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},qn.prototype.toArray=function(){return this.take(g)},wr(qn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Hn[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&(Hn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,l=t instanceof qn,c=a[0],u=l||qs(t),d=function(e){var t=o.apply(Hn,Nt([e],a));return r&&h?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,f=!!this.__actions__.length,p=s&&!h,m=l&&!f;if(!s&&u){t=m?t:new qn(this);var g=e.apply(t,a);return g.__actions__.push({func:ps,args:[d],thisArg:i}),new Wn(g,h)}return p&&m?e.apply(this,a):(g=this.thru(d),p?r?g.value()[0]:g.value():g)})})),Ot(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Me[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Hn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(qs(i)?i:[],e)}return this[n]((function(n){return t.apply(qs(n)?n:[],e)}))}})),wr(qn.prototype,(function(e,t){var n=Hn[t];if(n){var r=n.name+"";Ne.call(Ln,r)||(Ln[r]=[]),Ln[r].push({name:t,func:n})}})),Ln[Hi(i,2).name]=[{name:"wrapper",func:i}],qn.prototype.clone=function(){var e=new qn(this.__wrapped__);return e.__actions__=Di(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Di(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Di(this.__views__),e},qn.prototype.reverse=function(){if(this.__filtered__){var e=new qn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},qn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=qs(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=bn(t,e+s);break;case"takeRight":e=_n(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,l=a-s,c=r?a:s-1,u=this.__iteratees__,d=u.length,h=0,f=bn(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return mi(e,this.__actions__);var p=[];e:for(;l--&&h<f;){for(var m=-1,g=e[c+=t];++m<d;){var v=u[m],y=v.iteratee,_=v.type,b=y(g);if(2==_)g=b;else if(!b){if(1==_)continue e;break e}}p[h++]=g}return p},Hn.prototype.at=ms,Hn.prototype.chain=function(){return fs(this)},Hn.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Hn.prototype.next=function(){this.__values__===i&&(this.__values__=fa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Hn.prototype.plant=function(e){for(var t,n=this;n instanceof Un;){var r=zo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Hn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof qn){var t=e;return this.__actions__.length&&(t=new qn(this)),(t=t.reverse()).__actions__.push({func:ps,args:[ts],thisArg:i}),new Wn(t,this.__chain__)}return this.thru(ts)},Hn.prototype.toJSON=Hn.prototype.valueOf=Hn.prototype.value=function(){return mi(this.__wrapped__,this.__actions__)},Hn.prototype.first=Hn.prototype.head,Je&&(Hn.prototype[Je]=function(){return this}),Hn}();mt._=yn,(r=function(){return yn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},631:(e,t,n)=>{var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"==typeof i.get?i.get:null,s=r&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=a&&l&&"function"==typeof l.get?l.get:null,u=a&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,h="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,m=Object.prototype.toString,g=Function.prototype.toString,v=String.prototype.match,y=String.prototype.slice,_=String.prototype.replace,b=String.prototype.toUpperCase,w=String.prototype.toLowerCase,k=RegExp.prototype.test,x=Array.prototype.concat,S=Array.prototype.join,E=Array.prototype.slice,C=Math.floor,T="function"==typeof BigInt?BigInt.prototype.valueOf:null,A=Object.getOwnPropertySymbols,O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,D="function"==typeof Symbol&&"object"==typeof Symbol.iterator,M="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===D||"symbol")?Symbol.toStringTag:null,L=Object.prototype.propertyIsEnumerable,P=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function I(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||k.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-C(-e):C(e);if(r!==e){var i=String(r),o=y.call(t,i.length+1);return _.call(i,n,"$&_")+"."+_.call(_.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _.call(t,n,"$&_")}var R=n(4654),N=R.custom,B=$(N)?N:null;function F(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function j(e){return _.call(String(e),/"/g,"&quot;")}function z(e){return!("[object Array]"!==q(e)||M&&"object"==typeof e&&M in e)}function H(e){return!("[object RegExp]"!==q(e)||M&&"object"==typeof e&&M in e)}function $(e){if(D)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!O)return!1;try{return O.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,i,a){var l=r||{};if(W(l,"quoteStyle")&&"single"!==l.quoteStyle&&"double"!==l.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(W(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var m=!W(l,"customInspect")||l.customInspect;if("boolean"!=typeof m&&"symbol"!==m)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(W(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(W(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var b=l.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return Z(t,l);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var k=String(t);return b?I(t,k):k}if("bigint"==typeof t){var C=String(t)+"n";return b?I(t,C):C}var A=void 0===l.depth?5:l.depth;if(void 0===i&&(i=0),i>=A&&A>0&&"object"==typeof t)return z(t)?"[Array]":"[Object]";var N=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=S.call(Array(e.indent+1)," ")}return{base:n,prev:S.call(Array(t+1),n)}}(l,i);if(void 0===a)a=[];else if(V(a,t)>=0)return"[Circular]";function U(t,n,r){if(n&&(a=E.call(a)).push(n),r){var o={depth:l.depth};return W(l,"quoteStyle")&&(o.quoteStyle=l.quoteStyle),e(t,o,i+1,a)}return e(t,l,i+1,a)}if("function"==typeof t&&!H(t)){var Y=function(e){if(e.name)return e.name;var t=v.call(g.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),ee=Q(t,U);return"[Function"+(Y?": "+Y:" (anonymous)")+"]"+(ee.length>0?" { "+S.call(ee,", ")+" }":"")}if($(t)){var te=D?_.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):O.call(t);return"object"!=typeof t||D?te:G(te)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var ne="<"+w.call(String(t.nodeName)),re=t.attributes||[],ie=0;ie<re.length;ie++)ne+=" "+re[ie].name+"="+F(j(re[ie].value),"double",l);return ne+=">",t.childNodes&&t.childNodes.length&&(ne+="..."),ne+="</"+w.call(String(t.nodeName))+">"}if(z(t)){if(0===t.length)return"[]";var oe=Q(t,U);return N&&!function(e){for(var t=0;t<e.length;t++)if(V(e[t],"\n")>=0)return!1;return!0}(oe)?"["+J(oe,N)+"]":"[ "+S.call(oe,", ")+" ]"}if(function(e){return!("[object Error]"!==q(e)||M&&"object"==typeof e&&M in e)}(t)){var se=Q(t,U);return"cause"in Error.prototype||!("cause"in t)||L.call(t,"cause")?0===se.length?"["+String(t)+"]":"{ ["+String(t)+"] "+S.call(se,", ")+" }":"{ ["+String(t)+"] "+S.call(x.call("[cause]: "+U(t.cause),se),", ")+" }"}if("object"==typeof t&&m){if(B&&"function"==typeof t[B]&&R)return R(t,{depth:A-i});if("symbol"!==m&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ae=[];return s&&s.call(t,(function(e,n){ae.push(U(n,t,!0)+" => "+U(e,t))})),X("Map",o.call(t),ae,N)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var le=[];return u&&u.call(t,(function(e){le.push(U(e,t))})),X("Set",c.call(t),le,N)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{h.call(e,h)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return K("WeakMap");if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{h.call(e,h);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return K("WeakSet");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{return f.call(e),!0}catch(e){}return!1}(t))return K("WeakRef");if(function(e){return!("[object Number]"!==q(e)||M&&"object"==typeof e&&M in e)}(t))return G(U(Number(t)));if(function(e){if(!e||"object"!=typeof e||!T)return!1;try{return T.call(e),!0}catch(e){}return!1}(t))return G(U(T.call(t)));if(function(e){return!("[object Boolean]"!==q(e)||M&&"object"==typeof e&&M in e)}(t))return G(p.call(t));if(function(e){return!("[object String]"!==q(e)||M&&"object"==typeof e&&M in e)}(t))return G(U(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if(t===n.g)return"{ [object globalThis] }";if(!function(e){return!("[object Date]"!==q(e)||M&&"object"==typeof e&&M in e)}(t)&&!H(t)){var ce=Q(t,U),ue=P?P(t)===Object.prototype:t instanceof Object||t.constructor===Object,de=t instanceof Object?"":"null prototype",he=!ue&&M&&Object(t)===t&&M in t?y.call(q(t),8,-1):de?"Object":"",fe=(ue||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(he||de?"["+S.call(x.call([],he||[],de||[]),": ")+"] ":"");return 0===ce.length?fe+"{}":N?fe+"{"+J(ce,N)+"}":fe+"{ "+S.call(ce,", ")+" }"}return String(t)};var U=Object.prototype.hasOwnProperty||function(e){return e in this};function W(e,t){return U.call(e,t)}function q(e){return m.call(e)}function V(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function Z(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return Z(y.call(e,0,t.maxStringLength),t)+r}return F(_.call(_.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Y),"single",t)}function Y(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+b.call(t.toString(16))}function G(e){return"Object("+e+")"}function K(e){return e+" { ? }"}function X(e,t,n,r){return e+" ("+t+") {"+(r?J(n,r):S.call(n,", "))+"}"}function J(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+S.call(e,","+n)+"\n"+t.prev}function Q(e,t){var n=z(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=W(e,i)?t(e[i],e):""}var o,s="function"==typeof A?A(e):[];if(D){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in e)W(e,l)&&(n&&String(Number(l))===l&&l<e.length||D&&o["$"+l]instanceof Symbol||(k.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if("function"==typeof A)for(var c=0;c<s.length;c++)L.call(e,s[c])&&r.push("["+t(s[c])+"]: "+t(e[s[c]],e));return r}},9893:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=g(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}n.d(t,{ZP:()=>ur});var _={DEBUG:!1,LIB_VERSION:"1.96.1"},b=Array.isArray,w=Object.prototype,k=w.hasOwnProperty,x=w.toString,S=b||function(e){return"[object Array]"===x.call(e)},E=function(e){return"[object Uint8Array]"===x.call(e)},C=function(e){return"function"==typeof e},T=function(e){return e===Object(e)&&!S(e)},A=function(e){return void 0===e},O=function(e){return"[object String]"==x.call(e)},D=function(e){return null===e},M=function(e){return"[object Number]"==x.call(e)},L=function(e){return"[object Boolean]"===x.call(e)},P=Array.prototype,I=P.forEach,R=P.indexOf,N="undefined"!=typeof window?window:void 0,B=null==N?void 0:N.navigator,F=null==N?void 0:N.document,j=null==B?void 0:B.userAgent,z=null!=N?N:{},H="[PostHog.js]",$={_log:function(e){if(N&&(_.DEBUG||z.POSTHOG_DEBUG)&&!A(N.console)&&N.console){for(var t=("__rrweb_original__"in N.console[e]?N.console[e].__rrweb_original__:N.console[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.apply(void 0,[H].concat(r))}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];$._log.apply($,["log"].concat(t))},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];$._log.apply($,["warn"].concat(t))},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];$._log.apply($,["error"].concat(t))},critical:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,[H].concat(n))},uninitializedWarning:function(e){$.error("You must initialize PostHog before calling ".concat(e))}},U={},W=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function q(e,t,n){if(S(e))if(I&&e.forEach===I)e.forEach(t,n);else if("length"in e&&e.length===+e.length)for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===U)return}function V(e,t,n){if(!D(e)&&!A(e)){if(S(e))return q(e,t,n);for(var r in e)if(k.call(e,r)&&t.call(n,e[r],r)===U)return}}var Z=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return q(n,(function(t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])})),e};function Y(e,t){return-1!==e.indexOf(t)}function G(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var K=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},X=function(e){try{return e()}catch(e){return}},J=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(e){$.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),$.critical(e)}}},Q=function(e){var t={};return V(e,(function(e,n){O(e)&&e.length>0&&(t[n]=e)})),t},ee=["$performance_raw"];function te(e){var t,n,r,i,o,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,l=0,c="",u=[];if(!e)return e;e=ne(e);do{t=(o=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>18&63,n=o>>12&63,r=o>>6&63,i=63&o,u[l++]=s.charAt(t)+s.charAt(n)+s.charAt(r)+s.charAt(i)}while(a<e.length);switch(c=u.join(""),e.length%3){case 1:c=c.slice(0,-2)+"==";break;case 2:c=c.slice(0,-1)+"="}return c}var ne=function(e){var t,n,r,i,o="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,i=0;i<r;i++){var s=e.charCodeAt(i),a=null;s<128?n++:a=s>127&&s<2048?String.fromCharCode(s>>6|192,63&s|128):String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128),D(a)||(n>t&&(o+=e.substring(t,n)),o+=a,t=n=i+1)}return n>t&&(o+=e.substring(t,e.length)),o},re=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,o){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!o);else{var s="on"+n,a=t[s];t[s]=function(t,n,r){return function(i){if(i=i||e(null==N?void 0:N.event)){var o,s=!0;C(r)&&(o=r(i));var a=n.call(t,i);return!1!==o&&!1!==a||(s=!1),s}}}(t,r,a)}else $.error("No valid element provided to register_event")}}();function ie(e,t){var n=function(){if(!F)return t("document not found");var n=F.createElement("script");n.type="text/javascript",n.src=e,n.onload=function(e){return t(void 0,e)},n.onerror=function(e){return t(e)};var r,i=F.querySelectorAll("body > script");i.length>0?null===(r=i[0].parentNode)||void 0===r||r.insertBefore(n,i[0]):F.body.appendChild(n)};null!=F&&F.body?n():null==F||F.addEventListener("DOMContentLoaded",n)}function oe(e){return e?W(e).split(/\s+/):[]}function se(e){var t="";switch(o(e.className)){case"string":t=e.className;break;case"object":t=("baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return oe(t)}function ae(e){var t="";return fe(e)&&!pe(e)&&e.childNodes&&e.childNodes.length&&V(e.childNodes,(function(e){ue(e)&&e.textContent&&(t+=W(e.textContent).split(/(\s+)/).filter(me).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))})),W(t)}function le(e){return!!e&&1===e.nodeType}function ce(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function ue(e){return!!e&&3===e.nodeType}function de(e){return!!e&&11===e.nodeType}var he=["a","button","form","input","select","textarea","label"];function fe(e){for(var t=e;t.parentNode&&!ce(t,"body");t=t.parentNode){var n=se(t);if(Y(n,"ph-sensitive")||Y(n,"ph-no-capture"))return!1}if(Y(se(e),"ph-include"))return!0;var r=e.type||"";if(O(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!O(i)||!/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,""))}function pe(e){return!!(ce(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||ce(e,"select")||ce(e,"textarea")||"true"===e.getAttribute("contenteditable"))}function me(e){if(D(e)||A(e))return!1;if(O(e)){if(e=W(e),/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((e||"").replace(/[- ]/g,"")))return!1;if(/(^\d{3}-?\d{2}-?\d{4}$)/.test(e))return!1}return!0}function ge(e){var t=ae(e);return me(t="".concat(t," ").concat(ve(e)).trim())?t:""}function ve(e){var t="";return e&&e.childNodes&&e.childNodes.length&&V(e.childNodes,(function(e){var n;if(e&&"span"===(null===(n=e.tagName)||void 0===n?void 0:n.toLowerCase()))try{var r=ae(e);t="".concat(t," ").concat(r).trim(),e.childNodes&&e.childNodes.length&&(t="".concat(t," ").concat(ve(e)).trim())}catch(e){$.error(e)}})),t}function ye(e){return function(e){var t=e.map((function(e){var t,n,r="";if(e.tag_name&&(r+=e.tag_name),e.attr_class){e.attr_class.sort();var o,s=y(e.attr_class);try{for(s.s();!(o=s.n()).done;){var a=o.value;r+=".".concat(a.replace(/"/g,""))}}catch(e){s.e(e)}finally{s.f()}}var l=i(i(i(i({},e.text?{text:e.text}:{}),{},{"nth-child":null!==(t=e.nth_child)&&void 0!==t?t:0,"nth-of-type":null!==(n=e.nth_of_type)&&void 0!==n?n:0},e.href?{href:e.href}:{}),e.attr_id?{attr_id:e.attr_id}:{}),e.attributes),c={};return G(l).sort((function(e,t){var n=p(e,1)[0],r=p(t,1)[0];return n.localeCompare(r)})).forEach((function(e){var t=p(e,2),n=t[0],r=t[1];return c[_e(n.toString())]=_e(r.toString())})),(r+=":")+G(l).map((function(e){var t=p(e,2),n=t[0],r=t[1];return"".concat(n,'="').concat(r,'"')})).join("")}));return t.join(";")}(function(e){return e.map((function(e){var t,n,r={text:null===(t=e.$el_text)||void 0===t?void 0:t.slice(0,400),tag_name:e.tag_name,href:null===(n=e.attr__href)||void 0===n?void 0:n.slice(0,2048),attr_class:be(e),attr_id:e.attr__id,nth_child:e.nth_child,nth_of_type:e.nth_of_type,attributes:{}};return G(e).filter((function(e){return 0===p(e,1)[0].indexOf("attr__")})).forEach((function(e){var t=p(e,2),n=t[0],i=t[1];return r.attributes[n]=i})),r}))}(e))}function _e(e){return e.replace(/"|\\"/g,'\\"')}function be(e){var t=e.attr__class;return t?S(t)?t:oe(t):void 0}var we=function(){function e(t){s(this,e),this.clicks=[],this.enabled=t}return l(e,[{key:"isRageClick",value:function(e,t,n){if(!this.enabled)return!1;var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(e-r.x)+Math.abs(t-r.y)<30&&n-r.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:n}),3===this.clicks.length)return!0}else this.clicks=[{x:e,y:t,timestamp:n}];return!1}}]),e}(),ke="$people_distinct_id",xe="__alias",Se="__timers",Ee="$autocapture_disabled_server_side",Ce="$session_recording_enabled_server_side",Te="$console_log_recording_enabled_server_side",Ae="$session_recording_recorder_version_server_side",Oe="$session_recording_network_payload_capture",De="$sesid",Me="$session_is_sampled",Le="$enabled_feature_flags",Pe="$early_access_features",Ie="$stored_person_properties",Re="$stored_group_properties",Ne="$surveys",Be="$flag_call_reported",Fe="$user_state",je="$posthog_quota_limited",ze="$client_session_props",He=[ke,xe,"__cmpns",Se,Ce,De,Le,Fe,je,Pe,Re,Ie,Ne,Be,ze];function $e(e,t){return t.length>e?t.slice(0,e)+"...":t}var Ue={_initializedTokens:[],_isDisabledServerSide:null,_isAutocaptureEnabled:!1,_setIsAutocaptureEnabled:function(e){var t,n=D(this._isDisabledServerSide)?!(null===(t=e.persistence)||void 0===t||!t.props[Ee]):this._isDisabledServerSide,r=!!e.config.autocapture;this._isAutocaptureEnabled=r&&!n},_previousElementSibling:function(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do{t=t.previousSibling}while(t&&!le(t));return t},_getAugmentPropertiesFromElement:function(e){if(!fe(e))return{};var t={};return V(e.attributes,(function(e){if(0===e.name.indexOf("data-ph-capture-attribute")){var n=e.name.replace("data-ph-capture-attribute-",""),r=e.value;n&&r&&me(r)&&(t[n]=r)}})),t},_getPropertiesFromElement:function(e,t,n){var r,i=e.tagName.toLowerCase(),o={tag_name:i};he.indexOf(i)>-1&&!n&&("a"===i.toLowerCase()||"button"===i.toLowerCase()?o.$el_text=$e(1024,ge(e)):o.$el_text=$e(1024,ae(e)));var s=se(e);s.length>0&&(o.classes=s.filter((function(e){return""!==e})));var a=null===(r=this.config)||void 0===r?void 0:r.element_attribute_ignorelist;V(e.attributes,(function(n){var r;if((!pe(e)||-1!==["name","id","class"].indexOf(n.name))&&(null==a||!a.includes(n.name))&&!t&&me(n.value)&&(r=n.name,!O(r)||"_ngcontent"!==r.substring(0,10)&&"_nghost"!==r.substring(0,7))){var i=n.value;"class"===n.name&&(i=oe(i).join(" ")),o["attr__"+n.name]=$e(1024,i)}}));for(var l=1,c=1,u=e;u=this._previousElementSibling(u);)l++,u.tagName===e.tagName&&c++;return o.nth_child=l,o.nth_of_type=c,o},_getDefaultProperties:function(e){return{$event_type:e,$ce_version:1}},_extractCustomPropertyValue:function(e){var t=[];return V(null==F?void 0:F.querySelectorAll(e.css_selector),(function(e){var n;["input","select"].indexOf(e.tagName.toLowerCase())>-1?n=e.value:e.textContent&&(n=e.textContent),me(n)&&t.push(n)})),t.join(", ")},_getCustomProperties:function(e){var t=this,n={};return V(this._customProperties,(function(r){V(r.event_selectors,(function(i){V(null==F?void 0:F.querySelectorAll(i),(function(i){Y(e,i)&&fe(i)&&(n[r.name]=t._extractCustomPropertyValue(r))}))}))})),n},_getEventTarget:function(e){return A(e.target)?e.srcElement||null:null!==(t=e.target)&&void 0!==t&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t},_captureEvent:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"$autocapture",o=this._getEventTarget(e);if(ue(o)&&(o=o.parentNode||null),"$autocapture"===i&&"click"===e.type&&e instanceof MouseEvent&&null!==(n=this.rageclicks)&&void 0!==n&&n.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._captureEvent(e,t,"$rageclick"),o&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!N||!e||ce(e,"html")||!le(e))return!1;if(null!=n&&n.url_allowlist){var r=N.location.href,i=n.url_allowlist;if(i&&!i.some((function(e){return r.match(e)})))return!1}if(null!=n&&n.dom_event_allowlist){var o=n.dom_event_allowlist;if(o&&!o.some((function(e){return t.type===e})))return!1}if(null!=n&&n.element_allowlist){var s=n.element_allowlist;if(s&&!s.some((function(t){return e.tagName.toLowerCase()===t})))return!1}if(null!=n&&n.css_selector_allowlist){var a=n.css_selector_allowlist;if(a&&!a.some((function(t){return e.matches(t)})))return!1}for(var l=!1,c=[e],u=!0,d=e;d.parentNode&&!ce(d,"body");)if(de(d.parentNode))c.push(d.parentNode.host),d=d.parentNode.host;else{if(!(u=d.parentNode||!1))break;if(he.indexOf(u.tagName.toLowerCase())>-1)l=!0;else{var h=N.getComputedStyle(u);h&&"pointer"===h.getPropertyValue("cursor")&&(l=!0)}c.push(u),d=u}var f=N.getComputedStyle(e);if(f&&"pointer"===f.getPropertyValue("cursor")&&"click"===t.type)return!0;var p=e.tagName.toLowerCase();switch(p){case"html":return!1;case"form":return"submit"===t.type;case"input":case"select":case"textarea":return"change"===t.type||"click"===t.type;default:return l?"click"===t.type:"click"===t.type&&(he.indexOf(p)>-1||"true"===e.getAttribute("contenteditable"))}}(o,e,this.config)){for(var s,a,l=[o],c=o;c.parentNode&&!ce(c,"body");)de(c.parentNode)?(l.push(c.parentNode.host),c=c.parentNode.host):(l.push(c.parentNode),c=c.parentNode);var u,d=[],h={},f=!1;if(V(l,(function(e){var n=fe(e);"a"===e.tagName.toLowerCase()&&(u=e.getAttribute("href"),u=n&&me(u)&&u),Y(se(e),"ph-no-capture")&&(f=!0),d.push(r._getPropertiesFromElement(e,t.config.mask_all_element_attributes,t.config.mask_all_text));var i=r._getAugmentPropertiesFromElement(e);Z(h,i)})),t.config.mask_all_text||("a"===o.tagName.toLowerCase()||"button"===o.tagName.toLowerCase()?d[0].$el_text=ge(o):d[0].$el_text=ae(o)),u&&(d[0].attr__href=u),f)return!1;var p=Z(this._getDefaultProperties(e.type),t.elementsChainAsString?{$elements_chain:ye(d)}:{$elements:d},null!==(s=d[0])&&void 0!==s&&s.$el_text?{$el_text:null===(a=d[0])||void 0===a?void 0:a.$el_text}:{},this._getCustomProperties(l),h);return t.capture(i,p),!0}},_navigate:function(e){N&&(N.location.href=e)},_addDomEventHandlers:function(e){var t=this;if(N&&F){var n=function(n){n=n||(null==N?void 0:N.event),t._captureEvent(n,e)};re(F,"submit",n,!1,!0),re(F,"change",n,!1,!0),re(F,"click",n,!1,!0)}},_customProperties:[],rageclicks:null,config:void 0,init:function(e){var t;L(e.__autocapture)||(this.config=e.__autocapture),null!==(t=this.config)&&void 0!==t&&t.url_allowlist&&(this.config.url_allowlist=this.config.url_allowlist.map((function(e){return new RegExp(e)}))),this.rageclicks=new we(e.config.rageclick)},afterDecideResponse:function(e,t){var n=t.config.token;this._initializedTokens.indexOf(n)>-1?$.info('autocapture already initialized for token "'+n+'"'):(t.persistence&&t.persistence.register(c({},Ee,!!e.autocapture_opt_out)),this._isDisabledServerSide=!!e.autocapture_opt_out,this._setIsAutocaptureEnabled(t),this._initializedTokens.push(n),e&&e.config&&e.config.enable_collect_everything&&this._isAutocaptureEnabled?(e.custom_properties&&(this._customProperties=e.custom_properties),this._addDomEventHandlers(t)):t.__autocapture=!1)},enabledForProject:function(e,t,n){if(!e)return!0;t=A(t)?10:t,n=A(n)?10:n;for(var r=0,i=0;i<e.length;i++)r+=e.charCodeAt(i);return r%t<n},isBrowserSupported:function(){return C(null==F?void 0:F.querySelectorAll)}};!function(e){for(var t in e)C(e[t])&&(e[t]=e[t].bind(e))}(Ue),function(e){for(var t in e)C(e[t])&&(e[t]=J(e[t]))}(Ue);var We="$active_feature_flags",qe="$override_feature_flags",Ve="$feature_flag_payloads",Ze=function(e){var t,n={},r=y(G(e||{}));try{for(r.s();!(t=r.n()).done;){var i=p(t.value,2),o=i[0],s=i[1];s&&(n[o]=s)}}catch(e){r.e(e)}finally{r.f()}return n},Ye=function(){function e(t){s(this,e),this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return l(e,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var e=this.instance.get_property(Le),t=this.instance.get_property(qe);if(!t)return e||{};for(var n=Z({},e),r=Object.keys(t),i=0;i<r.length;i++)!1===t[r[i]]?delete n[r[i]]:n[r[i]]=t[r[i]];return this._override_warning||($.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:t,finalFlags:n}),this._override_warning=!0),n}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(Ve)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(e){this.$anon_distinct_id=e}},{key:"setReloadingPaused",value:function(e){this.reloadFeatureFlagsInAction=e}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var e=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout((function(){!e.reloadFeatureFlagsInAction&&e.reloadFeatureFlagsQueued&&(e.reloadFeatureFlagsQueued=!1,e._reloadFeatureFlagsRequest())}),5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var e=this;if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var t=this.instance.config.token,n=this.instance.get_property(Ie),r=this.instance.get_property(Re),i=te(JSON.stringify({token:t,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:n,group_properties:r,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0}));this.instance._send_request(this.instance.config.api_host+"/decide/?v=3",{data:i},{method:"POST"},this.instance._prepare_callback((function(t){e.$anon_distinct_id=void 0,e.receivedFeatureFlags(t),e.setReloadingPaused(!1),e._startReloadTimer()})))}}},{key:"getFeatureFlag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var n,r=this.getFlagVariants()[e],i="".concat(r),o=this.instance.get_property(Be)||{};return!t.send_event&&"send_event"in t||e in o&&o[e].includes(i)||(S(o[e])?o[e].push(i):o[e]=[i],null===(n=this.instance.persistence)||void 0===n||n.register(c({},Be,o)),this.instance.capture("$feature_flag_called",{$feature_flag:e,$feature_flag_response:r})),r}$.warn('getFeatureFlag for key "'+e+"\" failed. Feature flags didn't load in time.")}},{key:"getFeatureFlagPayload",value:function(e){return this.getFlagPayloads()[e]}},{key:"isFeatureEnabled",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,t);$.warn('isFeatureEnabled for key "'+e+"\" failed. Feature flags didn't load in time.")}},{key:"addFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers.push(e)}},{key:"removeFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((function(t){return t!==e}))}},{key:"receivedFeatureFlags",value:function(e){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var t=this.getFlagVariants(),n=this.getFlagPayloads();!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.featureFlags,s=e.featureFlagPayloads;if(o)if(S(o)){var a,l={};if(o)for(var u=0;u<o.length;u++)l[o[u]]=!0;t&&t.register((c(a={},We,o),c(a,Le,l),a))}else{var d,h=o,f=s;e.errorsWhileComputingFlags&&(h=i(i({},n),h),f=i(i({},r),f)),t&&t.register((c(d={},We,Object.keys(Ze(h))),c(d,Le,h||{}),c(d,Ve,f||{}),d))}}(e,this.instance.persistence,t,n),this._fireFeatureFlagsCallbacks()}}},{key:"override",value:function(e){if(!this.instance.__loaded||!this.instance.persistence)return $.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=!1,!1===e)this.instance.persistence.unregister(qe);else if(S(e)){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;this.instance.persistence.register(c({},qe,t))}else this.instance.persistence.register(c({},qe,e))}},{key:"onFeatureFlags",value:function(e){var t=this;if(this.addFeatureFlagsHandler(e),this.instance.decideEndpointWasHit){var n=this._prepareFeatureFlagsForCallbacks(),r=n.flags,i=n.flagVariants;e(r,i)}return function(){return t.removeFeatureFlagsHandler(e)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,t){var n,r,o=c({},"$feature_enrollment/".concat(e),t);this.instance.capture("$feature_enrollment_update",{$feature_flag:e,$feature_enrollment:t,$set:o}),this.setPersonPropertiesForFlags(o,!1);var s=i(i({},this.getFlagVariants()),{},c({},e,t));null===(n=this.instance.persistence)||void 0===n||n.register((c(r={},We,Object.keys(Ze(s))),c(r,Le,s),r)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.instance.get_property(Pe);if(r&&!n)return e(r);this.instance._send_request("".concat(this.instance.config.api_host,"/api/early_access_features/?token=").concat(this.instance.config.token),{},{method:"GET"},(function(n){var r,i=n.earlyAccessFeatures;return null===(r=t.instance.persistence)||void 0===r||r.register(c({},Pe,i)),e(i)}))}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter((function(e){return t[e]})),flagVariants:Object.keys(t).filter((function(e){return t[e]})).reduce((function(e,n){return e[n]=t[n],e}),{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(){var e=this._prepareFeatureFlagsForCallbacks(),t=e.flags,n=e.flagVariants;this.featureFlagEventHandlers.forEach((function(e){return e(t,n)}))}},{key:"setPersonPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.instance.get_property(Ie)||{};this.instance.register(c({},Ie,i(i({},n),e))),t&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(Ie)}},{key:"setGroupPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.instance.get_property(Re)||{};0!==Object.keys(n).length&&Object.keys(n).forEach((function(t){n[t]=i(i({},n[t]),e[t]),delete e[t]})),this.instance.register(c({},Re,i(i({},n),e))),t&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(e){if(e){var t=this.instance.get_property(Re)||{};this.instance.register(c({},Re,i(i({},t),{},c({},e,{}))))}else this.instance.unregister(Re)}}]),e}();Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return M(e)&&isFinite(e)&&Math.floor(e)===e});var Ge="0123456789abcdef",Ke=function(){function e(t){if(s(this,e),this.bytes=t,16!==t.length)throw new TypeError("not 128-bit length")}return l(e,[{key:"toString",value:function(){for(var e="",t=0;t<this.bytes.length;t++)e=e+Ge.charAt(this.bytes[t]>>>4)+Ge.charAt(15&this.bytes[t]),3!==t&&5!==t&&7!==t&&9!==t||(e+="-");if(36!==e.length)throw new Error("Invalid UUIDv7 was generated");return e}},{key:"clone",value:function(){return new e(this.bytes.slice(0))}},{key:"equals",value:function(e){return 0===this.compareTo(e)}},{key:"compareTo",value:function(e){for(var t=0;t<16;t++){var n=this.bytes[t]-e.bytes[t];if(0!==n)return Math.sign(n)}return 0}}],[{key:"fromFieldsV7",value:function(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var o=new Uint8Array(16);return o[0]=t/Math.pow(2,40),o[1]=t/Math.pow(2,32),o[2]=t/Math.pow(2,24),o[3]=t/Math.pow(2,16),o[4]=t/Math.pow(2,8),o[5]=t,o[6]=112|n>>>8,o[7]=n,o[8]=128|r>>>24,o[9]=r>>>16,o[10]=r>>>8,o[11]=r,o[12]=i>>>24,o[13]=i>>>16,o[14]=i>>>8,o[15]=i,new e(o)}}]),e}(),Xe=function(){function e(){s(this,e),c(this,"timestamp",0),c(this,"counter",0),c(this,"random",new et)}return l(e,[{key:"generate",value:function(){var e=this.generateOrAbort();if(A(e)){this.timestamp=0;var t=this.generateOrAbort();if(A(t))throw new Error("Could not generate UUID after timestamp reset");return t}return e}},{key:"generateOrAbort",value:function(){var e=Date.now();if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return Ke.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),e}(),Je=function(e){if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};N&&!A(N.crypto)&&crypto.getRandomValues&&(Je=function(e){return crypto.getRandomValues(e)});var Qe,et=function(){function e(){s(this,e),c(this,"buffer",new Uint32Array(8)),c(this,"cursor",1/0)}return l(e,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(Je(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),e}(),tt=function(){return nt().toString()},nt=function(){return(Qe||(Qe=new Xe)).generate()},rt="",it=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function ot(e,t){if(t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F;if(rt)return rt;if(!t)return"";if(["localhost","127.0.0.1"].includes(e))return"";for(var n=e.split("."),r=Math.min(n.length,8),i="dmn_chk_"+tt(),o=new RegExp("(^|;)\\s*"+i+"=1");!rt&&r--;){var s=n.slice(r).join("."),a=i+"=1;domain=."+s;t.cookie=a,o.test(t.cookie)&&(t.cookie=a+";expires=Thu, 01 Jan 1970 00:00:00 GMT",rt=s)}return rt}(e);if(!n){var r=function(e){var t=e.match(it);return t?t[0]:""}(e);r!==n&&$.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var st={is_supported:function(){return!!F},error:function(e){$.error("cookieStore error: "+e)},get:function(e){if(F){try{for(var t=e+"=",n=F.cookie.split(";").filter((function(e){return e.length})),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}}catch(e){}return null}},parse:function(e){var t;try{t=JSON.parse(st.get(e))||{}}catch(e){}return t},set:function(e,t,n,r,i){if(F)try{var o="",s="",a=ot(F.location.hostname,r);if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),o="; expires="+l.toUTCString()}i&&(s="; secure");var c=e+"="+encodeURIComponent(JSON.stringify(t))+o+"; SameSite=Lax; path=/"+a+s;return c.length>3686.4&&$.warn("cookieStore warning: large cookie, len="+c.length),F.cookie=c,c}catch(e){return}},remove:function(e,t){try{st.set(e,"",-1,t)}catch(e){return}}},at=null,lt={is_supported:function(){if(!D(at))return at;var e=!0;if(A(N))e=!1;else try{var t="__mplssupport__";lt.set(t,"xyz"),'"xyz"'!==lt.get(t)&&(e=!1),lt.remove(t)}catch(t){e=!1}return e||$.error("localStorage unsupported; falling back to cookie store"),at=e,e},error:function(e){$.error("localStorage error: "+e)},get:function(e){try{return null==N?void 0:N.localStorage.getItem(e)}catch(e){lt.error(e)}return null},parse:function(e){try{return JSON.parse(lt.get(e))||{}}catch(e){}return null},set:function(e,t){try{null==N||N.localStorage.setItem(e,JSON.stringify(t))}catch(e){lt.error(e)}},remove:function(e){try{null==N||N.localStorage.removeItem(e)}catch(e){lt.error(e)}}},ct=["distinct_id",De,Me],ut=i(i({},lt),{},{parse:function(e){try{var t={};try{t=st.parse(e)||{}}catch(e){}var n=Z(t,JSON.parse(lt.get(e)||"{}"));return lt.set(e,n),n}catch(e){}return null},set:function(e,t,n,r,i){try{lt.set(e,t);var o={};ct.forEach((function(e){t[e]&&(o[e]=t[e])})),Object.keys(o).length&&st.set(e,o,n,r,i)}catch(e){lt.error(e)}},remove:function(e,t){try{null==N||N.localStorage.removeItem(e),st.remove(e,t)}catch(e){lt.error(e)}}}),dt={},ht={is_supported:function(){return!0},error:function(e){$.error("memoryStorage error: "+e)},get:function(e){return dt[e]||null},parse:function(e){return dt[e]||null},set:function(e,t){dt[e]=t},remove:function(e){delete dt[e]}},ft=null,pt={is_supported:function(){if(!D(ft))return ft;if(ft=!0,A(N))ft=!1;else try{var e="__support__";pt.set(e,"xyz"),'"xyz"'!==pt.get(e)&&(ft=!1),pt.remove(e)}catch(e){ft=!1}return ft},error:function(e){$.error("sessionStorage error: ",e)},get:function(e){try{return null==N?void 0:N.sessionStorage.getItem(e)}catch(e){pt.error(e)}return null},parse:function(e){try{return JSON.parse(pt.get(e))||null}catch(e){}return null},set:function(e,t){try{null==N||N.sessionStorage.setItem(e,JSON.stringify(t))}catch(e){pt.error(e)}},remove:function(e){try{null==N||N.sessionStorage.removeItem(e)}catch(e){pt.error(e)}}},mt=["localhost","127.0.0.1"],gt=function(e){var t=null==F?void 0:F.createElement("a");return A(t)?null:(t.href=e,t)},vt=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),i=0;i<r.length;i++){var o=r[i].split("=");if(o[0]===t){n=o;break}}if(!S(n)||n.length<2)return"";var s=n[1];try{s=decodeURIComponent(s)}catch(e){$.error("Skipping decoding for malformed query param: "+s)}return s.replace(/\+/g," ")},yt=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},_t={campaignParams:function(e){var t=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gbraid","wbraid","fbclid","msclkid"].concat(e||[]),n={};return V(t,(function(e){var t=F?vt(F.URL,e):"";t.length&&(n[e]=t)})),n},searchEngine:function(){var e=null==F?void 0:F.referrer;return e?0===e.search("https?://(.*)google.([^/?]*)")?"google":0===e.search("https?://(.*)bing.com")?"bing":0===e.search("https?://(.*)yahoo.com")?"yahoo":0===e.search("https?://(.*)duckduckgo.com")?"duckduckgo":null:null},searchInfo:function(){var e=_t.searchEngine(),t="yahoo"!=e?"q":"p",n={};if(!D(e)){n.$search_engine=e;var r=F?vt(F.referrer,t):"";r.length&&(n.ph_keyword=r)}return n},browser:function(e,t,n){return t=t||"",n||Y(e," OPR/")?Y(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":Y(e,"IEMobile")||Y(e,"WPDesktop")?"Internet Explorer Mobile":Y(e,"SamsungBrowser/")?"Samsung Internet":Y(e,"Edge")||Y(e,"Edg/")?"Microsoft Edge":Y(e,"FBIOS")?"Facebook Mobile":Y(e,"Chrome")?"Chrome":Y(e,"CriOS")?"Chrome iOS":Y(e,"UCWEB")||Y(e,"UCBrowser")?"UC Browser":Y(e,"FxiOS")?"Firefox iOS":Y(t,"Apple")||function(e){return Y(e,"Safari")&&!Y(e,"Chrome")&&!Y(e,"Android")}(e)?Y(e,"Mobile")?"Mobile Safari":"Safari":Y(e,"Android")?"Android Mobile":Y(e,"Konqueror")||Y(e,"konqueror")?"Konqueror":Y(e,"Firefox")?"Firefox":Y(e,"MSIE")||Y(e,"Trident/")?"Internet Explorer":Y(e,"Gecko")?"Mozilla":""},browserVersion:function(e,t,n){var r={"Internet Explorer Mobile":[/rv:(\d+(\.\d+)?)/],"Microsoft Edge":[/Edge?\/(\d+(\.\d+)?)/],Chrome:[/Chrome\/(\d+(\.\d+)?)/],"Chrome iOS":[/CriOS\/(\d+(\.\d+)?)/],"UC Browser":[/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/],Safari:[/Version\/(\d+(\.\d+)?)/],"Mobile Safari":[/Version\/(\d+(\.\d+)?)/],Opera:[/(Opera|OPR)\/(\d+(\.\d+)?)/],Firefox:[/Firefox\/(\d+(\.\d+)?)/],"Firefox iOS":[/FxiOS\/(\d+(\.\d+)?)/],Konqueror:[/Konqueror[:/]?(\d+(\.\d+)?)/i],BlackBerry:[/BlackBerry (\d+(\.\d+)?)/,/Version\/(\d+(\.\d+)?)/],"Android Mobile":[/android\s(\d+(\.\d+)?)/],"Samsung Internet":[/SamsungBrowser\/(\d+(\.\d+)?)/],"Internet Explorer":[/(rv:|MSIE )(\d+(\.\d+)?)/],Mozilla:[/rv:(\d+(\.\d+)?)/]}[_t.browser(e,t,n)];if(A(r))return null;for(var i=0;i<r.length;i++){var o=r[i],s=e.match(o);if(s)return parseFloat(s[s.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){if(/Windows/i.test(e)){if(/Phone/.test(e)||/WPDesktop/.test(e))return{os_name:"Windows Phone",os_version:""};var t=/Windows NT ([0-9.]+)/i.exec(e);return t&&t[1]?{os_name:"Windows",os_version:t[1]}:{os_name:"Windows",os_version:""}}if(/(iPhone|iPad|iPod)/.test(e)){var n=/OS (\d+)_(\d+)_?(\d+)?/i.exec(e);return n&&n[1]?{os_name:"iOS",os_version:[n[1],n[2],n[3]||"0"].join(".")}:{os_name:"iOS",os_version:""}}if(/Android/.test(e)){var r=/Android (\d+)\.(\d+)\.?(\d+)?/i.exec(e);return r&&r[1]?{os_name:"Android",os_version:[r[1],r[2],r[3]||"0"].join(".")}:{os_name:"Android",os_version:""}}if(/(BlackBerry|PlayBook|BB10)/i.test(e))return{os_name:"BlackBerry",os_version:""};if(/Mac/i.test(e)){var i=/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i.exec(e);return i&&i[1]?{os_name:"Mac OS X",os_version:[i[1],i[2],i[3]||"0"].join(".")}:{os_name:"Mac OS X",os_version:""}}return/Linux/.test(e)?{os_name:"Linux",os_version:""}:/CrOS/.test(e)?{os_name:"Chrome OS",os_version:""}:{os_name:"",os_version:""}},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)&&!/Mobile/.test(e)?"Android Tablet":/Android/.test(e)?"Android":""},deviceType:function(e){var t=this.device(e);return"iPad"===t||"Android Tablet"===t?"Tablet":t?"Mobile":"Desktop"},referrer:function(){return(null==F?void 0:F.referrer)||"$direct"},referringDomain:function(){var e;return null!=F&&F.referrer&&(null===(e=gt(F.referrer))||void 0===e?void 0:e.host)||"$direct"},properties:function(){if(!j)return{};var e=_t.os(j),t=e.os_name,n=e.os_version;return Z(Q({$os:t,$os_version:n,$browser:_t.browser(j,navigator.vendor,z.opera),$device:_t.device(j),$device_type:_t.deviceType(j)}),{$current_url:null==N?void 0:N.location.href,$host:null==N?void 0:N.location.host,$pathname:null==N?void 0:N.location.pathname,$raw_user_agent:j.length>1e3?j.substring(0,997)+"...":j,$browser_version:_t.browserVersion(j,navigator.vendor,z.opera),$browser_language:_t.browserLanguage(),$screen_height:null==N?void 0:N.screen.height,$screen_width:null==N?void 0:N.screen.width,$viewport_height:null==N?void 0:N.innerHeight,$viewport_width:null==N?void 0:N.innerWidth,$lib:"web",$lib_version:_.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:K()/1e3})},people_properties:function(){if(!j)return{};var e=_t.os(j),t=e.os_name,n=e.os_version;return Z(Q({$os:t,$os_version:n,$browser:_t.browser(j,navigator.vendor,z.opera)}),{$browser_version:_t.browserVersion(j,navigator.vendor,z.opera)})}},bt=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],wt=function(){function e(t){s(this,e);var n="";t.token&&(n=t.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),this.props={},this.campaign_params_saved=!1,this.custom_campaign_params=t.custom_campaign_params||[],t.persistence_name?this.name="ph_"+t.persistence_name:this.name="ph_"+n+"_posthog",-1===bt.indexOf(t.persistence.toLowerCase())&&($.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var r=t.persistence.toLowerCase();"localstorage"===r&&lt.is_supported()?this.storage=lt:"localstorage+cookie"===r&&ut.is_supported()?this.storage=ut:"sessionstorage"===r&&pt.is_supported()?this.storage=pt:"memory"===r?this.storage=ht:"cookie"===r?this.storage=st:ut.is_supported()?this.storage=ut:this.storage=st,this.user_state="anonymous",this.load(),this.update_config(t),this.save()}return l(e,[{key:"properties",value:function(){var e={};return V(this.props,(function(t,n){if(n===Le&&T(t))for(var r=Object.keys(t),i=0;i<r.length;i++)e["$feature/".concat(r[i])]=t[r[i]];else s=n,a=!1,(D(o=He)?a:R&&o.indexOf===R?-1!=o.indexOf(s):(V(o,(function(e){if(a||(a=e===s))return U})),a))||(e[n]=t);var o,s,a})),e}},{key:"load",value:function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=Z({},e))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(e,t,n){var r=this;if(T(e)){A(t)&&(t="None"),this.expire_days=A(n)?this.default_expiry:n;var i=!1;if(V(e,(function(e,n){r.props.hasOwnProperty(n)&&r.props[n]!==t||(r.props[n]=e,i=!0)})),i)return this.save(),!0}return!1}},{key:"register",value:function(e,t){var n=this;if(T(e)){this.expire_days=A(t)?this.default_expiry:t;var r=!1;if(V(e,(function(t,i){e.hasOwnProperty(i)&&n.props[i]!==t&&(n.props[i]=t,r=!0)})),r)return this.save(),!0}return!1}},{key:"unregister",value:function(e){e in this.props&&(delete this.props[e],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(_t.campaignParams(this.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"update_search_keyword",value:function(){this.register(_t.searchInfo())}},{key:"update_referrer_info",value:function(){this.register({$referrer:this.props.$referrer||_t.referrer(),$referring_domain:this.props.$referring_domain||_t.referringDomain()})}},{key:"get_referrer_info",value:function(){return Q({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"safe_merge",value:function(e){return V(this.props,(function(t,n){n in e||(e[n]=t)})),e}},{key:"update_config",value:function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)}},{key:"set_disabled",value:function(e){this.disabled=e,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(e){e!==this.secure&&(this.secure=e,this.remove(),this.save())}},{key:"set_event_timer",value:function(e,t){var n=this.props[Se]||{};n[e]=t,this.props[Se]=n,this.save()}},{key:"remove_event_timer",value:function(e){var t=(this.props[Se]||{})[e];return A(t)||(delete this.props[Se][e],this.save()),t}},{key:"get_user_state",value:function(){return this.props[Fe]||"anonymous"}},{key:"set_user_state",value:function(e){this.props[Fe]=e,this.save()}},{key:"get_quota_limits",value:function(){return this.props[je]||{}}},{key:"set_quota_limits",value:function(e){this.props[je]=e,this.save()}}]),e}(),kt=2,xt=4,St=l((function e(t){var n,r,i=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,e),c(this,"bucketSize",100),c(this,"refillRate",10),c(this,"mutationBuckets",{}),c(this,"loggedTracker",{}),c(this,"refillBuckets",(function(){Object.keys(i.mutationBuckets).forEach((function(e){i.mutationBuckets[e]=i.mutationBuckets[e]+i.refillRate,i.mutationBuckets[e]>=i.bucketSize&&delete i.mutationBuckets[e]}))})),c(this,"getNodeOrRelevantParent",(function(e){var t=i.rrweb.mirror.getNode(e);if("svg"!==(null==t?void 0:t.nodeName)&&t instanceof Element){var n=t.closest("svg");if(n)return[i.rrweb.mirror.getId(n),n]}return[e,t]})),c(this,"numberOfChanges",(function(e){var t,n,r,i,o,s,a,l;return(null!==(t=null===(n=e.removes)||void 0===n?void 0:n.length)&&void 0!==t?t:0)+(null!==(r=null===(i=e.attributes)||void 0===i?void 0:i.length)&&void 0!==r?r:0)+(null!==(o=null===(s=e.texts)||void 0===s?void 0:s.length)&&void 0!==o?o:0)+(null!==(a=null===(l=e.adds)||void 0===l?void 0:l.length)&&void 0!==a?a:0)})),c(this,"throttleMutations",(function(e){if(3!==e.type||0!==e.data.source)return e;var t=e.data,n=i.numberOfChanges(t);t.attributes&&(t.attributes=t.attributes.filter((function(e){var t,n,r,o=p(i.getNodeOrRelevantParent(e.id),2),s=o[0],a=o[1];return 0!==i.mutationBuckets[s]&&(i.mutationBuckets[s]=null!==(t=i.mutationBuckets[s])&&void 0!==t?t:i.bucketSize,i.mutationBuckets[s]=Math.max(i.mutationBuckets[s]-1,0),0===i.mutationBuckets[s]&&(i.loggedTracker[s]||(i.loggedTracker[s]=!0,null===(n=(r=i.options).onBlockedNode)||void 0===n||n.call(r,s,a))),e)})));var r=i.numberOfChanges(t);return 0!==r||n===r?e:void 0})),this.rrweb=t,this.options=o,this.refillRate=null!==(n=this.options.refillRate)&&void 0!==n?n:this.refillRate,this.bucketSize=null!==(r=this.options.bucketSize)&&void 0!==r?r:this.bucketSize,setInterval((function(){i.refillBuckets()}),1e3)})),Et=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(Et||{}),Ct={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(e){return e},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6},Tt=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],At=["/s/","/e/","/i/vo/e/"];function Ot(e,t,n,r){var i=null==t?void 0:t["content-length"];return i&&parseInt(i)>n?"".concat(r," body too large to record"):e}var Dt,Mt=3e5;!function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet"}(Dt||(Dt={}));var Lt=[Dt.MouseMove,Dt.MouseInteraction,Dt.Scroll,Dt.ViewportResize,Dt.Input,Dt.TouchMove,Dt.MediaInteraction,Dt.Drag],Pt=function(){function e(t){var n=this;if(s(this,e),c(this,"isIdle",!1),c(this,"_linkedFlagSeen",!1),c(this,"_lastActivityTimestamp",Date.now()),c(this,"windowId",null),c(this,"sessionId",null),c(this,"_linkedFlag",null),c(this,"_sampleRate",null),c(this,"_minimumDuration",null),c(this,"_forceAllowLocalhostNetworkCapture",!1),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,null==N||N.addEventListener("beforeunload",(function(){n._flushBuffer()})),!this.instance.sessionManager)throw $.error("Session recording started without valid sessionManager"),new Error("Session recording started without valid sessionManager. This is a bug.");this.buffer=this.clearBuffer()}return l(e,[{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw $.error("Session recording started without valid sessionManager"),new Error("Session recording started without valid sessionManager. This is a bug.");return this.instance.sessionManager}},{key:"isSampled",get:function(){return M(this._sampleRate)?this.instance.get_property(Me):null}},{key:"sessionDuration",get:function(){var e,t,n=null===(e=this.buffer)||void 0===e?void 0:e.data[(null===(t=this.buffer)||void 0===t?void 0:t.data.length)-1],r=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return n?n.timestamp-r:null}},{key:"isRecordingEnabled",get:function(){var e=!!this.instance.get_property(Ce),t=!this.instance.config.disable_session_recording;return N&&e&&t}},{key:"isConsoleLogCaptureEnabled",get:function(){var e=!!this.instance.get_property(Te),t=this.instance.config.enable_recording_console_log;return null!=t?t:e}},{key:"recordingVersion",get:function(){var e,t=this.instance.get_property(Ae);return(null===(e=this.instance.config.session_recording)||void 0===e?void 0:e.recorderVersion)||t||"v1"}},{key:"networkPayloadCapture",get:function(){var e,t,n=this.instance.get_property(Oe),r={recordHeaders:null===(e=this.instance.config.session_recording)||void 0===e?void 0:e.recordHeaders,recordBody:null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.recordBody},i=(null==r?void 0:r.recordHeaders)||(null==n?void 0:n.recordHeaders),o=(null==r?void 0:r.recordBody)||(null==n?void 0:n.recordBody),s=this.instance.config.capture_performance||(null==n?void 0:n.capturePerformance);return i||o||s?{recordHeaders:i,recordBody:o,recordPerformance:s}:void 0}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?O(this._linkedFlag)&&!this._linkedFlagSeen?"buffering":L(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"disabled":"buffering"}},{key:"startRecordingIfEnabled",value:function(){this.isRecordingEnabled?this.startCaptureAndTrySendingQueuedSnapshots():(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1)}},{key:"makeSamplingDecision",value:function(e){var t,n=this.sessionId!==e;if(M(this._sampleRate)){var r,i=this.isSampled;(r=n||!L(i)?Math.random()<this._sampleRate:i)||$.warn("[SessionSampling] Sample rate (".concat(this._sampleRate,") has determined that this sessionId (").concat(e,") will not be sent to the server.")),null===(t=this.instance.persistence)||void 0===t||t.register(c({},Me,r))}else{var o;null===(o=this.instance.persistence)||void 0===o||o.register(c({},Me,null))}}},{key:"afterDecideResponse",value:function(e){var t,n,r,o,s,a,l,u,d=this;this.instance.persistence&&this.instance.persistence.register((c(u={},Ce,!!e.sessionRecording),c(u,Te,null===(s=e.sessionRecording)||void 0===s?void 0:s.consoleLogRecordingEnabled),c(u,Ae,null===(a=e.sessionRecording)||void 0===a?void 0:a.recorderVersion),c(u,Oe,i({capturePerformance:e.capturePerformance},null===(l=e.sessionRecording)||void 0===l?void 0:l.networkPayloadCapture)),u));var h=null===(t=e.sessionRecording)||void 0===t?void 0:t.sampleRate;this._sampleRate=A(h)||D(h)?null:parseFloat(h);var f,p=null===(n=e.sessionRecording)||void 0===n?void 0:n.minimumDurationMilliseconds;if(this._minimumDuration=A(p)?null:p,this._linkedFlag=(null===(r=e.sessionRecording)||void 0===r?void 0:r.linkedFlag)||null,null!==(o=e.sessionRecording)&&void 0!==o&&o.endpoint&&(this._endpoint=null===(f=e.sessionRecording)||void 0===f?void 0:f.endpoint),M(this._sampleRate)&&this.sessionManager.onSessionId((function(e){d.makeSamplingDecision(e)})),O(this._linkedFlag)){var m=this._linkedFlag;this.instance.onFeatureFlags((function(e){d._linkedFlagSeen=e.includes(m)}))}this.receivedDecide=!0,this.startRecordingIfEnabled()}},{key:"log",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log";null===(t=this.instance.sessionRecording)||void 0===t||t.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:n,trace:[],payload:[JSON.stringify(e)]}},timestamp:K()})}},{key:"startCaptureAndTrySendingQueuedSnapshots",value:function(){this._startCapture()}},{key:"_startCapture",value:function(){var e=this;if(!A(Object.assign)&&!this._captureStarted&&!this.instance.config.disable_session_recording){this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId();var t="v2"===this.recordingVersion?"recorder-v2.js":"recorder.js";this.instance.__loaded_recorder_version!==this.recordingVersion?ie(this.instance.config.api_host+"/static/".concat(t,"?v=").concat(_.LIB_VERSION),(function(n){if(n)return $.error("Could not load ".concat(t),n);e._onScriptLoaded()})):this._onScriptLoaded()}}},{key:"_isInteractiveEvent",value:function(e){var t;return 3===e.type&&-1!==Lt.indexOf(null===(t=e.data)||void 0===t?void 0:t.source)}},{key:"_updateWindowAndSessionIds",value:function(e){var t=this._isInteractiveEvent(e);if(t||this.isIdle||e.timestamp-this._lastActivityTimestamp>Mt&&(this.isIdle=!0,this._tryAddCustomEvent("sessionIdle",{reason:"user inactivity",timeSinceLastActive:e.timestamp-this._lastActivityTimestamp,threshold:Mt})),t&&(this._lastActivityTimestamp=e.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:e.type}),this._tryTakeFullSnapshot())),!this.isIdle){var n=this.sessionManager.checkAndGetSessionAndWindowId(!t,e.timestamp),r=n.windowId,i=n.sessionId,o=this.sessionId!==i,s=this.windowId!==r;-1===[kt,xt].indexOf(e.type)&&(s||o)&&this._tryTakeFullSnapshot(),this.windowId=r,this.sessionId=i}}},{key:"_tryRRwebMethod",value:function(e){if(!this._captureStarted)return!1;try{return e(),!0}catch(e){return $.error("[Session-Recording] using rrweb when not started.",e),!1}}},{key:"_tryAddCustomEvent",value:function(e,t){var n=this;return this._tryRRwebMethod((function(){var r;return null===(r=n.rrwebRecord)||void 0===r?void 0:r.addCustomEvent(e,t)}))}},{key:"_tryTakeFullSnapshot",value:function(){var e=this;return this._tryRRwebMethod((function(){var t;return null===(t=e.rrwebRecord)||void 0===t?void 0:t.takeFullSnapshot()}))}},{key:"_onScriptLoaded",value:function(){var e,t=this,n={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1};this.rrwebRecord=N.rrweb?N.rrweb.record:N.rrwebRecord;for(var r=this.instance.config.session_recording,o=0,s=Object.entries(r||{});o<s.length;o++){var a=p(s[o],2),l=a[0],c=a[1];l in n&&(n[l]=c)}this.rrwebRecord?(this.mutationRateLimiter=null!==(e=this.mutationRateLimiter)&&void 0!==e?e:new St(this.rrwebRecord,{onBlockedNode:function(e,n){var r="Too many mutations on node '".concat(e,"'. Rate limiting. This could be due to SVG animations or something similar");$.info(r,{node:n}),t.log("[PostHog Recorder] "+r,"warn")}}),this.stopRrweb=this.rrwebRecord(i({emit:function(e){t.onRRwebEmit(e)},plugins:this._gatherRRWebPlugins()},n)),this.instance._addCaptureHook((function(e){try{if("$pageview"===e){var n=N?t._maskUrl(N.location.href):"";if(!n)return;t._tryAddCustomEvent("$pageview",{href:n})}}catch(e){$.error("Could not add $pageview to rrweb session",e)}})),this._lastActivityTimestamp=Date.now(),this.isIdle=!1):$.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"_gatherRRWebPlugins",value:function(){var e=[];return z.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&e.push(z.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&C(z.getRecordNetworkPlugin)&&(!mt.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?e.push(z.getRecordNetworkPlugin(function(e,t){var n,r,o,s=e.session_recording,a=!1!==s.recordHeaders&&t.recordHeaders,l=!1!==s.recordBody&&t.recordBody,c=!1!==s.recordPerformance&&t.recordPerformance,u=(n=s,o=Math.min(1e6,null!==(r=n.payloadSizeLimitBytes)&&void 0!==r?r:1e6),function(e){return null!=e&&e.requestBody&&(e.requestBody=Ot(e.requestBody,e.requestHeaders,o,"Request")),null!=e&&e.responseBody&&(e.responseBody=Ot(e.responseBody,e.responseHeaders,o,"Response")),e}),d=function(e){return u(function(e){var t=gt(e.name);if(!(t&&t.pathname&&At.includes(t.pathname)))return e}((t=e,Object.keys(null!==(n=t.requestHeaders)&&void 0!==n?n:{}).forEach((function(e){var n;Tt.includes(e.toLowerCase())&&(null===(n=t.requestHeaders)||void 0===n||delete n[e])})),t)));var t,n},h=C(e.session_recording.maskNetworkRequestFn);return h&&C(e.session_recording.maskCapturedNetworkRequestFn)&&$.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),h&&(e.session_recording.maskCapturedNetworkRequestFn=function(t){var n=e.session_recording.maskNetworkRequestFn({url:t.name});return i(i({},t),{},{name:null==n?void 0:n.url})}),s.maskRequestFn=C(e.session_recording.maskCapturedNetworkRequestFn)?function(t){var n,r,i,o=d(t);return o&&null!==(n=null===(r=(i=e.session_recording).maskCapturedNetworkRequestFn)||void 0===r?void 0:r.call(i,o))&&void 0!==n?n:void 0}:void 0,s.maskRequestFn||(s.maskRequestFn=d),i(i(i({},Ct),s),{},{recordHeaders:a,recordBody:l,recordPerformance:c,recordInitialRequests:c})}(this.instance.config,this.networkPayloadCapture))):$.info("[SessionReplay-NetworkCapture] not started because we are on localhost.")),e}},{key:"onRRwebEmit",value:function(e){if(e&&T(e)){if(e.type===Et.Meta){var t=this._maskUrl(e.data.href);if(!t)return;e.data.href=t}var n=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(e):e;if(n){var r=function(e){var t=e;if(t&&T(t)&&6===t.type&&T(t.data)&&"rrweb/console@1"===t.data.plugin){t.data.payload.payload.length>10&&(t.data.payload.payload=t.data.payload.payload.slice(0,10),t.data.payload.payload.push("...[truncated]"));for(var n=[],r=0;r<t.data.payload.payload.length;r++)t.data.payload.payload[r]&&t.data.payload.payload[r].length>2e3?n.push(t.data.payload.payload[r].slice(0,2e3)+"...[truncated]"):n.push(t.data.payload.payload[r]);return t.data.payload.payload=n,e}return e}(n),i=JSON.stringify(r).length;if(this._updateWindowAndSessionIds(r),!this.isIdle){var o={$snapshot_bytes:i,$snapshot_data:r,$session_id:this.sessionId,$window_id:this.windowId};"disabled"!==this.status?this._captureSnapshotBuffered(o):this.clearBuffer()}}}}},{key:"_maskUrl",value:function(e){var t=this.instance.config.session_recording;if(t.maskNetworkRequestFn){var n,r={url:e};return null===(n=r=t.maskNetworkRequestFn(r))||void 0===n?void 0:n.url}return e}},{key:"clearBuffer",value:function(){return this.buffer=void 0,{size:0,data:[],sessionId:this.sessionId,windowId:this.windowId}}},{key:"_flushBuffer",value:function(){var e=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var t=this._minimumDuration,n=this.sessionDuration,r=M(n)&&n>=0,i=M(t)&&r&&n<t;return"buffering"===this.status||i?(this.flushBufferTimer=setTimeout((function(){e._flushBuffer()}),2e3),this.buffer||this.clearBuffer()):this.buffer&&0!==this.buffer.data.length?(this._captureSnapshot({$snapshot_bytes:this.buffer.size,$snapshot_data:this.buffer.data,$session_id:this.buffer.sessionId,$window_id:this.buffer.windowId}),this.clearBuffer()):this.buffer||this.clearBuffer()}},{key:"_captureSnapshotBuffered",value:function(e){var t,n=this,r=2+((null===(t=this.buffer)||void 0===t?void 0:t.data.length)||0);(!this.buffer||this.buffer.size+e.$snapshot_bytes+r>943718.4||this.buffer.sessionId&&this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),D(this.buffer.sessionId)&&!D(this.sessionId)&&(this.buffer.sessionId=this.sessionId,this.buffer.windowId=this.windowId),this.buffer.size+=e.$snapshot_bytes,this.buffer.data.push(e.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout((function(){n._flushBuffer()}),2e3))}},{key:"_captureSnapshot",value:function(e){this.instance.capture("$snapshot",e,{transport:"XHR",method:"POST",endpoint:this._endpoint,_noTruncate:!0,_batchKey:"recordings",_metrics:{rrweb_full_snapshot:e.$snapshot_data.type===kt}})}}]),e}(),It=function(){function e(t){s(this,e),this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return l(e,[{key:"call",value:function(){var e=this,t=te(JSON.stringify({token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(Ie),group_properties:this.instance.get_property(Re),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0}));this.instance._send_request("".concat(this.instance.config.api_host,"/decide/?v=3"),{data:t,verbose:!0},{method:"POST"},(function(t){return e.parseDecideResponse(t)}))}},{key:"parseDecideResponse",value:function(e){var t,n=this;if(this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer(),0!==(null==e?void 0:e.status)){if(!F||!F.body)return $.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout((function(){n.parseDecideResponse(e)}),500);this.instance.toolbar.afterDecideResponse(e),null===(t=this.instance.sessionRecording)||void 0===t||t.afterDecideResponse(e),Ue.afterDecideResponse(e,this.instance),this.instance._afterDecideResponse(e),this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(e);var r=null==N?void 0:N.extendPostHogWithSurveys;e.surveys&&!r&&ie(this.instance.config.api_host+"/static/surveys.js",(function(e){if(e)return $.error("Could not load surveys script",e);N.extendPostHogWithSurveys(n.instance)}));var i=null==N?void 0:N.extendPostHogWithExceptionAutoCapture;if(e.autocaptureExceptions&&e.autocaptureExceptions&&A(i)&&ie(this.instance.config.api_host+"/static/exception-autocapture.js",(function(t){if(t)return $.error("Could not load exception autocapture script",t);N.extendPostHogWithExceptionAutocapture(n.instance,e)})),e.siteApps)if(this.instance.config.opt_in_site_apps){var o,s=this.instance.config.api_host,a=y(e.siteApps);try{var l=function(){var e=o.value,t=e.id,r=e.url,i=[s,"/"===s[s.length-1]&&"/"===r[0]?r.substring(1):r].join("");z["__$$ph_site_app_".concat(t)]=n.instance,ie(i,(function(e){e&&$.error("Error while initializing PostHog app with config id ".concat(t),e)}))};for(a.s();!(o=a.n()).done;)l()}catch(e){a.e(e)}finally{a.f()}}else e.siteApps.length>0&&$.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}else $.error("Failed to fetch feature flags from PostHog.")}}]),e}(),Rt=["https://app.posthog.com","https://eu.posthog.com"],Nt=["source"],Bt=null!=N&&N.location?yt(N.location.hash,"__posthog")||yt(location.hash,"state"):null,Ft=function(){function e(t){s(this,e),this.instance=t}return l(e,[{key:"afterDecideResponse",value:function(e){var t=e.toolbarParams||e.editorParams||(e.toolbarVersion?{toolbarVersion:e.toolbarVersion}:{});e.isAuthenticated&&t.toolbarVersion&&0===t.toolbarVersion.indexOf("toolbar")&&this.loadToolbar(i({},t))}},{key:"maybeLoadToolbar",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!N||!F)return!1;n=null!==(e=n)&&void 0!==e?e:N.location,i=null!==(t=i)&&void 0!==t?t:N.history;try{if(!r){try{N.localStorage.setItem("test","test"),N.localStorage.removeItem("test")}catch(e){return!1}r=null==N?void 0:N.localStorage}var o,s=Bt||yt(n.hash,"__posthog")||yt(n.hash,"state"),a=s?X((function(){return JSON.parse(atob(decodeURIComponent(s)))}))||X((function(){return JSON.parse(decodeURIComponent(s))})):null;return a&&"ph_authorize"===a.action?((o=a).source="url",o&&Object.keys(o).length>0&&(a.desiredHash?n.hash=a.desiredHash:i?i.replaceState("",F.title,n.pathname+n.search):n.hash="")):((o=JSON.parse(r.getItem("_postHogToolbarParams")||"{}")).source="localstorage",delete o.userIntent),!(!o.token||this.instance.config.token!==o.token||(this.loadToolbar(o),0))}catch(e){return!1}}},{key:"loadToolbar",value:function(e){var t=this;if(!N||z._postHogToolbarLoaded)return!1;z._postHogToolbarLoaded=!0;var n=this.instance.config.api_host,r=3e5,o=Math.floor(Date.now()/r)*r,s="".concat(n).concat(n.endsWith("/")?"":"/","static/toolbar.js?t=").concat(o),a=!Rt.includes(this.instance.config.api_host)&&this.instance.config.advanced_disable_toolbar_metrics,l=i(i({token:this.instance.config.token},e),{},{apiURL:n},a?{instrument:!1}:{});l.source;var c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(l,Nt);return N.localStorage.setItem("_postHogToolbarParams",JSON.stringify(c)),ie(s,(function(e){e?$.error("Failed to load toolbar",e):(z.ph_load_toolbar||z.ph_load_editor)(l,t.instance)})),re(N,"turbolinks:load",(function(){z._postHogToolbarLoaded=!1,t.loadToolbar(l)})),!0}},{key:"_loadEditor",value:function(e){return this.loadToolbar(e)}},{key:"maybeLoadEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return this.maybeLoadToolbar(e,t,n)}}]),e}(),jt="__ph_opt_in_out_";function zt(e,t){Yt(!0,e,t)}function Ht(e,t){Yt(!1,e,t)}function $t(e,t){return"1"===Zt(e,t)}function Ut(e,t){return!!function(e){if(e&&e.respectDnt){var t=e&&e.window||N,n=null==t?void 0:t.navigator,r=!1;return V([null==n?void 0:n.doNotTrack,n.msDoNotTrack,t.doNotTrack],(function(e){Y([!0,1,"1","yes"],e)&&(r=!0)})),r}return!1}(t)||"0"===Zt(e,t)}function Wt(e,t){qt(t=t||{}).remove(Vt(e,t),!!t.crossSubdomainCookie)}function qt(e){return"localStorage"===(e=e||{}).persistenceType?lt:"localStorage+cookie"===e.persistenceType?ut:st}function Vt(e,t){return((t=t||{}).persistencePrefix||jt)+e}function Zt(e,t){return qt(t).get(Vt(e,t))}function Yt(e,t,n){O(t)&&t.length?(qt(n=n||{}).set(Vt(t,n),e?1:0,M(n.cookieExpiration)?n.cookieExpiration:null,n.crossSubdomainCookie,n.secureCookie),n.capture&&e&&n.capture(n.captureEventName||"$opt_in",n.captureProperties||{},{send_instantly:!0})):$.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token")}var Gt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;s(this,e),this.isPolling=!0,this._event_queue=[],this._empty_queue_count=0,this._poller=void 0,this._pollInterval=t}return l(e,[{key:"setPollInterval",value:function(e){this._pollInterval=e,this.isPolling&&this.poll()}},{key:"poll",value:function(){}},{key:"unload",value:function(){}},{key:"getTime",value:function(){return(new Date).getTime()}}]),e}(),Kt=function(e){u(n,Gt);var t=f(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;return s(this,n),(r=t.call(this,i)).handlePollRequest=e,r}return l(n,[{key:"enqueue",value:function(e,t,n){this._event_queue.push({url:e,data:t,options:n}),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var e=this;clearTimeout(this._poller),this._poller=setTimeout((function(){if(e._event_queue.length>0){var t=e.formatQueue(),n=function(n){var r=t[n],i=r.url,o=r.data,s=r.options;V(o,(function(t,n){o[n].offset=Math.abs(o[n].timestamp-e.getTime()),delete o[n].timestamp})),e.handlePollRequest(i,o,s)};for(var r in t)n(r);e._event_queue.length=0,e._empty_queue_count=0}else e._empty_queue_count++;e._empty_queue_count>4&&(e.isPolling=!1,e._empty_queue_count=0),e.isPolling&&e.poll()}),this._pollInterval)}},{key:"unload",value:function(){var e=this;clearTimeout(this._poller);var t=this._event_queue.length>0?this.formatQueue():{};this._event_queue.length=0;var n=Object.values(t);[].concat(m(n.filter((function(e){return 0===e.url.indexOf("/e")}))),m(n.filter((function(e){return 0!==e.url.indexOf("/e")})))).map((function(t){var n=t.url,r=t.data,o=t.options;e.handlePollRequest(n,r,i(i({},o),{},{transport:"sendBeacon"}))}))}},{key:"formatQueue",value:function(){var e={};return V(this._event_queue,(function(t){var n=t.url,r=t.data,i=t.options,o=(i?i._batchKey:null)||n;A(e[o])&&(e[o]={data:[],url:n,options:i}),i&&e[o].options&&e[o].options._metrics&&!e[o].options._metrics.rrweb_full_snapshot&&(e[o].options._metrics.rrweb_full_snapshot=i._metrics.rrweb_full_snapshot),e[o].data.push(r)})),e}}]),n}(),Xt=Uint8Array,Jt=Uint16Array,Qt=Uint32Array,en=new Xt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tn=new Xt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),nn=new Xt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rn=function(e,t){for(var n=new Jt(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Qt(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},on=rn(en,2),sn=on[0],an=on[1];sn[28]=258,an[258]=28;for(var ln=rn(tn,0)[1],cn=new Jt(32768),un=0;un<32768;++un){var dn=(43690&un)>>>1|(21845&un)<<1;dn=(61680&(dn=(52428&dn)>>>2|(13107&dn)<<2))>>>4|(3855&dn)<<4,cn[un]=((65280&dn)>>>8|(255&dn)<<8)>>>1}var hn=function(e,t,n){for(var r=e.length,i=0,o=new Jt(t);i<r;++i)++o[e[i]-1];var s,a=new Jt(t);for(i=0;i<t;++i)a[i]=a[i-1]+o[i-1]<<1;if(n){s=new Jt(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],d=a[e[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)s[cn[d]>>>l]=c}else for(s=new Jt(r),i=0;i<r;++i)s[i]=cn[a[e[i]-1]++]>>>15-e[i];return s},fn=new Xt(288);for(un=0;un<144;++un)fn[un]=8;for(un=144;un<256;++un)fn[un]=9;for(un=256;un<280;++un)fn[un]=7;for(un=280;un<288;++un)fn[un]=8;var pn=new Xt(32);for(un=0;un<32;++un)pn[un]=5;var mn,gn=hn(fn,9,0),vn=hn(pn,5,0),yn=function(e){return(e/8>>0)+(7&e&&1)},_n=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof Jt?Jt:e instanceof Qt?Qt:Xt)(n-t);return r.set(e.subarray(t,n)),r},bn=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},wn=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},kn=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return[new Xt(0),0];if(1==i){var s=new Xt(n[0].s+1);return s[n[0].s]=1,[s,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var h=o[0].s;for(r=1;r<i;++r)o[r].s>h&&(h=o[r].s);var f=new Jt(h+1),p=xn(n[u-1],f,0);if(p>t){r=0;var m=0,g=p-t,v=1<<g;for(o.sort((function(e,t){return f[t.s]-f[e.s]||e.f-t.f}));r<i;++r){var y=o[r].s;if(!(f[y]>t))break;m+=v-(1<<p-f[y]),f[y]=t}for(m>>>=g;m>0;){var _=o[r].s;f[_]<t?m-=1<<t-f[_]++-1:++r}for(;r>=0&&m;--r){var b=o[r].s;f[b]==t&&(--f[b],++m)}p=t}return[new Xt(f),p]},xn=function e(t,n,r){return-1==t.s?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},Sn=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Jt(++t),r=0,i=e[0],o=1,s=function(e){n[r++]=e},a=1;a<=t;++a)if(e[a]==i&&a!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=e[a]}return[n.subarray(0,r),t]},En=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Cn=function(e,t,n){var r=n.length,i=yn(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return 8*(i+4+r)},Tn=function(e,t,n,r,i,o,s,a,l,c,u){bn(t,u++,n),++i[256];for(var d=kn(i,15),h=d[0],f=d[1],p=kn(o,15),m=p[0],g=p[1],v=Sn(h),y=v[0],_=v[1],b=Sn(m),w=b[0],k=b[1],x=new Jt(19),S=0;S<y.length;++S)x[31&y[S]]++;for(S=0;S<w.length;++S)x[31&w[S]]++;for(var E=kn(x,7),C=E[0],T=E[1],A=19;A>4&&!C[nn[A-1]];--A);var O,D,M,L,P=c+5<<3,I=En(i,fn)+En(o,pn)+s,R=En(i,h)+En(o,m)+s+14+3*A+En(x,C)+(2*x[16]+3*x[17]+7*x[18]);if(P<=I&&P<=R)return Cn(t,u,e.subarray(l,l+c));if(bn(t,u,1+(R<I)),u+=2,R<I){O=hn(h,f,0),D=h,M=hn(m,g,0),L=m;var N=hn(C,T,0);for(bn(t,u,_-257),bn(t,u+5,k-1),bn(t,u+10,A-4),u+=14,S=0;S<A;++S)bn(t,u+3*S,C[nn[S]]);u+=3*A;for(var B=[y,w],F=0;F<2;++F){var j=B[F];for(S=0;S<j.length;++S){var z=31&j[S];bn(t,u,N[z]),u+=C[z],z>15&&(bn(t,u,j[S]>>>5&127),u+=j[S]>>>12)}}}else O=gn,D=fn,M=vn,L=pn;for(S=0;S<a;++S)if(r[S]>255){z=r[S]>>>18&31,wn(t,u,O[z+257]),u+=D[z+257],z>7&&(bn(t,u,r[S]>>>23&31),u+=en[z]);var H=31&r[S];wn(t,u,M[H]),u+=L[H],H>3&&(wn(t,u,r[S]>>>5&8191),u+=tn[H])}else wn(t,u,O[r[S]]),u+=D[r[S]];return wn(t,u,O[256]),u+D[256]},An=new Qt([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),On=new Xt(0),Dn=function(){for(var e=new Qt(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),Mn=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function Ln(e,t){void 0===t&&(t={});var n=function(){var e=4294967295;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=Dn[255&n^t[r]]^n>>>8;e=n},d:function(){return 4294967295^e}}}(),r=e.length;n.p(e);var i=function(e,t,n,r,i){return function(e,t,n,r,i,o){var s=e.length,a=new Xt(r+s+5*(1+Math.floor(s/7e3))+i),l=a.subarray(r,a.length-i),c=0;if(!t||s<8)for(var u=0;u<=s;u+=65535){var d=u+65535;d<s?c=Cn(l,c,e.subarray(u,d)):(l[u]=o,c=Cn(l,c,e.subarray(u,s)))}else{for(var h=An[t-1],f=h>>>13,p=8191&h,m=(1<<n)-1,g=new Jt(32768),v=new Jt(m+1),y=Math.ceil(n/3),_=2*y,b=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<_)&m},w=new Qt(25e3),k=new Jt(288),x=new Jt(32),S=0,E=0,C=(u=0,0),T=0,A=0;u<s;++u){var O=b(u),D=32767&u,M=v[O];if(g[D]=M,v[O]=D,T<=u){var L=s-u;if((S>7e3||C>24576)&&L>423){c=Tn(e,l,0,w,k,x,E,C,A,u-A,c),C=S=E=0,A=u;for(var P=0;P<286;++P)k[P]=0;for(P=0;P<30;++P)x[P]=0}var I=2,R=0,N=p,B=D-M&32767;if(L>2&&O==b(u-B))for(var F=Math.min(f,L)-1,j=Math.min(32767,u),z=Math.min(258,L);B<=j&&--N&&D!=M;){if(e[u+I]==e[u+I-B]){for(var H=0;H<z&&e[u+H]==e[u+H-B];++H);if(H>I){if(I=H,R=B,H>F)break;var $=Math.min(B,H-2),U=0;for(P=0;P<$;++P){var W=u-B+P+32768&32767,q=W-g[W]+32768&32767;q>U&&(U=q,M=W)}}}B+=(D=M)-(M=g[D])+32768&32767}if(R){w[C++]=268435456|an[I]<<18|ln[R];var V=31&an[I],Z=31&ln[R];E+=en[V]+tn[Z],++k[257+V],++x[Z],T=u+I,++S}else w[C++]=e[u],++k[e[u]]}}c=Tn(e,l,o,w,k,x,E,C,A,u-A,c),o||(c=Cn(l,c,On))}return _n(a,0,r+yn(c)+i)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)}(e,t,function(e){return 10+(e.filename&&e.filename.length+1||0)}(t),8),o=i.length;return function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&Mn(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}}(i,t),Mn(i,o-8,n.d()),Mn(i,o-4,r),i}function Pn(e,t){var n=e.length;if(!t&&"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var r=new Xt(e.length+(e.length>>>1)),i=0,o=function(e){r[i++]=e},s=0;s<n;++s){if(i+5>r.length){var a=new Xt(i+8+(n-s<<1));a.set(r),r=a}var l=e.charCodeAt(s);l<128||t?o(l):l<2048?(o(192|l>>>6),o(128|63&l)):l>55295&&l<57344?(o(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++s))>>>18),o(128|l>>>12&63),o(128|l>>>6&63),o(128|63&l)):(o(224|l>>>12),o(128|l>>>6&63),o(128|63&l))}return _n(r,0,i)}!function(e){e.GZipJS="gzip-js",e.Base64="base64"}(mn||(mn={}));var In=function(e,t,n){var r=t||{};r.ip=n.ip?1:0,r._=(new Date).getTime().toString(),r.ver=_.LIB_VERSION;var i=e.split("?");if(i.length>1){var o,s=y(i[1].split("&"));try{for(s.s();!(o=s.n()).done;){var a=o.value.split("=")[0];A(r[a])||delete r[a]}}catch(e){s.e(e)}finally{s.f()}}var l=e.indexOf("?")>-1?"&":"?";return e+l+function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",i=[];return V(e,(function(e,r){A(e)||A(r)||"undefined"===r||(t=encodeURIComponent(e.toString()),n=encodeURIComponent(r),i[i.length]=n+"="+t)})),i.join(r)}(r)},Rn=function e(t,n){if(n.blob&&t.buffer)return new Blob([E(t)?t:t.buffer],{type:"text/plain"});if(n.sendBeacon||n.blob){var r=e(t,{method:"POST"});return new Blob([r],{type:"application/x-www-form-urlencoded"})}return"POST"!==n.method?null:(i=S(t)||E(t)?"data="+encodeURIComponent(t):"data="+encodeURIComponent(t.data),"compression"in t&&t.compression&&(i+="&compression="+t.compression),i);var i},Nn=function(e){var t=e.url,n=e.data,r=e.headers,i=e.options,o=e.callback,s=e.retriesPerformedSoFar,a=e.retryQueue,l=e.onXHRError,c=e.timeout,u=void 0===c?6e4:c,d=e.onResponse;M(s)&&s>0&&(t=In(t,{retry_count:s},{}));var h=new XMLHttpRequest;h.open(i.method||"GET",t,!0);var f=Rn(n,i);V(r,(function(e,t){h.setRequestHeader(t,e)})),"POST"!==i.method||i.blob||h.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h.timeout=u,h.withCredentials=!0,h.onreadystatechange=function(){if(4===h.readyState)if(null==d||d(h),200===h.status){if(o){var e;try{e=JSON.parse(h.responseText)}catch(e){return void $.error(e)}o(e)}}else C(l)&&l(h),(h.status<400||h.status>500)&&a.enqueue({url:t,data:n,options:i,headers:r,retriesPerformedSoFar:(s||0)+1,callback:o}),null==o||o({status:0})},h.send(f)},Bn=function(e){u(n,Gt);var t=f(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).isPolling=!1,i.queue=[],i.areWeOnline=!0,i.onXHRError=e,i.rateLimiter=r,!A(N)&&"onLine"in N.navigator&&(i.areWeOnline=N.navigator.onLine,N.addEventListener("online",(function(){i._handleWeAreNowOnline()})),N.addEventListener("offline",(function(){i.areWeOnline=!1}))),i}return l(n,[{key:"enqueue",value:function(e){var t=e.retriesPerformedSoFar||0;if(!(t>=10)){var n=function(e){var t=3e3*Math.pow(2,e),n=t/2,r=Math.min(18e5,t),i=(Math.random()-.5)*(r-n);return Math.ceil(r+i)}(t),r=new Date(Date.now()+n);this.queue.push({retryAt:r,requestData:e});var i="Enqueued failed request for retry in ".concat(n);navigator.onLine||(i+=" (Browser is offline)"),$.warn(i),this.isPolling||(this.isPolling=!0,this.poll())}}},{key:"poll",value:function(){var e=this;this._poller&&clearTimeout(this._poller),this._poller=setTimeout((function(){e.areWeOnline&&e.queue.length>0&&e.flush(),e.poll()}),this._pollInterval)}},{key:"flush",value:function(){var e=new Date(Date.now()),t=this.queue.filter((function(t){return t.retryAt<e}));if(t.length>0){this.queue=this.queue.filter((function(t){return t.retryAt>=e}));var n,r=y(t);try{for(r.s();!(n=r.n()).done;){var i=n.value.requestData;this._executeXhrRequest(i)}}catch(e){r.e(e)}finally{r.f()}}}},{key:"unload",value:function(){this._poller&&(clearTimeout(this._poller),this._poller=void 0);var e,t=y(this.queue);try{for(t.s();!(e=t.n()).done;){var n=e.value.requestData,r=n.url,o=n.data,s=n.options;if(this.rateLimiter.isRateLimited(s._batchKey))$.warn("[RetryQueue] is quota limited. Dropping request.");else try{null==N||N.navigator.sendBeacon(r,Rn(o,i(i({},s),{},{sendBeacon:!0})))}catch(e){$.error(e)}}}catch(e){t.e(e)}finally{t.f()}this.queue=[]}},{key:"_executeXhrRequest",value:function(e){var t=e.url,n=e.data,r=e.options,i=e.headers,o=e.callback,s=e.retriesPerformedSoFar;this.rateLimiter.isRateLimited(r._batchKey)||Nn({url:t,data:n||{},options:r||{},headers:i||{},retriesPerformedSoFar:s||0,callback:o,retryQueue:this,onXHRError:this.onXHRError,onResponse:this.rateLimiter.checkForLimiting})}},{key:"_handleWeAreNowOnline",value:function(){this.areWeOnline=!0,this.flush()}}]),n}(),Fn=1800,jn=function(){function e(t,n,r,i){s(this,e),c(this,"_sessionIdChangedHandlers",[]),this.config=t,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||tt,this._windowIdGenerator=i||tt;var o=t.persistence_name||t.token,a=t.session_idle_timeout_seconds||Fn;if(M(a)?a>Fn?$.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):a<60&&$.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):($.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),a=Fn),this._sessionTimeoutMs=1e3*Math.min(Math.max(a,60),Fn),this._window_id_storage_key="ph_"+o+"_window_id",this._primary_window_exists_storage_key="ph_"+o+"_primary_window_exists",this._canUseSessionStorage()){var l=pt.parse(this._window_id_storage_key),u=pt.parse(this._primary_window_exists_storage_key);l&&!u?this._windowId=l:pt.remove(this._window_id_storage_key),pt.set(this._primary_window_exists_storage_key,!0)}this._listenToReloadWindow()}return l(e,[{key:"onSessionId",value:function(e){var t=this;return A(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(e),this._sessionId&&e(this._sessionId,this._windowId),function(){t._sessionIdChangedHandlers=t._sessionIdChangedHandlers.filter((function(t){return t!==e}))}}},{key:"_canUseSessionStorage",value:function(){return"memory"!==this.config.persistence&&!this.persistence.disabled&&pt.is_supported()}},{key:"_setWindowId",value:function(e){e!==this._windowId&&(this._windowId=e,this._canUseSessionStorage()&&pt.set(this._window_id_storage_key,e))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?pt.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(e,t,n){e===this._sessionId&&t===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=t,this._sessionId=e,this.persistence.register(c({},De,[t,e,n])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var e=this.persistence.props[De];return S(e)&&2===e.length&&e.push(e[0]),e||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var e=this;null==N||N.addEventListener("beforeunload",(function(){e._canUseSessionStorage()&&pt.remove(e._primary_window_exists_storage_key)}))}},{key:"checkAndGetSessionAndWindowId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||(new Date).getTime(),n=p(this._getSessionId(),3),r=n[0],i=n[1],o=n[2],s=this._getWindowId(),a=o&&o>0&&Math.abs(t-o)>864e5,l=!1,c=!i,u=!e&&Math.abs(t-r)>this._sessionTimeoutMs;c||u||a?(i=this._sessionIdGenerator(),s=this._windowIdGenerator(),o=t,l=!0):s||(s=this._windowIdGenerator(),l=!0);var d=0===r||!e||a?t:r,h=0===o?(new Date).getTime():o;return this._setWindowId(s),this._setSessionId(i,d,h),l&&this._sessionIdChangedHandlers.forEach((function(e){return e(i,s)})),{sessionId:i,windowId:s,sessionStartTimestamp:h}}}]),e}(),zn=l((function e(t,n,r,i){s(this,e),this.name="posthog-js",this.setupOnce=function(e){e((function(e){var o,s,a,l,c;if("error"!==e.level||!t.__loaded)return e;e.tags||(e.tags={});var u=t.config.ui_host||t.config.api_host;e.tags["PostHog Person URL"]=u+"/person/"+t.get_distinct_id(),t.sessionRecordingStarted()&&(e.tags["PostHog Recording URL"]=t.get_session_replay_url({withTimestamp:!0}));var d=(null===(o=e.exception)||void 0===o?void 0:o.values)||[],h={$exception_message:null===(s=d[0])||void 0===s?void 0:s.value,$exception_type:null===(a=d[0])||void 0===a?void 0:a.type,$exception_personURL:u+"/person/"+t.get_distinct_id(),$sentry_event_id:e.event_id,$sentry_exception:e.exception,$sentry_exception_message:null===(l=d[0])||void 0===l?void 0:l.value,$sentry_exception_type:null===(c=d[0])||void 0===c?void 0:c.type,$sentry_tags:e.tags};return n&&r&&(h.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+e.event_id),t.capture("$exception",h),e}))}})),Hn=function(){function e(){var t=this;s(this,e),c(this,"_hasSeenPageView",!1),c(this,"_updateScrollData",(function(){var e,n,r,i;t._pageViewData||(t._pageViewData=t._createPageViewData());var o=t._pageViewData,s=t._scrollY(),a=t._scrollHeight(),l=t._contentY(),c=t._contentHeight();o.lastScrollY=s,o.maxScrollY=Math.max(s,null!==(e=o.maxScrollY)&&void 0!==e?e:0),o.maxScrollHeight=Math.max(a,null!==(n=o.maxScrollHeight)&&void 0!==n?n:0),o.lastContentY=l,o.maxContentY=Math.max(l,null!==(r=o.maxContentY)&&void 0!==r?r:0),o.maxContentHeight=Math.max(c,null!==(i=o.maxContentHeight)&&void 0!==i?i:0)}))}return l(e,[{key:"_createPageViewData",value:function(){var e;return{pathname:null!==(e=null==N?void 0:N.location.pathname)&&void 0!==e?e:""}}},{key:"doPageView",value:function(){var e,t;return this._hasSeenPageView?(t=this._pageViewData,this._pageViewData=this._createPageViewData()):(this._hasSeenPageView=!0,t=void 0,this._pageViewData||(this._pageViewData=this._createPageViewData())),setTimeout(this._updateScrollData,0),i({$prev_pageview_pathname:null===(e=t)||void 0===e?void 0:e.pathname},this._calculatePrevPageScrollProperties(t))}},{key:"doPageLeave",value:function(){var e=this._pageViewData;return i({$prev_pageview_pathname:null==e?void 0:e.pathname},this._calculatePrevPageScrollProperties(e))}},{key:"_calculatePrevPageScrollProperties",value:function(e){if(!e||null==e.maxScrollHeight||null==e.lastScrollY||null==e.maxScrollY||null==e.maxContentHeight||null==e.lastContentY||null==e.maxContentY)return{};var t=e.maxScrollHeight,n=e.lastScrollY,r=e.maxScrollY,i=e.maxContentHeight,o=e.lastContentY,s=e.maxContentY;return t=Math.ceil(t),n=Math.ceil(n),r=Math.ceil(r),i=Math.ceil(i),o=Math.ceil(o),s=Math.ceil(s),{$prev_pageview_last_scroll:n,$prev_pageview_last_scroll_percentage:t<=1?1:$n(n/t,0,1),$prev_pageview_max_scroll:r,$prev_pageview_max_scroll_percentage:t<=1?1:$n(r/t,0,1),$prev_pageview_last_content:o,$prev_pageview_last_content_percentage:i<=1?1:$n(o/i,0,1),$prev_pageview_max_content:s,$prev_pageview_max_content_percentage:i<=1?1:$n(s/i,0,1)}}},{key:"startMeasuringScrollPosition",value:function(){null==N||N.addEventListener("scroll",this._updateScrollData),null==N||N.addEventListener("scrollend",this._updateScrollData),null==N||N.addEventListener("resize",this._updateScrollData)}},{key:"stopMeasuringScrollPosition",value:function(){null==N||N.removeEventListener("scroll",this._updateScrollData),null==N||N.removeEventListener("scrollend",this._updateScrollData),null==N||N.removeEventListener("resize",this._updateScrollData)}},{key:"_scrollHeight",value:function(){return N?Math.max(0,N.document.documentElement.scrollHeight-N.document.documentElement.clientHeight):0}},{key:"_scrollY",value:function(){return N&&(N.scrollY||N.pageYOffset||N.document.documentElement.scrollTop)||0}},{key:"_contentHeight",value:function(){return(null==N?void 0:N.document.documentElement.scrollHeight)||0}},{key:"_contentY",value:function(){var e=(null==N?void 0:N.document.documentElement.clientHeight)||0;return this._scrollY()+e}}]),e}();function $n(e,t,n){return Math.max(t,Math.min(e,n))}var Un,Wn,qn,Vn={icontains:function(e){return!!N&&N.location.href.toLowerCase().indexOf(e.toLowerCase())>-1},regex:function(e){return!!N&&function(e,t){return!!function(e){try{new RegExp(e)}catch(e){return!1}return!0}(t)&&new RegExp(t).test(e)}(N.location.href,e)},exact:function(e){return(null==N?void 0:N.location.href)===e}},Zn=function(){function e(t){s(this,e),this.instance=t}return l(e,[{key:"getSurveys",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.instance.get_property(Ne);if(r&&!n)return e(r);this.instance._send_request("".concat(this.instance.config.api_host,"/api/surveys/?token=").concat(this.instance.config.token),{},{method:"GET"},(function(n){var r,i=n.surveys||[];return null===(r=t.instance.persistence)||void 0===r||r.register(c({},Ne,i)),e(i)}))}},{key:"getActiveMatchingSurveys",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.getSurveys((function(n){var r=n.filter((function(e){return!(!e.start_date||e.end_date)})).filter((function(e){var t,n,r,i;if(!e.conditions)return!0;var o=null===(t=e.conditions)||void 0===t||!t.url||Vn[null!==(n=null===(r=e.conditions)||void 0===r?void 0:r.urlMatchType)&&void 0!==n?n:"icontains"](e.conditions.url),s=null===(i=e.conditions)||void 0===i||!i.selector||(null==F?void 0:F.querySelector(e.conditions.selector));return o&&s})).filter((function(e){if(!e.linked_flag_key&&!e.targeting_flag_key)return!0;var n=!e.linked_flag_key||t.instance.featureFlags.isFeatureEnabled(e.linked_flag_key),r=!e.targeting_flag_key||t.instance.featureFlags.isFeatureEnabled(e.targeting_flag_key);return n&&r}));return e(r)}),n)}}]),e}(),Yn=function(){function e(){var t=this;s(this,e),c(this,"limits",{}),c(this,"checkForLimiting",(function(e){try{var n=e.responseText;if(!n||!n.length)return;(JSON.parse(n).quota_limited||[]).forEach((function(e){$.info("[RateLimiter] ".concat(e||"events"," is quota limited.")),t.limits[e]=(new Date).getTime()+6e4}))}catch(e){return void $.error(e)}}))}return l(e,[{key:"isRateLimited",value:function(e){var t=this.limits[e||"events"]||!1;return!1!==t&&(new Date).getTime()<t}}]),e}(),Gn=function(){return i({initialPathName:(null==N?void 0:N.location.pathname)||"",referringDomain:_t.referringDomain()},_t.campaignParams())},Kn=function(){function e(t,n,r){var i=this;s(this,e),c(this,"_onSessionIdCallback",(function(e){var t=i._getStoredProps();if(!t||t.sessionId!==e){var n={sessionId:e,props:i._sessionSourceParamGenerator()};i._persistence.register(c({},ze,n))}})),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||Gn,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return l(e,[{key:"_getStoredProps",value:function(){return this._persistence.props[ze]}},{key:"getSessionProps",value:function(){var e,t=null===(e=this._getStoredProps())||void 0===e?void 0:e.props;return t?{$client_session_initial_referring_host:t.referringDomain,$client_session_initial_pathname:t.initialPathName,$client_session_initial_utm_source:t.utm_source,$client_session_initial_utm_campaign:t.utm_campaign,$client_session_initial_utm_medium:t.utm_medium,$client_session_initial_utm_content:t.utm_content,$client_session_initial_utm_term:t.utm_term}:{}}}]),e}(),Xn=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"];!function(e){e[e.INIT_MODULE=0]="INIT_MODULE",e[e.INIT_SNIPPET=1]="INIT_SNIPPET"}(Un||(Un={}));var Jn=function(){},Qn={},er="posthog",tr=(null==N?void 0:N.XMLHttpRequest)&&"withCredentials"in new XMLHttpRequest,nr=!tr&&-1===(null==j?void 0:j.indexOf("MSIE"))&&-1===(null==j?void 0:j.indexOf("Mozilla")),rr=function(){var e,t,n;return{api_host:"https://app.posthog.com",api_method:"POST",api_transport:"XHR",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(t=null==F?void 0:F.location,n=null==t?void 0:t.hostname,!!O(n)&&"herokuapp.com"!==n.split(".").slice(-2).join(".")),persistence:"localStorage+cookie",persistence_name:"",cookie_name:"",loaded:Jn,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:!0,debug:!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_cookie:!1,enable_recording_console_log:void 0,secure_cookie:"https:"===(null==N||null===(e=N.location)||void 0===e?void 0:e.protocol),ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_blacklist:[],respect_dnt:!1,sanitize_properties:null,xhr_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,on_xhr_error:function(e){var t="Bad HTTP status: "+e.status+" "+e.statusText;$.error(t)},get_device_id:function(e){return e},_onCapture:Jn,capture_performance:void 0,name:"posthog",callback_fn:"posthog._jsc",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800}},ir=function(e,t,n,r){var i,o=n!==er&&qn?n?qn[n]:void 0:qn,s={initComplete:!1,syncCode:!1},a=function(e){return function(t){s[e]||(s[e]=!0,s.initComplete&&s.syncCode&&(null==r||r(t)))}};if(o&&Wn===Un.INIT_MODULE)i=o;else{if(o&&!S(o))return void $.error("You have already initialized "+n);i=new sr}return i._init(e,t,n,a("initComplete")),i.toolbar.maybeLoadToolbar(),i.sessionRecording=new Pt(i),i.sessionRecording.startRecordingIfEnabled(),i.config.__preview_measure_pageview_stats&&i.pageViewManager.startMeasuringScrollPosition(),i.__autocapture=i.config.autocapture,Ue._setIsAutocaptureEnabled(i),Ue._isAutocaptureEnabled&&(i.__autocapture=i.config.autocapture,Ue.enabledForProject(i.config.token,100,100)?Ue.isBrowserSupported()?Ue.init(i):(i.__autocapture=!1,$.info("Disabling Automatic Event Collection because this browser is not supported")):(i.__autocapture=!1,$.info("Not in active bucket: disabling Automatic Event Collection."))),_.DEBUG=_.DEBUG||i.config.debug,!A(o)&&S(o)&&(i._execute_array.call(i.people,o.people),i._execute_array(o)),a("syncCode")(i),i},or=function(){function e(){s(this,e),c(this,"__forceAllowLocalhost",!1)}return l(e,[{key:"_forceAllowLocalhost",get:function(){return this.__forceAllowLocalhost},set:function(e){$.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}]),e}(),sr=function(){function e(){var t=this;s(this,e),c(this,"webPerformance",new or),this.config=rr(),this.compression={},this.decideEndpointWasHit=!1,this.SentryIntegration=zn,this.segmentIntegration=function(){return function(e){Promise&&Promise.resolve||$.warn("This browser does not have Promise support, and can not use the segment integration");var t=function(t,n){t.event.userId||t.event.anonymousId===e.get_distinct_id()||e.reset(),t.event.userId&&t.event.userId!==e.get_distinct_id()&&(e.register({distinct_id:t.event.userId}),e.reloadFeatureFlags());var r=e._calculate_event_properties(n,t.event.properties);return t.event.properties=Object.assign({},r,t.event.properties),t};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(e){return t(e,e.event.event)},page:function(e){return t(e,"$pageview")},identify:function(e){return t(e,"$identify")},screen:function(e){return t(e,"$screen")}}}(t)},this.__captureHooks=[],this.__request_queue=[],this.__loaded=!1,this.__loaded_recorder_version=void 0,this.__autocapture=void 0,this._jsc=function(){},this.analyticsDefaultEndpoint="/e/",this.elementsChainAsString=!1,this.featureFlags=new Ye(this),this.toolbar=new Ft(this),this.pageViewManager=new Hn,this.surveys=new Zn(this),this.rateLimiter=new Yn,this.people={set:function(e,n,r){var i=O(e)?c({},e,n):e;t.setPersonProperties(i),null==r||r({})},set_once:function(e,n,r){var i=O(e)?c({},e,n):e;t.setPersonProperties(void 0,i),null==r||r({})}}}return l(e,[{key:"init",value:function(e,t,n){if(A(n))$.critical("You must name your new library: init(token, config, name)");else{if(n!==er){var r=ir(e,t,n,(function(e){qn[n]=e,e._loaded()}));return qn[n]=r,r}$.critical("You must initialize the main posthog object right after you include the PostHog js snippet")}}},{key:"_init",value:function(e){var t,n,r,o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0;this.__loaded=!0,this.config={},this._triggered_notifs=[];var c,u={segmentRegister:!1,syncCode:!1},d=function(e){return function(){u[e]||(u[e]=!0,u.segmentRegister&&u.syncCode&&(null==l||l(o)))}};if(this.set_config(Z({},rr(),s,{name:a,token:e,callback_fn:(a===er?a:er+"."+a)+"._jsc"})),this._jsc=function(){},(null!=N&&null!==(t=N.rrweb)&&void 0!==t&&t.record||null!=N&&N.rrwebRecord)&&(this.__loaded_recorder_version=null==N||null===(c=N.rrweb)||void 0===c?void 0:c.version),this.persistence=new wt(this.config),this._requestQueue=new Kt(this._handle_queued_event.bind(this)),this._retryQueue=new Bn(this.config.on_xhr_error,this.rateLimiter),this.__captureHooks=[],this.__request_queue=[],this.sessionManager=new jn(this.config,this.persistence),this.sessionPropsManager=new Kn(this.sessionManager,this.persistence),this.sessionPersistence="sessionStorage"===this.config.persistence?this.persistence:new wt(i(i({},this.config),{},{persistence:"sessionStorage"})),this._gdpr_init(),s.segment?(this.config.get_device_id=function(){return s.segment.user().anonymousId()},s.segment.user().id()&&(this.register({distinct_id:s.segment.user().id()}),this.persistence.set_user_state("identified")),s.segment.register(this.segmentIntegration()).then(d("segmentRegister"))):d("segmentRegister")(),void 0!==(null===(n=s.bootstrap)||void 0===n?void 0:n.distinctID)){var h,f,p=this.config.get_device_id(tt()),m=null!==(h=s.bootstrap)&&void 0!==h&&h.isIdentifiedID?p:s.bootstrap.distinctID;this.persistence.set_user_state(null!==(f=s.bootstrap)&&void 0!==f&&f.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:s.bootstrap.distinctID,$device_id:m})}if(this._hasBootstrappedFeatureFlags()){var g,v,y=Object.keys((null===(g=s.bootstrap)||void 0===g?void 0:g.featureFlags)||{}).filter((function(e){var t,n;return!(null===(t=s.bootstrap)||void 0===t||null===(n=t.featureFlags)||void 0===n||!n[e])})).reduce((function(e,t){var n,r;return e[t]=(null===(n=s.bootstrap)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r[t])||!1,e}),{}),_=Object.keys((null===(v=s.bootstrap)||void 0===v?void 0:v.featureFlagPayloads)||{}).filter((function(e){return y[e]})).reduce((function(e,t){var n,r,i,o;return null!==(n=s.bootstrap)&&void 0!==n&&null!==(r=n.featureFlagPayloads)&&void 0!==r&&r[t]&&(e[t]=null===(i=s.bootstrap)||void 0===i||null===(o=i.featureFlagPayloads)||void 0===o?void 0:o[t]),e}),{});this.featureFlags.receivedFeatureFlags({featureFlags:y,featureFlagPayloads:_})}if(!this.get_distinct_id()){var b=this.config.get_device_id(tt());this.register_once({distinct_id:b,$device_id:b},""),this.persistence.set_user_state("anonymous")}null==N||null===(r=N.addEventListener)||void 0===r||r.call(N,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),d("syncCode")()}},{key:"_afterDecideResponse",value:function(e){var t;if(this.compression={},e.supportedCompression&&!this.config.disable_compression){var n,r={},i=y(e.supportedCompression);try{for(i.s();!(n=i.n()).done;)r[n.value]=!0}catch(e){i.e(e)}finally{i.f()}this.compression=r}null!==(t=e.analytics)&&void 0!==t&&t.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),e.elementsChainAsString&&(this.elementsChainAsString=e.elementsChainAsString)}},{key:"_loaded",value:function(){var e=this.config.advanced_disable_decide;e||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(e){$.critical("`loaded` function failed",e)}this._start_queue_if_opted_in(),this.config.capture_pageview&&F&&this.capture("$pageview",{title:F.title},{send_instantly:!0}),e||(new It(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var e;this.has_opted_out_capturing()||this.config.request_batching&&(null===(e=this._requestQueue)||void 0===e||e.poll())}},{key:"_dom_loaded",value:function(){var e=this;this.has_opted_out_capturing()||q(this.__request_queue,(function(t){e._send_request.apply(e,m(t))})),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_prepare_callback",value:function(e,t){if(A(e))return null;if(tr)return function(n){e(n,t)};var n=this._jsc,r=""+Math.floor(1e8*Math.random()),i=this.config.callback_fn+"["+r+"]";return n[r]=function(i){delete n[r],e(i,t)},i}},{key:"_handle_unload",value:function(){var e,t;this.config.request_batching?(this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave"),null===(e=this._requestQueue)||void 0===e||e.unload(),null===(t=this._retryQueue)||void 0===t||t.unload()):this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_handle_queued_event",value:function(e,t,n){var r=JSON.stringify(t);this.__compress_and_send_json_request(e,r,n||Qn,Jn)}},{key:"__compress_and_send_json_request",value:function(e,t,n,r){var o=function(e,t,n){return e===mn.GZipJS?[Ln(Pn(t),{mtime:0}),i(i({},n),{},{blob:!0,urlQueryArgs:{compression:mn.GZipJS}})]:[{data:te(t)},n]}(this.compression[mn.GZipJS]?mn.GZipJS:mn.Base64,t,n),s=p(o,2),a=s[0],l=s[1];this._send_request(e,a,l,r)}},{key:"_send_request",value:function(e,t,n,r){if(this.__loaded&&this._retryQueue&&!this.rateLimiter.isRateLimited(n._batchKey))if(nr)this.__request_queue.push([e,t,n,r]);else{var o={method:this.config.api_method,transport:this.config.api_transport,verbose:this.config.verbose};n=Z(o,n||{}),tr||(n.method="GET");var s=N&&"sendBeacon"in N.navigator&&"sendBeacon"===n.transport;if(e=In(e,n.urlQueryArgs||{},{ip:this.config.ip}),s)try{null==N||N.navigator.sendBeacon(e,Rn(t,i(i({},n),{},{sendBeacon:!0})))}catch(e){}else if(tr||!F)try{Nn({url:e,data:t,headers:this.config.xhr_headers,options:n,callback:r,retriesPerformedSoFar:0,retryQueue:this._retryQueue,onXHRError:this.config.on_xhr_error,onResponse:this.rateLimiter.checkForLimiting})}catch(e){$.error(e)}else{var a,l=F.createElement("script");l.type="text/javascript",l.async=!0,l.defer=!0,l.src=e;var c=F.getElementsByTagName("script")[0];null===(a=c.parentNode)||void 0===a||a.insertBefore(l,c)}}}},{key:"_execute_array",value:function(e){var t,n=this,r=[],i=[],o=[];q(e,(function(e){e&&(t=e[0],S(t)?o.push(e):C(e)?e.call(n):S(e)&&"alias"===t?r.push(e):S(e)&&-1!==t.indexOf("capture")&&C(n[t])?o.push(e):i.push(e))}));var s=function(e,t){q(e,(function(e){if(S(e[0])){var n=t;V(e,(function(e){n=n[e[0]].apply(n,e.slice(1))}))}else this[e[0]].apply(this,e.slice(1))}),t)};s(r,this),s(i,this),s(o,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var e,t;return(null===(e=this.config.bootstrap)||void 0===e?void 0:e.featureFlags)&&Object.keys(null===(t=this.config.bootstrap)||void 0===t?void 0:t.featureFlags).length>0||!1}},{key:"push",value:function(e){this._execute_array([e])}},{key:"capture",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qn;if(!this.__loaded||!this.sessionPersistence||!this._requestQueue)return $.uninitializedWarning("posthog.capture");if(!function(e){var t=!1;try{var n=e.config.token,r=e.config.respect_dnt,i=e.config.opt_out_capturing_persistence_type,o=e.config.opt_out_capturing_cookie_prefix||void 0,s=e.config.window;n&&(t=Ut(n,{respectDnt:r,persistenceType:i,persistencePrefix:o,window:s}))}catch(e){$.error("Unexpected error when checking capturing opt-out status: "+e)}return t}(this)){var r=(n=n||Qn).transport;if(r&&(n.transport=r),!A(e)&&O(e)){if(!j||!function(e,t){if(!e)return!1;var n=e.toLowerCase();return Xn.concat(t||[]).some((function(e){var t=e.toLowerCase();return n.includes?n.includes(t):-1!==n.indexOf(t)}))}(j,this.config.custom_blocked_useragents)){this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info();var o={uuid:tt(),event:e,properties:this._calculate_event_properties(e,t||{})};"$identify"===e&&(o.$set=n.$set,o.$set_once=n.$set_once),(o=function(e,t){return n=e,r=function(e,n){return n&&ee.indexOf(n)>-1?e:O(e)&&!D(t)?e.slice(0,t):e},i=new Set,function e(t,n){return t!==Object(t)?r?r(t,n):t:i.has(t)?void 0:(i.add(t),S(t)?(o=[],q(t,(function(t){o.push(e(t))}))):(o={},V(t,(function(t,n){i.has(t)||(o[n]=e(t,n))}))),o);var o}(n);var n,r,i}(o,n._noTruncate?null:this.config.properties_string_max_length)).timestamp=n.timestamp||new Date;var s=i(i({},o.properties.$set),o.$set);(function(e){if(T(e)){for(var t in e)if(k.call(e,t))return!1;return!0}return!1})(s)||this.setPersonPropertiesForFlags(s),$.info("send",o);var a=JSON.stringify(o),l=this.config.api_host+(n.endpoint||this.analyticsDefaultEndpoint),c=n!==Qn;return!this.config.request_batching||c&&!n._batchKey||n.send_instantly?this.__compress_and_send_json_request(l,a,n):this._requestQueue.enqueue(l,o,n),this._invokeCaptureHooks(e,o),o}}else $.error("No event name provided to posthog.capture")}}},{key:"_addCaptureHook",value:function(e){this.__captureHooks.push(e)}},{key:"_invokeCaptureHooks",value:function(e,t){this.config._onCapture(e,t),V(this.__captureHooks,(function(t){return t(e)}))}},{key:"_calculate_event_properties",value:function(e,t){if(!this.persistence||!this.sessionPersistence)return t;var n=this.persistence.remove_event_timer(e),r=i({},t);if(r.token=this.config.token,"$snapshot"===e){var o=i(i({},this.persistence.properties()),this.sessionPersistence.properties());return r.distinct_id=o.distinct_id,r}var s=_t.properties();if(this.sessionManager){var a=this.sessionManager.checkAndGetSessionAndWindowId(),l=a.sessionId,c=a.windowId;r.$session_id=l,r.$window_id=c}if(this.sessionPropsManager&&this.config.__preview_send_client_session_params&&("$pageview"===e||"$pageleave"===e||"$autocapture"===e)){var u=this.sessionPropsManager.getSessionProps();r=Z(r,u)}if(this.config.__preview_measure_pageview_stats){var d={};"$pageview"===e?d=this.pageViewManager.doPageView():"$pageleave"===e&&(d=this.pageViewManager.doPageLeave()),r=Z(r,d)}if("$pageview"===e&&F&&(r.title=F.title),"$performance_event"===e){var h=this.persistence.properties();return r.distinct_id=h.distinct_id,r.$current_url=s.$current_url,r}if(!A(n)){var f=(new Date).getTime()-n;r.$duration=parseFloat((f/1e3).toFixed(3))}r=Z({},_t.properties(),this.persistence.properties(),this.sessionPersistence.properties(),r);var p=this.config.property_blacklist;S(p)?V(p,(function(e){delete r[e]})):$.error("Invalid value for property_blacklist config: "+p);var m=this.config.sanitize_properties;return m&&(r=m(r,e)),r}},{key:"register",value:function(e,t){var n;null===(n=this.persistence)||void 0===n||n.register(e,t)}},{key:"register_once",value:function(e,t,n){var r;null===(r=this.persistence)||void 0===r||r.register_once(e,t,n)}},{key:"register_for_session",value:function(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.register(e)}},{key:"unregister",value:function(e){var t;null===(t=this.persistence)||void 0===t||t.unregister(e)}},{key:"unregister_for_session",value:function(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.unregister(e)}},{key:"_register_single",value:function(e,t){this.register(c({},e,t))}},{key:"getFeatureFlag",value:function(e,t){return this.featureFlags.getFeatureFlag(e,t)}},{key:"getFeatureFlagPayload",value:function(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch(e){return t}}},{key:"isFeatureEnabled",value:function(e,t){return this.featureFlags.isFeatureEnabled(e,t)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,t){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t)}},{key:"getEarlyAccessFeatures",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(e,t)}},{key:"onFeatureFlags",value:function(e){return this.featureFlags.onFeatureFlags(e)}},{key:"onSessionId",value:function(e){var t,n;return null!==(t=null===(n=this.sessionManager)||void 0===n?void 0:n.onSessionId(e))&&void 0!==t?t:function(){}}},{key:"getSurveys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getSurveys(e,t)}},{key:"getActiveMatchingSurveys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getActiveMatchingSurveys(e,t)}},{key:"identify",value:function(e,t,n){if(!this.__loaded||!this.persistence)return $.uninitializedWarning("posthog.identify");if(e)if(["distinct_id","distinctid"].includes(e.toLowerCase()))$.critical('The string "'.concat(e,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else{var r=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var i=r;this.register_once({$had_persisted_distinct_id:!0,$device_id:i},"")}e!==r&&e!==this.get_property(xe)&&(this.unregister(xe),this.register({distinct_id:e}));var o="anonymous"===this.persistence.get_user_state();e!==r&&o?(this.persistence.set_user_state("identified"),this.setPersonPropertiesForFlags(t||{},!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:r},{$set:t||{},$set_once:n||{}}),this.featureFlags.setAnonymousDistinctId(r)):(t||n)&&this.setPersonProperties(t,n),e!==r&&(this.reloadFeatureFlags(),this.unregister(Be))}else $.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(e,t){(e||t)&&(this.setPersonPropertiesForFlags(e||{}),this.capture("$set",{$set:e||{},$set_once:t||{}}))}},{key:"group",value:function(e,t,n){if(e&&t){var r=this.getGroups();r[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:i(i({},r),{},c({},e,t))}),n&&(this.capture("$groupidentify",{$group_type:e,$group_key:t,$group_set:n}),this.setGroupPropertiesForFlags(c({},e,n))),r[e]===t||n||this.reloadFeatureFlags()}else $.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.featureFlags.setPersonPropertiesForFlags(e,t)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.featureFlags.setGroupPropertiesForFlags(e,t)}},{key:"resetGroupPropertiesForFlags",value:function(e){this.featureFlags.resetGroupPropertiesForFlags(e)}},{key:"reset",value:function(e){var t,n,r,i;if(!this.__loaded)return $.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");null===(t=this.persistence)||void 0===t||t.clear(),null===(n=this.sessionPersistence)||void 0===n||n.clear(),null===(r=this.persistence)||void 0===r||r.set_user_state("anonymous"),null===(i=this.sessionManager)||void 0===i||i.resetSessionId();var s=this.config.get_device_id(tt());this.register_once({distinct_id:s,$device_id:e?s:o},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var e,t;return null!==(e=null===(t=this.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==e?e:""}},{key:"get_session_replay_url",value:function(e){if(!this.sessionManager)return"";var t=this.config.ui_host||this.config.api_host,n=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=n.sessionId,i=n.sessionStartTimestamp,o=t+"/replay/"+r;if(null!=e&&e.withTimestamp&&i){var s,a=null!==(s=e.timestampLookBack)&&void 0!==s?s:10;if(!i)return o;var l=Math.max(Math.floor(((new Date).getTime()-i)/1e3)-a,0);o+="?t=".concat(l)}return o}},{key:"alias",value:function(e,t){return e===this.get_property(ke)?($.critical("Attempting to create alias for existing People user - aborting."),-2):(A(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(xe,e),this.capture("$create_alias",{alias:e,distinct_id:t})):($.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1))}},{key:"set_config",value:function(e){var t,n,r=i({},this.config);T(e)&&(Z(this.config,e),this.config.persistence_name||(this.config.persistence_name=this.config.cookie_name),this.config.disable_persistence||(this.config.disable_persistence=this.config.disable_cookie),this.config.api_host=this.config.api_host.replace(/\/$/,""),null===(t=this.persistence)||void 0===t||t.update_config(this.config),null===(n=this.sessionPersistence)||void 0===n||n.update_config(this.config),lt.is_supported()&&"true"===lt.get("ph_debug")&&(this.config.debug=!0),this.config.debug&&(_.DEBUG=!0),this.sessionRecording&&!A(e.disable_session_recording)&&r.disable_session_recording!==e.disable_session_recording&&(e.disable_session_recording?this.sessionRecording.stopRecording():this.sessionRecording.startRecordingIfEnabled()))}},{key:"startSessionRecording",value:function(){this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var e;return!(null===(e=this.sessionRecording)||void 0===e||!e.started)}},{key:"loadToolbar",value:function(e){return this.toolbar.loadToolbar(e)}},{key:"get_property",value:function(e){var t;return null===(t=this.persistence)||void 0===t?void 0:t.props[e]}},{key:"getSessionProperty",value:function(e){var t;return null===(t=this.sessionPersistence)||void 0===t?void 0:t.props[e]}},{key:"toString",value:function(){var e,t=null!==(e=this.config.name)&&void 0!==e?e:er;return t!==er&&(t=er+"."+t),t}},{key:"_gdpr_init",value:function(){"localStorage"===this.config.opt_out_capturing_persistence_type&&lt.is_supported()&&(!this.has_opted_in_capturing()&&this.has_opted_in_capturing({persistence_type:"cookie"})&&this.opt_in_capturing({enable_persistence:!1}),!this.has_opted_out_capturing()&&this.has_opted_out_capturing({persistence_type:"cookie"})&&this.opt_out_capturing({clear_persistence:!1}),this.clear_opt_in_out_capturing({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_capturing()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_capturing()||!this.config.opt_out_capturing_by_default&&!st.get("ph_optout")||(st.remove("ph_optout"),this.opt_out_capturing({clear_persistence:this.config.opt_out_persistence_by_default}))}},{key:"_gdpr_update_persistence",value:function(e){var t,n,r,i,o;if(e&&e.clear_persistence)r=!0;else{if(!e||!e.enable_persistence)return;r=!1}this.config.disable_persistence||(null===(t=this.persistence)||void 0===t?void 0:t.disabled)===r||null===(i=this.persistence)||void 0===i||i.set_disabled(r),this.config.disable_persistence||(null===(n=this.sessionPersistence)||void 0===n?void 0:n.disabled)===r||null===(o=this.sessionPersistence)||void 0===o||o.set_disabled(r)}},{key:"_gdpr_call_func",value:function(e,t){return t=Z({capture:this.capture.bind(this),persistence_type:this.config.opt_out_capturing_persistence_type,cookie_prefix:this.config.opt_out_capturing_cookie_prefix,cookie_expiration:this.config.cookie_expiration,cross_subdomain_cookie:this.config.cross_subdomain_cookie,secure_cookie:this.config.secure_cookie},t||{}),lt.is_supported()||"localStorage"!==t.persistence_type||(t.persistence_type="cookie"),e(this.config.token,{capture:t.capture,captureEventName:t.capture_event_name,captureProperties:t.capture_properties,persistenceType:t.persistence_type,persistencePrefix:t.cookie_prefix,cookieExpiration:t.cookie_expiration,crossSubdomainCookie:t.cross_subdomain_cookie,secureCookie:t.secure_cookie})}},{key:"opt_in_capturing",value:function(e){e=Z({enable_persistence:!0},e||{}),this._gdpr_call_func(zt,e),this._gdpr_update_persistence(e)}},{key:"opt_out_capturing",value:function(e){var t=Z({clear_persistence:!0},e||{});this._gdpr_call_func(Ht,t),this._gdpr_update_persistence(t)}},{key:"has_opted_in_capturing",value:function(e){return this._gdpr_call_func($t,e)}},{key:"has_opted_out_capturing",value:function(e){return this._gdpr_call_func(Ut,e)}},{key:"clear_opt_in_out_capturing",value:function(e){var t=Z({enable_persistence:!0},null!=e?e:{});this._gdpr_call_func(Wt,t),this._gdpr_update_persistence(t)}},{key:"debug",value:function(e){!1===e?(null==N||N.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(null==N||N.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),e}();!function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=J(e.prototype[t[n]])}(sr,["identify"]);var ar,lr,cr={};!function(e){e.Popover="popover",e.API="api",e.Widget="widget"}(ar||(ar={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(lr||(lr={}));var ur=(Wn=Un.INIT_MODULE,(qn=new sr).init=function(e,t,n){if(n)return qn[n]||(qn[n]=cr[n]=ir(e||"",t||{},n,(function(e){qn[n]=cr[n]=e,e._loaded()}))),qn[n];var r=qn;return cr[er]?r=cr[er]:e&&(r=ir(e,t||{},er,(function(e){cr[er]=e,e._loaded()})),cr[er]=r),qn=r,Wn===Un.INIT_SNIPPET&&(z[er]=qn),V(cr,(function(e,t){t!==er&&(qn[t]=e)})),r},qn.init(),function(){function e(){e.done||(e.done=!0,nr=!1,V(cr,(function(e){e._dom_loaded()})))}null!=F&&F.addEventListener&&("complete"===F.readyState?e():F.addEventListener("DOMContentLoaded",e,!1)),N&&re(N,"load",e,!0)}(),qn)},4155:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var a,l=[],c=!1,u=-1;function d(){c&&a&&(c=!1,a.length?l=a.concat(l):u=-1,l.length&&h())}function h(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(a=l,l=[];++u<t;)a&&a[u].run();u=-1,t=l.length}a=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||c||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},7480:e=>{var t;window,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=256,s=function(){function e(e){void 0===e&&(e="="),this._paddingCharacter=e}return e.prototype.encodedLength=function(e){return this._paddingCharacter?(e+2)/3*4|0:(8*e+5)/6|0},e.prototype.encode=function(e){for(var t="",n=0;n<e.length-2;n+=3){var r=e[n]<<16|e[n+1]<<8|e[n+2];t+=this._encodeByte(r>>>18&63),t+=this._encodeByte(r>>>12&63),t+=this._encodeByte(r>>>6&63),t+=this._encodeByte(r>>>0&63)}var i=e.length-n;return i>0&&(r=e[n]<<16|(2===i?e[n+1]<<8:0),t+=this._encodeByte(r>>>18&63),t+=this._encodeByte(r>>>12&63),t+=2===i?this._encodeByte(r>>>6&63):this._paddingCharacter||"",t+=this._paddingCharacter||""),t},e.prototype.maxDecodedLength=function(e){return this._paddingCharacter?e/4*3|0:(6*e+7)/8|0},e.prototype.decodedLength=function(e){return this.maxDecodedLength(e.length-this._getPaddingLength(e))},e.prototype.decode=function(e){if(0===e.length)return new Uint8Array(0);for(var t=this._getPaddingLength(e),n=e.length-t,r=new Uint8Array(this.maxDecodedLength(n)),i=0,s=0,a=0,l=0,c=0,u=0,d=0;s<n-4;s+=4)l=this._decodeChar(e.charCodeAt(s+0)),c=this._decodeChar(e.charCodeAt(s+1)),u=this._decodeChar(e.charCodeAt(s+2)),d=this._decodeChar(e.charCodeAt(s+3)),r[i++]=l<<2|c>>>4,r[i++]=c<<4|u>>>2,r[i++]=u<<6|d,a|=l&o,a|=c&o,a|=u&o,a|=d&o;if(s<n-1&&(l=this._decodeChar(e.charCodeAt(s)),c=this._decodeChar(e.charCodeAt(s+1)),r[i++]=l<<2|c>>>4,a|=l&o,a|=c&o),s<n-2&&(u=this._decodeChar(e.charCodeAt(s+2)),r[i++]=c<<4|u>>>2,a|=u&o),s<n-3&&(d=this._decodeChar(e.charCodeAt(s+3)),r[i++]=u<<6|d,a|=d&o),0!==a)throw new Error("Base64Coder: incorrect characters for decoding");return r},e.prototype._encodeByte=function(e){var t=e;return t+=65,t+=25-e>>>8&6,t+=51-e>>>8&-75,t+=61-e>>>8&-15,t+=62-e>>>8&3,String.fromCharCode(t)},e.prototype._decodeChar=function(e){var t=o;return t+=(42-e&e-44)>>>8&-256+e-43+62,t+=(46-e&e-48)>>>8&-256+e-47+63,t+=(47-e&e-58)>>>8&-256+e-48+52,t+=(64-e&e-91)>>>8&-256+e-65+0,t+=(96-e&e-123)>>>8&-256+e-97+26},e.prototype._getPaddingLength=function(e){var t=0;if(this._paddingCharacter){for(var n=e.length-1;n>=0&&e[n]===this._paddingCharacter;n--)t++;if(e.length<4||t>2)throw new Error("Base64Coder: incorrect padding")}return t},e}();t.Coder=s;var a=new s;t.encode=function(e){return a.encode(e)},t.decode=function(e){return a.decode(e)};var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype._encodeByte=function(e){var t=e;return t+=65,t+=25-e>>>8&6,t+=51-e>>>8&-75,t+=61-e>>>8&-13,t+=62-e>>>8&49,String.fromCharCode(t)},t.prototype._decodeChar=function(e){var t=o;return t+=(44-e&e-46)>>>8&-256+e-45+62,t+=(94-e&e-96)>>>8&-256+e-95+63,t+=(47-e&e-58)>>>8&-256+e-48+52,t+=(64-e&e-91)>>>8&-256+e-65+0,t+=(96-e&e-123)>>>8&-256+e-97+26},t}(s);t.URLSafeCoder=l;var c=new l;t.encodeURLSafe=function(e){return c.encode(e)},t.decodeURLSafe=function(e){return c.decode(e)},t.encodedLength=function(e){return a.encodedLength(e)},t.maxDecodedLength=function(e){return a.maxDecodedLength(e)},t.decodedLength=function(e){return a.decodedLength(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="utf8: invalid string",i="utf8: invalid source encoding";function o(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128)t+=1;else if(i<2048)t+=2;else if(i<55296)t+=3;else{if(!(i<=57343))throw new Error(r);if(n>=e.length-1)throw new Error(r);n++,t+=4}}return t}t.encode=function(e){for(var t=new Uint8Array(o(e)),n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=192|i>>6,t[n++]=128|63&i):i<55296?(t[n++]=224|i>>12,t[n++]=128|i>>6&63,t[n++]=128|63&i):(r++,i=(1023&i)<<10,i|=1023&e.charCodeAt(r),i+=65536,t[n++]=240|i>>18,t[n++]=128|i>>12&63,t[n++]=128|i>>6&63,t[n++]=128|63&i)}return t},t.encodedLength=o,t.decode=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(128&r){var o=void 0;if(r<224){if(n>=e.length)throw new Error(i);if(128!=(192&(s=e[++n])))throw new Error(i);r=(31&r)<<6|63&s,o=128}else if(r<240){if(n>=e.length-1)throw new Error(i);var s=e[++n],a=e[++n];if(128!=(192&s)||128!=(192&a))throw new Error(i);r=(15&r)<<12|(63&s)<<6|63&a,o=2048}else{if(!(r<248))throw new Error(i);if(n>=e.length-2)throw new Error(i);s=e[++n],a=e[++n];var l=e[++n];if(128!=(192&s)||128!=(192&a)||128!=(192&l))throw new Error(i);r=(15&r)<<18|(63&s)<<12|(63&a)<<6|63&l,o=65536}if(r<o||r>=55296&&r<=57343)throw new Error(i);if(r>=65536){if(r>1114111)throw new Error(i);r-=65536,t.push(String.fromCharCode(55296|r>>10)),r=56320|1023&r}}t.push(String.fromCharCode(r))}return t.join("")}},function(e,t,n){!function(e){"use strict";var t=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=t(),a=t([1]),l=t([56129,1]),c=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,n,r){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n,e[t+4]=r>>24&255,e[t+5]=r>>16&255,e[t+6]=r>>8&255,e[t+7]=255&r}function m(e,t,n,r,i){var o,s=0;for(o=0;o<i;o++)s|=e[t+o]^n[r+o];return(1&s-1>>>8)-1}function g(e,t,n,r){return m(e,t,n,r,16)}function v(e,t,n,r){return m(e,t,n,r,32)}function y(e,t,n,r){!function(e,t,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,v=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,y=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,_=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,b=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,w=o,k=s,x=a,S=l,E=c,C=u,T=d,A=h,O=f,D=p,M=m,L=g,P=v,I=y,R=_,N=b,B=0;B<20;B+=2)w^=(i=(P^=(i=(O^=(i=(E^=(i=w+P|0)<<7|i>>>25)+w|0)<<9|i>>>23)+E|0)<<13|i>>>19)+O|0)<<18|i>>>14,C^=(i=(k^=(i=(I^=(i=(D^=(i=C+k|0)<<7|i>>>25)+C|0)<<9|i>>>23)+D|0)<<13|i>>>19)+I|0)<<18|i>>>14,M^=(i=(T^=(i=(x^=(i=(R^=(i=M+T|0)<<7|i>>>25)+M|0)<<9|i>>>23)+R|0)<<13|i>>>19)+x|0)<<18|i>>>14,N^=(i=(L^=(i=(A^=(i=(S^=(i=N+L|0)<<7|i>>>25)+N|0)<<9|i>>>23)+S|0)<<13|i>>>19)+A|0)<<18|i>>>14,w^=(i=(S^=(i=(x^=(i=(k^=(i=w+S|0)<<7|i>>>25)+w|0)<<9|i>>>23)+k|0)<<13|i>>>19)+x|0)<<18|i>>>14,C^=(i=(E^=(i=(A^=(i=(T^=(i=C+E|0)<<7|i>>>25)+C|0)<<9|i>>>23)+T|0)<<13|i>>>19)+A|0)<<18|i>>>14,M^=(i=(D^=(i=(O^=(i=(L^=(i=M+D|0)<<7|i>>>25)+M|0)<<9|i>>>23)+L|0)<<13|i>>>19)+O|0)<<18|i>>>14,N^=(i=(R^=(i=(I^=(i=(P^=(i=N+R|0)<<7|i>>>25)+N|0)<<9|i>>>23)+P|0)<<13|i>>>19)+I|0)<<18|i>>>14;w=w+o|0,k=k+s|0,x=x+a|0,S=S+l|0,E=E+c|0,C=C+u|0,T=T+d|0,A=A+h|0,O=O+f|0,D=D+p|0,M=M+m|0,L=L+g|0,P=P+v|0,I=I+y|0,R=R+_|0,N=N+b|0,e[0]=w>>>0&255,e[1]=w>>>8&255,e[2]=w>>>16&255,e[3]=w>>>24&255,e[4]=k>>>0&255,e[5]=k>>>8&255,e[6]=k>>>16&255,e[7]=k>>>24&255,e[8]=x>>>0&255,e[9]=x>>>8&255,e[10]=x>>>16&255,e[11]=x>>>24&255,e[12]=S>>>0&255,e[13]=S>>>8&255,e[14]=S>>>16&255,e[15]=S>>>24&255,e[16]=E>>>0&255,e[17]=E>>>8&255,e[18]=E>>>16&255,e[19]=E>>>24&255,e[20]=C>>>0&255,e[21]=C>>>8&255,e[22]=C>>>16&255,e[23]=C>>>24&255,e[24]=T>>>0&255,e[25]=T>>>8&255,e[26]=T>>>16&255,e[27]=T>>>24&255,e[28]=A>>>0&255,e[29]=A>>>8&255,e[30]=A>>>16&255,e[31]=A>>>24&255,e[32]=O>>>0&255,e[33]=O>>>8&255,e[34]=O>>>16&255,e[35]=O>>>24&255,e[36]=D>>>0&255,e[37]=D>>>8&255,e[38]=D>>>16&255,e[39]=D>>>24&255,e[40]=M>>>0&255,e[41]=M>>>8&255,e[42]=M>>>16&255,e[43]=M>>>24&255,e[44]=L>>>0&255,e[45]=L>>>8&255,e[46]=L>>>16&255,e[47]=L>>>24&255,e[48]=P>>>0&255,e[49]=P>>>8&255,e[50]=P>>>16&255,e[51]=P>>>24&255,e[52]=I>>>0&255,e[53]=I>>>8&255,e[54]=I>>>16&255,e[55]=I>>>24&255,e[56]=R>>>0&255,e[57]=R>>>8&255,e[58]=R>>>16&255,e[59]=R>>>24&255,e[60]=N>>>0&255,e[61]=N>>>8&255,e[62]=N>>>16&255,e[63]=N>>>24&255}(e,t,n,r)}function _(e,t,n,r){!function(e,t,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,v=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,y=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,_=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,b=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,w=0;w<20;w+=2)o^=(i=(v^=(i=(f^=(i=(c^=(i=o+v|0)<<7|i>>>25)+o|0)<<9|i>>>23)+c|0)<<13|i>>>19)+f|0)<<18|i>>>14,u^=(i=(s^=(i=(y^=(i=(p^=(i=u+s|0)<<7|i>>>25)+u|0)<<9|i>>>23)+p|0)<<13|i>>>19)+y|0)<<18|i>>>14,m^=(i=(d^=(i=(a^=(i=(_^=(i=m+d|0)<<7|i>>>25)+m|0)<<9|i>>>23)+_|0)<<13|i>>>19)+a|0)<<18|i>>>14,b^=(i=(g^=(i=(h^=(i=(l^=(i=b+g|0)<<7|i>>>25)+b|0)<<9|i>>>23)+l|0)<<13|i>>>19)+h|0)<<18|i>>>14,o^=(i=(l^=(i=(a^=(i=(s^=(i=o+l|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,u^=(i=(c^=(i=(h^=(i=(d^=(i=u+c|0)<<7|i>>>25)+u|0)<<9|i>>>23)+d|0)<<13|i>>>19)+h|0)<<18|i>>>14,m^=(i=(p^=(i=(f^=(i=(g^=(i=m+p|0)<<7|i>>>25)+m|0)<<9|i>>>23)+g|0)<<13|i>>>19)+f|0)<<18|i>>>14,b^=(i=(_^=(i=(y^=(i=(v^=(i=b+_|0)<<7|i>>>25)+b|0)<<9|i>>>23)+v|0)<<13|i>>>19)+y|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=u>>>0&255,e[5]=u>>>8&255,e[6]=u>>>16&255,e[7]=u>>>24&255,e[8]=m>>>0&255,e[9]=m>>>8&255,e[10]=m>>>16&255,e[11]=m>>>24&255,e[12]=b>>>0&255,e[13]=b>>>8&255,e[14]=b>>>16&255,e[15]=b>>>24&255,e[16]=d>>>0&255,e[17]=d>>>8&255,e[18]=d>>>16&255,e[19]=d>>>24&255,e[20]=h>>>0&255,e[21]=h>>>8&255,e[22]=h>>>16&255,e[23]=h>>>24&255,e[24]=f>>>0&255,e[25]=f>>>8&255,e[26]=f>>>16&255,e[27]=f>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,n,r)}var b=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(e,t,n,r,i,o,s){var a,l,c=new Uint8Array(16),u=new Uint8Array(64);for(l=0;l<16;l++)c[l]=0;for(l=0;l<8;l++)c[l]=o[l];for(;i>=64;){for(y(u,c,s,b),l=0;l<64;l++)e[t+l]=n[r+l]^u[l];for(a=1,l=8;l<16;l++)a=a+(255&c[l])|0,c[l]=255&a,a>>>=8;i-=64,t+=64,r+=64}if(i>0)for(y(u,c,s,b),l=0;l<i;l++)e[t+l]=n[r+l]^u[l];return 0}function k(e,t,n,r,i){var o,s,a=new Uint8Array(16),l=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=r[s];for(;n>=64;){for(y(l,a,i,b),s=0;s<64;s++)e[t+s]=l[s];for(o=1,s=8;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;n-=64,t+=64}if(n>0)for(y(l,a,i,b),s=0;s<n;s++)e[t+s]=l[s];return 0}function x(e,t,n,r,i){var o=new Uint8Array(32);_(o,r,i,b);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=r[a+16];return k(e,t,n,s,o)}function S(e,t,n,r,i,o,s){var a=new Uint8Array(32);_(a,o,s,b);for(var l=new Uint8Array(8),c=0;c<8;c++)l[c]=o[c+16];return w(e,t,n,r,i,l,a)}var E=function(e){var t,n,r,i,o,s,a,l;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,n=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|n<<3),r=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(n>>>10|r<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(r>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(s>>>11|a<<5),l=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|l<<8),this.r[9]=l>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function C(e,t,n,r,i,o){var s=new E(o);return s.update(n,r,i),s.finish(e,t),0}function T(e,t,n,r,i,o){var s=new Uint8Array(16);return C(s,0,n,r,i,o),g(e,t,s,0)}function A(e,t,n,r,i){var o;if(n<32)return-1;for(S(e,0,t,0,n,r,i),C(e,16,e,32,n-32,e),o=0;o<16;o++)e[o]=0;return 0}function O(e,t,n,r,i){var o,s=new Uint8Array(32);if(n<32)return-1;if(x(s,0,32,r,i),0!==T(t,16,t,32,n-32,s))return-1;for(S(e,0,t,0,n,r,i),o=0;o<32;o++)e[o]=0;return 0}function D(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function M(e){var t,n,r=1;for(t=0;t<16;t++)n=e[t]+r+65535,r=Math.floor(n/65536),e[t]=n-65536*r;e[0]+=r-1+37*(r-1)}function L(e,t,n){for(var r,i=~(n-1),o=0;o<16;o++)r=i&(e[o]^t[o]),e[o]^=r,t[o]^=r}function P(e,n){var r,i,o,s=t(),a=t();for(r=0;r<16;r++)a[r]=n[r];for(M(a),M(a),M(a),i=0;i<2;i++){for(s[0]=a[0]-65517,r=1;r<15;r++)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,L(a,s,1-o)}for(r=0;r<16;r++)e[2*r]=255&a[r],e[2*r+1]=a[r]>>8}function I(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return P(n,e),P(r,t),v(n,0,r,0)}function R(e){var t=new Uint8Array(32);return P(t,e),1&t[0]}function N(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function B(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]+n[r]}function F(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]-n[r]}function j(e,t,n){var r,i,o=0,s=0,a=0,l=0,c=0,u=0,d=0,h=0,f=0,p=0,m=0,g=0,v=0,y=0,_=0,b=0,w=0,k=0,x=0,S=0,E=0,C=0,T=0,A=0,O=0,D=0,M=0,L=0,P=0,I=0,R=0,N=n[0],B=n[1],F=n[2],j=n[3],z=n[4],H=n[5],$=n[6],U=n[7],W=n[8],q=n[9],V=n[10],Z=n[11],Y=n[12],G=n[13],K=n[14],X=n[15];o+=(r=t[0])*N,s+=r*B,a+=r*F,l+=r*j,c+=r*z,u+=r*H,d+=r*$,h+=r*U,f+=r*W,p+=r*q,m+=r*V,g+=r*Z,v+=r*Y,y+=r*G,_+=r*K,b+=r*X,s+=(r=t[1])*N,a+=r*B,l+=r*F,c+=r*j,u+=r*z,d+=r*H,h+=r*$,f+=r*U,p+=r*W,m+=r*q,g+=r*V,v+=r*Z,y+=r*Y,_+=r*G,b+=r*K,w+=r*X,a+=(r=t[2])*N,l+=r*B,c+=r*F,u+=r*j,d+=r*z,h+=r*H,f+=r*$,p+=r*U,m+=r*W,g+=r*q,v+=r*V,y+=r*Z,_+=r*Y,b+=r*G,w+=r*K,k+=r*X,l+=(r=t[3])*N,c+=r*B,u+=r*F,d+=r*j,h+=r*z,f+=r*H,p+=r*$,m+=r*U,g+=r*W,v+=r*q,y+=r*V,_+=r*Z,b+=r*Y,w+=r*G,k+=r*K,x+=r*X,c+=(r=t[4])*N,u+=r*B,d+=r*F,h+=r*j,f+=r*z,p+=r*H,m+=r*$,g+=r*U,v+=r*W,y+=r*q,_+=r*V,b+=r*Z,w+=r*Y,k+=r*G,x+=r*K,S+=r*X,u+=(r=t[5])*N,d+=r*B,h+=r*F,f+=r*j,p+=r*z,m+=r*H,g+=r*$,v+=r*U,y+=r*W,_+=r*q,b+=r*V,w+=r*Z,k+=r*Y,x+=r*G,S+=r*K,E+=r*X,d+=(r=t[6])*N,h+=r*B,f+=r*F,p+=r*j,m+=r*z,g+=r*H,v+=r*$,y+=r*U,_+=r*W,b+=r*q,w+=r*V,k+=r*Z,x+=r*Y,S+=r*G,E+=r*K,C+=r*X,h+=(r=t[7])*N,f+=r*B,p+=r*F,m+=r*j,g+=r*z,v+=r*H,y+=r*$,_+=r*U,b+=r*W,w+=r*q,k+=r*V,x+=r*Z,S+=r*Y,E+=r*G,C+=r*K,T+=r*X,f+=(r=t[8])*N,p+=r*B,m+=r*F,g+=r*j,v+=r*z,y+=r*H,_+=r*$,b+=r*U,w+=r*W,k+=r*q,x+=r*V,S+=r*Z,E+=r*Y,C+=r*G,T+=r*K,A+=r*X,p+=(r=t[9])*N,m+=r*B,g+=r*F,v+=r*j,y+=r*z,_+=r*H,b+=r*$,w+=r*U,k+=r*W,x+=r*q,S+=r*V,E+=r*Z,C+=r*Y,T+=r*G,A+=r*K,O+=r*X,m+=(r=t[10])*N,g+=r*B,v+=r*F,y+=r*j,_+=r*z,b+=r*H,w+=r*$,k+=r*U,x+=r*W,S+=r*q,E+=r*V,C+=r*Z,T+=r*Y,A+=r*G,O+=r*K,D+=r*X,g+=(r=t[11])*N,v+=r*B,y+=r*F,_+=r*j,b+=r*z,w+=r*H,k+=r*$,x+=r*U,S+=r*W,E+=r*q,C+=r*V,T+=r*Z,A+=r*Y,O+=r*G,D+=r*K,M+=r*X,v+=(r=t[12])*N,y+=r*B,_+=r*F,b+=r*j,w+=r*z,k+=r*H,x+=r*$,S+=r*U,E+=r*W,C+=r*q,T+=r*V,A+=r*Z,O+=r*Y,D+=r*G,M+=r*K,L+=r*X,y+=(r=t[13])*N,_+=r*B,b+=r*F,w+=r*j,k+=r*z,x+=r*H,S+=r*$,E+=r*U,C+=r*W,T+=r*q,A+=r*V,O+=r*Z,D+=r*Y,M+=r*G,L+=r*K,P+=r*X,_+=(r=t[14])*N,b+=r*B,w+=r*F,k+=r*j,x+=r*z,S+=r*H,E+=r*$,C+=r*U,T+=r*W,A+=r*q,O+=r*V,D+=r*Z,M+=r*Y,L+=r*G,P+=r*K,I+=r*X,b+=(r=t[15])*N,s+=38*(k+=r*F),a+=38*(x+=r*j),l+=38*(S+=r*z),c+=38*(E+=r*H),u+=38*(C+=r*$),d+=38*(T+=r*U),h+=38*(A+=r*W),f+=38*(O+=r*q),p+=38*(D+=r*V),m+=38*(M+=r*Z),g+=38*(L+=r*Y),v+=38*(P+=r*G),y+=38*(I+=r*K),_+=38*(R+=r*X),o=(r=(o+=38*(w+=r*B))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),_=(r=_+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),_=(r=_+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=l,e[4]=c,e[5]=u,e[6]=d,e[7]=h,e[8]=f,e[9]=p,e[10]=m,e[11]=g,e[12]=v,e[13]=y,e[14]=_,e[15]=b}function z(e,t){j(e,t,t)}function H(e,n){var r,i=t();for(r=0;r<16;r++)i[r]=n[r];for(r=253;r>=0;r--)z(i,i),2!==r&&4!==r&&j(i,i,n);for(r=0;r<16;r++)e[r]=i[r]}function $(e,n){var r,i=t();for(r=0;r<16;r++)i[r]=n[r];for(r=250;r>=0;r--)z(i,i),1!==r&&j(i,i,n);for(r=0;r<16;r++)e[r]=i[r]}function U(e,n,r){var i,o,s=new Uint8Array(32),a=new Float64Array(80),c=t(),u=t(),d=t(),h=t(),f=t(),p=t();for(o=0;o<31;o++)s[o]=n[o];for(s[31]=127&n[31]|64,s[0]&=248,N(a,r),o=0;o<16;o++)u[o]=a[o],h[o]=c[o]=d[o]=0;for(c[0]=h[0]=1,o=254;o>=0;--o)L(c,u,i=s[o>>>3]>>>(7&o)&1),L(d,h,i),B(f,c,d),F(c,c,d),B(d,u,h),F(u,u,h),z(h,f),z(p,c),j(c,d,c),j(d,u,f),B(f,c,d),F(c,c,d),z(u,c),F(d,h,p),j(c,d,l),B(c,c,h),j(d,d,c),j(c,h,p),j(h,u,a),z(u,f),L(c,u,i),L(d,h,i);for(o=0;o<16;o++)a[o+16]=c[o],a[o+32]=d[o],a[o+48]=u[o],a[o+64]=h[o];var m=a.subarray(32),g=a.subarray(16);return H(m,m),j(g,g,m),P(e,g),0}function W(e,t){return U(e,t,o)}function q(e,t){return r(t,32),W(e,t)}function V(e,t,n){var r=new Uint8Array(32);return U(r,n,t),_(e,i,r,b)}E.prototype.blocks=function(e,t,n){for(var r,i,o,s,a,l,c,u,d,h,f,p,m,g,v,y,_,b,w,k=this.fin?0:2048,x=this.h[0],S=this.h[1],E=this.h[2],C=this.h[3],T=this.h[4],A=this.h[5],O=this.h[6],D=this.h[7],M=this.h[8],L=this.h[9],P=this.r[0],I=this.r[1],R=this.r[2],N=this.r[3],B=this.r[4],F=this.r[5],j=this.r[6],z=this.r[7],H=this.r[8],$=this.r[9];n>=16;)h=d=0,h+=(x+=8191&(r=255&e[t+0]|(255&e[t+1])<<8))*P,h+=(S+=8191&(r>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*$),h+=(E+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*H),h+=(C+=8191&(o>>>7|(s=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*z),d=(h+=(T+=8191&(s>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*j))>>>13,h&=8191,h+=(A+=a>>>1&8191)*(5*F),h+=(O+=8191&(a>>>14|(l=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*B),h+=(D+=8191&(l>>>11|(c=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*N),h+=(M+=8191&(c>>>8|(u=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*R),f=d+=(h+=(L+=u>>>5|k)*(5*I))>>>13,f+=x*I,f+=S*P,f+=E*(5*$),f+=C*(5*H),d=(f+=T*(5*z))>>>13,f&=8191,f+=A*(5*j),f+=O*(5*F),f+=D*(5*B),f+=M*(5*N),d+=(f+=L*(5*R))>>>13,f&=8191,p=d,p+=x*R,p+=S*I,p+=E*P,p+=C*(5*$),d=(p+=T*(5*H))>>>13,p&=8191,p+=A*(5*z),p+=O*(5*j),p+=D*(5*F),p+=M*(5*B),m=d+=(p+=L*(5*N))>>>13,m+=x*N,m+=S*R,m+=E*I,m+=C*P,d=(m+=T*(5*$))>>>13,m&=8191,m+=A*(5*H),m+=O*(5*z),m+=D*(5*j),m+=M*(5*F),g=d+=(m+=L*(5*B))>>>13,g+=x*B,g+=S*N,g+=E*R,g+=C*I,d=(g+=T*P)>>>13,g&=8191,g+=A*(5*$),g+=O*(5*H),g+=D*(5*z),g+=M*(5*j),v=d+=(g+=L*(5*F))>>>13,v+=x*F,v+=S*B,v+=E*N,v+=C*R,d=(v+=T*I)>>>13,v&=8191,v+=A*P,v+=O*(5*$),v+=D*(5*H),v+=M*(5*z),y=d+=(v+=L*(5*j))>>>13,y+=x*j,y+=S*F,y+=E*B,y+=C*N,d=(y+=T*R)>>>13,y&=8191,y+=A*I,y+=O*P,y+=D*(5*$),y+=M*(5*H),_=d+=(y+=L*(5*z))>>>13,_+=x*z,_+=S*j,_+=E*F,_+=C*B,d=(_+=T*N)>>>13,_&=8191,_+=A*R,_+=O*I,_+=D*P,_+=M*(5*$),b=d+=(_+=L*(5*H))>>>13,b+=x*H,b+=S*z,b+=E*j,b+=C*F,d=(b+=T*B)>>>13,b&=8191,b+=A*N,b+=O*R,b+=D*I,b+=M*P,w=d+=(b+=L*(5*$))>>>13,w+=x*$,w+=S*H,w+=E*z,w+=C*j,d=(w+=T*F)>>>13,w&=8191,w+=A*B,w+=O*N,w+=D*R,w+=M*I,x=h=8191&(d=(d=((d+=(w+=L*P)>>>13)<<2)+d|0)+(h&=8191)|0),S=f+=d>>>=13,E=p&=8191,C=m&=8191,T=g&=8191,A=v&=8191,O=y&=8191,D=_&=8191,M=b&=8191,L=w&=8191,t+=16,n-=16;this.h[0]=x,this.h[1]=S,this.h[2]=E,this.h[3]=C,this.h[4]=T,this.h[5]=A,this.h[6]=O,this.h[7]=D,this.h[8]=M,this.h[9]=L},E.prototype.finish=function(e,t){var n,r,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,s[0]=this.h[0]+5,n=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+n,n=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,r=(1^n)-1,o=0;o<10;o++)s[o]&=r;for(r=~r,o=0;o<10;o++)this.h[o]=this.h[o]&r|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},E.prototype.update=function(e,t,n){var r,i;if(this.leftover){for((i=16-this.leftover)>n&&(i=n),r=0;r<i;r++)this.buffer[this.leftover+r]=e[t+r];if(n-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(i=n-n%16,this.blocks(e,t,i),t+=i,n-=i),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=e[t+r];this.leftover+=n}};var Z=A,Y=O,G=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function K(e,t,n,r){for(var i,o,s,a,l,c,u,d,h,f,p,m,g,v,y,_,b,w,k,x,S,E,C,T,A,O,D=new Int32Array(16),M=new Int32Array(16),L=e[0],P=e[1],I=e[2],R=e[3],N=e[4],B=e[5],F=e[6],j=e[7],z=t[0],H=t[1],$=t[2],U=t[3],W=t[4],q=t[5],V=t[6],Z=t[7],Y=0;r>=128;){for(k=0;k<16;k++)x=8*k+Y,D[k]=n[x+0]<<24|n[x+1]<<16|n[x+2]<<8|n[x+3],M[k]=n[x+4]<<24|n[x+5]<<16|n[x+6]<<8|n[x+7];for(k=0;k<80;k++)if(i=L,o=P,s=I,a=R,l=N,c=B,u=F,h=z,f=H,p=$,m=U,g=W,v=q,y=V,C=65535&(E=Z),T=E>>>16,A=65535&(S=j),O=S>>>16,C+=65535&(E=(W>>>14|N<<18)^(W>>>18|N<<14)^(N>>>9|W<<23)),T+=E>>>16,A+=65535&(S=(N>>>14|W<<18)^(N>>>18|W<<14)^(W>>>9|N<<23)),O+=S>>>16,C+=65535&(E=W&q^~W&V),T+=E>>>16,A+=65535&(S=N&B^~N&F),O+=S>>>16,S=G[2*k],C+=65535&(E=G[2*k+1]),T+=E>>>16,A+=65535&S,O+=S>>>16,S=D[k%16],T+=(E=M[k%16])>>>16,A+=65535&S,O+=S>>>16,A+=(T+=(C+=65535&E)>>>16)>>>16,C=65535&(E=w=65535&C|T<<16),T=E>>>16,A=65535&(S=b=65535&A|(O+=A>>>16)<<16),O=S>>>16,C+=65535&(E=(z>>>28|L<<4)^(L>>>2|z<<30)^(L>>>7|z<<25)),T+=E>>>16,A+=65535&(S=(L>>>28|z<<4)^(z>>>2|L<<30)^(z>>>7|L<<25)),O+=S>>>16,T+=(E=z&H^z&$^H&$)>>>16,A+=65535&(S=L&P^L&I^P&I),O+=S>>>16,d=65535&(A+=(T+=(C+=65535&E)>>>16)>>>16)|(O+=A>>>16)<<16,_=65535&C|T<<16,C=65535&(E=m),T=E>>>16,A=65535&(S=a),O=S>>>16,T+=(E=w)>>>16,A+=65535&(S=b),O+=S>>>16,P=i,I=o,R=s,N=a=65535&(A+=(T+=(C+=65535&E)>>>16)>>>16)|(O+=A>>>16)<<16,B=l,F=c,j=u,L=d,H=h,$=f,U=p,W=m=65535&C|T<<16,q=g,V=v,Z=y,z=_,k%16==15)for(x=0;x<16;x++)S=D[x],C=65535&(E=M[x]),T=E>>>16,A=65535&S,O=S>>>16,S=D[(x+9)%16],C+=65535&(E=M[(x+9)%16]),T+=E>>>16,A+=65535&S,O+=S>>>16,b=D[(x+1)%16],C+=65535&(E=((w=M[(x+1)%16])>>>1|b<<31)^(w>>>8|b<<24)^(w>>>7|b<<25)),T+=E>>>16,A+=65535&(S=(b>>>1|w<<31)^(b>>>8|w<<24)^b>>>7),O+=S>>>16,b=D[(x+14)%16],T+=(E=((w=M[(x+14)%16])>>>19|b<<13)^(b>>>29|w<<3)^(w>>>6|b<<26))>>>16,A+=65535&(S=(b>>>19|w<<13)^(w>>>29|b<<3)^b>>>6),O+=S>>>16,O+=(A+=(T+=(C+=65535&E)>>>16)>>>16)>>>16,D[x]=65535&A|O<<16,M[x]=65535&C|T<<16;C=65535&(E=z),T=E>>>16,A=65535&(S=L),O=S>>>16,S=e[0],T+=(E=t[0])>>>16,A+=65535&S,O+=S>>>16,O+=(A+=(T+=(C+=65535&E)>>>16)>>>16)>>>16,e[0]=L=65535&A|O<<16,t[0]=z=65535&C|T<<16,C=65535&(E=H),T=E>>>16,A=65535&(S=P),O=S>>>16,S=e[1],T+=(E=t[1])>>>16,A+=65535&S,O+=S>>>16,O+=(A+=(T+=(C+=65535&E)>>>16)>>>16)>>>16,e[1]=P=65535&A|O<<16,t[1]=H=65535&C|T<<16,C=65535&(E=$),T=E>>>16,A=65535&(S=I),O=S>>>16,S=e[2],T+=(E=t[2])>>>16,A+=65535&S,O+=S>>>16,O+=(A+=(T+=(C+=65535&E)>>>16)>>>16)>>>16,e[2]=I=65535&A|O<<16,t[2]=$=65535&C|T<<16,C=65535&(E=U),T=E>>>16,A=65535&(S=R),O=S>>>16,S=e[3],T+=(E=t[3])>>>16,A+=65535&S,O+=S>>>16,O+=(A+=(T+=(C+=65535&E)>>>16)>>>16)>>>16,e[3]=R=65535&A|O<<16,t[3]=U=65535&C|T<<16,C=65535&(E=W),T=E>>>16,A=65535&(S=N),O=S>>>16,S=e[4],T+=(E=t[4])>>>16,A+=65535&S,O+=S>>>16,O+=(A+=(T+=(C+=65535&E)>>>16)>>>16)>>>16,e[4]=N=65535&A|O<<16,t[4]=W=65535&C|T<<16,C=65535&(E=q),T=E>>>16,A=65535&(S=B),O=S>>>16,S=e[5],T+=(E=t[5])>>>16,A+=65535&S,O+=S>>>16,O+=(A+=(T+=(C+=65535&E)>>>16)>>>16)>>>16,e[5]=B=65535&A|O<<16,t[5]=q=65535&C|T<<16,C=65535&(E=V),T=E>>>16,A=65535&(S=F),O=S>>>16,S=e[6],T+=(E=t[6])>>>16,A+=65535&S,O+=S>>>16,O+=(A+=(T+=(C+=65535&E)>>>16)>>>16)>>>16,e[6]=F=65535&A|O<<16,t[6]=V=65535&C|T<<16,C=65535&(E=Z),T=E>>>16,A=65535&(S=j),O=S>>>16,S=e[7],T+=(E=t[7])>>>16,A+=65535&S,O+=S>>>16,O+=(A+=(T+=(C+=65535&E)>>>16)>>>16)>>>16,e[7]=j=65535&A|O<<16,t[7]=Z=65535&C|T<<16,Y+=128,r-=128}return r}function X(e,t,n){var r,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=n;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,K(i,o,t,n),n%=128,r=0;r<n;r++)s[r]=t[a-n+r];for(s[n]=128,s[(n=256-128*(n<112?1:0))-9]=0,p(s,n-8,a/536870912|0,a<<3),K(i,o,s,n),r=0;r<8;r++)p(e,8*r,i[r],o[r]);return 0}function J(e,n){var r=t(),i=t(),o=t(),s=t(),a=t(),l=t(),c=t(),d=t(),h=t();F(r,e[1],e[0]),F(h,n[1],n[0]),j(r,r,h),B(i,e[0],e[1]),B(h,n[0],n[1]),j(i,i,h),j(o,e[3],n[3]),j(o,o,u),j(s,e[2],n[2]),B(s,s,s),F(a,i,r),F(l,s,o),B(c,s,o),B(d,i,r),j(e[0],a,l),j(e[1],d,c),j(e[2],c,l),j(e[3],a,d)}function Q(e,t,n){var r;for(r=0;r<4;r++)L(e[r],t[r],n)}function ee(e,n){var r=t(),i=t(),o=t();H(o,n[2]),j(r,n[0],o),j(i,n[1],o),P(e,i),e[31]^=R(r)<<7}function te(e,t,n){var r,i;for(D(e[0],s),D(e[1],a),D(e[2],a),D(e[3],s),i=255;i>=0;--i)Q(e,t,r=n[i/8|0]>>(7&i)&1),J(t,e),J(e,e),Q(e,t,r)}function ne(e,n){var r=[t(),t(),t(),t()];D(r[0],d),D(r[1],h),D(r[2],a),j(r[3],d,h),te(e,r,n)}function re(e,n,i){var o,s=new Uint8Array(64),a=[t(),t(),t(),t()];for(i||r(n,32),X(s,n,32),s[0]&=248,s[31]&=127,s[31]|=64,ne(a,s),ee(e,a),o=0;o<32;o++)n[o+32]=e[o];return 0}var ie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function oe(e,t){var n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)t[i]+=n-16*t[r]*ie[i-(r-32)],n=Math.floor((t[i]+128)/256),t[i]-=256*n;t[i]+=n,t[r]=0}for(n=0,i=0;i<32;i++)t[i]+=n-(t[31]>>4)*ie[i],n=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=n*ie[i];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function se(e){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=e[t];for(t=0;t<64;t++)e[t]=0;oe(e,n)}function ae(e,n,r,i){var o,s,a=new Uint8Array(64),l=new Uint8Array(64),c=new Uint8Array(64),u=new Float64Array(64),d=[t(),t(),t(),t()];X(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var h=r+64;for(o=0;o<r;o++)e[64+o]=n[o];for(o=0;o<32;o++)e[32+o]=a[32+o];for(X(c,e.subarray(32),r+32),se(c),ne(d,c),ee(e,d),o=32;o<64;o++)e[o]=i[o];for(X(l,e,r+64),se(l),o=0;o<64;o++)u[o]=0;for(o=0;o<32;o++)u[o]=c[o];for(o=0;o<32;o++)for(s=0;s<32;s++)u[o+s]+=l[o]*a[s];return oe(e.subarray(32),u),h}function le(e,n,r,i){var o,l=new Uint8Array(32),u=new Uint8Array(64),d=[t(),t(),t(),t()],h=[t(),t(),t(),t()];if(r<64)return-1;if(function(e,n){var r=t(),i=t(),o=t(),l=t(),u=t(),d=t(),h=t();return D(e[2],a),N(e[1],n),z(o,e[1]),j(l,o,c),F(o,o,e[2]),B(l,e[2],l),z(u,l),z(d,u),j(h,d,u),j(r,h,o),j(r,r,l),$(r,r),j(r,r,o),j(r,r,l),j(r,r,l),j(e[0],r,l),z(i,e[0]),j(i,i,l),I(i,o)&&j(e[0],e[0],f),z(i,e[0]),j(i,i,l),I(i,o)?-1:(R(e[0])===n[31]>>7&&F(e[0],s,e[0]),j(e[3],e[0],e[1]),0)}(h,i))return-1;for(o=0;o<r;o++)e[o]=n[o];for(o=0;o<32;o++)e[o+32]=i[o];if(X(u,e,r),se(u),te(d,h,u),ne(h,n.subarray(32)),J(d,h),ee(l,d),r-=64,v(n,0,l,0)){for(o=0;o<r;o++)e[o]=0;return-1}for(o=0;o<r;o++)e[o]=n[o+64];return r}var ce=16,ue=64,de=32,he=64;function fe(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function pe(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function me(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:_,crypto_stream_xor:S,crypto_stream:x,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:k,crypto_onetimeauth:C,crypto_onetimeauth_verify:T,crypto_verify_16:g,crypto_verify_32:v,crypto_secretbox:A,crypto_secretbox_open:O,crypto_scalarmult:U,crypto_scalarmult_base:W,crypto_box_beforenm:V,crypto_box_afternm:Z,crypto_box:function(e,t,n,r,i,o){var s=new Uint8Array(32);return V(s,i,o),Z(e,t,n,r,s)},crypto_box_open:function(e,t,n,r,i,o){var s=new Uint8Array(32);return V(s,i,o),Y(e,t,n,r,s)},crypto_box_keypair:q,crypto_hash:X,crypto_sign:ae,crypto_sign_keypair:re,crypto_sign_open:le,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ce,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ue,crypto_sign_PUBLICKEYBYTES:de,crypto_sign_SECRETKEYBYTES:he,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:c,L:ie,pack25519:P,unpack25519:N,M:j,A:B,S:z,Z:F,pow2523:$,add:J,set25519:D,modL:oe,scalarmult:te,scalarbase:ne},e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,n){pe(e,t,n),fe(n,t);for(var r=new Uint8Array(32+e.length),i=new Uint8Array(r.length),o=0;o<e.length;o++)r[o+32]=e[o];return A(i,r,r.length,t,n),i.subarray(ce)},e.secretbox.open=function(e,t,n){pe(e,t,n),fe(n,t);for(var r=new Uint8Array(ce+e.length),i=new Uint8Array(r.length),o=0;o<e.length;o++)r[o+ce]=e[o];return r.length<32||0!==O(i,r,r.length,t,n)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ce,e.scalarMult=function(e,t){if(pe(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var n=new Uint8Array(32);return U(n,e,t),n},e.scalarMult.base=function(e){if(pe(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return W(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,n,r,i){var o=e.box.before(r,i);return e.secretbox(t,n,o)},e.box.before=function(e,t){pe(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var n=new Uint8Array(32);return V(n,e,t),n},e.box.after=e.secretbox,e.box.open=function(t,n,r,i){var o=e.box.before(r,i);return e.secretbox.open(t,n,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return q(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(pe(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return W(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(pe(e,t),t.length!==he)throw new Error("bad secret key size");var n=new Uint8Array(ue+e.length);return ae(n,e,e.length,t),n},e.sign.open=function(e,t){if(pe(e,t),t.length!==de)throw new Error("bad public key size");var n=new Uint8Array(e.length),r=le(n,e,e.length,t);if(r<0)return null;for(var i=new Uint8Array(r),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached=function(t,n){for(var r=e.sign(t,n),i=new Uint8Array(ue),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached.verify=function(e,t,n){if(pe(e,t,n),t.length!==ue)throw new Error("bad signature size");if(n.length!==de)throw new Error("bad public key size");var r,i=new Uint8Array(ue+e.length),o=new Uint8Array(ue+e.length);for(r=0;r<ue;r++)i[r]=t[r];for(r=0;r<e.length;r++)i[r+ue]=e[r];return le(o,i,i.length,n)>=0},e.sign.keyPair=function(){var e=new Uint8Array(de),t=new Uint8Array(he);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(pe(e),e.length!==he)throw new Error("bad secret key size");for(var t=new Uint8Array(de),n=0;n<t.length;n++)t[n]=e[32+n];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(pe(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(de),n=new Uint8Array(he),r=0;r<32;r++)n[r]=e[r];return re(t,n,!0),{publicKey:t,secretKey:n}},e.sign.publicKeyLength=de,e.sign.secretKeyLength=he,e.sign.seedLength=32,e.sign.signatureLength=ue,e.hash=function(e){pe(e);var t=new Uint8Array(64);return X(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return pe(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===m(e,0,t,0,e.length)},e.setPRNG=function(e){r=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&t.getRandomValues?e.setPRNG((function(e,n){var r,i=new Uint8Array(n);for(r=0;r<n;r+=65536)t.getRandomValues(i.subarray(r,r+Math.min(n-r,65536)));for(r=0;r<n;r++)e[r]=i[r];me(i)})):(t=n(4))&&t.randomBytes&&e.setPRNG((function(e,n){var r,i=t.randomBytes(n);for(r=0;r<n;r++)e[r]=i[r];me(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})},function(e,t,n){e.exports=n(5).default},function(e,t){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return It}));class r{constructor(e,t){this.lastId=0,this.prefix=e,this.name=t}create(e){this.lastId++;var t=this.lastId,n=this.prefix+t,r=this.name+"["+t+"]",i=!1,o=function(){i||(e.apply(null,arguments),i=!0)};return this[t]=o,{number:t,id:n,name:r,callback:o}}remove(e){delete this[e.number]}}var i=new r("_pusher_script_","Pusher.ScriptReceivers"),o={VERSION:"8.3.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},s=new r("_pusher_dependencies","Pusher.DependenciesReceivers"),a=new class{constructor(e){this.options=e,this.receivers=e.receivers||i,this.loading={}}load(e,t,n){var r=this;if(r.loading[e]&&r.loading[e].length>0)r.loading[e].push(n);else{r.loading[e]=[n];var i=ut.createScriptRequest(r.getPath(e,t)),o=r.receivers.create((function(t){if(r.receivers.remove(o),r.loading[e]){var n=r.loading[e];delete r.loading[e];for(var s=function(e){e||i.cleanup()},a=0;a<n.length;a++)n[a](t,s)}}));i.send(o)}}getRoot(e){var t=ut.getDocument().location.protocol;return(e&&e.useTLS||"https:"===t?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version}getPath(e,t){return this.getRoot(t)+"/"+e+this.options.suffix+".js"}}({cdn_http:o.cdn_http,cdn_https:o.cdn_https,version:o.VERSION,suffix:o.dependency_suffix,receivers:s});const l={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var c,u=function(e){const t=l.urls[e];if(!t)return"";let n;return t.fullUrl?n=t.fullUrl:t.path&&(n=l.baseUrl+t.path),n?`See: ${n}`:""};!function(e){e.UserAuthentication="user-authentication",e.ChannelAuthorization="channel-authorization"}(c||(c={}));class d extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class h extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class f extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class p extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class m extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class g extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class v extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class y extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class _ extends Error{constructor(e,t){super(t),this.status=e,Object.setPrototypeOf(this,new.target.prototype)}}for(var b=function(e,t,n,r,i){const o=ut.createXHR();for(var s in o.open("POST",n.endpoint,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.headers)o.setRequestHeader(s,n.headers[s]);if(null!=n.headersProvider){let e=n.headersProvider();for(var s in e)o.setRequestHeader(s,e[s])}return o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status){let e,t=!1;try{e=JSON.parse(o.responseText),t=!0}catch(e){i(new _(200,`JSON returned from ${r.toString()} endpoint was invalid, yet status code was 200. Data was: ${o.responseText}`),null)}t&&i(null,e)}else{let e="";switch(r){case c.UserAuthentication:e=u("authenticationEndpoint");break;case c.ChannelAuthorization:e=`Clients must be authorized to join private or presence channels. ${u("authorizationEndpoint")}`}i(new _(o.status,`Unable to retrieve auth string from ${r.toString()} endpoint - received status: ${o.status} from ${n.endpoint}. ${e}`),null)}},o.send(t),o},w=String.fromCharCode,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x={},S=0;S<64;S++)x[k.charAt(S)]=S;var E=function(e){var t=e.charCodeAt(0);return t<128?e:t<2048?w(192|t>>>6)+w(128|63&t):w(224|t>>>12&15)+w(128|t>>>6&63)+w(128|63&t)},C=function(e){return e.replace(/[^\x00-\x7F]/g,E)},T=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[k.charAt(n>>>18),k.charAt(n>>>12&63),t>=2?"=":k.charAt(n>>>6&63),t>=1?"=":k.charAt(63&n)].join("")},A=window.btoa||function(e){return e.replace(/[\s\S]{1,3}/g,T)},O=class{constructor(e,t,n,r){this.clear=t,this.timer=e((()=>{this.timer&&(this.timer=r(this.timer))}),n)}isRunning(){return null!==this.timer}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}};function D(e){window.clearTimeout(e)}function M(e){window.clearInterval(e)}class L extends O{constructor(e,t){super(setTimeout,D,e,(function(e){return t(),null}))}}class P extends O{constructor(e,t){super(setInterval,M,e,(function(e){return t(),e}))}}var I={now:()=>Date.now?Date.now():(new Date).valueOf(),defer:e=>new L(0,e),method(e,...t){var n=Array.prototype.slice.call(arguments,1);return function(t){return t[e].apply(t,n.concat(arguments))}}},R=I;function N(e,...t){for(var n=0;n<t.length;n++){var r=t[n];for(var i in r)r[i]&&r[i].constructor&&r[i].constructor===Object?e[i]=N(e[i]||{},r[i]):e[i]=r[i]}return e}function B(){for(var e=["Pusher"],t=0;t<arguments.length;t++)"string"==typeof arguments[t]?e.push(arguments[t]):e.push(Y(arguments[t]));return e.join(" : ")}function F(e,t){var n=Array.prototype.indexOf;if(null===e)return-1;if(n&&e.indexOf===n)return e.indexOf(t);for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}function j(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)}function z(e){var t=[];return j(e,(function(e,n){t.push(n)})),t}function H(e,t,n){for(var r=0;r<e.length;r++)t.call(n||window,e[r],r,e)}function $(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r,e,n));return n}function U(e,t){t=t||function(e){return!!e};for(var n=[],r=0;r<e.length;r++)t(e[r],r,e,n)&&n.push(e[r]);return n}function W(e,t){var n={};return j(e,(function(r,i){(t&&t(r,i,e,n)||Boolean(r))&&(n[i]=r)})),n}function q(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1}function V(e){return t=function(e){return"object"==typeof e&&(e=Y(e)),encodeURIComponent((t=e.toString(),A(C(t))));var t},n={},j(e,(function(e,r){n[r]=t(e)})),n;var t,n}function Z(e){var t,n,r=W(e,(function(e){return void 0!==e}));return $((t=V(r),n=[],j(t,(function(e,t){n.push([t,e])})),n),R.method("join","=")).join("&")}function Y(e){try{return JSON.stringify(e)}catch(r){return JSON.stringify((t=[],n=[],function e(r,i){var o,s,a;switch(typeof r){case"object":if(!r)return null;for(o=0;o<t.length;o+=1)if(t[o]===r)return{$ref:n[o]};if(t.push(r),n.push(i),"[object Array]"===Object.prototype.toString.apply(r))for(a=[],o=0;o<r.length;o+=1)a[o]=e(r[o],i+"["+o+"]");else for(s in a={},r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=e(r[s],i+"["+JSON.stringify(s)+"]"));return a;case"number":case"string":case"boolean":return r}}(e,"$")))}var t,n}var G=new class{constructor(){this.globalLog=e=>{window.console&&window.console.log&&window.console.log(e)}}debug(...e){this.log(this.globalLog,e)}warn(...e){this.log(this.globalLogWarn,e)}error(...e){this.log(this.globalLogError,e)}globalLogWarn(e){window.console&&window.console.warn?window.console.warn(e):this.globalLog(e)}globalLogError(e){window.console&&window.console.error?window.console.error(e):this.globalLogWarn(e)}log(e,...t){var n=B.apply(this,arguments);Lt.log?Lt.log(n):Lt.logToConsole&&e.bind(this)(n)}},K=function(e,t,n,r,i){void 0===n.headers&&null==n.headersProvider||G.warn(`To send headers with the ${r.toString()} request, you must use AJAX, rather than JSONP.`);var o=e.nextAuthCallbackID.toString();e.nextAuthCallbackID++;var s=e.getDocument(),a=s.createElement("script");e.auth_callbacks[o]=function(e){i(null,e)};var l="Pusher.auth_callbacks['"+o+"']";a.src=n.endpoint+"?callback="+encodeURIComponent(l)+"&"+t;var c=s.getElementsByTagName("head")[0]||s.documentElement;c.insertBefore(a,c.firstChild)};class X{constructor(e){this.src=e}send(e){var t=this,n="Error loading "+t.src;t.script=document.createElement("script"),t.script.id=e.id,t.script.src=t.src,t.script.type="text/javascript",t.script.charset="UTF-8",t.script.addEventListener?(t.script.onerror=function(){e.callback(n)},t.script.onload=function(){e.callback(null)}):t.script.onreadystatechange=function(){"loaded"!==t.script.readyState&&"complete"!==t.script.readyState||e.callback(null)},void 0===t.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(t.errorScript=document.createElement("script"),t.errorScript.id=e.id+"_error",t.errorScript.text=e.name+"('"+n+"');",t.script.async=t.errorScript.async=!1):t.script.async=!0;var r=document.getElementsByTagName("head")[0];r.insertBefore(t.script,r.firstChild),t.errorScript&&r.insertBefore(t.errorScript,t.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class J{constructor(e,t){this.url=e,this.data=t}send(e){if(!this.request){var t=Z(this.data),n=this.url+"/"+e.number+"?"+t;this.request=ut.createScriptRequest(n),this.request.send(e)}}cleanup(){this.request&&this.request.cleanup()}}var Q={name:"jsonp",getAgent:function(e,t){return function(n,r){var o="http"+(t?"s":"")+"://"+(e.host||e.options.host)+e.options.path,s=ut.createJSONPRequest(o,n),a=ut.ScriptReceivers.create((function(t,n){i.remove(a),s.cleanup(),n&&n.host&&(e.host=n.host),r&&r(t,n)}));s.send(a)}}};function ee(e,t,n){return e+(t.useTLS?"s":"")+"://"+(t.useTLS?t.hostTLS:t.hostNonTLS)+n}function te(e,t){return"/app/"+e+"?protocol="+o.PROTOCOL+"&client=js&version="+o.VERSION+(t?"&"+t:"")}var ne={getInitial:function(e,t){return ee("ws",t,(t.httpPath||"")+te(e,"flash=false"))}},re={getInitial:function(e,t){return ee("http",t,(t.httpPath||"/pusher")+te(e))}},ie={getInitial:function(e,t){return ee("http",t,t.httpPath||"/pusher")},getPath:function(e,t){return te(e)}};class oe{constructor(){this._callbacks={}}get(e){return this._callbacks[se(e)]}add(e,t,n){var r=se(e);this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push({fn:t,context:n})}remove(e,t,n){if(e||t||n){var r=e?[se(e)]:z(this._callbacks);t||n?this.removeCallback(r,t,n):this.removeAllCallbacks(r)}else this._callbacks={}}removeCallback(e,t,n){H(e,(function(e){this._callbacks[e]=U(this._callbacks[e]||[],(function(e){return t&&t!==e.fn||n&&n!==e.context})),0===this._callbacks[e].length&&delete this._callbacks[e]}),this)}removeAllCallbacks(e){H(e,(function(e){delete this._callbacks[e]}),this)}}function se(e){return"_"+e}class ae{constructor(e){this.callbacks=new oe,this.global_callbacks=[],this.failThrough=e}bind(e,t,n){return this.callbacks.add(e,t,n),this}bind_global(e){return this.global_callbacks.push(e),this}unbind(e,t,n){return this.callbacks.remove(e,t,n),this}unbind_global(e){return e?(this.global_callbacks=U(this.global_callbacks||[],(t=>t!==e)),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(e,t,n){for(var r=0;r<this.global_callbacks.length;r++)this.global_callbacks[r](e,t);var i=this.callbacks.get(e),o=[];if(n?o.push(t,n):t&&o.push(t),i&&i.length>0)for(r=0;r<i.length;r++)i[r].fn.apply(i[r].context||window,o);else this.failThrough&&this.failThrough(e,t);return this}}class le extends ae{constructor(e,t,n,r,i){super(),this.initialize=ut.transportConnectionInitializer,this.hooks=e,this.name=t,this.priority=n,this.key=r,this.options=i,this.state="new",this.timeline=i.timeline,this.activityTimeout=i.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return Boolean(this.hooks.handlesActivityChecks)}supportsPing(){return Boolean(this.hooks.supportsPing)}connect(){if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(e){return R.defer((()=>{this.onError(e),this.changeState("closed")})),!1}return this.bindListeners(),G.debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0}close(){return!!this.socket&&(this.socket.close(),!0)}send(e){return"open"===this.state&&(R.defer((()=>{this.socket&&this.socket.send(e)})),!0)}ping(){"open"===this.state&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(e){this.emit("error",{type:"WebSocketError",error:e}),this.timeline.error(this.buildTimelineMessage({error:e.toString()}))}onClose(e){e?this.changeState("closed",{code:e.code,reason:e.reason,wasClean:e.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(e){this.emit("message",e)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=e=>{this.onError(e)},this.socket.onclose=e=>{this.onClose(e)},this.socket.onmessage=e=>{this.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(e,t){this.state=e,this.timeline.info(this.buildTimelineMessage({state:e,params:t})),this.emit(e,t)}buildTimelineMessage(e){return N({cid:this.id},e)}}class ce{constructor(e){this.hooks=e}isSupported(e){return this.hooks.isSupported(e)}createConnection(e,t,n,r){return new le(this.hooks,e,t,n,r)}}var ue=new ce({urls:ne,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(ut.getWebSocketAPI())},isSupported:function(){return Boolean(ut.getWebSocketAPI())},getSocket:function(e){return ut.createWebSocket(e)}}),de={urls:re,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},he=N({getSocket:function(e){return ut.HTTPFactory.createStreamingSocket(e)}},de),fe=N({getSocket:function(e){return ut.HTTPFactory.createPollingSocket(e)}},de),pe={isSupported:function(){return ut.isXHRSupported()}},me={ws:ue,xhr_streaming:new ce(N({},he,pe)),xhr_polling:new ce(N({},fe,pe))},ge=new ce({file:"sockjs",urls:ie,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(e,t){return new window.SockJS(e,null,{js_path:a.getPath("sockjs",{useTLS:t.useTLS}),ignore_null_origin:t.ignoreNullOrigin})},beforeOpen:function(e,t){e.send(JSON.stringify({path:t}))}}),ve={isSupported:function(e){return ut.isXDRSupported(e.useTLS)}},ye=new ce(N({},he,ve)),_e=new ce(N({},fe,ve));me.xdr_streaming=ye,me.xdr_polling=_e,me.sockjs=ge;var be=me,we=new class extends ae{constructor(){super();var e=this;void 0!==window.addEventListener&&(window.addEventListener("online",(function(){e.emit("online")}),!1),window.addEventListener("offline",(function(){e.emit("offline")}),!1))}isOnline(){return void 0===window.navigator.onLine||window.navigator.onLine}};class ke{constructor(e,t,n){this.manager=e,this.transport=t,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}createConnection(e,t,n,r){r=N({},r,{activityTimeout:this.pingDelay});var i=this.transport.createConnection(e,t,n,r),o=null,s=function(){i.unbind("open",s),i.bind("closed",a),o=R.now()},a=e=>{if(i.unbind("closed",a),1002===e.code||1003===e.code)this.manager.reportDeath();else if(!e.wasClean&&o){var t=R.now()-o;t<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(t/2,this.minPingDelay))}};return i.bind("open",s),i}isSupported(e){return this.manager.isAlive()&&this.transport.isSupported(e)}}const xe={decodeMessage:function(e){try{var t=JSON.parse(e.data),n=t.data;if("string"==typeof n)try{n=JSON.parse(t.data)}catch(e){}var r={event:t.event,channel:t.channel,data:n};return t.user_id&&(r.user_id=t.user_id),r}catch(t){throw{type:"MessageParseError",error:t,data:e.data}}},encodeMessage:function(e){return JSON.stringify(e)},processHandshake:function(e){var t=xe.decodeMessage(e);if("pusher:connection_established"===t.event){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:1e3*t.data.activity_timeout}}if("pusher:error"===t.event)return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"},getCloseAction:function(e){return e.code<4e3?e.code>=1002&&e.code<=1004?"backoff":null:4e3===e.code?"tls_only":e.code<4100?"refused":e.code<4200?"backoff":e.code<4300?"retry":"refused"},getCloseError:function(e){return 1e3!==e.code&&1001!==e.code?{type:"PusherError",data:{code:e.code,message:e.reason||e.message}}:null}};var Se=xe;class Ee extends ae{constructor(e,t){super(),this.id=e,this.transport=t,this.activityTimeout=t.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(e){return this.transport.send(e)}send_event(e,t,n){var r={event:e,data:t};return n&&(r.channel=n),G.debug("Event sent",r),this.send(Se.encodeMessage(r))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var e={message:e=>{var t;try{t=Se.decodeMessage(e)}catch(t){this.emit("error",{type:"MessageParseError",error:t,data:e.data})}if(void 0!==t){switch(G.debug("Event recd",t),t.event){case"pusher:error":this.emit("error",{type:"PusherError",data:t.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong")}this.emit("message",t)}},activity:()=>{this.emit("activity")},error:e=>{this.emit("error",e)},closed:e=>{t(),e&&e.code&&this.handleCloseEvent(e),this.transport=null,this.emit("closed")}},t=()=>{j(e,((e,t)=>{this.transport.unbind(t,e)}))};j(e,((e,t)=>{this.transport.bind(t,e)}))}handleCloseEvent(e){var t=Se.getCloseAction(e),n=Se.getCloseError(e);n&&this.emit("error",n),t&&this.emit(t,{action:t,error:n})}}class Ce{constructor(e,t){this.transport=e,this.callback=t,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=e=>{var t;this.unbindListeners();try{t=Se.processHandshake(e)}catch(e){return this.finish("error",{error:e}),void this.transport.close()}"connected"===t.action?this.finish("connected",{connection:new Ee(t.id,this.transport),activityTimeout:t.activityTimeout}):(this.finish(t.action,{error:t.error}),this.transport.close())},this.onClosed=e=>{this.unbindListeners();var t=Se.getCloseAction(e)||"backoff",n=Se.getCloseError(e);this.finish(t,{error:n})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(e,t){this.callback(N({transport:this.transport,action:e},t))}}class Te{constructor(e,t){this.timeline=e,this.options=t||{}}send(e,t){this.timeline.isEmpty()||this.timeline.send(ut.TimelineTransport.getAgent(this,e),t)}}class Ae extends ae{constructor(e,t){super((function(t,n){G.debug("No callbacks on "+e+" for "+t)})),this.name=e,this.pusher=t,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(e,t){return t(null,{auth:""})}trigger(e,t){if(0!==e.indexOf("client-"))throw new d("Event '"+e+"' does not start with 'client-'");if(!this.subscribed){var n=u("triggeringClientEvents");G.warn(`Client event triggered before channel 'subscription_succeeded' event . ${n}`)}return this.pusher.send_event(e,t,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(e){var t=e.event,n=e.data;"pusher_internal:subscription_succeeded"===t?this.handleSubscriptionSucceededEvent(e):"pusher_internal:subscription_count"===t?this.handleSubscriptionCountEvent(e):0!==t.indexOf("pusher_internal:")&&this.emit(t,n,{})}handleSubscriptionSucceededEvent(e){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",e.data)}handleSubscriptionCountEvent(e){e.data.subscription_count&&(this.subscriptionCount=e.data.subscription_count),this.emit("pusher:subscription_count",e.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,((e,t)=>{e?(this.subscriptionPending=!1,G.error(e.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:e.message},e instanceof _?{status:e.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:t.auth,channel_data:t.channel_data,channel:this.name})})))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Oe extends Ae{authorize(e,t){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:e},t)}}class De{constructor(){this.reset()}get(e){return Object.prototype.hasOwnProperty.call(this.members,e)?{id:e,info:this.members[e]}:null}each(e){j(this.members,((t,n)=>{e(this.get(n))}))}setMyID(e){this.myID=e}onSubscription(e){this.members=e.presence.hash,this.count=e.presence.count,this.me=this.get(this.myID)}addMember(e){return null===this.get(e.user_id)&&this.count++,this.members[e.user_id]=e.user_info,this.get(e.user_id)}removeMember(e){var t=this.get(e.user_id);return t&&(delete this.members[e.user_id],this.count--),t}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var Me=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class Le extends Oe{constructor(e,t){super(e,t),this.members=new De}authorize(e,t){super.authorize(e,((e,n)=>Me(this,void 0,void 0,(function*(){if(!e)if(null!=n.channel_data){var r=JSON.parse(n.channel_data);this.members.setMyID(r.user_id)}else{if(yield this.pusher.user.signinDonePromise,null==this.pusher.user.user_data){let e=u("authorizationEndpoint");return G.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${e}, or the user should be signed in.`),void t("Invalid auth response")}this.members.setMyID(this.pusher.user.user_data.id)}t(e,n)}))))}handleEvent(e){var t=e.event;if(0===t.indexOf("pusher_internal:"))this.handleInternalEvent(e);else{var n=e.data,r={};e.user_id&&(r.user_id=e.user_id),this.emit(t,n,r)}}handleInternalEvent(e){var t=e.event,n=e.data;switch(t){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(e);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(e);break;case"pusher_internal:member_added":var r=this.members.addMember(n);this.emit("pusher:member_added",r);break;case"pusher_internal:member_removed":var i=this.members.removeMember(n);i&&this.emit("pusher:member_removed",i)}}handleSubscriptionSucceededEvent(e){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(e.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Pe=n(1),Ie=n(0);class Re extends Oe{constructor(e,t,n){super(e,t),this.key=null,this.nacl=n}authorize(e,t){super.authorize(e,((e,n)=>{if(e)return void t(e,n);let r=n.shared_secret;r?(this.key=Object(Ie.decode)(r),delete n.shared_secret,t(null,n)):t(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null)}))}trigger(e,t){throw new g("Client events are not currently supported for encrypted channels")}handleEvent(e){var t=e.event,n=e.data;0!==t.indexOf("pusher_internal:")&&0!==t.indexOf("pusher:")?this.handleEncryptedEvent(t,n):super.handleEvent(e)}handleEncryptedEvent(e,t){if(!this.key)return void G.debug("Received encrypted event before key has been retrieved from the authEndpoint");if(!t.ciphertext||!t.nonce)return void G.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+t);let n=Object(Ie.decode)(t.ciphertext);if(n.length<this.nacl.secretbox.overheadLength)return void G.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${n.length}`);let r=Object(Ie.decode)(t.nonce);if(r.length<this.nacl.secretbox.nonceLength)return void G.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${r.length}`);let i=this.nacl.secretbox.open(n,r,this.key);if(null===i)return G.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),void this.authorize(this.pusher.connection.socket_id,((t,o)=>{t?G.error(`Failed to make a request to the authEndpoint: ${o}. Unable to fetch new key, so dropping encrypted event`):(i=this.nacl.secretbox.open(n,r,this.key),null!==i?this.emit(e,this.getDataToEmit(i)):G.error("Failed to decrypt event with new key. Dropping encrypted event"))}));this.emit(e,this.getDataToEmit(i))}getDataToEmit(e){let t=Object(Pe.decode)(e);try{return JSON.parse(t)}catch(e){return t}}}class Ne extends ae{constructor(e,t){super(),this.state="initialized",this.connection=null,this.key=e,this.options=t,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var n=ut.getNetwork();n.bind("online",(()=>{this.timeline.info({netinfo:"online"}),"connecting"!==this.state&&"unavailable"!==this.state||this.retryIn(0)})),n.bind("offline",(()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()})),this.updateStrategy()}connect(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))}send(e){return!!this.connection&&this.connection.send(e)}send_event(e,t,n){return!!this.connection&&this.connection.send_event(e,t,n)}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var e=(t,n)=>{t?this.runner=this.strategy.connect(0,e):"error"===n.action?(this.emit("error",{type:"HandshakeError",error:n.error}),this.timeline.error({handshakeError:n.error})):(this.abortConnecting(),this.handshakeCallbacks[n.action](n))};this.runner=this.strategy.connect(0,e)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(e){this.timeline.info({action:"retry",delay:e}),e>0&&this.emit("connecting_in",Math.round(e/1e3)),this.retryTimer=new L(e||0,(()=>{this.disconnectInternally(),this.connect()}))}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new L(this.options.unavailableTimeout,(()=>{this.updateState("unavailable")}))}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new L(this.options.pongTimeout,(()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)}))}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new L(this.activityTimeout,(()=>{this.sendActivityCheck()})))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(e){return N({},e,{message:e=>{this.resetActivityCheck(),this.emit("message",e)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:e=>{this.emit("error",e)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(e){return N({},e,{connected:e=>{this.activityTimeout=Math.min(this.options.activityTimeout,e.activityTimeout,e.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(e.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let e=e=>t=>{t.error&&this.emit("error",{type:"WebSocketError",error:t.error}),e(t)};return{tls_only:e((()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)})),refused:e((()=>{this.disconnect()})),backoff:e((()=>{this.retryIn(1e3)})),retry:e((()=>{this.retryIn(0)}))}}setConnection(e){for(var t in this.connection=e,this.connectionCallbacks)this.connection.bind(t,this.connectionCallbacks[t]);this.resetActivityCheck()}abandonConnection(){if(this.connection){for(var e in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(e,this.connectionCallbacks[e]);var t=this.connection;return this.connection=null,t}}updateState(e,t){var n=this.state;if(this.state=e,n!==e){var r=e;"connected"===r&&(r+=" with new socket ID "+t.socket_id),G.debug("State changed",n+" -> "+r),this.timeline.info({state:e,params:t}),this.emit("state_change",{previous:n,current:e}),this.emit(e,t)}}shouldRetry(){return"connecting"===this.state||"connected"===this.state}}class Be{constructor(){this.channels={}}add(e,t){return this.channels[e]||(this.channels[e]=function(e,t){if(0===e.indexOf("private-encrypted-")){if(t.config.nacl)return Fe.createEncryptedChannel(e,t,t.config.nacl);let n="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",r=u("encryptedChannelSupport");throw new g(`${n}. ${r}`)}if(0===e.indexOf("private-"))return Fe.createPrivateChannel(e,t);if(0===e.indexOf("presence-"))return Fe.createPresenceChannel(e,t);if(0===e.indexOf("#"))throw new h('Cannot create a channel with name "'+e+'".');return Fe.createChannel(e,t)}(e,t)),this.channels[e]}all(){return function(e){var t=[];return j(e,(function(e){t.push(e)})),t}(this.channels)}find(e){return this.channels[e]}remove(e){var t=this.channels[e];return delete this.channels[e],t}disconnect(){j(this.channels,(function(e){e.disconnect()}))}}var Fe={createChannels:()=>new Be,createConnectionManager:(e,t)=>new Ne(e,t),createChannel:(e,t)=>new Ae(e,t),createPrivateChannel:(e,t)=>new Oe(e,t),createPresenceChannel:(e,t)=>new Le(e,t),createEncryptedChannel:(e,t,n)=>new Re(e,t,n),createTimelineSender:(e,t)=>new Te(e,t),createHandshake:(e,t)=>new Ce(e,t),createAssistantToTheTransportManager:(e,t,n)=>new ke(e,t,n)};class je{constructor(e){this.options=e||{},this.livesLeft=this.options.lives||1/0}getAssistant(e){return Fe.createAssistantToTheTransportManager(this,e,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class ze{constructor(e,t){this.strategies=e,this.loop=Boolean(t.loop),this.failFast=Boolean(t.failFast),this.timeout=t.timeout,this.timeoutLimit=t.timeoutLimit}isSupported(){return q(this.strategies,R.method("isSupported"))}connect(e,t){var n=this.strategies,r=0,i=this.timeout,o=null,s=(a,l)=>{l?t(null,l):(r+=1,this.loop&&(r%=n.length),r<n.length?(i&&(i*=2,this.timeoutLimit&&(i=Math.min(i,this.timeoutLimit))),o=this.tryStrategy(n[r],e,{timeout:i,failFast:this.failFast},s)):t(!0))};return o=this.tryStrategy(n[r],e,{timeout:i,failFast:this.failFast},s),{abort:function(){o.abort()},forceMinPriority:function(t){e=t,o&&o.forceMinPriority(t)}}}tryStrategy(e,t,n,r){var i=null,o=null;return n.timeout>0&&(i=new L(n.timeout,(function(){o.abort(),r(!0)}))),o=e.connect(t,(function(e,t){e&&i&&i.isRunning()&&!n.failFast||(i&&i.ensureAborted(),r(e,t))})),{abort:function(){i&&i.ensureAborted(),o.abort()},forceMinPriority:function(e){o.forceMinPriority(e)}}}}class He{constructor(e){this.strategies=e}isSupported(){return q(this.strategies,R.method("isSupported"))}connect(e,t){return function(e,t,n){var r=$(e,(function(e,r,i,o){return e.connect(t,n(r,o))}));return{abort:function(){H(r,$e)},forceMinPriority:function(e){H(r,(function(t){t.forceMinPriority(e)}))}}}(this.strategies,e,(function(e,n){return function(r,i){n[e].error=r,r?function(e){return function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n,e))return!1;return!0}(e,(function(e){return Boolean(e.error)}))}(n)&&t(!0):(H(n,(function(e){e.forceMinPriority(i.transport.priority)})),t(null,i))}}))}}function $e(e){e.error||e.aborted||(e.abort(),e.aborted=!0)}class Ue{constructor(e,t,n){this.strategy=e,this.transports=t,this.ttl=n.ttl||18e5,this.usingTLS=n.useTLS,this.timeline=n.timeline}isSupported(){return this.strategy.isSupported()}connect(e,t){var n=this.usingTLS,r=function(e){var t=ut.getLocalStorage();if(t)try{var n=t[We(e)];if(n)return JSON.parse(n)}catch(t){qe(e)}return null}(n),i=r&&r.cacheSkipCount?r.cacheSkipCount:0,o=[this.strategy];if(r&&r.timestamp+this.ttl>=R.now()){var s=this.transports[r.transport];s&&(["ws","wss"].includes(r.transport)||i>3?(this.timeline.info({cached:!0,transport:r.transport,latency:r.latency}),o.push(new ze([s],{timeout:2*r.latency+1e3,failFast:!0}))):i++)}var a=R.now(),l=o.pop().connect(e,(function r(s,c){s?(qe(n),o.length>0?(a=R.now(),l=o.pop().connect(e,r)):t(s)):(function(e,t,n,r){var i=ut.getLocalStorage();if(i)try{i[We(e)]=Y({timestamp:R.now(),transport:t,latency:n,cacheSkipCount:r})}catch(e){}}(n,c.transport.name,R.now()-a,i),t(null,c))}));return{abort:function(){l.abort()},forceMinPriority:function(t){e=t,l&&l.forceMinPriority(t)}}}}function We(e){return"pusherTransport"+(e?"TLS":"NonTLS")}function qe(e){var t=ut.getLocalStorage();if(t)try{delete t[We(e)]}catch(e){}}class Ve{constructor(e,{delay:t}){this.strategy=e,this.options={delay:t}}isSupported(){return this.strategy.isSupported()}connect(e,t){var n,r=this.strategy,i=new L(this.options.delay,(function(){n=r.connect(e,t)}));return{abort:function(){i.ensureAborted(),n&&n.abort()},forceMinPriority:function(t){e=t,n&&n.forceMinPriority(t)}}}}class Ze{constructor(e,t,n){this.test=e,this.trueBranch=t,this.falseBranch=n}isSupported(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()}connect(e,t){return(this.test()?this.trueBranch:this.falseBranch).connect(e,t)}}class Ye{constructor(e){this.strategy=e}isSupported(){return this.strategy.isSupported()}connect(e,t){var n=this.strategy.connect(e,(function(e,r){r&&n.abort(),t(e,r)}));return n}}function Ge(e){return function(){return e.isSupported()}}var Ke,Xe=function(e,t,n){var r={};function i(t,i,o,s,a){var l=n(e,t,i,o,s,a);return r[t]=l,l}var o,s=Object.assign({},t,{hostNonTLS:e.wsHost+":"+e.wsPort,hostTLS:e.wsHost+":"+e.wssPort,httpPath:e.wsPath}),a=Object.assign({},s,{useTLS:!0}),l=Object.assign({},t,{hostNonTLS:e.httpHost+":"+e.httpPort,hostTLS:e.httpHost+":"+e.httpsPort,httpPath:e.httpPath}),c={loop:!0,timeout:15e3,timeoutLimit:6e4},u=new je({minPingDelay:1e4,maxPingDelay:e.activityTimeout}),d=new je({lives:2,minPingDelay:1e4,maxPingDelay:e.activityTimeout}),h=i("ws","ws",3,s,u),f=i("wss","ws",3,a,u),p=i("sockjs","sockjs",1,l),m=i("xhr_streaming","xhr_streaming",1,l,d),g=i("xdr_streaming","xdr_streaming",1,l,d),v=i("xhr_polling","xhr_polling",1,l),y=i("xdr_polling","xdr_polling",1,l),_=new ze([h],c),b=new ze([f],c),w=new ze([p],c),k=new ze([new Ze(Ge(m),m,g)],c),x=new ze([new Ze(Ge(v),v,y)],c),S=new ze([new Ze(Ge(k),new He([k,new Ve(x,{delay:4e3})]),x)],c),E=new Ze(Ge(S),S,w);return o=t.useTLS?new He([_,new Ve(E,{delay:2e3})]):new He([_,new Ve(b,{delay:2e3}),new Ve(E,{delay:5e3})]),new Ue(new Ye(new Ze(Ge(h),o,E)),r,{ttl:18e5,timeline:t.timeline,useTLS:t.useTLS})},Je={getRequest:function(e){var t=new window.XDomainRequest;return t.ontimeout=function(){e.emit("error",new f),e.close()},t.onerror=function(t){e.emit("error",t),e.close()},t.onprogress=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText)},t.onload=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText),e.emit("finished",200),e.close()},t},abortRequest:function(e){e.ontimeout=e.onerror=e.onprogress=e.onload=null,e.abort()}};class Qe extends ae{constructor(e,t,n){super(),this.hooks=e,this.method=t,this.url=n}start(e){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},ut.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(e)}close(){this.unloader&&(ut.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(e,t){for(;;){var n=this.advanceBuffer(t);if(!n)break;this.emit("chunk",{status:e,data:n})}this.isBufferTooLong(t)&&this.emit("buffer_too_long")}advanceBuffer(e){var t=e.slice(this.position),n=t.indexOf("\n");return-1!==n?(this.position+=n+1,t.slice(0,n)):null}isBufferTooLong(e){return this.position===e.length&&e.length>262144}}!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSED=3]="CLOSED"}(Ke||(Ke={}));var et=Ke,tt=1;function nt(e){var t=-1===e.indexOf("?")?"?":"&";return e+t+"t="+ +new Date+"&n="+tt++}function rt(e){return ut.randomInt(e)}var it,ot=class{constructor(e,t){this.hooks=e,this.session=rt(1e3)+"/"+function(e){for(var t=[],n=0;n<e;n++)t.push(rt(32).toString(32));return t.join("")}(8),this.location=function(e){var t=/([^\?]*)\/*(\??.*)/.exec(e);return{base:t[1],queryString:t[2]}}(t),this.readyState=et.CONNECTING,this.openStream()}send(e){return this.sendRaw(JSON.stringify([e]))}ping(){this.hooks.sendHeartbeat(this)}close(e,t){this.onClose(e,t,!0)}sendRaw(e){if(this.readyState!==et.OPEN)return!1;try{return ut.createSocketRequest("POST",nt((t=this.location,n=this.session,t.base+"/"+n+"/xhr_send"))).start(e),!0}catch(e){return!1}var t,n}reconnect(){this.closeStream(),this.openStream()}onClose(e,t,n){this.closeStream(),this.readyState=et.CLOSED,this.onclose&&this.onclose({code:e,reason:t,wasClean:n})}onChunk(e){var t;if(200===e.status)switch(this.readyState===et.OPEN&&this.onActivity(),e.data.slice(0,1)){case"o":t=JSON.parse(e.data.slice(1)||"{}"),this.onOpen(t);break;case"a":t=JSON.parse(e.data.slice(1)||"[]");for(var n=0;n<t.length;n++)this.onEvent(t[n]);break;case"m":t=JSON.parse(e.data.slice(1)||"null"),this.onEvent(t);break;case"h":this.hooks.onHeartbeat(this);break;case"c":t=JSON.parse(e.data.slice(1)||"[]"),this.onClose(t[0],t[1],!0)}}onOpen(e){var t,n,r;this.readyState===et.CONNECTING?(e&&e.hostname&&(this.location.base=(t=this.location.base,n=e.hostname,(r=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(t))[1]+n+r[3])),this.readyState=et.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(e){this.readyState===et.OPEN&&this.onmessage&&this.onmessage({data:e})}onActivity(){this.onactivity&&this.onactivity()}onError(e){this.onerror&&this.onerror(e)}openStream(){this.stream=ut.createSocketRequest("POST",nt(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",(e=>{this.onChunk(e)})),this.stream.bind("finished",(e=>{this.hooks.onFinished(this,e)})),this.stream.bind("buffer_too_long",(()=>{this.reconnect()}));try{this.stream.start()}catch(e){R.defer((()=>{this.onError(e),this.onClose(1006,"Could not start streaming",!1)}))}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}},st={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr_streaming"+e.queryString},onHeartbeat:function(e){e.sendRaw("[]")},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){e.onClose(1006,"Connection interrupted ("+t+")",!1)}},at={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr"+e.queryString},onHeartbeat:function(){},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){200===t?e.reconnect():e.onClose(1006,"Connection interrupted ("+t+")",!1)}},lt={getRequest:function(e){var t=new(ut.getXHRAPI());return t.onreadystatechange=t.onprogress=function(){switch(t.readyState){case 3:t.responseText&&t.responseText.length>0&&e.onChunk(t.status,t.responseText);break;case 4:t.responseText&&t.responseText.length>0&&e.onChunk(t.status,t.responseText),e.emit("finished",t.status),e.close()}},t},abortRequest:function(e){e.onreadystatechange=null,e.abort()}},ct={createStreamingSocket(e){return this.createSocket(st,e)},createPollingSocket(e){return this.createSocket(at,e)},createSocket:(e,t)=>new ot(e,t),createXHR(e,t){return this.createRequest(lt,e,t)},createRequest:(e,t,n)=>new Qe(e,t,n),createXDR:function(e,t){return this.createRequest(Je,e,t)}},ut={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:i,DependenciesReceivers:s,getDefaultStrategy:Xe,Transports:be,transportConnectionInitializer:function(){var e=this;e.timeline.info(e.buildTimelineMessage({transport:e.name+(e.options.useTLS?"s":"")})),e.hooks.isInitialized()?e.changeState("initialized"):e.hooks.file?(e.changeState("initializing"),a.load(e.hooks.file,{useTLS:e.options.useTLS},(function(t,n){e.hooks.isInitialized()?(e.changeState("initialized"),n(!0)):(t&&e.onError(t),e.onClose(),n(!1))}))):e.onClose()},HTTPFactory:ct,TimelineTransport:Q,getXHRAPI:()=>window.XMLHttpRequest,getWebSocketAPI:()=>window.WebSocket||window.MozWebSocket,setup(e){window.Pusher=e;var t=()=>{this.onDocumentBody(e.ready)};window.JSON?t():a.load("json2",{},t)},getDocument:()=>document,getProtocol(){return this.getDocument().location.protocol},getAuthorizers:()=>({ajax:b,jsonp:K}),onDocumentBody(e){document.body?e():setTimeout((()=>{this.onDocumentBody(e)}),0)},createJSONPRequest:(e,t)=>new J(e,t),createScriptRequest:e=>new X(e),getLocalStorage(){try{return window.localStorage}catch(e){return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){return new(this.getXHRAPI())},createMicrosoftXHR:()=>new ActiveXObject("Microsoft.XMLHTTP"),getNetwork:()=>we,createWebSocket(e){return new(this.getWebSocketAPI())(e)},createSocketRequest(e,t){if(this.isXHRSupported())return this.HTTPFactory.createXHR(e,t);if(this.isXDRSupported(0===t.indexOf("https:")))return this.HTTPFactory.createXDR(e,t);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var e=this.getXHRAPI();return Boolean(e)&&void 0!==(new e).withCredentials},isXDRSupported(e){var t=e?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===t},addUnloadListener(e){void 0!==window.addEventListener?window.addEventListener("unload",e,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",e)},removeUnloadListener(e){void 0!==window.addEventListener?window.removeEventListener("unload",e,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",e)},randomInt:e=>Math.floor((window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)*e)};!function(e){e[e.ERROR=3]="ERROR",e[e.INFO=6]="INFO",e[e.DEBUG=7]="DEBUG"}(it||(it={}));var dt=it;class ht{constructor(e,t,n){this.key=e,this.session=t,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}log(e,t){e<=this.options.level&&(this.events.push(N({},t,{timestamp:R.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(e){this.log(dt.ERROR,e)}info(e){this.log(dt.INFO,e)}debug(e){this.log(dt.DEBUG,e)}isEmpty(){return 0===this.events.length}send(e,t){var n=N({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],e(n,((e,n)=>{e||this.sent++,t&&t(e,n)})),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class ft{constructor(e,t,n,r){this.name=e,this.priority=t,this.transport=n,this.options=r||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(e,t){if(!this.isSupported())return pt(new y,t);if(this.priority<e)return pt(new p,t);var n=!1,r=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),i=null,o=function(){r.unbind("initialized",o),r.connect()},s=function(){i=Fe.createHandshake(r,(function(e){n=!0,c(),t(null,e)}))},a=function(e){c(),t(e)},l=function(){var e;c(),e=Y(r),t(new m(e))},c=function(){r.unbind("initialized",o),r.unbind("open",s),r.unbind("error",a),r.unbind("closed",l)};return r.bind("initialized",o),r.bind("open",s),r.bind("error",a),r.bind("closed",l),r.initialize(),{abort:()=>{n||(c(),i?i.close():r.close())},forceMinPriority:e=>{n||this.priority<e&&(i?i.close():r.close())}}}}function pt(e,t){return R.defer((function(){t(e)})),{abort:function(){},forceMinPriority:function(){}}}const{Transports:mt}=ut;var gt=function(e,t,n,r,i,o){var s,a=mt[n];if(!a)throw new v(n);return e.enabledTransports&&-1===F(e.enabledTransports,t)||e.disabledTransports&&-1!==F(e.disabledTransports,t)?s=vt:(i=Object.assign({ignoreNullOrigin:e.ignoreNullOrigin},i),s=new ft(t,r,o?o.getAssistant(a):a,i)),s},vt={isSupported:function(){return!1},connect:function(e,t){var n=R.defer((function(){t(new y)}));return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}};function yt(e){if(null==e)throw"You must pass an options object";if(null==e.cluster)throw"Options object must provide a cluster";"disableStats"in e&&G.warn("The disableStats option is deprecated in favor of enableStats")}var _t=e=>{if(void 0===ut.getAuthorizers()[e.transport])throw`'${e.transport}' is not a recognized auth transport`;return(t,n)=>{const r=((e,t)=>{var n="socket_id="+encodeURIComponent(e.socketId);for(var r in t.params)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t.params[r]);if(null!=t.paramsProvider){let e=t.paramsProvider();for(var r in e)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(e[r])}return n})(t,e);ut.getAuthorizers()[e.transport](ut,r,e,c.UserAuthentication,n)}},bt=e=>{if(void 0===ut.getAuthorizers()[e.transport])throw`'${e.transport}' is not a recognized auth transport`;return(t,n)=>{const r=((e,t)=>{var n="socket_id="+encodeURIComponent(e.socketId);for(var r in n+="&channel_name="+encodeURIComponent(e.channelName),t.params)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t.params[r]);if(null!=t.paramsProvider){let e=t.paramsProvider();for(var r in e)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(e[r])}return n})(t,e);ut.getAuthorizers()[e.transport](ut,r,e,c.ChannelAuthorization,n)}};const wt=(e,t,n)=>{const r={authTransport:t.transport,authEndpoint:t.endpoint,auth:{params:t.params,headers:t.headers}};return(t,i)=>{const o=e.channel(t.channelName);n(o,r).authorize(t.socketId,i)}};function kt(e){return e.httpHost?e.httpHost:e.cluster?`sockjs-${e.cluster}.pusher.com`:o.httpHost}function xt(e){return e.wsHost?e.wsHost:`ws-${e.cluster}.pusher.com`}function St(e){return"https:"===ut.getProtocol()||!1!==e.forceTLS}function Et(e){return"enableStats"in e?e.enableStats:"disableStats"in e&&!e.disableStats}function Ct(e){const t=Object.assign(Object.assign({},o.userAuthentication),e.userAuthentication);return"customHandler"in t&&null!=t.customHandler?t.customHandler:_t(t)}function Tt(e,t){const n=function(e,t){let n;return"channelAuthorization"in e?n=Object.assign(Object.assign({},o.channelAuthorization),e.channelAuthorization):(n={transport:e.authTransport||o.authTransport,endpoint:e.authEndpoint||o.authEndpoint},"auth"in e&&("params"in e.auth&&(n.params=e.auth.params),"headers"in e.auth&&(n.headers=e.auth.headers)),"authorizer"in e&&(n.customHandler=wt(t,n,e.authorizer))),n}(e,t);return"customHandler"in n&&null!=n.customHandler?n.customHandler:bt(n)}class At extends ae{constructor(e){super((function(e,t){G.debug(`No callbacks on watchlist events for ${e}`)})),this.pusher=e,this.bindWatchlistInternalEvent()}handleEvent(e){e.data.events.forEach((e=>{this.emit(e.name,e)}))}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",(e=>{"pusher_internal:watchlist_events"===e.event&&this.handleEvent(e)}))}}var Ot=function(){let e,t;return{promise:new Promise(((n,r)=>{e=n,t=r})),resolve:e,reject:t}};class Dt extends ae{constructor(e){super((function(e,t){G.debug("No callbacks on user for "+e)})),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(e,t)=>{if(e)return G.warn(`Error during signin: ${e}`),void this._cleanup();this.pusher.send_event("pusher:signin",{auth:t.auth,user_data:t.user_data})},this.pusher=e,this.pusher.connection.bind("state_change",(({previous:e,current:t})=>{"connected"!==e&&"connected"===t&&this._signin(),"connected"===e&&"connected"!==t&&(this._cleanup(),this._newSigninPromiseIfNeeded())})),this.watchlist=new At(e),this.pusher.connection.bind("message",(e=>{"pusher:signin_success"===e.event&&this._onSigninSuccess(e.data),this.serverToUserChannel&&this.serverToUserChannel.name===e.channel&&this.serverToUserChannel.handleEvent(e)}))}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),"connected"===this.pusher.connection.state&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(e){try{this.user_data=JSON.parse(e.user_data)}catch(t){return G.error(`Failed parsing user data after signin: ${e.user_data}`),void this._cleanup()}if("string"!=typeof this.user_data.id||""===this.user_data.id)return G.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),void this._cleanup();this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){this.serverToUserChannel=new Ae(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global(((e,t)=>{0!==e.indexOf("pusher_internal:")&&0!==e.indexOf("pusher:")&&this.emit(e,t)})),(e=>{e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.pusher.connection.state||e.subscribe()})(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested)return;if(this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:e,resolve:t,reject:n}=Ot();e.done=!1;const r=()=>{e.done=!0};e.then(r).catch(r),this.signinDonePromise=e,this._signinDoneResolve=t}}class Mt{static ready(){Mt.isReady=!0;for(var e=0,t=Mt.instances.length;e<t;e++)Mt.instances[e].connect()}static getClientFeatures(){return z(W({ws:ut.Transports.ws},(function(e){return e.isSupported({})})))}constructor(e,t){!function(e){if(null==e)throw"You must pass your app key when you instantiate Pusher."}(e),yt(t),this.key=e,this.config=function(e,t){let n={activityTimeout:e.activityTimeout||o.activityTimeout,cluster:e.cluster,httpPath:e.httpPath||o.httpPath,httpPort:e.httpPort||o.httpPort,httpsPort:e.httpsPort||o.httpsPort,pongTimeout:e.pongTimeout||o.pongTimeout,statsHost:e.statsHost||o.stats_host,unavailableTimeout:e.unavailableTimeout||o.unavailableTimeout,wsPath:e.wsPath||o.wsPath,wsPort:e.wsPort||o.wsPort,wssPort:e.wssPort||o.wssPort,enableStats:Et(e),httpHost:kt(e),useTLS:St(e),wsHost:xt(e),userAuthenticator:Ct(e),channelAuthorizer:Tt(e,t)};return"disabledTransports"in e&&(n.disabledTransports=e.disabledTransports),"enabledTransports"in e&&(n.enabledTransports=e.enabledTransports),"ignoreNullOrigin"in e&&(n.ignoreNullOrigin=e.ignoreNullOrigin),"timelineParams"in e&&(n.timelineParams=e.timelineParams),"nacl"in e&&(n.nacl=e.nacl),n}(t,this),this.channels=Fe.createChannels(),this.global_emitter=new ae,this.sessionID=ut.randomInt(1e9),this.timeline=new ht(this.key,this.sessionID,{cluster:this.config.cluster,features:Mt.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:dt.INFO,version:o.VERSION}),this.config.enableStats&&(this.timelineSender=Fe.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+ut.TimelineTransport.name})),this.connection=Fe.createConnectionManager(this.key,{getStrategy:e=>ut.getDefaultStrategy(this.config,e,gt),timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:Boolean(this.config.useTLS)}),this.connection.bind("connected",(()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())})),this.connection.bind("message",(e=>{var t=0===e.event.indexOf("pusher_internal:");if(e.channel){var n=this.channel(e.channel);n&&n.handleEvent(e)}t||this.global_emitter.emit(e.event,e.data)})),this.connection.bind("connecting",(()=>{this.channels.disconnect()})),this.connection.bind("disconnected",(()=>{this.channels.disconnect()})),this.connection.bind("error",(e=>{G.warn(e)})),Mt.instances.push(this),this.timeline.info({instances:Mt.instances.length}),this.user=new Dt(this),Mt.isReady&&this.connect()}channel(e){return this.channels.find(e)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var e=this.connection.isUsingTLS(),t=this.timelineSender;this.timelineSenderTimer=new P(6e4,(function(){t.send(e)}))}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(e,t,n){return this.global_emitter.bind(e,t,n),this}unbind(e,t,n){return this.global_emitter.unbind(e,t,n),this}bind_global(e){return this.global_emitter.bind_global(e),this}unbind_global(e){return this.global_emitter.unbind_global(e),this}unbind_all(e){return this.global_emitter.unbind_all(),this}subscribeAll(){var e;for(e in this.channels.channels)this.channels.channels.hasOwnProperty(e)&&this.subscribe(e)}subscribe(e){var t=this.channels.add(e,this);return t.subscriptionPending&&t.subscriptionCancelled?t.reinstateSubscription():t.subscriptionPending||"connected"!==this.connection.state||t.subscribe(),t}unsubscribe(e){var t=this.channels.find(e);t&&t.subscriptionPending?t.cancelSubscription():(t=this.channels.remove(e))&&t.subscribed&&t.unsubscribe()}send_event(e,t,n){return this.connection.send_event(e,t,n)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}Mt.instances=[],Mt.isReady=!1,Mt.logToConsole=!1,Mt.Runtime=ut,Mt.ScriptReceivers=ut.ScriptReceivers,Mt.DependenciesReceivers=ut.DependenciesReceivers,Mt.auth_callbacks=ut.auth_callbacks;var Lt=Mt;ut.setup(Mt);var Pt=n(2);class It extends Lt{constructor(e,t){Lt.logToConsole=It.logToConsole,Lt.log=It.log,yt(t),t.nacl=Pt,super(e,t)}}}])},e.exports=t()},3083:(e,t,n)=>{e.exports=n(7480)},5798:e=>{"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC1738",i="RFC3986";e.exports={default:i,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:r,RFC3986:i}},129:(e,t,n)=>{"use strict";var r=n(8261),i=n(5235),o=n(5798);e.exports={formats:o,parse:i,stringify:r}},5235:(e,t,n)=>{"use strict";var r=n(2769),i=Object.prototype.hasOwnProperty,o=Array.isArray,s={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},l=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,a=n.depth>0&&/(\[[^[\]]*])/.exec(o),c=a?o.slice(0,a.index):o,u=[];if(c){if(!n.plainObjects&&i.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}for(var d=0;n.depth>0&&null!==(a=s.exec(o))&&d<n.depth;){if(d+=1,!n.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+o.slice(a.index)+"]"),function(e,t,n,r){for(var i=r?t:l(t,n),o=e.length-1;o>=0;--o){var s,a=e[o];if("[]"===a&&n.parseArrays)s=[].concat(i);else{s=n.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(c,10);n.parseArrays||""!==c?!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(s=[])[u]=i:"__proto__"!==c&&(s[c]=i):s={0:i}}i=s}return i}(u,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return s;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?s.charset:e.charset;return{allowDots:void 0===e.allowDots?s.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:s.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:s.comma,decoder:"function"==typeof e.decoder?e.decoder:s.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:s.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var u="string"==typeof e?function(e,t){var n,c={__proto__:null},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,h=u.split(t.delimiter,d),f=-1,p=t.charset;if(t.charsetSentinel)for(n=0;n<h.length;++n)0===h[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[n]?p="utf-8":"utf8=%26%2310003%3B"===h[n]&&(p="iso-8859-1"),f=n,n=h.length);for(n=0;n<h.length;++n)if(n!==f){var m,g,v=h[n],y=v.indexOf("]="),_=-1===y?v.indexOf("="):y+1;-1===_?(m=t.decoder(v,s.decoder,p,"key"),g=t.strictNullHandling?null:""):(m=t.decoder(v.slice(0,_),s.decoder,p,"key"),g=r.maybeMap(l(v.slice(_+1),t),(function(e){return t.decoder(e,s.decoder,p,"value")}))),g&&t.interpretNumericEntities&&"iso-8859-1"===p&&(g=a(g)),v.indexOf("[]=")>-1&&(g=o(g)?[g]:g),i.call(c,m)?c[m]=r.combine(c[m],g):c[m]=g}return c}(e,n):e,d=n.plainObjects?Object.create(null):{},h=Object.keys(u),f=0;f<h.length;++f){var p=h[f],m=c(p,u[p],n,"string"==typeof e);d=r.merge(d,m,n)}return!0===n.allowSparse?d:r.compact(d)}},8261:(e,t,n)=>{"use strict";var r=n(7478),i=n(2769),o=n(5798),s=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,c=Array.prototype.push,u=function(e,t){c.apply(e,l(t)?t:[t])},d=Date.prototype.toISOString,h=o.default,f={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:h,formatter:o.formatters[h],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},p={},m=function e(t,n,o,s,a,c,d,h,m,g,v,y,_,b,w,k){for(var x,S=t,E=k,C=0,T=!1;void 0!==(E=E.get(p))&&!T;){var A=E.get(t);if(C+=1,void 0!==A){if(A===C)throw new RangeError("Cyclic object value");T=!0}void 0===E.get(p)&&(C=0)}if("function"==typeof h?S=h(n,S):S instanceof Date?S=v(S):"comma"===o&&l(S)&&(S=i.maybeMap(S,(function(e){return e instanceof Date?v(e):e}))),null===S){if(a)return d&&!b?d(n,f.encoder,w,"key",y):n;S=""}if("string"==typeof(x=S)||"number"==typeof x||"boolean"==typeof x||"symbol"==typeof x||"bigint"==typeof x||i.isBuffer(S))return d?[_(b?n:d(n,f.encoder,w,"key",y))+"="+_(d(S,f.encoder,w,"value",y))]:[_(n)+"="+_(String(S))];var O,D=[];if(void 0===S)return D;if("comma"===o&&l(S))b&&d&&(S=i.maybeMap(S,d)),O=[{value:S.length>0?S.join(",")||null:void 0}];else if(l(h))O=h;else{var M=Object.keys(S);O=m?M.sort(m):M}for(var L=s&&l(S)&&1===S.length?n+"[]":n,P=0;P<O.length;++P){var I=O[P],R="object"==typeof I&&void 0!==I.value?I.value:S[I];if(!c||null!==R){var N=l(S)?"function"==typeof o?o(L,I):L:L+(g?"."+I:"["+I+"]");k.set(t,C);var B=r();B.set(p,k),u(D,e(R,N,o,s,a,c,"comma"===o&&b&&l(S)?null:d,h,m,g,v,y,_,b,w,B))}}return D};e.exports=function(e,t){var n,i=e,c=function(e){if(!e)return f;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||f.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==e.format){if(!s.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=o.formatters[n],i=f.filter;return("function"==typeof e.filter||l(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:void 0===e.allowDots?f.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,delimiter:void 0===e.delimiter?f.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:f.encode,encoder:"function"==typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}}(t);"function"==typeof c.filter?i=(0,c.filter)("",i):l(c.filter)&&(n=c.filter);var d,h=[];if("object"!=typeof i||null===i)return"";d=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var p=a[d];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var g="comma"===p&&t&&t.commaRoundTrip;n||(n=Object.keys(i)),c.sort&&n.sort(c.sort);for(var v=r(),y=0;y<n.length;++y){var _=n[y];c.skipNulls&&null===i[_]||u(h,m(i[_],_,p,g,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,v))}var b=h.join(c.delimiter),w=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),b.length>0?w+b:""}},2769:(e,t,n)=>{"use strict";var r=n(5798),i=Object.prototype.hasOwnProperty,o=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],s=i.obj[i.prop],a=Object.keys(s),l=0;l<a.length;++l){var c=a[l],u=s[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:s,prop:c}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n,i,o){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var l="",c=0;c<a.length;++c){var u=a.charCodeAt(c);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||o===r.RFC1738&&(40===u||41===u)?l+=a.charAt(c):u<128?l+=s[u]:u<2048?l+=s[192|u>>6]+s[128|63&u]:u<55296||u>=57344?l+=s[224|u>>12]+s[128|u>>6&63]+s[128|63&u]:(c+=1,u=65536+((1023&u)<<10|1023&a.charCodeAt(c)),l+=s[240|u>>18]+s[128|u>>12&63]+s[128|u>>6&63]+s[128|63&u])}return l},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(o(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var s=t;return o(t)&&!o(n)&&(s=a(t,r)),o(t)&&o(n)?(n.forEach((function(n,o){if(i.call(t,o)){var s=t[o];s&&"object"==typeof s&&n&&"object"==typeof n?t[o]=e(s,n,r):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var s=n[o];return i.call(t,o)?t[o]=e(t[o],s,r):t[o]=s,t}),s)}}},1033:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),s="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&l()}function a(){s(o)}function l(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},h=y(0,0,0,0);function f(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+f(e["border-"+n+"-width"])}),0)}function m(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=d(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=f(o)}return t}(r),o=i.left+i.right,s=i.top+i.bottom,a=f(r.width),l=f(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==t&&(a-=p(r,"left","right")+o),Math.round(l+s)!==n&&(l-=p(r,"top","bottom")+s)),!function(e){return e===d(e).document.documentElement}(e)){var c=Math.round(a+o)-t,u=Math.round(l+s)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(u)&&(l-=u)}return y(i.left,i.top,a,l)}var g="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return i?g(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):m(e):h}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var _=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var n,r,i,o,s,a,l,c=(r=(n=t).x,i=n.y,o=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(a.prototype),u(l,{x:r,y:i,width:o,height:s,top:i,right:r+o,bottom:s+i,left:r}),l);u(this,{target:e,contentRect:c})},w=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new _(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),k="undefined"!=typeof WeakMap?new WeakMap:new r,x=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new w(t,n,this);k.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){x.prototype[e]=function(){var t;return(t=k.get(this))[e].apply(t,arguments)}}));const S=void 0!==o.ResizeObserver?o.ResizeObserver:x},7771:(e,t,n)=>{"use strict";var r=n(210),i=n(2296),o=n(1044)(),s=n(7296),a=r("%TypeError%"),l=r("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new a("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||l(t)!==t)throw new a("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,c=!0;if("length"in e&&s){var u=s(e,"length");u&&!u.configurable&&(r=!1),u&&!u.writable&&(c=!1)}return(r||c||!n)&&(o?i(e,"length",t,!0,!0):i(e,"length",t)),e}},7478:(e,t,n)=>{"use strict";var r=n(210),i=n(1924),o=n(631),s=r("%TypeError%"),a=r("%WeakMap%",!0),l=r("%Map%",!0),c=i("WeakMap.prototype.get",!0),u=i("WeakMap.prototype.set",!0),d=i("WeakMap.prototype.has",!0),h=i("Map.prototype.get",!0),f=i("Map.prototype.set",!0),p=i("Map.prototype.has",!0),m=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new s("Side channel does not contain "+o(e))},get:function(r){if(a&&r&&("object"==typeof r||"function"==typeof r)){if(e)return c(e,r)}else if(l){if(t)return h(t,r)}else if(n)return function(e,t){var n=m(e,t);return n&&n.value}(n,r)},has:function(r){if(a&&r&&("object"==typeof r||"function"==typeof r)){if(e)return d(e,r)}else if(l){if(t)return p(t,r)}else if(n)return function(e,t){return!!m(e,t)}(n,r);return!1},set:function(r,i){a&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new a),u(e,r,i)):l?(t||(t=new l),f(t,r,i)):(n||(n={key:{},next:null}),function(e,t,n){var r=m(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,i))}};return r}},7377:(e,t,n)=>{"use strict";var r=n(6994),i=n.n(r),o=n(6985),s={insert:"head",singleton:!1};i()(o.Z,s),o.Z.locals},6994:(e,t,n)=>{"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s=[];function a(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},r=[],i=0;i<e.length;i++){var o=e[i],l=t.base?o[0]+t.base:o[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=a(u),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(s[d].references++,s[d].updater(h)):s.push({identifier:u,updater:g(h,t),references:1}),r.push(u)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var s=o(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function h(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function f(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,m=0;function g(e,t){var n,r,i;if(t.singleton){var o=m++;n=p||(p=c(t)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=c(t),r=f.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=a(n[r]);s[i].references--}for(var o=l(e,t),c=0;c<n.length;c++){var u=a(n[c]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}n=o}}}},7575:e=>{!function(){"use strict";var t=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},n=function(e){return{eq:e}},r=n((function(e,t){return e===t})),i=function(e){return n((function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e.eq(t[i],n[i]))return!1;return!0}))},o=function(e,t){return function(e,t){return n((function(n,r){return e.eq(t(n),t(r))}))}(i(e),(function(e){return function(e,t){return Array.prototype.slice.call(e).sort(t)}(e,t)}))},s=function(e){return n((function(t,n){var i=Object.keys(t),s=Object.keys(n);if(!o(r).eq(i,s))return!1;for(var a=i.length,l=0;l<a;l++){var c=i[l];if(!e.eq(t[c],n[c]))return!1}return!0}))},a=n((function(e,n){if(e===n)return!0;var r=t(e);return r===t(n)&&(function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)}(r)?e===n:"array"===r?i(a).eq(e,n):"object"===r&&s(a).eq(e,n))}));const l=Object.getPrototypeOf,c=(e,t,n)=>{var r;return!!n(e,t.prototype)||(null===(r=e.constructor)||void 0===r?void 0:r.name)===t.name},u=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&c(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":t})(t)===e,d=e=>t=>typeof t===e,h=e=>t=>e===t,f=(e,t)=>m(e)&&c(e,t,((e,t)=>l(e)===t)),p=u("string"),m=u("object"),g=e=>f(e,Object),v=u("array"),y=h(null),_=d("boolean"),b=h(void 0),w=e=>null==e,k=e=>!w(e),x=d("function"),S=d("number"),E=(e,t)=>{if(v(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},C=()=>{},T=(e,t)=>(...n)=>e(t.apply(null,n)),A=(e,t)=>n=>e(t(n)),O=e=>()=>e,D=e=>e,M=(e,t)=>e===t;function L(e,...t){return(...n)=>{const r=t.concat(n);return e.apply(null,r)}}const P=e=>t=>!e(t),I=e=>()=>{throw new Error(e)},R=e=>e(),N=e=>{e()},B=O(!1),F=O(!0);class j{constructor(e,t){this.tag=e,this.value=t}static some(e){return new j(!0,e)}static none(){return j.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?j.some(e(this.value)):j.none()}bind(e){return this.tag?e(this.value):j.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:j.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return k(e)?j.some(e):j.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}j.singletonNone=new j(!1);const z=Array.prototype.slice,H=Array.prototype.indexOf,$=Array.prototype.push,U=(e,t)=>H.call(e,t),W=(e,t)=>U(e,t)>-1,q=(e,t)=>{for(let n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},V=(e,t)=>{const n=e.length,r=new Array(n);for(let i=0;i<n;i++){const n=e[i];r[i]=t(n,i)}return r},Z=(e,t)=>{for(let n=0,r=e.length;n<r;n++){t(e[n],n)}},Y=(e,t)=>{for(let n=e.length-1;n>=0;n--){t(e[n],n)}},G=(e,t)=>{const n=[],r=[];for(let i=0,o=e.length;i<o;i++){const o=e[i];(t(o,i)?n:r).push(o)}return{pass:n,fail:r}},K=(e,t)=>{const n=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];t(i,r)&&n.push(i)}return n},X=(e,t,n)=>(Y(e,((e,r)=>{n=t(n,e,r)})),n),J=(e,t,n)=>(Z(e,((e,r)=>{n=t(n,e,r)})),n),Q=(e,t,n)=>{for(let r=0,i=e.length;r<i;r++){const i=e[r];if(t(i,r))return j.some(i);if(n(i,r))break}return j.none()},ee=(e,t)=>Q(e,t,B),te=(e,t)=>{for(let n=0,r=e.length;n<r;n++){if(t(e[n],n))return j.some(n)}return j.none()},ne=e=>{const t=[];for(let n=0,r=e.length;n<r;++n){if(!v(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);$.apply(t,e[n])}return t},re=(e,t)=>ne(V(e,t)),ie=(e,t)=>{for(let n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},oe=e=>{const t=z.call(e,0);return t.reverse(),t},se=(e,t)=>K(e,(e=>!W(t,e))),ae=(e,t)=>{const n={};for(let r=0,i=e.length;r<i;r++){const i=e[r];n[String(i)]=t(i,r)}return n},le=(e,t)=>{const n=z.call(e,0);return n.sort(t),n},ce=(e,t)=>t>=0&&t<e.length?j.some(e[t]):j.none(),ue=e=>ce(e,0),de=e=>ce(e,e.length-1),he=x(Array.from)?Array.from:e=>z.call(e),fe=(e,t)=>{for(let n=0;n<e.length;n++){const r=t(e[n],n);if(r.isSome())return r}return j.none()},pe=Object.keys,me=Object.hasOwnProperty,ge=(e,t)=>{const n=pe(e);for(let r=0,i=n.length;r<i;r++){const i=n[r];t(e[i],i)}},ve=(e,t)=>ye(e,((e,n)=>({k:n,v:t(e,n)}))),ye=(e,t)=>{const n={};return ge(e,((e,r)=>{const i=t(e,r);n[i.k]=i.v})),n},_e=e=>(t,n)=>{e[n]=t},be=(e,t,n,r)=>{ge(e,((e,i)=>{(t(e,i)?n:r)(e,i)}))},we=(e,t)=>{const n={};return be(e,t,_e(n),C),n},ke=(e,t)=>{const n=[];return ge(e,((e,r)=>{n.push(t(e,r))})),n},xe=e=>ke(e,D),Se=(e,t)=>Ee(e,t)?j.from(e[t]):j.none(),Ee=(e,t)=>me.call(e,t),Ce=(e,t)=>Ee(e,t)&&void 0!==e[t]&&null!==e[t],Te=e=>{const t={};return Z(e,(e=>{t[e]={}})),pe(t)},Ae=e=>void 0!==e.length,Oe=Array.isArray,De=(e,t,n)=>{if(!e)return!1;if(n=n||e,Ae(e)){for(let r=0,i=e.length;r<i;r++)if(!1===t.call(n,e[r],r,e))return!1}else for(const r in e)if(Ee(e,r)&&!1===t.call(n,e[r],r,e))return!1;return!0},Me=(e,t)=>{const n=[];return De(e,((r,i)=>{n.push(t(r,i,e))})),n},Le=(e,t)=>{const n=[];return De(e,((r,i)=>{t&&!t(r,i,e)||n.push(r)})),n},Pe=(e,t,n,r)=>{let i=b(n)?e[0]:n;for(let n=0;n<e.length;n++)i=t.call(r,i,e[n],n);return i},Ie=(e,t,n)=>{for(let r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return r;return-1},Re=e=>e[e.length-1],Ne=e=>{let t,n=!1;return(...r)=>(n||(n=!0,t=e.apply(null,r)),t)},Be=()=>Fe(0,0),Fe=(e,t)=>({major:e,minor:t}),je={nu:Fe,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?Be():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const r=e[n];if(r.test(t))return r}})(e,t);if(!n)return{major:0,minor:0};const r=e=>Number(t.replace(n,"$"+e));return Fe(r(1),r(2))})(e,n)},unknown:Be},ze=(e,t)=>{const n=String(t).toLowerCase();return ee(e,(e=>e.search(n)))},He=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,$e=(e,t)=>We(e,t)?((e,t)=>e.substring(t))(e,t.length):e,Ue=(e,t,n=0,r)=>{const i=e.indexOf(t,n);return-1!==i&&(!!b(r)||i+t.length<=r)},We=(e,t)=>He(e,t,0),qe=(e,t)=>He(e,t,e.length-t.length),Ve=e=>t=>t.replace(e,""),Ze=Ve(/^\s+|\s+$/g),Ye=Ve(/^\s+/g),Ge=Ve(/\s+$/g),Ke=e=>e.length>0,Xe=e=>!Ke(e),Je=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?j.none():j.some(n)},Qe=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,et=e=>t=>Ue(t,e),tt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Ue(e,"edge/")&&Ue(e,"chrome")&&Ue(e,"safari")&&Ue(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Qe],search:e=>Ue(e,"chrome")&&!Ue(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Ue(e,"msie")||Ue(e,"trident")},{name:"Opera",versionRegexes:[Qe,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:et("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:et("firefox")},{name:"Safari",versionRegexes:[Qe,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Ue(e,"safari")||Ue(e,"mobile/"))&&Ue(e,"applewebkit")}],nt=[{name:"Windows",search:et("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Ue(e,"iphone")||Ue(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:et("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:et("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:et("linux"),versionRegexes:[]},{name:"Solaris",search:et("sunos"),versionRegexes:[]},{name:"FreeBSD",search:et("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:et("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],rt={browsers:O(tt),oses:O(nt)},it="Edge",ot="Chromium",st="Opera",at="Firefox",lt="Safari",ct=e=>{const t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isEdge:r(it),isChromium:r(ot),isIE:r("IE"),isOpera:r(st),isFirefox:r(at),isSafari:r(lt)}},ut={unknown:()=>ct({current:void 0,version:je.unknown()}),nu:ct,edge:O(it),chromium:O(ot),ie:O("IE"),opera:O(st),firefox:O(at),safari:O(lt)},dt="Windows",ht="Android",ft="Linux",pt="macOS",mt="Solaris",gt="FreeBSD",vt="ChromeOS",yt=e=>{const t=e.current,n=e.version,r=e=>()=>t===e;return{current:t,version:n,isWindows:r(dt),isiOS:r("iOS"),isAndroid:r(ht),isMacOS:r(pt),isLinux:r(ft),isSolaris:r(mt),isFreeBSD:r(gt),isChromeOS:r(vt)}},_t={unknown:()=>yt({current:void 0,version:je.unknown()}),nu:yt,windows:O(dt),ios:O("iOS"),android:O(ht),linux:O(ft),macos:O(pt),solaris:O(mt),freebsd:O(gt),chromeos:O(vt)},bt=(e,t,n)=>{const r=rt.browsers(),i=rt.oses(),o=t.bind((e=>((e,t)=>fe(t.brands,(t=>{const n=t.brand.toLowerCase();return ee(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:je.nu(parseInt(t.version,10),0)})))})))(r,e))).orThunk((()=>((e,t)=>ze(e,t).map((e=>{const n=je.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(r,e))).fold(ut.unknown,ut.nu),s=((e,t)=>ze(e,t).map((e=>{const n=je.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(i,e).fold(_t.unknown,_t.nu),a=((e,t,n,r)=>{const i=e.isiOS()&&!0===/ipad/i.test(n),o=e.isiOS()&&!i,s=e.isiOS()||e.isAndroid(),a=s||r("(pointer:coarse)"),l=i||!o&&s&&r("(min-device-width:768px)"),c=o||s&&!l,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!u;return{isiPad:O(i),isiPhone:O(o),isTablet:O(l),isPhone:O(c),isTouch:O(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:O(u),isDesktop:O(d)}})(s,o,e,n);return{browser:o,os:s,deviceType:a}},wt=e=>window.matchMedia(e).matches;let kt=Ne((()=>bt(navigator.userAgent,j.from(navigator.userAgentData),wt)));const xt=()=>kt(),St=navigator.userAgent,Et=xt(),Ct=Et.browser,Tt=Et.os,At=Et.deviceType,Ot=-1!==St.indexOf("Windows Phone"),Dt={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Ct.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Ct.isIE(),windowsPhone:Ot,browser:{current:Ct.current,version:Ct.version,isChromium:Ct.isChromium,isEdge:Ct.isEdge,isFirefox:Ct.isFirefox,isIE:Ct.isIE,isOpera:Ct.isOpera,isSafari:Ct.isSafari},os:{current:Tt.current,version:Tt.version,isAndroid:Tt.isAndroid,isChromeOS:Tt.isChromeOS,isFreeBSD:Tt.isFreeBSD,isiOS:Tt.isiOS,isLinux:Tt.isLinux,isMacOS:Tt.isMacOS,isSolaris:Tt.isSolaris,isWindows:Tt.isWindows},deviceType:{isDesktop:At.isDesktop,isiPad:At.isiPad,isiPhone:At.isiPhone,isPhone:At.isPhone,isTablet:At.isTablet,isTouch:At.isTouch,isWebView:At.isWebView}},Mt=/^\s*|\s*$/g,Lt=e=>w(e)?"":(""+e).replace(Mt,""),Pt=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),De(e,((e,i)=>!1!==t.call(r,e,i,n)&&(Pt(e,t,n,r),!0))))},It={trim:Lt,isArray:Oe,is:(e,t)=>t?!("array"!==t||!Oe(e))||typeof e===t:void 0!==e,toArray:e=>{if(Oe(e))return e;{const t=[];for(let n=0,r=e.length;n<r;n++)t[n]=e[n];return t}},makeMap:(e,t,n={})=>{const r=p(e)?e.split(t||","):e||[];let i=r.length;for(;i--;)n[r[i]]={};return n},each:De,map:Me,grep:Le,inArray:(e,t)=>{if(e)for(let n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},hasOwn:Ee,extend:(e,...t)=>{for(let n=0;n<t.length;n++){const r=t[n];for(const t in r)if(Ee(r,t)){const n=r[t];void 0!==n&&(e[t]=n)}}return e},walk:Pt,resolve:(e,t=window)=>{const n=e.split(".");for(let e=0,r=n.length;e<r&&(t=t[n[e]]);e++);return t},explode:(e,t)=>v(e)?e:""===e?[]:Me(e.split(t||","),Lt),_addCacheSuffix:e=>{const t=Dt.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},Rt=(e,t,n=M)=>e.exists((e=>n(e,t))),Nt=(e,t,n=M)=>Bt(e,t,n).getOr(e.isNone()&&t.isNone()),Bt=(e,t,n)=>e.isSome()&&t.isSome()?j.some(n(e.getOrDie(),t.getOrDie())):j.none(),Ft=(e,t)=>e?j.some(t):j.none(),jt="undefined"!=typeof window?window:Function("return this;")(),zt=(e,t)=>((e,t)=>{let n=null!=t?t:jt;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),Ht=(e,t)=>{const n=((e,t)=>zt(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n},$t=Object.getPrototypeOf,Ut=e=>{const t=zt("ownerDocument.defaultView",e);return m(e)&&((e=>Ht("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test($t(e).constructor.name))},Wt=e=>e.dom.nodeName.toLowerCase(),qt=e=>e.dom.nodeType,Vt=e=>t=>qt(t)===e,Zt=e=>Yt(e)&&Ut(e.dom),Yt=Vt(1),Gt=Vt(3),Kt=Vt(9),Xt=Vt(11),Jt=e=>t=>Yt(t)&&Wt(t)===e,Qt=(e,t,n)=>{if(!(p(n)||_(n)||S(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},en=(e,t,n)=>{Qt(e.dom,t,n)},tn=(e,t)=>{const n=e.dom;ge(t,((e,t)=>{Qt(n,t,e)}))},nn=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},rn=(e,t)=>j.from(nn(e,t)),on=(e,t)=>{const n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},sn=(e,t)=>{e.dom.removeAttribute(t)},an=e=>J(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),ln=(e,t)=>{const n=nn(e,t);return void 0===n||""===n?[]:n.split(" ")},cn=e=>void 0!==e.dom.classList,un=e=>ln(e,"class"),dn=(e,t)=>((e,t,n)=>{const r=ln(e,t).concat([n]);return en(e,t,r.join(" ")),!0})(e,"class",t),hn=(e,t)=>((e,t,n)=>{const r=K(ln(e,t),(e=>e!==n));return r.length>0?en(e,t,r.join(" ")):sn(e,t),!1})(e,"class",t),fn=(e,t)=>{cn(e)?e.dom.classList.add(t):dn(e,t)},pn=e=>{0===(cn(e)?e.dom.classList:un(e)).length&&sn(e,"class")},mn=(e,t)=>{if(cn(e)){e.dom.classList.remove(t)}else hn(e,t);pn(e)},gn=(e,t)=>{const n=cn(e)?e.dom.classList.toggle(t):((e,t)=>W(un(e),t)?hn(e,t):dn(e,t))(e,t);return pn(e),n},vn=(e,t)=>cn(e)&&e.dom.classList.contains(t),yn=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},_n={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return yn(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return yn(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return yn(n)},fromDom:yn,fromPoint:(e,t,n)=>j.from(e.dom.elementFromPoint(t,n)).map(yn)},bn=(e,t)=>{const n=[],r=e=>(n.push(e),t(e));let i=t(e);do{i=i.bind(r)}while(i.isSome());return n},wn=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},kn=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,xn=(e,t)=>e.dom===t.dom,Sn=(e,t)=>{const n=e.dom,r=t.dom;return n!==r&&n.contains(r)},En=e=>_n.fromDom(e.dom.ownerDocument),Cn=e=>Kt(e)?e:En(e),Tn=e=>_n.fromDom(Cn(e).dom.defaultView),An=e=>j.from(e.dom.parentNode).map(_n.fromDom),On=e=>j.from(e.dom.parentElement).map(_n.fromDom),Dn=(e,t)=>{const n=x(t)?t:B;let r=e.dom;const i=[];for(;null!==r.parentNode&&void 0!==r.parentNode;){const e=r.parentNode,t=_n.fromDom(e);if(i.push(t),!0===n(t))break;r=e}return i},Mn=e=>j.from(e.dom.previousSibling).map(_n.fromDom),Ln=e=>j.from(e.dom.nextSibling).map(_n.fromDom),Pn=e=>oe(bn(e,Mn)),In=e=>bn(e,Ln),Rn=e=>V(e.dom.childNodes,_n.fromDom),Nn=(e,t)=>{const n=e.dom.childNodes;return j.from(n[t]).map(_n.fromDom)},Bn=e=>Nn(e,0),Fn=e=>Nn(e,e.dom.childNodes.length-1),jn=e=>e.dom.childNodes.length,zn=e=>Xt(e)&&k(e.dom.host),Hn=x(Element.prototype.attachShadow)&&x(Node.prototype.getRootNode),$n=O(Hn),Un=Hn?e=>_n.fromDom(e.dom.getRootNode()):Cn,Wn=e=>zn(e)?e:(e=>{const t=e.dom.head;if(null==t)throw new Error("Head is not available yet");return _n.fromDom(t)})(Cn(e)),qn=e=>_n.fromDom(e.dom.host),Vn=e=>{if($n()&&k(e.target)){const t=_n.fromDom(e.target);if(Yt(t)&&Zn(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return ue(t)}}return j.from(e.target)},Zn=e=>k(e.dom.shadowRoot),Yn=e=>{const t=Gt(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(e=>{const t=Un(e);return zn(t)?j.some(t):j.none()})(_n.fromDom(t)).fold((()=>n.body.contains(t)),A(Yn,qn))};var Gn=(e,t,n,r,i)=>e(n,r)?j.some(n):x(i)&&i(n)?j.none():t(n,r,i);const Kn=(e,t,n)=>{let r=e.dom;const i=x(n)?n:B;for(;r.parentNode;){r=r.parentNode;const e=_n.fromDom(r);if(t(e))return j.some(e);if(i(e))break}return j.none()},Xn=(e,t,n)=>Gn(((e,t)=>t(e)),Kn,e,t,n),Jn=(e,t)=>ee(e.dom.childNodes,(e=>t(_n.fromDom(e)))).map(_n.fromDom),Qn=(e,t)=>{const n=e=>{for(let r=0;r<e.childNodes.length;r++){const i=_n.fromDom(e.childNodes[r]);if(t(i))return j.some(i);const o=n(e.childNodes[r]);if(o.isSome())return o}return j.none()};return n(e.dom)},er=(e,t,n)=>Kn(e,(e=>wn(e,t)),n),tr=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return kn(n)?j.none():j.from(n.querySelector(e)).map(_n.fromDom)})(t,e),nr=(e,t,n)=>Gn(((e,t)=>wn(e,t)),er,e,t,n),rr=(e,t=!1)=>{return Yn(e)?e.dom.isContentEditable:(n=e,nr(n,"[contenteditable]")).fold(O(t),(e=>"true"===ir(e)));var n},ir=e=>e.dom.contentEditable,or=e=>void 0!==e.style&&x(e.style.getPropertyValue),sr=(e,t,n)=>{if(!p(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);or(e)&&e.style.setProperty(t,n)},ar=(e,t,n)=>{const r=e.dom;sr(r,t,n)},lr=(e,t)=>{const n=e.dom;ge(t,((e,t)=>{sr(n,t,e)}))},cr=(e,t)=>{const n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||Yn(e)?r:ur(n,t)},ur=(e,t)=>or(e)?e.style.getPropertyValue(t):"",dr=(e,t)=>{const n=e.dom,r=ur(n,t);return j.from(r).filter((e=>e.length>0))},hr=e=>{const t={},n=e.dom;if(or(n))for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t[r]=n.style[r]}return t},fr=(e,t)=>{((e,t)=>{or(e)&&e.style.removeProperty(t)})(e.dom,t),Rt(rn(e,"style").map(Ze),"")&&sn(e,"style")},pr=(e,t)=>{An(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},mr=(e,t)=>{Ln(e).fold((()=>{An(e).each((e=>{vr(e,t)}))}),(e=>{pr(e,t)}))},gr=(e,t)=>{Bn(e).fold((()=>{vr(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},vr=(e,t)=>{e.dom.appendChild(t.dom)},yr=(e,t)=>{pr(e,t),vr(t,e)},_r=(e,t)=>{Z(t,(t=>{vr(e,t)}))},br=e=>{e.dom.textContent="",Z(Rn(e),(e=>{wr(e)}))},wr=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},kr=e=>{const t=Rn(e);var n,r;t.length>0&&(n=e,Z(r=t,((e,t)=>{const i=0===t?n:r[t-1];mr(i,e)}))),wr(e)},xr=e=>V(e,_n.fromDom),Sr=e=>e.dom.innerHTML,Er=(e,t)=>{const n=En(e).dom,r=_n.fromDom(n.createDocumentFragment()),i=((e,t)=>{const n=(t||document).createElement("div");return n.innerHTML=e,Rn(_n.fromDom(n))})(t,n);_r(r,i),br(e),vr(e,r)},Cr=(e,t)=>n=>{e(n)&&t((e=>{const t=_n.fromDom(Vn(e).getOr(e.target)),n=()=>e.stopPropagation(),r=()=>e.preventDefault(),i=T(r,n);return((e,t,n,r,i,o,s)=>({target:e,x:t,y:n,stop:r,prevent:i,kill:o,raw:s}))(t,e.clientX,e.clientY,n,r,i,e)})(n))},Tr=(e,t,n,r)=>((e,t,n,r,i)=>{const o=Cr(n,r);return e.dom.addEventListener(t,o,i),{unbind:L(Ar,e,t,o,i)}})(e,t,n,r,!1),Ar=(e,t,n,r)=>{e.dom.removeEventListener(t,n,r)},Or=(e,t)=>({left:e,top:t,translate:(n,r)=>Or(e+n,t+r)}),Dr=Or,Mr=(e,t)=>void 0!==e?e:void 0!==t?t:0,Lr=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?Dr(n.offsetLeft,n.offsetTop):Yn(e)?(e=>{const t=e.getBoundingClientRect();return Dr(t.left,t.top)})(t):Dr(0,0)},Pr=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return Dr(n,r)},Ir=(e,t,n)=>{const r=(void 0!==n?n.dom:document).defaultView;r&&r.scrollTo(e,t)},Rr=(e,t)=>{xt().browser.isSafari()&&x(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Nr=(e,t,n,r)=>({x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}),Br=e=>{const t=void 0===e?window:e,n=t.document,r=Pr(_n.fromDom(n));return(e=>{const t=void 0===e?window:e;return xt().browser.isFirefox()?j.none():j.from(t.visualViewport)})(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,i=e.clientHeight;return Nr(r.left,r.top,n,i)}),(e=>Nr(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)))},Fr=(e,t)=>{let n=[];return Z(Rn(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(Fr(e,t))})),n},jr=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return kn(n)?[]:V(n.querySelectorAll(e),_n.fromDom)})(t,e),zr=(e,t,n)=>er(e,t,n).isSome();class Hr{constructor(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node}prev(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node}prev2(e){return this.node=this.findPreviousNode(this.node,e),this.node}findSibling(e,t,n,r){if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){let t=e[n];if(t)return t;for(let r=e.parentNode;r&&r!==this.rootNode;r=r.parentNode)if(t=r[n],t)return t}}}findPreviousNode(e,t){if(e){const n=e.previousSibling;if(this.rootNode&&n===this.rootNode)return;if(n){if(!t)for(let e=n.lastChild;e;e=e.lastChild)if(!e.lastChild)return e;return n}const r=e.parentNode;if(r&&r!==this.rootNode)return r}}}const $r=e=>t=>!!t&&t.nodeType===e,Ur=e=>!!e&&!Object.getPrototypeOf(e),Wr=$r(1),qr=e=>Wr(e)&&Zt(_n.fromDom(e)),Vr=e=>{const t=e.toLowerCase();return e=>k(e)&&e.nodeName.toLowerCase()===t},Zr=e=>{const t=e.map((e=>e.toLowerCase()));return e=>{if(e&&e.nodeName){const n=e.nodeName.toLowerCase();return W(t,n)}return!1}},Yr=(e,t)=>{const n=t.toLowerCase().split(" ");return t=>{if(Wr(t)){const r=t.ownerDocument.defaultView;if(r)for(let i=0;i<n.length;i++){const o=r.getComputedStyle(t,null);if((o?o.getPropertyValue(e):null)===n[i])return!0}}return!1}},Gr=e=>t=>Wr(t)&&t.hasAttribute(e),Kr=e=>Wr(e)&&e.hasAttribute("data-mce-bogus"),Xr=e=>Wr(e)&&"TABLE"===e.tagName,Jr=e=>t=>{if(qr(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},Qr=Zr(["textarea","input"]),ei=$r(3),ti=$r(4),ni=$r(7),ri=$r(8),ii=$r(9),oi=$r(11),si=Vr("br"),ai=Vr("img"),li=Jr("true"),ci=Jr("false"),ui=Zr(["td","th"]),di=Zr(["td","th","caption"]),hi=Zr(["video","audio","object","embed"]),fi=Vr("li"),pi=Vr("details"),mi=Vr("summary"),gi="\ufeff",vi=" ",yi=e=>e===gi,_i=((e,t)=>{const n=t=>e(t)?j.from(t.dom.nodeValue):j.none();return{get:r=>{if(!e(r))throw new Error("Can only get "+t+" value of a "+t+" node");return n(r).getOr("")},getOption:n,set:(n,r)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=r}}})(Gt,"text"),bi=e=>_i.get(e),wi=e=>_i.getOption(e),ki=e=>{let t;return n=>(t=t||ae(e,F),Ee(t,Wt(n)))},xi=e=>Yt(e)&&"br"===Wt(e),Si=ki(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),Ei=ki(["ul","ol","dl"]),Ci=ki(["li","dd","dt"]),Ti=ki(["thead","tbody","tfoot"]),Ai=ki(["td","th"]),Oi=ki(["pre","script","textarea","style"]),Di=e=>{const t=jr(e,"br"),n=K((e=>{const t=[];let n=e.dom;for(;n;)t.push(_n.fromDom(n)),n=n.lastChild;return t})(e).slice(-1),xi);t.length===n.length&&Z(n,wr)},Mi=()=>{const e=_n.fromTag("br");return en(e,"data-mce-bogus","1"),e},Li=e=>{br(e),vr(e,Mi())},Pi=gi,Ii=yi,Ri=e=>e.replace(/\uFEFF/g,""),Ni=Wr,Bi=ei,Fi=e=>(Bi(e)&&(e=e.parentNode),Ni(e)&&e.hasAttribute("data-mce-caret")),ji=e=>Bi(e)&&Ii(e.data),zi=e=>Fi(e)||ji(e),Hi=e=>e.firstChild!==e.lastChild||!si(e.firstChild),$i=e=>{const t=e.container();return!!ei(t)&&(t.data.charAt(e.offset())===Pi||e.isAtStart()&&ji(t.previousSibling))},Ui=e=>{const t=e.container();return!!ei(t)&&(t.data.charAt(e.offset()-1)===Pi||e.isAtEnd()&&ji(t.nextSibling))},Wi=e=>Bi(e)&&e.data[0]===Pi,qi=e=>Bi(e)&&e.data[e.data.length-1]===Pi,Vi=e=>e&&e.hasAttribute("data-mce-caret")?((e=>{var t;const n=e.getElementsByTagName("br"),r=n[n.length-1];Kr(r)&&(null===(t=r.parentNode)||void 0===t||t.removeChild(r))})(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Zi=e=>Fi(e.startContainer),Yi=li,Gi=ci,Ki=si,Xi=ei,Ji=Zr(["script","style","textarea"]),Qi=Zr(["img","input","textarea","hr","iframe","video","audio","object","embed"]),eo=Zr(["table"]),to=zi,no=e=>!to(e)&&(Xi(e)?!Ji(e.parentNode):Qi(e)||Ki(e)||eo(e)||ro(e)),ro=e=>!(e=>Wr(e)&&"true"===e.getAttribute("unselectable"))(e)&&Gi(e),io=(e,t)=>no(e)&&((e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(ro(n))return!1;if(Yi(n))return!0}return!0})(e,t),oo=/^[ \t\r\n]*$/,so=e=>oo.test(e),ao=e=>{for(const t of e)if(!yi(t))return!1;return!0},lo=e=>"\n"===e||"\r"===e,co=(e,t=4,n=!0,r=!0)=>{const i=((e,t)=>t<=0?"":new Array(t+1).join(e))(" ",t),o=e.replace(/\t/g,i),s=J(o,((e,t)=>(e=>-1!==" \f\t\v".indexOf(e))(t)||t===vi?e.pcIsSpace||""===e.str&&n||e.str.length===o.length-1&&r||((e,t)=>t<e.length&&t>=0&&lo(e[t]))(o,e.str.length+1)?{pcIsSpace:!1,str:e.str+vi}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:lo(t),str:e.str+t}),{pcIsSpace:!1,str:""});return s.str},uo=(e,t)=>ei(e)&&so(e.data)&&!((e,t)=>{const n=_n.fromDom(t),r=_n.fromDom(e);return zr(r,"pre,code",L(xn,n))})(e,t),ho=(e,t)=>no(e)&&!uo(e,t)||(e=>Wr(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")))(e)||fo(e),fo=Gr("data-mce-bookmark"),po=Gr("data-mce-bogus"),mo=(go="data-mce-bogus",vo="all",e=>Wr(e)&&e.getAttribute(go)===vo);var go,vo;const yo=e=>On(_n.fromDom(e)).exists((e=>!rr(e))),_o=(e,t=!0)=>((e,t)=>{let n=0;if(ho(e,e))return!1;{let r=e.firstChild;if(!r)return!0;const i=new Hr(r,e);do{if(t){if(mo(r)){r=i.next(!0);continue}if(po(r)){r=i.next();continue}}if(li(r)&&yo(r))return!1;if(si(r))n++,r=i.next();else{if(ho(r,e))return!1;r=i.next()}}while(r);return n<=1}})(e.dom,t),bo=e=>"svg"===e.toLowerCase(),wo=e=>bo(e.nodeName),ko=e=>"svg"===(null==e?void 0:e.nodeName)?"svg":"html",xo=["svg"],So="data-mce-block",Eo=e=>V((e=>K(pe(e),(e=>!/[A-Z]/.test(e))))(e),(e=>`${e}:`+V(xo,(t=>`not(${t} ${e})`)).join(":"))).join(","),Co=(e,t)=>k(t.querySelector(e))?(t.setAttribute(So,"true"),"inline-boundary"===t.getAttribute("data-mce-selected")&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(So),!1),To=(e,t)=>{const n=Eo(e.getTransparentElements()),r=Eo(e.getBlockElements());return K(t.querySelectorAll(n),(e=>Co(r,e)))},Ao=(e,t)=>{var n;const r=t?"lastChild":"firstChild";for(let t=e[r];t;t=t[r])if(_o(_n.fromDom(t)))return void(null===(n=t.parentNode)||void 0===n||n.removeChild(t))},Oo=(e,t,n)=>{const r=e.getBlockElements(),i=_n.fromDom(t),o=e=>Wt(e)in r,s=e=>xn(e,i);Z(xr(n),(t=>{Kn(t,o,s).each((n=>{const r=((e,t)=>K(Rn(e),t))(t,(t=>o(t)&&!e.isValidChild(Wt(n),Wt(t))));if(r.length>0){const t=On(n);Z(r,(e=>{Kn(e,o,s).each((t=>{((e,t)=>{const n=document.createRange(),r=e.parentNode;if(r){n.setStartBefore(e),n.setEndBefore(t);const i=n.extractContents();Ao(i,!0),n.setStartAfter(t),n.setEndAfter(e);const o=n.extractContents();Ao(o,!1),_o(_n.fromDom(i))||r.insertBefore(i,e),_o(_n.fromDom(t))||r.insertBefore(t,e),_o(_n.fromDom(o))||r.insertBefore(o,e),r.removeChild(e)}})(t.dom,e.dom)}))})),t.each((t=>To(e,t.dom)))}}))}))},Do=(e,t)=>{const n=To(e,t);Oo(e,t,n),((e,t,n)=>{Z([...n,...Ro(e,t)?[t]:[]],(t=>Z(jr(_n.fromDom(t),t.nodeName.toLowerCase()),(t=>{No(e,t.dom)&&kr(t)}))))})(e,t,n)},Mo=(e,t)=>{if(Io(e,t)){const n=Eo(e.getBlockElements());Co(n,t)}},Lo=e=>e.hasAttribute(So),Po=(e,t)=>Ee(e.getTransparentElements(),t),Io=(e,t)=>Wr(t)&&Po(e,t.nodeName),Ro=(e,t)=>Io(e,t)&&Lo(t),No=(e,t)=>Io(e,t)&&!Lo(t),Bo=(e,t)=>1===t.type&&Po(e,t.name)&&p(t.attr(So)),Fo=xt().browser,jo=e=>ee(e,Yt),zo=(e,t)=>e.children&&W(e.children,t),Ho=(e,t,n)=>{let r=0,i=0;const o=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===cr(_n.fromDom(e),"position")){const n=t.getBoundingClientRect();return r=n.left+(o.documentElement.scrollLeft||e.scrollLeft)-o.documentElement.clientLeft,i=n.top+(o.documentElement.scrollTop||e.scrollTop)-o.documentElement.clientTop,{x:r,y:i}}let s=t;for(;s&&s!==n&&s.nodeType&&!zo(s,n);){const e=s;r+=e.offsetLeft||0,i+=e.offsetTop||0,s=e.offsetParent}for(s=t.parentNode;s&&s!==n&&s.nodeType&&!zo(s,n);)r-=s.scrollLeft||0,i-=s.scrollTop||0,s=s.parentNode;i+=(e=>Fo.isFirefox()&&"table"===Wt(e)?jo(Rn(e)).filter((e=>"caption"===Wt(e))).bind((e=>jo(In(e)).map((t=>{const n=t.dom.offsetTop,r=e.dom.offsetTop,i=e.dom.offsetHeight;return n<=r?-i:0})))).getOr(0):0)(_n.fromDom(t))}return{x:r,y:i}},$o=(e,t={})=>{let n=0;const r={},i=_n.fromDom(e),o=Cn(i),s=e=>{vr(Wn(i),e)},a=e=>{const t=Wn(i);tr(t,"#"+e).each(wr)},l=e=>Se(r,e).getOrThunk((()=>({id:"mce-u"+n++,passed:[],failed:[],count:0}))),c=e=>new Promise(((n,i)=>{let a;const c=It._addCacheSuffix(e),u=l(c);r[c]=u,u.count++;const d=(e,t)=>{Z(e,N),u.status=t,u.passed=[],u.failed=[],a&&(a.onload=null,a.onerror=null,a=null)},h=()=>d(u.passed,2),f=()=>d(u.failed,3);if(n&&u.passed.push(n),i&&u.failed.push(i),1===u.status)return;if(2===u.status)return void h();if(3===u.status)return void f();u.status=1;const p=_n.fromTag("link",o.dom);tn(p,{rel:"stylesheet",type:"text/css",id:u.id}),t.contentCssCors&&en(p,"crossOrigin","anonymous"),t.referrerPolicy&&en(p,"referrerpolicy",t.referrerPolicy),a=p.dom,a.onload=h,a.onerror=f,s(p),en(p,"href",c)})),u=e=>{const t=It._addCacheSuffix(e);Se(r,t).each((e=>{0===--e.count&&(delete r[t],a(e.id))}))};return{load:c,loadRawCss:(e,t)=>{const n=l(e);r[e]=n,n.count++;const i=_n.fromTag("style",o.dom);tn(i,{rel:"stylesheet",type:"text/css",id:n.id}),i.dom.innerHTML=t,s(i)},loadAll:e=>Promise.allSettled(V(e,(e=>c(e).then(O(e))))).then((e=>{const t=G(e,(e=>"fulfilled"===e.status));return t.fail.length>0?Promise.reject(V(t.fail,(e=>e.reason))):V(t.pass,(e=>e.value))})),unload:u,unloadRawCss:e=>{Se(r,e).each((t=>{0===--t.count&&(delete r[e],a(t.id))}))},unloadAll:e=>{Z(e,(e=>{u(e)}))},_setReferrerPolicy:e=>{t.referrerPolicy=e},_setContentCssCors:e=>{t.contentCssCors=e}}},Uo=(()=>{const e=new WeakMap;return{forElement:(t,n)=>{const r=Un(t).dom;return j.from(e.get(r)).getOrThunk((()=>{const t=$o(r,n);return e.set(r,t),t}))}}})(),Wo=(e,t,n)=>k(e)&&(ho(e,t)||n.isInline(e.nodeName.toLowerCase())),qo=e=>(e=>"span"===e.nodeName.toLowerCase())(e)&&"bookmark"===e.getAttribute("data-mce-type"),Vo=(e,t,n)=>ei(e)&&e.data.length>0&&((e,t,n)=>{const r=new Hr(e,t).prev(!1),i=new Hr(e,t).next(!1),o=b(r)||Wo(r,t,n),s=b(i)||Wo(i,t,n);return o&&s})(e,t,n),Zo=(e,t,n,r)=>{var i;const o=r||t;if(Wr(t)&&qo(t))return t;const s=t.childNodes;for(let t=s.length-1;t>=0;t--)Zo(e,s[t],n,o);if(Wr(t)){const e=t.childNodes;1===e.length&&qo(e[0])&&(null===(i=t.parentNode)||void 0===i||i.insertBefore(e[0],t))}return(e=>oi(e)||ii(e))(t)||ho(t,o)||(e=>!!Wr(e)&&e.childNodes.length>0)(t)||Vo(t,o,n)||e.remove(t),t},Yo=It.makeMap,Go=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ko=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xo=/[<>&\"\']/g,Jo=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Qo={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},es={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},ts={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},ns=(e,t)=>{const n={};if(e){const r=e.split(",");t=t||10;for(let e=0;e<r.length;e+=2){const i=String.fromCharCode(parseInt(r[e],t));if(!es[i]){const t="&"+r[e+1]+";";n[i]=t,n[t]=i}}return n}},rs=ns("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),is=(e,t)=>e.replace(t?Go:Ko,(e=>es[e]||e)),os=(e,t)=>e.replace(t?Go:Ko,(e=>e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":es[e]||"&#"+e.charCodeAt(0)+";")),ss=(e,t,n)=>{const r=n||rs;return e.replace(t?Go:Ko,(e=>es[e]||r[e]||e))},as={encodeRaw:is,encodeAllRaw:e=>(""+e).replace(Xo,(e=>es[e]||e)),encodeNumeric:os,encodeNamed:ss,getEncodeFunc:(e,t)=>{const n=ns(t)||rs,r=(e,t)=>e.replace(t?Go:Ko,(e=>void 0!==es[e]?es[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";")),i=(e,t)=>ss(e,t,n),o=Yo(e.replace(/\+/g,","));return o.named&&o.numeric?r:o.named?t?i:ss:o.numeric?os:is},decode:e=>e.replace(Jo,((e,t)=>t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Qo[t]||String.fromCharCode(t):ts[e]||rs[e]||(e=>{const t=_n.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e})(e)))},ls=(e,t)=>(e=It.trim(e))?e.split(t||" "):[],cs=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),us=(e,t)=>{const n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return re(ls(t,","),(t=>{const r=n.exec(t);if(r){const t=r[1],n=r[2],i=r[3],o=r[4],s=r[5],a={attributes:{},attributesOrder:[]};if(e.each((e=>((e,t)=>{ge(e.attributes,((e,n)=>{t.attributes[n]=e})),t.attributesOrder.push(...e.attributesOrder)})(e,a))),"#"===t?a.paddEmpty=!0:"-"===t&&(a.removeEmpty=!0),"!"===o&&(a.removeEmptyAttrs=!0),s&&((e,t)=>{const n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:i,attributesOrder:o}=t;Z(ls(e,"|"),(e=>{const s=n.exec(e);if(s){const e={},n=s[1],a=s[2].replace(/[\\:]:/g,":"),l=s[3],c=s[4];if("!"===n&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(a),e.required=!0),"-"===n)return delete i[a],void o.splice(It.inArray(o,a),1);if(l&&("="===l?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:a,value:c}),e.defaultValue=c):"~"===l?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:a,value:c}),e.forcedValue=c):"<"===l&&(e.validValues=It.makeMap(c,"?"))),r.test(a)){const n=e;t.attributePatterns=t.attributePatterns||[],n.pattern=cs(a),t.attributePatterns.push(n)}else i[a]||o.push(a),i[a]=e}}))})(s,a),i&&(a.outputName=n),"@"===n){if(!e.isNone())return[];e=j.some(a)}return[i?{name:n,element:a,aliasName:i}:{name:n,element:a}]}return[]}))},ds={},hs=It.makeMap,fs=It.each,ps=It.extend,ms=It.explode,gs=(e,t={})=>{const n=hs(e," ",hs(e.toUpperCase()," "));return ps(n,t)},vs=e=>gs("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),ys=(e,t)=>{if(e){const n={};return p(e)&&(e={"*":e}),fs(e,((e,r)=>{n[r]=n[r.toUpperCase()]="map"===t?hs(e,/[, ]/):ms(e,/[, ]/)})),n}},_s=(e={})=>{var t;const n={},r={};let i=[];const o={},s={},a=(t,n,r)=>{const i=e[t];if(i)return hs(i,/[, ]/,hs(i.toUpperCase(),/[, ]/));{let e=ds[t];return e||(e=gs(n,r),ds[t]=e),e}},l=null!==(t=e.schema)&&void 0!==t?t:"html5",c=(e=>{const{globalAttributes:t,phrasingContent:n,flowContent:r}=(e=>{let t,n,r;t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),"html5-strict"!==e&&(t+=" xml:lang",r=[r,"acronym applet basefont big font strike tt"].join(" "),n=[n,"center dir isindex noframes"].join(" "));const i=[n,r].join(" ");return{globalAttributes:t,blockContent:n,phrasingContent:r,flowContent:i}})(e),i={},o=(e,t,n)=>{i[e]={attributes:ae(t,O({})),attributesOrder:t,children:ae(n,O({}))}},s=(e,n="",r="")=>{const i=ls(r),s=ls(e);let a=s.length;const l=ls([t,n].join(" "));for(;a--;)o(s[a],l.slice(),i)},a=(e,t)=>{const n=ls(e),r=ls(t);let o=n.length;for(;o--;){const e=i[n[o]];for(let t=0,n=r.length;t<n;t++)e.attributes[r[t]]={},e.attributesOrder.push(r[t])}};"html5-strict"!==e&&(Z(ls("acronym applet basefont big font strike tt"),(e=>{s(e,"",n)})),Z(ls("center dir isindex noframes"),(e=>{s(e,"",r)})));return s("html","manifest","head body"),s("head","","base command link meta noscript script style title"),s("title hr noscript br"),s("base","href target"),s("link","href rel media hreflang type sizes hreflang"),s("meta","name http-equiv content charset"),s("style","media type scoped"),s("script","src async defer type charset"),s("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),s("dd div","",r),s("address dt caption","","html4"===e?n:r),s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),s("blockquote","cite",r),s("ol","reversed start type","li"),s("ul","","li"),s("li","value",r),s("dl","","dt dd"),s("a","href target rel media hreflang type","html4"===e?n:r),s("q","cite",n),s("ins del","cite datetime",r),s("img","src sizes srcset alt usemap ismap width height"),s("iframe","src name width height",r),s("embed","src type width height"),s("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),s("param","name value"),s("map","name",[r,"area"].join(" ")),s("area","alt coords shape href target rel media hreflang type"),s("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),s("colgroup","span","col"),s("col","span"),s("tbody thead tfoot","","tr"),s("tr","","td th"),s("td","colspan rowspan headers",r),s("th","colspan rowspan headers scope abbr",r),s("form","accept-charset action autocomplete enctype method name novalidate target",r),s("fieldset","disabled form name",[r,"legend"].join(" ")),s("label","form for",n),s("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),s("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?r:n),s("select","disabled form multiple name required size","option optgroup"),s("optgroup","disabled label","option"),s("option","disabled label selected value"),s("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),s("menu","type label",[r,"li"].join(" ")),s("noscript","",r),"html4"!==e&&(s("wbr"),s("ruby","",[n,"rt rp"].join(" ")),s("figcaption","",r),s("mark rt rp bdi","",n),s("summary","",[n,"h1 h2 h3 h4 h5 h6"].join(" ")),s("canvas","width height",r),s("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),s("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),s("picture","","img source"),s("source","src srcset type media sizes"),s("track","kind src srclang label default"),s("datalist","",[n,"option"].join(" ")),s("article section nav aside main header footer","",r),s("hgroup","","h1 h2 h3 h4 h5 h6"),s("figure","",[r,"figcaption"].join(" ")),s("time","datetime",n),s("dialog","open",r),s("command","type label icon disabled checked radiogroup command"),s("output","for form name",n),s("progress","value max",n),s("meter","value min max low high optimum",n),s("details","open",[r,"summary"].join(" ")),s("keygen","autofocus challenge disabled form keytype name"),o("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),"html5-strict"!==e&&(a("script","language xml:space"),a("style","xml:space"),a("object","declare classid code codebase codetype archive standby align border hspace vspace"),a("embed","align name hspace vspace"),a("param","valuetype type"),a("a","charset name rev shape coords"),a("br","clear"),a("applet","codebase archive code object alt name width height align hspace vspace"),a("img","name longdesc align border hspace vspace"),a("iframe","longdesc frameborder marginwidth marginheight scrolling align"),a("font basefont","size color face"),a("input","usemap align"),a("select"),a("textarea"),a("h1 h2 h3 h4 h5 h6 div p legend caption","align"),a("ul","type compact"),a("li","type"),a("ol dl menu dir","compact"),a("pre","width xml:space"),a("hr","align noshade size width"),a("isindex","prompt"),a("table","summary width frame rules cellspacing cellpadding align bgcolor"),a("col","width align char charoff valign"),a("colgroup","width align char charoff valign"),a("thead","align char charoff valign"),a("tr","align char charoff valign bgcolor"),a("th","axis align char charoff valign nowrap bgcolor width height"),a("form","accept"),a("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),a("tfoot","align char charoff valign"),a("tbody","align char charoff valign"),a("area","nohref"),a("body","background bgcolor text link vlink alink")),"html4"!==e&&(a("input button select textarea","autofocus"),a("input textarea","placeholder"),a("a","download"),a("link script img","crossorigin"),a("img","loading"),a("iframe","sandbox seamless allow allowfullscreen loading")),"html4"!==e&&Z([i.video,i.audio],(e=>{delete e.children.audio,delete e.children.video})),Z(ls("a form meter progress dfn"),(e=>{i[e]&&delete i[e].children[e]})),delete i.caption.children.table,delete i.script,i})(l);!1===e.verify_html&&(e.valid_elements="*[*]");const u=ys(e.valid_styles),d=ys(e.invalid_styles,"map"),h=ys(e.valid_classes,"map"),f=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),p=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),m=a("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),g=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),v="td th iframe video audio object script code",y=a("non_empty_elements",v+" pre svg",m),_=a("move_caret_before_on_enter_elements",v+" table",m),b="h1 h2 h3 h4 h5 h6",w=a("text_block_elements",b+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),k=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",w),x=a("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),S=a("transparent_elements","a ins del canvas map"),E=a("wrap_block_elements","pre "+b);fs("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),(e=>{s[e]=new RegExp("</"+e+"[^>]*>","gi")}));const C=e=>{const t=j.from(n["@"]),r=/[*?+]/;Z(us(t,null!=e?e:""),(({name:e,element:t,aliasName:o})=>{if(o&&(n[o]=t),r.test(e)){const n=t;n.pattern=cs(e),i.push(n)}else n[e]=t}))},T=e=>{i=[],Z(pe(n),(e=>{delete n[e]})),C(e)},A=e=>{delete ds.text_block_elements,delete ds.block_elements,Z((e=>{const t=/^(~)?(.+)$/;return re(ls(e,","),(e=>{const n=t.exec(e);if(n){const e="~"===n[1];return[{inline:e,cloneName:e?"span":"div",name:n[2]}]}return[]}))})(null!=e?e:""),(({inline:e,name:t,cloneName:i})=>{if(r[t]=r[i],o[t]=i,y[t.toUpperCase()]={},y[t]={},e||(k[t.toUpperCase()]={},k[t]={}),!n[t]){let e=n[i];e=ps({},e),delete e.removeEmptyAttrs,delete e.removeEmpty,n[t]=e}ge(r,((e,n)=>{e[i]&&(r[n]=e=ps({},r[n]),e[t]=e[i])}))}))},D=e=>{Z((e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return re(ls(e,","),(e=>{const n=t.exec(e);if(n){const e=n[1],t=e?(e=>"-"===e?"remove":"add")(e):"replace";return[{operation:t,name:n[2],validChildren:ls(n[3],"|")}]}return[]}))})(null!=e?e:""),(({operation:e,name:t,validChildren:n})=>{const i="replace"===e?{"#comment":{}}:r[t];Z(n,(t=>{"remove"===e?delete i[t]:i[t]={}})),r[t]=i}))},M=e=>{const t=n[e];if(t)return t;let r=i.length;for(;r--;){const t=i[r];if(t.pattern.test(e))return t}};e.valid_elements?(T(e.valid_elements),fs(c,((e,t)=>{r[t]=e.children}))):(fs(c,((e,t)=>{n[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},r[t]=e.children})),fs(ls("strong/b em/i"),(e=>{const t=ls(e,"/");n[t[1]].outputName=t[0]})),fs(x,((t,r)=>{n[r]&&(e.padd_empty_block_inline_children&&(n[r].paddInEmptyBlock=!0),n[r].removeEmpty=!0)})),fs(ls("ol ul blockquote a table tbody"),(e=>{n[e]&&(n[e].removeEmpty=!0)})),fs(ls("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),(e=>{n[e]&&(n[e].paddEmpty=!0)})),fs(ls("span"),(e=>{n[e].removeEmptyAttrs=!0}))),delete n.svg,A(e.custom_elements),D(e.valid_children),C(e.extended_valid_elements),D("+ol[ul|ol],+ul[ul|ol]"),fs({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},((e,t)=>{n[t]&&(n[t].parentsRequired=ls(e))})),e.invalid_elements&&fs(ms(e.invalid_elements),(e=>{n[e]&&delete n[e]})),M("span")||C("span[!data-mce-type|*]");const L=O(u),P=O(d),I=O(h),R=O(g),N=O(k),B=O(w),F=O(x),z=O(Object.seal(m)),H=O(p),$=O(y),U=O(_),W=O(f),q=O(S),V=O(E),Y=O(Object.seal(s)),G=(e,t)=>{const n=M(e);if(n){if(!t)return!0;{if(n.attributes[t])return!0;const e=n.attributePatterns;if(e){let n=e.length;for(;n--;)if(e[n].pattern.test(t))return!0}}}return!1},K=e=>Ee(N(),e),X=e=>!We(e,"#")&&G(e)&&!K(e),J=O(o);return{type:l,children:r,elements:n,getValidStyles:L,getValidClasses:I,getBlockElements:N,getInvalidStyles:P,getVoidElements:z,getTextBlockElements:B,getTextInlineElements:F,getBoolAttrs:R,getElementRule:M,getSelfClosingElements:H,getNonEmptyElements:$,getMoveCaretBeforeOnEnterElements:U,getWhitespaceElements:W,getTransparentElements:q,getSpecialElements:Y,isValidChild:(e,t)=>{const n=r[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:G,isBlock:K,isInline:X,isWrapper:e=>Ee(V(),e)||X(e),getCustomElements:J,addValidElements:C,setValidElements:T,addCustomElements:A,addValidChildren:D}},bs=e=>$e(e,"#").toUpperCase(),ws=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},ks=e=>(e=>({value:bs(e)}))(ws(e.red)+ws(e.green)+ws(e.blue)),xs=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Ss=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Es=(e,t,n,r)=>({red:e,green:t,blue:n,alpha:r}),Cs=(e,t,n,r)=>{const i=parseInt(e,10),o=parseInt(t,10),s=parseInt(n,10),a=parseFloat(r);return Es(i,o,s,a)},Ts=e=>{if("transparent"===e)return j.some(Es(0,0,0,0));const t=xs.exec(e);if(null!==t)return j.some(Cs(t[1],t[2],t[3],"1"));const n=Ss.exec(e);return null!==n?j.some(Cs(n[1],n[2],n[3],n[4])):j.none()},As=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Os=e=>Ts(e).map(ks).map((e=>"#"+e.value)).getOr(e),Ds=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,i=/\s+$/,o={};let s,a;const l=gi;t&&(s=t.getValidStyles(),a=t.getInvalidStyles());const c="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(let e=0;e<c.length;e++)o[c[e]]=l+e,o[l+e]=c[e];const u={parse:t=>{const s={};let a=!1;const c=e.url_converter,d=e.url_converter_scope||u,h=(e,t,n)=>{const r=s[e+"-top"+t];if(!r)return;const i=s[e+"-right"+t];if(!i)return;const o=s[e+"-bottom"+t];if(!o)return;const a=s[e+"-left"+t];if(!a)return;const l=[r,i,o,a];let c=l.length-1;for(;c--&&l[c]===l[c+1];);c>-1&&n||(s[e+t]=-1===c?l[0]:l.join(" "),delete s[e+"-top"+t],delete s[e+"-right"+t],delete s[e+"-bottom"+t],delete s[e+"-left"+t])},f=e=>{const t=s[e];if(!t)return;const n=t.indexOf(",")>-1?[t]:t.split(" ");let r=n.length;for(;r--;)if(n[r]!==n[0])return!1;return s[e]=n[0],!0},m=e=>(a=!0,o[e]),g=(e,t)=>(a&&(e=e.replace(/\uFEFF[0-9]/g,(e=>o[e]))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e),v=e=>String.fromCharCode(parseInt(e.slice(1),16)),y=e=>e.replace(/\\[0-9a-f]+/gi,v),_=(t,n,r,i,o,s)=>{if(o=o||s)return"'"+(o=g(o)).replace(/\'/g,"\\'")+"'";if(n=g(n||r||i||""),!e.allow_script_urls){const t=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(t))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(t))return""}return c&&(n=c.call(d,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){let o;for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,m).replace(/\"[^\"]+\"|\'[^\']+\'/g,(e=>e.replace(/[;:]/g,m)));o=r.exec(t);){r.lastIndex=o.index+o[0].length;let t=o[1].replace(i,"").toLowerCase(),c=o[2].replace(i,"");if(t&&c){if(t=y(t),c=y(c),-1!==t.indexOf(l)||-1!==t.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===t||/expression\s*\(|\/\*|\*\//.test(c)))continue;"font-weight"===t&&"700"===c?c="bold":"color"!==t&&"background-color"!==t||(c=c.toLowerCase()),p(e.force_hex_color)&&"off"!==e.force_hex_color&&Ts(c).each((t=>{"always"!==e.force_hex_color&&1!==t.alpha||(c=Os(As(t)))})),c=c.replace(n,_),s[t]=a?g(c,!0):c}}h("border","",!0),h("border","-width"),h("border","-color"),h("border","-style"),h("padding",""),h("margin",""),b="border",k="border-style",x="border-color",f(w="border-width")&&f(k)&&f(x)&&(s[b]=s[w]+" "+s[k]+" "+s[x],delete s[w],delete s[k],delete s[x]),"medium none"===s.border&&delete s.border,"none"===s["border-image"]&&delete s["border-image"]}var b,w,k,x;return s},serialize:(e,t)=>{let n="";const r=(t,r)=>{const i=r[t];if(i)for(let t=0,r=i.length;t<r;t++){const r=i[t],o=e[r];o&&(n+=(n.length>0?" ":"")+r+": "+o+";")}};return t&&s?(r("*",s),r(t,s)):ge(e,((e,r)=>{e&&((e,t)=>{if(!a||!t)return!0;let n=a["*"];return!(n&&n[e]||(n=a[t],n&&n[e]))})(r,t)&&(n+=(n.length>0?" ":"")+r+": "+e+";")})),n}};return u},Ms={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Ls=e=>w(e.preventDefault)||(e=>e instanceof Event||x(e.initEvent))(e),Ps=(e,t)=>{const n=null!=t?t:{};for(const t in e)Ee(Ms,t)||(n[t]=e[t]);return k(e.composedPath)&&(n.composedPath=()=>e.composedPath()),k(e.getModifierState)&&(n.getModifierState=t=>e.getModifierState(t)),k(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},Is=(e,t,n,r)=>{var i;const o=Ps(t,r);return o.type=e,w(o.target)&&(o.target=null!==(i=o.srcElement)&&void 0!==i?i:n),Ls(t)&&(o.preventDefault=()=>{o.defaultPrevented=!0,o.isDefaultPrevented=F,x(t.preventDefault)&&t.preventDefault()},o.stopPropagation=()=>{o.cancelBubble=!0,o.isPropagationStopped=F,x(t.stopPropagation)&&t.stopPropagation()},o.stopImmediatePropagation=()=>{o.isImmediatePropagationStopped=F,o.stopPropagation()},(e=>e.isDefaultPrevented===F||e.isDefaultPrevented===B)(o)||(o.isDefaultPrevented=!0===o.defaultPrevented?F:B,o.isPropagationStopped=!0===o.cancelBubble?F:B,o.isImmediatePropagationStopped=B)),o},Rs=/^(?:mouse|contextmenu)|click/,Ns=(e,t,n,r)=>{e.addEventListener(t,n,r||!1)},Bs=(e,t,n,r)=>{e.removeEventListener(t,n,r||!1)},Fs=(e,t)=>{const n=Is(e.type,e,document,t);if((e=>k(e)&&Rs.test(e.type))(e)&&b(e.pageX)&&!b(e.clientX)){const t=n.target.ownerDocument||document,r=t.documentElement,i=t.body,o=n;o.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),o.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)}return n},js=(e,t,n)=>{const r=e.document,i={type:"ready"};if(n.domLoaded)return void t(i);const o=()=>{Bs(e,"DOMContentLoaded",o),Bs(e,"load",o),n.domLoaded||(n.domLoaded=!0,t(i)),e=null};"complete"===r.readyState||"interactive"===r.readyState&&r.body?o():Ns(e,"DOMContentLoaded",o),n.domLoaded||Ns(e,"load",o)};class zs{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(e,t,n,r){const i=this;let o;const s=window,a=e=>{i.executeHandlers(Fs(e||s.event),l)};if(!e||ei(e)||ri(e))return n;let l;e[i.expando]?l=e[i.expando]:(l=i.count++,e[i.expando]=l,i.events[l]={}),r=r||e;const c=t.split(" ");let u=c.length;for(;u--;){let t=c[u],d=a,h=!1,f=!1;"DOMContentLoaded"===t&&(t="ready"),i.domLoaded&&"ready"===t&&"complete"===e.readyState?n.call(r,Fs({type:t})):(i.hasFocusIn||"focusin"!==t&&"focusout"!==t||(h=!0,f="focusin"===t?"focus":"blur",d=e=>{const t=Fs(e||s.event);t.type="focus"===t.type?"focusin":"focusout",i.executeHandlers(t,l)}),o=i.events[l][t],o?"ready"===t&&i.domLoaded?n(Fs({type:t})):o.push({func:n,scope:r}):(i.events[l][t]=o=[{func:n,scope:r}],o.fakeName=f,o.capture=h,o.nativeHandler=d,"ready"===t?js(e,d,i):Ns(e,f||t,d,h)))}return e=o=null,n}unbind(e,t,n){if(!e||ei(e)||ri(e))return this;const r=e[this.expando];if(r){let i=this.events[r];if(t){const r=t.split(" ");let o=r.length;for(;o--;){const t=r[o],s=i[t];if(s){if(n){let e=s.length;for(;e--;)if(s[e].func===n){const n=s.nativeHandler,r=s.fakeName,o=s.capture,a=s.slice(0,e).concat(s.slice(e+1));a.nativeHandler=n,a.fakeName=r,a.capture=o,i[t]=a}}n&&0!==s.length||(delete i[t],Bs(e,s.fakeName||t,s.nativeHandler,s.capture))}}}else ge(i,((t,n)=>{Bs(e,t.fakeName||n,t.nativeHandler,t.capture)})),i={};for(const e in i)if(Ee(i,e))return this;delete this.events[r];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this}fire(e,t,n){return this.dispatch(e,t,n)}dispatch(e,t,n){if(!e||ei(e)||ri(e))return this;const r=Fs({type:t,target:e},n);do{const t=e[this.expando];t&&this.executeHandlers(r,t),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!r.isPropagationStopped());return this}clean(e){if(!e||ei(e)||ri(e))return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){this.unbind(e);const t=e.getElementsByTagName("*");let n=t.length;for(;n--;)(e=t[n])[this.expando]&&this.unbind(e)}return this}destroy(){this.events={}}cancel(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}executeHandlers(e,t){const n=this.events[t],r=n&&n[e.type];if(r)for(let t=0,n=r.length;t<n;t++){const n=r[t];if(n&&!1===n.func.call(n.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}}}zs.Event=new zs;const Hs=It.each,$s=It.grep,Us="data-mce-style",Ws=It.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),qs=(e,t,n)=>{w(n)||""===n?sn(e,t):en(e,t,n)},Vs=e=>e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),Zs=(e,t)=>{let n=0;if(e)for(let r=e.nodeType,i=e.previousSibling;i;i=i.previousSibling){const e=i.nodeType;(!t||!ei(i)||e!==r&&i.data.length)&&(n++,r=e)}return n},Ys=(e,t)=>{const n=nn(t,"style"),r=e.serialize(e.parse(n),Wt(t));qs(t,Us,r)},Gs=(e,t,n)=>{const r=Vs(t);w(n)||""===n?fr(e,r):ar(e,r,((e,t)=>S(e)?Ee(Ws,t)?e+"":e+"px":e)(n,r))},Ks=(e,t={})=>{const n={},r=window,i={};let o=0;const s=Uo.forElement(_n.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),a=[],l=t.schema?t.schema:_s({}),c=Ds({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,force_hex_color:t.force_hex_color},t.schema),u=t.ownEvents?new zs:zs.Event,d=l.getBlockElements(),h=t=>t&&e&&p(t)?e.getElementById(t):t,f=e=>{const t=h(e);return k(t)?_n.fromDom(t):null},m=(e,t,n="")=>{let r;const i=f(e);if(k(i)&&Yt(i)){const e=Y[t];r=e&&e.get?e.get(i.dom,t):nn(i,t)}return k(r)?r:n},g=e=>{const t=h(e);return w(t)?[]:t.attributes},y=(e,n,r)=>{M(e,(e=>{if(Wr(e)){const i=_n.fromDom(e),o=""===r?null:r,s=nn(i,n),a=Y[n];a&&a.set?a.set(i.dom,o,n):qs(i,n,o),s!==o&&t.onSetAttrib&&t.onSetAttrib({attrElm:i.dom,attrName:n,attrValue:o})}}))},_=()=>t.root_element||e.body,b=(t,n)=>Ho(e.body,h(t),n),S=(e,t,n)=>{const r=h(e);if(!w(r)&&(qr(r)||(e=>Wr(e)&&"http://www.w3.org/2000/svg"===e.namespaceURI)(r)))return n?cr(_n.fromDom(r),Vs(t)):("float"===(t=t.replace(/-(\D)/g,((e,t)=>t.toUpperCase())))&&(t="cssFloat"),r.style?r.style[t]:void 0)},E=e=>{const t=h(e);if(!t)return{w:0,h:0};let n=S(t,"width"),r=S(t,"height");return n&&-1!==n.indexOf("px")||(n="0"),r&&-1!==r.indexOf("px")||(r="0"),{w:parseInt(n,10)||t.offsetWidth||t.clientWidth,h:parseInt(r,10)||t.offsetHeight||t.clientHeight}},T=(e,t)=>{if(!e)return!1;const n=v(e)?e:[e];return q(n,(e=>wn(_n.fromDom(e),t)))},A=(e,t,n,r)=>{const i=[];let o=h(e);r=void 0===r;const s=n||("BODY"!==_().nodeName?_().parentNode:null);if(p(t))if("*"===t)t=Wr;else{const e=t;t=t=>T(t,e)}for(;o&&!(o===s||w(o.nodeType)||ii(o)||oi(o));){if(!t||t(o)){if(!r)return[o];i.push(o)}o=o.parentNode}return r?i:null},D=(e,t,n)=>{let r=t;if(e){p(t)&&(r=e=>T(e,t));for(let t=e[n];t;t=t[n])if(x(r)&&r(t))return t}return null},M=function(e,t,n){const r=null!=n?n:this;if(v(e)){const n=[];return Hs(e,((e,i)=>{const o=h(e);o&&n.push(t.call(r,o,i))})),n}{const n=h(e);return!!n&&t.call(r,n)}},L=(e,t)=>{M(e,(e=>{ge(t,((t,n)=>{y(e,n,t)}))}))},P=(e,t)=>{M(e,(e=>{const n=_n.fromDom(e);Er(n,t)}))},I=(t,n,r,i,o)=>M(t,(t=>{const s=p(n)?e.createElement(n):n;return k(r)&&L(s,r),i&&(!p(i)&&i.nodeType?s.appendChild(i):p(i)&&P(s,i)),o?s:t.appendChild(s)})),R=(t,n,r)=>I(e.createElement(t),t,n,r,!0),N=as.encodeAllRaw,B=(e,t)=>M(e,(e=>{const n=_n.fromDom(e);return t&&Z(Rn(n),(e=>{Gt(e)&&0===e.dom.length?wr(e):pr(n,e)})),wr(n),n.dom})),F=(e,t,n)=>{M(e,(e=>{if(Wr(e)){const r=_n.fromDom(e),i=t.split(" ");Z(i,(e=>{if(k(n)){(n?fn:mn)(r,e)}else gn(r,e)}))}}))},j=(e,t,n)=>M(t,(r=>{var i;const o=v(t)?e.cloneNode(!0):e;return n&&Hs($s(r.childNodes),(e=>{o.appendChild(e)})),null===(i=r.parentNode)||void 0===i||i.replaceChild(o,r),r})),z=e=>{if(Wr(e)){const t="a"===e.nodeName.toLowerCase()&&!m(e,"href")&&m(e,"id");if(m(e,"name")||m(e,"data-mce-bookmark")||t)return!0}return!1},H=()=>e.createRange(),$=(n,i,o,s)=>{if(v(n)){let e=n.length;const t=[];for(;e--;)t[e]=$(n[e],i,o,s);return t}return!t.collect||n!==e&&n!==r||a.push([n,i,o,s]),u.bind(n,i,o,s||V)},U=(t,n,i)=>{if(v(t)){let e=t.length;const r=[];for(;e--;)r[e]=U(t[e],n,i);return r}if(a.length>0&&(t===e||t===r)){let e=a.length;for(;e--;){const[r,o,s]=a[e];t!==r||n&&n!==o||i&&i!==s||u.unbind(r,o,s)}}return u.unbind(t,n,i)},W=e=>{if(e&&qr(e)){const t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},V={doc:e,settings:t,win:r,files:i,stdMode:!0,boxModel:!0,styleSheetLoader:s,boundEvents:a,styles:c,schema:l,events:u,isBlock:e=>p(e)?Ee(d,e):Wr(e)&&(Ee(d,e.nodeName)||Ro(l,e)),root:null,clone:(e,t)=>e.cloneNode(t),getRoot:_,getViewPort:e=>{const t=Br(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},getRect:e=>{const t=h(e),n=b(t),r=E(t);return{x:n.x,y:n.y,w:r.w,h:r.h}},getSize:E,getParent:(e,t,n)=>{const r=A(e,t,n,!1);return r&&r.length>0?r[0]:null},getParents:A,get:h,getNext:(e,t)=>D(e,t,"nextSibling"),getPrev:(e,t)=>D(e,t,"previousSibling"),select:(n,r)=>{var i,o;const s=null!==(o=null!==(i=h(r))&&void 0!==i?i:t.root_element)&&void 0!==o?o:e;return(e=>x(e.querySelectorAll))(s)?he(s.querySelectorAll(n)):[]},is:T,add:I,create:R,createHTML:(e,t,n="")=>{let r="<"+e;for(const e in t)Ce(t,e)&&(r+=" "+e+'="'+N(t[e])+'"');return Xe(n)&&Ee(l.getVoidElements(),e)?r+" />":r+">"+n+"</"+e+">"},createFragment:t=>{const n=e.createElement("div"),r=e.createDocumentFragment();let i;for(r.appendChild(n),t&&(n.innerHTML=t);i=n.firstChild;)r.appendChild(i);return r.removeChild(n),r},remove:B,setStyle:(e,n,r)=>{M(e,(e=>{const i=_n.fromDom(e);Gs(i,n,r),t.update_styles&&Ys(c,i)}))},getStyle:S,setStyles:(e,n)=>{M(e,(e=>{const r=_n.fromDom(e);ge(n,((e,t)=>{Gs(r,t,e)})),t.update_styles&&Ys(c,r)}))},removeAllAttribs:e=>M(e,(e=>{const t=e.attributes;for(let n=t.length-1;n>=0;n--)e.removeAttributeNode(t.item(n))})),setAttrib:y,setAttribs:L,getAttrib:m,getPos:b,parseStyle:e=>c.parse(e),serializeStyle:(e,t)=>c.serialize(e,t),addStyle:t=>{if(V!==Ks.DOM&&e===document){if(n[t])return;n[t]=!0}let r=e.getElementById("mceDefaultStyles");if(!r){r=e.createElement("style"),r.id="mceDefaultStyles",r.type="text/css";const t=e.head;t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}r.styleSheet?r.styleSheet.cssText+=t:r.appendChild(e.createTextNode(t))},loadCSS:e=>{e||(e=""),Z(e.split(","),(e=>{i[e]=!0,s.load(e).catch(C)}))},addClass:(e,t)=>{F(e,t,!0)},removeClass:(e,t)=>{F(e,t,!1)},hasClass:(e,t)=>{const n=f(e),r=t.split(" ");return k(n)&&ie(r,(e=>vn(n,e)))},toggleClass:F,show:e=>{M(e,(e=>fr(_n.fromDom(e),"display")))},hide:e=>{M(e,(e=>ar(_n.fromDom(e),"display","none")))},isHidden:e=>{const t=f(e);return k(t)&&Rt(dr(t,"display"),"none")},uniqueId:e=>(e||"mce_")+o++,setHTML:P,getOuterHTML:e=>{const t=f(e);return k(t)?Wr(t.dom)?t.dom.outerHTML:(e=>{const t=_n.fromTag("div"),n=_n.fromDom(e.dom.cloneNode(!0));return vr(t,n),Sr(t)})(t):""},setOuterHTML:(e,t)=>{M(e,(e=>{Wr(e)&&(e.outerHTML=t)}))},decode:as.decode,encode:N,insertAfter:(e,t)=>{const n=h(t);return M(e,(e=>{const t=null==n?void 0:n.parentNode,r=null==n?void 0:n.nextSibling;return t&&(r?t.insertBefore(e,r):t.appendChild(e)),e}))},replace:j,rename:(e,t)=>{if(e.nodeName!==t.toUpperCase()){const n=R(t);return Hs(g(e),(t=>{y(n,t.nodeName,m(e,t.nodeName))})),j(n,e,!0),n}return e},findCommonAncestor:(e,t)=>{let n=e;for(;n;){let e=t;for(;e&&n!==e;)e=e.parentNode;if(n===e)break;n=n.parentNode}return!n&&e.ownerDocument?e.ownerDocument.documentElement:n},run:M,getAttribs:g,isEmpty:(e,t,n)=>{let r=0;if(z(e))return!1;const i=e.firstChild;if(i){const o=new Hr(i,e),s=l?l.getWhitespaceElements():{},a=t||(l?l.getNonEmptyElements():null);let c=i;do{if(Wr(c)){const e=c.getAttribute("data-mce-bogus");if(e){c=o.next("all"===e);continue}const t=c.nodeName.toLowerCase();if(a&&a[t]){if("br"===t){r++,c=o.next();continue}return!1}if(z(c))return!1}if(ri(c))return!1;if(ei(c)&&!so(c.data)&&(!(null==n?void 0:n.includeZwsp)||!ao(c.data)))return!1;if(ei(c)&&c.parentNode&&s[c.parentNode.nodeName]&&so(c.data))return!1;c=o.next()}while(c)}return r<=1},createRng:H,nodeIndex:Zs,split:(e,t,n)=>{let r,i,o=H();if(e&&t&&e.parentNode&&t.parentNode){const s=e.parentNode;return o.setStart(s,Zs(e)),o.setEnd(t.parentNode,Zs(t)),r=o.extractContents(),o=H(),o.setStart(t.parentNode,Zs(t)+1),o.setEnd(s,Zs(e)+1),i=o.extractContents(),s.insertBefore(Zo(V,r,l),e),n?s.insertBefore(n,e):s.insertBefore(t,e),s.insertBefore(Zo(V,i,l),e),B(e),n||t}},bind:$,unbind:U,fire:(e,t,n)=>u.dispatch(e,t,n),dispatch:(e,t,n)=>u.dispatch(e,t,n),getContentEditable:W,getContentEditableParent:e=>{const t=_();let n=null;for(let r=e;r&&r!==t&&(n=W(r),null===n);r=r.parentNode);return n},isEditable:e=>{if(k(e)){const t=Wr(e)?e:e.parentElement;return k(t)&&qr(t)&&rr(_n.fromDom(t))}return!1},destroy:()=>{if(a.length>0){let e=a.length;for(;e--;){const[t,n,r]=a[e];u.unbind(t,n,r)}}ge(i,((e,t)=>{s.unload(t),delete i[t]}))},isChildOf:(e,t)=>e===t||t.contains(e),dumpRng:e=>"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},Y=((e,t,n)=>{const r=t.keep_values,i={set:(e,r,i)=>{const o=_n.fromDom(e);x(t.url_converter)&&k(r)&&(r=t.url_converter.call(t.url_converter_scope||n(),String(r),i,e)),qs(o,"data-mce-"+i,r),qs(o,i,r)},get:(e,t)=>{const n=_n.fromDom(e);return nn(n,"data-mce-"+t)||nn(n,t)}},o={style:{set:(t,n)=>{const i=_n.fromDom(t);r&&qs(i,Us,n),sn(i,"style"),p(n)&&lr(i,e.parse(n))},get:t=>{const n=_n.fromDom(t),r=nn(n,Us)||nn(n,"style");return e.serialize(e.parse(r),Wt(n))}}};return r&&(o.href=o.src=i),o})(c,t,O(V));return V};Ks.DOM=Ks(document),Ks.nodeIndex=Zs;const Xs=Ks.DOM;class Js{constructor(e={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(e){return new Promise(((t,n)=>{const r=Xs;let i;const o=()=>{r.remove(s),i&&(i.onerror=i.onload=i=null)},s=r.uniqueId();i=document.createElement("script"),i.id=s,i.type="text/javascript",i.src=It._addCacheSuffix(e),this.settings.referrerPolicy&&r.setAttrib(i,"referrerpolicy",this.settings.referrerPolicy),i.onload=()=>{o(),t()},i.onerror=()=>{o(),n("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(i)}))}isDone(e){return 2===this.states[e]}markDone(e){this.states[e]=2}add(e){const t=this;t.queue.push(e);return void 0===t.states[e]&&(t.states[e]=0),new Promise(((n,r)=>{t.scriptLoadedCallbacks[e]||(t.scriptLoadedCallbacks[e]=[]),t.scriptLoadedCallbacks[e].push({resolve:n,reject:r})}))}load(e){return this.add(e)}remove(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}loadQueue(){const e=this.queue;return this.queue=[],this.loadScripts(e)}loadScripts(e){const t=this,n=(e,n)=>{Se(t.scriptLoadedCallbacks,n).each((t=>{Z(t,(t=>t[e](n)))})),delete t.scriptLoadedCallbacks[n]},r=e=>{const t=K(e,(e=>"rejected"===e.status));return t.length>0?Promise.reject(re(t,(({reason:e})=>v(e)?e:[e]))):Promise.resolve()},i=e=>Promise.allSettled(V(e,(e=>2===t.states[e]?(n("resolve",e),Promise.resolve()):3===t.states[e]?(n("reject",e),Promise.reject(e)):(t.states[e]=1,t.loadScript(e).then((()=>{t.states[e]=2,n("resolve",e);const o=t.queue;return o.length>0?(t.queue=[],i(o).then(r)):Promise.resolve()}),(()=>(t.states[e]=3,n("reject",e),Promise.reject(e)))))))),o=e=>(t.loading=!0,i(e).then((e=>{t.loading=!1;const n=t.queueLoadedCallbacks.shift();return j.from(n).each(N),r(e)}))),s=Te(e);return t.loading?new Promise(((e,n)=>{t.queueLoadedCallbacks.push((()=>{o(s).then(e,n)}))})):o(s)}}Js.ScriptLoader=new Js;const Qs=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},ea={},ta=Qs("en"),na=()=>Se(ea,ta.get()),ra={getData:()=>ve(ea,(e=>({...e}))),setCode:e=>{e&&ta.set(e)},getCode:()=>ta.get(),add:(e,t)=>{let n=ea[e];n||(ea[e]=n={});const r=V(pe(t),(e=>e.toLowerCase()));ge(t,((e,i)=>{const o=i.toLowerCase();o!==i&&((e,t)=>{const n=e.indexOf(t);return-1!==n&&e.indexOf(t,n+1)>n})(r,o)?(Ee(t,o)||(n[o]=e),n[i]=e):n[o]=e}))},translate:e=>{const t=na().getOr({}),n=e=>x(e)?Object.prototype.toString.call(e):r(e)?"":""+e,r=e=>""===e||null==e,i=e=>{const r=n(e);return Ee(t,r)?n(t[r]):Se(t,r.toLowerCase()).map(n).getOr(r)},o=e=>e.replace(/{context:\w+}$/,"");if(r(e))return"";if(m(s=e)&&Ee(s,"raw"))return n(e.raw);var s;if((e=>v(e)&&e.length>1)(e)){const t=e.slice(1);return o(i(e[0]).replace(/\{([0-9]+)\}/g,((e,r)=>Ee(t,r)?n(t[r]):e)))}return o(i(e))},isRtl:()=>na().bind((e=>Se(e,"_dir"))).exists((e=>"rtl"===e)),hasCode:e=>Ee(ea,e)},ia=()=>{const e=[],t={},n={},r=[],i=(e,t)=>{const n=K(r,(n=>n.name===e&&n.state===t));Z(n,(e=>e.resolve()))},o=e=>Ee(t,e),s=(e,n)=>{const r=ra.getCode();!r||n&&-1===(","+(n||"")+",").indexOf(","+r+",")||Js.ScriptLoader.add(t[e]+"/langs/"+r+".js")},a=(e,t="added")=>"added"===t&&(e=>Ee(n,e))(e)||"loaded"===t&&o(e)?Promise.resolve():new Promise((n=>{r.push({name:e,state:t,resolve:n})}));return{items:e,urls:t,lookup:n,get:e=>{if(n[e])return n[e].instance},requireLangPack:(e,t)=>{!1!==ia.languageLoad&&(o(e)?s(e,t):a(e,"loaded").then((()=>s(e,t))))},add:(t,r)=>(e.push(r),n[t]={instance:r},i(t,"added"),r),remove:e=>{delete t[e],delete n[e]},createUrl:(e,t)=>p(t)?p(e)?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}:t,load:(e,r)=>{if(t[e])return Promise.resolve();let o=p(r)?r:r.prefix+r.resource+r.suffix;0!==o.indexOf("/")&&-1===o.indexOf("://")&&(o=ia.baseURL+"/"+o),t[e]=o.substring(0,o.lastIndexOf("/"));const s=()=>(i(e,"loaded"),Promise.resolve());return n[e]?s():Js.ScriptLoader.add(o).then(s)},waitFor:a}};ia.languageLoad=!0,ia.baseURL="",ia.PluginManager=ia(),ia.ThemeManager=ia(),ia.ModelManager=ia();const oa=e=>{const t=Qs(j.none()),n=()=>t.get().each((e=>clearInterval(e)));return{clear:()=>{n(),t.set(j.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:r=>{n(),t.set(j.some(setInterval(r,e)))}}},sa=()=>{const e=(e=>{const t=Qs(j.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(j.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(j.some(e))}}})(C);return{...e,on:t=>e.get().each(t)}},aa=(e,t)=>{let n=null;return{cancel:()=>{y(n)||(clearTimeout(n),n=null)},throttle:(...r)=>{y(n)&&(n=setTimeout((()=>{n=null,e.apply(null,r)}),t))}}},la=(e,t)=>{let n=null;const r=()=>{y(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...i)=>{r(),n=setTimeout((()=>{n=null,e.apply(null,i)}),t)}}},ca=O("mce-annotation"),ua=O("data-mce-annotation"),da=O("data-mce-annotation-uid"),ha=O("data-mce-annotation-active"),fa=O("data-mce-annotation-classes"),pa=O("data-mce-annotation-attrs"),ma=e=>t=>xn(t,e),ga=(e,t)=>{const n=e.selection.getRng(),r=_n.fromDom(n.startContainer),i=_n.fromDom(e.getBody()),o=t.fold((()=>"."+ca()),(e=>`[${ua()}="${e}"]`)),s=Nn(r,n.startOffset).getOr(r);return nr(s,o,ma(i)).bind((t=>rn(t,`${da()}`).bind((n=>rn(t,`${ua()}`).map((t=>{const r=ya(e,n);return{uid:n,name:t,elements:r}}))))))},va=(e,t)=>on(e,"data-mce-bogus")||zr(e,'[data-mce-bogus="all"]',ma(t)),ya=(e,t)=>{const n=_n.fromDom(e.getBody()),r=jr(n,`[${da()}="${t}"]`);return K(r,(e=>!va(e,n)))},_a=(e,t)=>{const n=_n.fromDom(e.getBody()),r=jr(n,`[${ua()}="${t}"]`),i={};return Z(r,(e=>{if(!va(e,n)){const t=nn(e,da()),n=Se(i,t).getOr([]);i[t]=n.concat([e])}})),i},ba=(e,t)=>{const n=Qs({}),r=()=>({listeners:[],previous:sa()}),i=(e,t)=>{o(e,(e=>(t(e),e)))},o=(e,t)=>{const i=n.get(),o=t(Se(i,e).getOrThunk(r));i[e]=o,n.set(i)},s=(t,n)=>{Z(ya(e,t),(e=>{n?en(e,ha(),"true"):sn(e,ha())}))},a=la((()=>{const n=le(t.getNames());Z(n,(t=>{o(t,(n=>{const r=n.previous.get();return ga(e,j.some(t)).fold((()=>{r.each((e=>{(e=>{i(e,(t=>{Z(t.listeners,(t=>t(!1,e)))}))})(t),n.previous.clear(),s(e,!1)}))}),(({uid:e,name:t,elements:o})=>{Rt(r,e)||(r.each((e=>s(e,!1))),((e,t,n)=>{i(e,(r=>{Z(r.listeners,(r=>r(!0,e,{uid:t,nodes:V(n,(e=>e.dom))})))}))})(t,e,o),n.previous.set(e),s(e,!0))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);e.on("remove",(()=>{a.cancel()})),e.on("NodeChange",(()=>{a.throttle()}));return{addListener:(e,t)=>{o(e,(e=>({previous:e.previous,listeners:e.listeners.concat([t])})))}}};let wa=0;const ka=e=>{const t=(new Date).getTime(),n=Math.floor(1e9*Math.random());return wa++,e+"_"+n+wa+String(t)},xa=(e,t)=>_n.fromDom(e.dom.cloneNode(t)),Sa=e=>xa(e,!1),Ea=e=>xa(e,!0),Ca=(e,t)=>{const n=((e,t)=>{const n=_n.fromTag(t),r=an(e);return tn(n,r),n})(e,t);mr(e,n);const r=Rn(e);return _r(n,r),wr(e),n},Ta=(e,t,n=B)=>{const r=new Hr(e,t),i=e=>{let t;do{t=r[e]()}while(t&&!ei(t)&&!n(t));return j.from(t).filter(ei)};return{current:()=>j.from(r.current()).filter(ei),next:()=>i("next"),prev:()=>i("prev"),prev2:()=>i("prev2")}},Aa=(e,t)=>{const n=t||(t=>e.isBlock(t)||si(t)||ci(t)),r=(e,t,n,i)=>{if(ei(e)){const n=i(e,t,e.data);if(-1!==n)return j.some({container:e,offset:n})}return n().bind((e=>r(e.container,e.offset,n,i)))};return{backwards:(t,i,o,s)=>{const a=Ta(t,null!=s?s:e.getRoot(),n);return r(t,i,(()=>a.prev().map((e=>({container:e,offset:e.length})))),o).getOrNull()},forwards:(t,i,o,s)=>{const a=Ta(t,null!=s?s:e.getRoot(),n);return r(t,i,(()=>a.next().map((e=>({container:e,offset:0})))),o).getOrNull()}}},Oa=Math.round,Da=e=>e?{left:Oa(e.left),top:Oa(e.top),bottom:Oa(e.bottom),right:Oa(e.right),width:Oa(e.width),height:Oa(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Ma=(e,t)=>(e=Da(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),La=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,Pa=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&La(t.top-e.bottom,e,t)},Ia=(e,t)=>e.top>t.bottom||!(e.bottom<t.top)&&La(t.bottom-e.top,e,t),Ra=(e,t,n)=>{const r=Math.max(Math.min(t,e.left+e.width),e.left),i=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(n-i)*(n-i))},Na=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Ba=(e,t)=>{if(Wr(e)&&e.hasChildNodes()){const n=e.childNodes,r=((e,t,n)=>Math.min(Math.max(e,t),n))(t,0,n.length-1);return n[r]}return e},Fa=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),ja=e=>p(e)&&e.charCodeAt(0)>=768&&Fa.test(e),za=Wr,Ha=no,$a=Yr("display","block table"),Ua=Yr("float","left right"),Wa=((...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0})(za,Ha,P(Ua)),qa=P(Yr("white-space","pre pre-line pre-wrap")),Va=ei,Za=si,Ya=Ks.nodeIndex,Ga=(e,t)=>t<0&&Wr(e)&&e.hasChildNodes()?void 0:Ba(e,t),Ka=e=>e?e.createRange():Ks.DOM.createRng(),Xa=e=>p(e)&&/[\r\n\t ]/.test(e),Ja=e=>!!e.setStart&&!!e.setEnd,Qa=e=>{const t=e.startContainer,n=e.startOffset;if(Xa(e.toString())&&qa(t.parentNode)&&ei(t)){const e=t.data;if(Xa(e[n-1])||Xa(e[n+1]))return!0}return!1},el=e=>0===e.left&&0===e.right&&0===e.top&&0===e.bottom,tl=e=>{var t;let n;const r=e.getClientRects();return n=r.length>0?Da(r[0]):Da(e.getBoundingClientRect()),!Ja(e)&&Za(e)&&el(n)?(e=>{const t=e.ownerDocument,n=Ka(t),r=t.createTextNode(vi),i=e.parentNode;i.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);const o=Da(n.getBoundingClientRect());return i.removeChild(r),o})(e):el(n)&&Ja(e)&&null!==(t=(e=>{const t=e.startContainer,n=e.endContainer,r=e.startOffset,i=e.endOffset;if(t===n&&ei(n)&&0===r&&1===i){const t=e.cloneRange();return t.setEndAfter(n),tl(t)}return null})(e))&&void 0!==t?t:n},nl=(e,t)=>{const n=Ma(e,t);return n.width=1,n.right=n.left+1,n},rl=e=>{const t=[],n=e=>{var n,r;0!==e.height&&(t.length>0&&(n=e,r=t[t.length-1],n.left===r.left&&n.top===r.top&&n.bottom===r.bottom&&n.right===r.right)||t.push(e))},r=(e,t)=>{const r=Ka(e.ownerDocument);if(t<e.data.length){if(ja(e.data[t]))return;if(ja(e.data[t-1])&&(r.setStart(e,t),r.setEnd(e,t+1),!Qa(r)))return void n(nl(tl(r),!1))}t>0&&(r.setStart(e,t-1),r.setEnd(e,t),Qa(r)||n(nl(tl(r),!1))),t<e.data.length&&(r.setStart(e,t),r.setEnd(e,t+1),Qa(r)||n(nl(tl(r),!0)))},i=e.container(),o=e.offset();if(Va(i))return r(i,o),t;if(za(i))if(e.isAtEnd()){const e=Ga(i,o);Va(e)&&r(e,e.data.length),Wa(e)&&!Za(e)&&n(nl(tl(e),!1))}else{const s=Ga(i,o);if(Va(s)&&r(s,0),Wa(s)&&e.isAtEnd())return n(nl(tl(s),!1)),t;const a=Ga(e.container(),e.offset()-1);Wa(a)&&!Za(a)&&($a(a)||$a(s)||!Wa(s))&&n(nl(tl(a),!1)),Wa(s)&&n(nl(tl(s),!0))}return t},il=(e,t,n)=>{const r=()=>(n||(n=rl(il(e,t))),n);return{container:O(e),offset:O(t),toRange:()=>{const n=Ka(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},getClientRects:r,isVisible:()=>r().length>0,isAtStart:()=>(Va(e),0===t),isAtEnd:()=>Va(e)?t>=e.data.length:t>=e.childNodes.length,isEqual:n=>n&&e===n.container()&&t===n.offset(),getNode:n=>Ga(e,n?t-1:t)}};il.fromRangeStart=e=>il(e.startContainer,e.startOffset),il.fromRangeEnd=e=>il(e.endContainer,e.endOffset),il.after=e=>il(e.parentNode,Ya(e)+1),il.before=e=>il(e.parentNode,Ya(e)),il.isAbove=(e,t)=>Bt(ue(t.getClientRects()),de(e.getClientRects()),Pa).getOr(!1),il.isBelow=(e,t)=>Bt(de(t.getClientRects()),ue(e.getClientRects()),Ia).getOr(!1),il.isAtStart=e=>!!e&&e.isAtStart(),il.isAtEnd=e=>!!e&&e.isAtEnd(),il.isTextPosition=e=>!!e&&ei(e.container()),il.isElementPosition=e=>!il.isTextPosition(e);const ol=(e,t)=>{ei(t)&&0===t.data.length&&e.remove(t)},sl=(e,t,n)=>{oi(n)?((e,t,n)=>{const r=j.from(n.firstChild),i=j.from(n.lastChild);t.insertNode(n),r.each((t=>ol(e,t.previousSibling))),i.each((t=>ol(e,t.nextSibling)))})(e,t,n):((e,t,n)=>{t.insertNode(n),ol(e,n.previousSibling),ol(e,n.nextSibling)})(e,t,n)},al=ei,ll=Kr,cl=Ks.nodeIndex,ul=e=>{const t=e.parentNode;return ll(t)?ul(t):t},dl=e=>e?Pe(e.childNodes,((e,t)=>(ll(t)&&"BR"!==t.nodeName?e=e.concat(dl(t)):e.push(t),e)),[]):[],hl=e=>t=>e===t,fl=e=>(al(e)?"text()":e.nodeName.toLowerCase())+"["+(e=>{let t,n;t=dl(ul(e)),n=Ie(t,hl(e),e),t=t.slice(0,n+1);const r=Pe(t,((e,n,r)=>(al(n)&&al(t[r-1])&&e++,e)),0);return t=Le(t,Zr([e.nodeName])),n=Ie(t,hl(e),e),n-r})(e)+"]",pl=(e,t)=>{let n,r=[],i=t.container(),o=t.offset();if(al(i))n=((e,t)=>{let n=e;for(;(n=n.previousSibling)&&al(n);)t+=n.data.length;return t})(i,o);else{const e=i.childNodes;o>=e.length?(n="after",o=e.length-1):n="before",i=e[o]}r.push(fl(i));let s=((e,t,n)=>{const r=[];for(let i=t.parentNode;i&&i!==e&&(!n||!n(i));i=i.parentNode)r.push(i);return r})(e,i);return s=Le(s,P(Kr)),r=r.concat(Me(s,(e=>fl(e)))),r.reverse().join("/")+","+n},ml=(e,t)=>{if(!t)return null;const n=t.split(","),r=n[0].split("/"),i=n.length>1?n[1]:"before",o=Pe(r,((e,t)=>{const n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return n?("text()"===n[1]&&(n[1]="#text"),((e,t,n)=>{let r=dl(e);return r=Le(r,((e,t)=>!al(e)||!al(r[t-1]))),r=Le(r,Zr([t])),r[n]})(e,n[1],parseInt(n[2],10))):null}),e);if(!o)return null;if(!al(o)&&o.parentNode){let e;return e="after"===i?cl(o)+1:cl(o),il(o.parentNode,e)}return((e,t)=>{let n=e,r=0;for(;al(n);){const i=n.data.length;if(t>=r&&t<=r+i){e=n,t-=r;break}if(!al(n.nextSibling)){e=n,t=i;break}r+=i,n=n.nextSibling}return al(e)&&t>e.data.length&&(t=e.data.length),il(e,t)})(o,parseInt(i,10))},gl=ci,vl=(e,t,n,r,i)=>{const o=i?r.startContainer:r.endContainer;let s=i?r.startOffset:r.endOffset;const a=[],l=e.getRoot();if(ei(o))a.push(n?((e,t,n)=>{let r=e(t.data.slice(0,n)).length;for(let n=t.previousSibling;n&&ei(n);n=n.previousSibling)r+=e(n.data).length;return r})(t,o,s):s);else{let t=0;const r=o.childNodes;s>=r.length&&r.length&&(t=1,s=Math.max(0,r.length-1)),a.push(e.nodeIndex(r[s],n)+t)}for(let t=o;t&&t!==l;t=t.parentNode)a.push(e.nodeIndex(t,n));return a},yl=(e,t,n)=>{let r=0;return It.each(e.select(t),(e=>"all"===e.getAttribute("data-mce-bogus")?void 0:e!==n&&void r++)),r},_l=(e,t)=>{let n=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(Wr(n)&&"TR"===n.nodeName){const i=n.childNodes;n=i[Math.min(t?r:r-1,i.length-1)],n&&(r=t?0:n.childNodes.length,t?e.setStart(n,r):e.setEnd(n,r))}},bl=e=>(_l(e,!0),_l(e,!1),e),wl=(e,t)=>{if(Wr(e)&&(e=Ba(e,t),gl(e)))return e;if(zi(e)){ei(e)&&Fi(e)&&(e=e.parentNode);let t=e.previousSibling;if(gl(t))return t;if(t=e.nextSibling,gl(t))return t}},kl=(e,t,n)=>{const r=n.getNode(),i=n.getRng();if("IMG"===r.nodeName||gl(r)){const e=r.nodeName;return{name:e,index:yl(n.dom,e,r)}}const o=(e=>wl(e.startContainer,e.startOffset)||wl(e.endContainer,e.endOffset))(i);if(o){const e=o.tagName;return{name:e,index:yl(n.dom,e,o)}}return((e,t,n,r)=>{const i=t.dom,o=vl(i,e,n,r,!0),s=t.isForward(),a=Zi(r)?{isFakeCaret:!0}:{};return t.isCollapsed()?{start:o,forward:s,...a}:{start:o,end:vl(i,e,n,r,!1),forward:s,...a}})(e,n,t,i)},xl=(e,t,n)=>{const r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Sl=(e,t)=>{const n=e.dom;let r=e.getRng();const i=n.uniqueId(),o=e.isCollapsed(),s=e.getNode(),a=s.nodeName,l=e.isForward();if("IMG"===a)return{name:a,index:yl(n,a,s)};const c=bl(r.cloneRange());if(!o){c.collapse(!1);const e=xl(n,i+"_end",t);sl(n,c,e)}r=bl(r),r.collapse(!0);const u=xl(n,i+"_start",t);return sl(n,r,u),e.moveToBookmark({id:i,keep:!0,forward:l}),{id:i,forward:l}},El=(e,t,n=!1)=>2===t?kl(Ri,n,e):3===t?(e=>{const t=e.getRng();return{start:pl(e.dom.getRoot(),il.fromRangeStart(t)),end:pl(e.dom.getRoot(),il.fromRangeEnd(t)),forward:e.isForward()}})(e):t?(e=>({rng:e.getRng(),forward:e.isForward()}))(e):Sl(e,!1),Cl=L(kl,D,!0),Tl=e=>{const t=t=>t(e),n=O(e),r=()=>i,i={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:F,isError:B,map:t=>Ol.value(t(e)),mapError:r,bind:t,exists:t,forall:t,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:t=>{t(e)},toOptional:()=>j.some(e)};return i},Al=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:B,isError:F,map:t,mapError:t=>Ol.error(t(e)),bind:t,exists:B,forall:F,getOr:D,or:D,getOrThunk:R,orThunk:R,getOrDie:I(String(e)),each:C,toOptional:j.none};return n},Ol={value:Tl,error:Al,fromOption:(e,t)=>e.fold((()=>Al(t)),Tl)},Dl=e=>{if(!v(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return Z(e,((r,i)=>{const o=pe(r);if(1!==o.length)throw new Error("one and only one name per case");const s=o[0],a=r[s];if(void 0!==n[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!v(a))throw new Error("case arguments must be an array");t.push(s),n[s]=(...n)=>{const r=n.length;if(r!==a.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+a.length+" ("+a+"), got "+r);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[i].apply(null,n)},match:e=>{const r=pe(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));if(!ie(t,(e=>W(r,e))))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[s].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:s,params:n})}}}})),n};Dl([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Ml=e=>"inline-command"===e.type||"inline-format"===e.type,Ll=e=>"block-command"===e.type||"block-format"===e.type,Pl=e=>{const t=t=>Ol.error({message:t,pattern:e}),n=(n,r,i)=>{if(void 0!==e.format){let i;if(v(e.format)){if(!ie(e.format,p))return t(n+" pattern has non-string items in the `format` array");i=e.format}else{if(!p(e.format))return t(n+" pattern has non-string `format` parameter");i=[e.format]}return Ol.value(r(i))}return void 0!==e.cmd?p(e.cmd)?Ol.value(i(e.cmd,e.value)):t(n+" pattern has non-string `cmd` parameter"):t(n+" pattern is missing both `format` and `cmd` parameters")};if(!m(e))return t("Raw pattern is not an object");if(!p(e.start))return t("Raw pattern is missing `start` parameter");if(void 0!==e.end){if(!p(e.end))return t("Inline pattern has non-string `end` parameter");if(0===e.start.length&&0===e.end.length)return t("Inline pattern has empty `start` and `end` parameters");let r=e.start,i=e.end;return 0===i.length&&(i=r,r=""),n("Inline",(e=>({type:"inline-format",start:r,end:i,format:e})),((e,t)=>({type:"inline-command",start:r,end:i,cmd:e,value:t})))}return void 0!==e.replacement?p(e.replacement)?0===e.start.length?t("Replacement pattern has empty `start` parameter"):Ol.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):0===e.start.length?t("Block pattern has empty `start` parameter"):n("Block",(t=>({type:"block-format",start:e.start,format:t[0]})),((t,n)=>({type:"block-command",start:e.start,cmd:t,value:n})))},Il=e=>K(e,Ll),Rl=e=>K(e,Ml),Nl=e=>{const t=(e=>{const t=[],n=[];return Z(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{n.push(e)}))})),{errors:t,values:n}})(V(e,Pl));return Z(t.errors,(e=>console.error(e.message,e.pattern))),t.values},Bl=xt().deviceType,Fl=Bl.isTouch(),jl=Ks.DOM,zl=e=>f(e,RegExp),Hl=e=>t=>t.options.get(e),$l=e=>p(e)||m(e),Ul=(e,t="")=>n=>{const r=p(n);if(r){if(-1!==n.indexOf("=")){const i=(e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return J(t,((e,t)=>{const n=t.split("="),r=n[0],i=n.length>1?n[1]:r;return e[Ze(r)]=Ze(i),e}),{})})(n);return{value:Se(i,e.id).getOr(t),valid:r}}return{value:n,valid:r}}return{valid:!1,message:"Must be a string."}},Wl=Hl("iframe_attrs"),ql=Hl("doctype"),Vl=Hl("document_base_url"),Zl=Hl("body_id"),Yl=Hl("body_class"),Gl=Hl("content_security_policy"),Kl=Hl("br_in_pre"),Xl=Hl("forced_root_block"),Jl=Hl("forced_root_block_attrs"),Ql=Hl("newline_behavior"),ec=Hl("br_newline_selector"),tc=Hl("no_newline_selector"),nc=Hl("keep_styles"),rc=Hl("end_container_on_empty_block"),ic=Hl("automatic_uploads"),oc=Hl("images_reuse_filename"),sc=Hl("images_replace_blob_uris"),ac=Hl("icons"),lc=Hl("icons_url"),cc=Hl("images_upload_url"),uc=Hl("images_upload_base_path"),dc=Hl("images_upload_credentials"),hc=Hl("images_upload_handler"),fc=Hl("content_css_cors"),pc=Hl("referrer_policy"),mc=Hl("language"),gc=Hl("language_url"),vc=Hl("indent_use_margin"),yc=Hl("indentation"),_c=Hl("content_css"),bc=Hl("content_style"),wc=Hl("font_css"),kc=Hl("directionality"),xc=Hl("inline_boundaries_selector"),Sc=Hl("object_resizing"),Ec=Hl("resize_img_proportional"),Cc=Hl("placeholder"),Tc=Hl("event_root"),Ac=Hl("service_message"),Oc=Hl("theme"),Dc=Hl("theme_url"),Mc=Hl("model"),Lc=Hl("model_url"),Pc=Hl("inline_boundaries"),Ic=Hl("formats"),Rc=Hl("preview_styles"),Nc=Hl("format_empty_lines"),Bc=Hl("format_noneditable_selector"),Fc=Hl("custom_ui_selector"),jc=Hl("inline"),zc=Hl("hidden_input"),Hc=Hl("submit_patch"),$c=Hl("add_form_submit_trigger"),Uc=Hl("add_unload_trigger"),Wc=Hl("custom_undo_redo_levels"),qc=Hl("disable_nodechange"),Vc=Hl("readonly"),Zc=Hl("editable_root"),Yc=Hl("content_css_cors"),Gc=Hl("plugins"),Kc=Hl("external_plugins"),Xc=Hl("block_unsupported_drop"),Jc=Hl("visual"),Qc=Hl("visual_table_class"),eu=Hl("visual_anchor_class"),tu=Hl("iframe_aria_text"),nu=Hl("setup"),ru=Hl("init_instance_callback"),iu=Hl("urlconverter_callback"),ou=Hl("auto_focus"),su=Hl("browser_spellcheck"),au=Hl("protect"),lu=Hl("paste_block_drop"),cu=Hl("paste_data_images"),uu=Hl("paste_preprocess"),du=Hl("paste_postprocess"),hu=Hl("newdocument_content"),fu=Hl("paste_webkit_styles"),pu=Hl("paste_remove_styles_if_webkit"),mu=Hl("paste_merge_formats"),gu=Hl("smart_paste"),vu=Hl("paste_as_text"),yu=Hl("paste_tab_spaces"),_u=Hl("allow_html_data_urls"),bu=Hl("text_patterns"),wu=Hl("text_patterns_lookup"),ku=Hl("noneditable_class"),xu=Hl("editable_class"),Su=Hl("noneditable_regexp"),Eu=Hl("preserve_cdata"),Cu=Hl("highlight_on_focus"),Tu=Hl("xss_sanitization"),Au=Hl("init_content_sync"),Ou=e=>It.explode(e.options.get("images_file_types")),Du=Hl("table_tab_navigation"),Mu=Hl("details_initial_state"),Lu=Hl("details_serialized_state"),Pu=Hl("force_hex_color"),Iu=Hl("sandbox_iframes"),Ru=Wr,Nu=ei,Bu=e=>{const t=e.parentNode;t&&t.removeChild(e)},Fu=e=>{const t=Ri(e);return{count:e.length-t.length,text:t}},ju=e=>{let t;for(;-1!==(t=e.data.lastIndexOf(Pi));)e.deleteData(t,1)},zu=(e,t)=>(Wu(e),t),Hu=(e,t)=>{const n=t.container(),r=((e,t)=>{const n=U(e,t);return-1===n?j.none():j.some(n)})(he(n.childNodes),e).map((e=>e<t.offset()?il(n,t.offset()-1):t)).getOr(t);return Wu(e),r},$u=(e,t)=>Nu(e)&&t.container()===e?((e,t)=>{const n=Fu(e.data.substr(0,t.offset())),r=Fu(e.data.substr(t.offset()));return(n.text+r.text).length>0?(ju(e),il(e,t.offset()-n.count)):t})(e,t):zu(e,t),Uu=(e,t)=>il.isTextPosition(t)?$u(e,t):((e,t)=>t.container()===e.parentNode?Hu(e,t):zu(e,t))(e,t),Wu=e=>{Ru(e)&&zi(e)&&(Hi(e)?e.removeAttribute("data-mce-caret"):Bu(e)),Nu(e)&&(ju(e),0===e.data.length&&Bu(e))},qu=ci,Vu=hi,Zu=ui,Yu=(e,t,n)=>{const r=Ma(t.getBoundingClientRect(),n);let i,o;if("BODY"===e.tagName){const t=e.ownerDocument.documentElement;i=e.scrollLeft||t.scrollLeft,o=e.scrollTop||t.scrollTop}else{const t=e.getBoundingClientRect();i=e.scrollLeft-t.left,o=e.scrollTop-t.top}r.left+=i,r.right+=i,r.top+=o,r.bottom+=o,r.width=1;let s=t.offsetWidth-t.clientWidth;return s>0&&(n&&(s*=-1),r.left+=s,r.right+=s),r},Gu=(e,t,n,r)=>{const i=sa();let o,s;const a=Xl(e),l=e.dom,c=()=>{(e=>{var t,n;const r=jr(_n.fromDom(e),"*[contentEditable=false],video,audio,embed,object");for(let e=0;e<r.length;e++){const i=r[e].dom;let o=i.previousSibling;if(qi(o)){const e=o.data;1===e.length?null===(t=o.parentNode)||void 0===t||t.removeChild(o):o.deleteData(e.length-1,1)}o=i.nextSibling,Wi(o)&&(1===o.data.length?null===(n=o.parentNode)||void 0===n||n.removeChild(o):o.deleteData(0,1))}})(t),s&&(Wu(s),s=null),i.on((e=>{l.remove(e.caret),i.clear()})),o&&(clearInterval(o),o=void 0)},u=()=>{o=setInterval((()=>{i.on((e=>{r()?l.toggleClass(e.caret,"mce-visual-caret-hidden"):l.addClass(e.caret,"mce-visual-caret-hidden")}))}),500)};return{show:(e,r)=>{let o;if(c(),Zu(r))return null;if(!n(r))return s=((e,t)=>{var n;const r=(null!==(n=e.ownerDocument)&&void 0!==n?n:document).createTextNode(Pi),i=e.parentNode;if(t){const t=e.previousSibling;if(Bi(t)){if(zi(t))return t;if(qi(t))return t.splitText(t.data.length-1)}null==i||i.insertBefore(r,e)}else{const t=e.nextSibling;if(Bi(t)){if(zi(t))return t;if(Wi(t))return t.splitText(1),t}e.nextSibling?null==i||i.insertBefore(r,e.nextSibling):null==i||i.appendChild(r)}return r})(r,e),o=r.ownerDocument.createRange(),Xu(s.nextSibling)?(o.setStart(s,0),o.setEnd(s,0)):(o.setStart(s,1),o.setEnd(s,1)),o;{const n=((e,t,n)=>{var r;const i=(null!==(r=t.ownerDocument)&&void 0!==r?r:document).createElement(e);i.setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(Mi().dom);const o=t.parentNode;return n?null==o||o.insertBefore(i,t):t.nextSibling?null==o||o.insertBefore(i,t.nextSibling):null==o||o.appendChild(i),i})(a,r,e),c=Yu(t,r,e);l.setStyle(n,"top",c.top),s=n;const d=l.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});l.setStyles(d,{...c}),l.add(t,d),i.set({caret:d,element:r,before:e}),e&&l.addClass(d,"mce-visual-caret-before"),u(),o=r.ownerDocument.createRange(),o.setStart(n,0),o.setEnd(n,0)}return o},hide:c,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{i.on((e=>{const n=Yu(t,e.element,e.before);l.setStyles(e.caret,{...n})}))},destroy:()=>clearInterval(o)}},Ku=()=>Dt.browser.isFirefox(),Xu=e=>qu(e)||Vu(e),Ju=e=>(Xu(e)||Xr(e)&&Ku())&&On(_n.fromDom(e)).exists(rr),Qu=li,ed=ci,td=hi,nd=Yr("display","block table table-cell table-caption list-item"),rd=zi,id=Fi,od=Wr,sd=ei,ad=no,ld=e=>e>0,cd=e=>e<0,ud=(e,t)=>{let n;for(;n=e(t);)if(!id(n))return n;return null},dd=(e,t,n,r,i)=>{const o=new Hr(e,r),s=ed(e)||id(e);let a;if(cd(t)){if(s&&(a=ud(o.prev.bind(o),!0),n(a)))return a;for(;a=ud(o.prev.bind(o),i);)if(n(a))return a}if(ld(t)){if(s&&(a=ud(o.next.bind(o),!0),n(a)))return a;for(;a=ud(o.next.bind(o),i);)if(n(a))return a}return null},hd=(e,t)=>{for(;e&&e!==t;){if(nd(e))return e;e=e.parentNode}return null},fd=(e,t,n)=>hd(e.container(),n)===hd(t.container(),n),pd=(e,t)=>{if(!t)return j.none();const n=t.container(),r=t.offset();return od(n)?j.from(n.childNodes[r+e]):j.none()},md=(e,t)=>{var n;const r=(null!==(n=t.ownerDocument)&&void 0!==n?n:document).createRange();return e?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),r},gd=(e,t,n)=>hd(t,e)===hd(n,e),vd=(e,t,n)=>{const r=e?"previousSibling":"nextSibling";let i=n;for(;i&&i!==t;){let e=i[r];if(e&&rd(e)&&(e=e[r]),ed(e)||td(e)){if(gd(t,e,i))return e;break}if(ad(e))break;i=i.parentNode}return null},yd=L(md,!0),_d=L(md,!1),bd=(e,t,n)=>{let r;const i=L(vd,!0,t),o=L(vd,!1,t),s=n.startContainer,a=n.startOffset;if(Fi(s)){const e=sd(s)?s.parentNode:s,t=e.getAttribute("data-mce-caret");if("before"===t&&(r=e.nextSibling,Ju(r)))return yd(r);if("after"===t&&(r=e.previousSibling,Ju(r)))return _d(r)}if(!n.collapsed)return n;if(ei(s)){if(rd(s)){if(1===e){if(r=o(s),r)return yd(r);if(r=i(s),r)return _d(r)}if(-1===e){if(r=i(s),r)return _d(r);if(r=o(s),r)return yd(r)}return n}if(qi(s)&&a>=s.data.length-1)return 1===e&&(r=o(s),r)?yd(r):n;if(Wi(s)&&a<=1)return-1===e&&(r=i(s),r)?_d(r):n;if(a===s.data.length)return r=o(s),r?yd(r):n;if(0===a)return r=i(s),r?_d(r):n}return n},wd=(e,t)=>pd(e?0:-1,t).filter(ed),kd=(e,t,n)=>{const r=bd(e,t,n);return-1===e?il.fromRangeStart(r):il.fromRangeEnd(r)},xd=e=>j.from(e.getNode()).map(_n.fromDom),Sd=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},Ed=(e,t)=>{const n=fd(e,t);return!(n||!si(e.getNode()))||n};var Cd;!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(Cd||(Cd={}));const Td=ci,Ad=ei,Od=Wr,Dd=si,Md=no,Ld=e=>Qi(e)||(e=>!!ro(e)&&!J(he(e.getElementsByTagName("*")),((e,t)=>e||Yi(t)),!1))(e),Pd=io,Id=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,Rd=(e,t)=>{if(ld(e)){if(Md(t.previousSibling)&&!Ad(t.previousSibling))return il.before(t);if(Ad(t))return il(t,0)}if(cd(e)){if(Md(t.nextSibling)&&!Ad(t.nextSibling))return il.after(t);if(Ad(t))return il(t,t.data.length)}return cd(e)?Dd(t)?il.before(t):il.after(t):il.before(t)},Nd=(e,t,n)=>{let r,i,o,s;if(!Od(n)||!t)return null;if(t.isEqual(il.after(n))&&n.lastChild){if(s=il.after(n.lastChild),cd(e)&&Md(n.lastChild)&&Od(n.lastChild))return Dd(n.lastChild)?il.before(n.lastChild):s}else s=t;const a=s.container();let l=s.offset();if(Ad(a)){if(cd(e)&&l>0)return il(a,--l);if(ld(e)&&l<a.length)return il(a,++l);r=a}else{if(cd(e)&&l>0&&(i=Id(a,l-1),Md(i)))return!Ld(i)&&(o=dd(i,e,Pd,i),o)?Ad(o)?il(o,o.data.length):il.after(o):Ad(i)?il(i,i.data.length):il.before(i);if(ld(e)&&l<a.childNodes.length&&(i=Id(a,l),Md(i)))return Dd(i)?((e,t)=>{const n=t.nextSibling;return n&&Md(n)?Ad(n)?il(n,0):il.before(n):Nd(Cd.Forwards,il.after(t),e)})(n,i):!Ld(i)&&(o=dd(i,e,Pd,i),o)?Ad(o)?il(o,0):il.before(o):Ad(i)?il(i,0):il.after(i);r=i||s.getNode()}if(r&&(ld(e)&&s.isAtEnd()||cd(e)&&s.isAtStart())&&(r=dd(r,e,F,n,!0),Pd(r,n)))return Rd(e,r);i=r?dd(r,e,Pd,n):r;const c=Re(K(((e,t)=>{const n=[];let r=e;for(;r&&r!==t;)n.push(r),r=r.parentNode;return n})(a,n),Td));return!c||i&&c.contains(i)?i?Rd(e,i):null:(s=ld(e)?il.after(c):il.before(c),s)},Bd=e=>({next:t=>Nd(Cd.Forwards,t,e),prev:t=>Nd(Cd.Backwards,t,e)}),Fd=e=>il.isTextPosition(e)?0===e.offset():no(e.getNode()),jd=e=>{if(il.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}return no(e.getNode(!0))},zd=(e,t)=>!il.isTextPosition(e)&&!il.isTextPosition(t)&&e.getNode()===t.getNode(!0),Hd=(e,t,n)=>{return e?!zd(t,n)&&(r=t,!(!il.isTextPosition(r)&&si(r.getNode())))&&jd(t)&&Fd(n):!zd(n,t)&&Fd(t)&&jd(n);var r},$d=(e,t,n)=>{const r=Bd(t);return j.from(e?r.next(n):r.prev(n))},Ud=(e,t,n)=>$d(e,t,n).bind((r=>fd(n,r,t)&&Hd(e,n,r)?$d(e,t,r):j.some(r))),Wd=(e,t,n,r)=>Ud(e,t,n).bind((n=>r(n)?Wd(e,t,n,r):j.some(n))),qd=(e,t)=>{const n=e?t.firstChild:t.lastChild;return ei(n)?j.some(il(n,e?0:n.data.length)):n?no(n)?j.some(e?il.before(n):(e=>si(e)?il.before(e):il.after(e))(n)):((e,t,n)=>{const r=e?il.before(n):il.after(n);return $d(e,t,r)})(e,t,n):j.none()},Vd=L($d,!0),Zd=L($d,!1),Yd=L(qd,!0),Gd=L(qd,!1),Kd="_mce_caret",Xd=e=>Wr(e)&&e.id===Kd,Jd=(e,t)=>{let n=t;for(;n&&n!==e;){if(Xd(n))return n;n=n.parentNode}return null},Qd=e=>Ee(e,"name"),eh=e=>It.isArray(e.start),th=e=>!(!Qd(e)&&_(e.forward))||e.forward,nh=(e,t)=>(Wr(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),rh=(e,t)=>Gd(e).fold(B,(e=>(t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0))),ih=(e,t,n)=>!(!(e=>!e.hasChildNodes())(t)||!Jd(e,t))&&(((e,t)=>{var n;const r=(null!==(n=e.ownerDocument)&&void 0!==n?n:document).createTextNode(Pi);e.appendChild(r),t.setStart(r,0),t.setEnd(r,0)})(t,n),!0),oh=(e,t,n,r)=>{const i=n[t?"start":"end"],o=e.getRoot();if(i){let e=o,n=i[0];for(let t=i.length-1;e&&t>=1;t--){const n=e.childNodes;if(ih(o,e,r))return!0;if(i[t]>n.length-1)return!!ih(o,e,r)||rh(e,r);e=n[i[t]]}ei(e)&&(n=Math.min(i[0],e.data.length)),Wr(e)&&(n=Math.min(i[0],e.childNodes.length)),t?r.setStart(e,n):r.setEnd(e,n)}return!0},sh=e=>ei(e)&&e.data.length>0,ah=(e,t,n)=>{const r=e.get(n.id+"_"+t),i=null==r?void 0:r.parentNode,o=n.keep;if(r&&i){let s,a;if("start"===t?o?r.hasChildNodes()?(s=r.firstChild,a=1):sh(r.nextSibling)?(s=r.nextSibling,a=0):sh(r.previousSibling)?(s=r.previousSibling,a=r.previousSibling.data.length):(s=i,a=e.nodeIndex(r)+1):(s=i,a=e.nodeIndex(r)):o?r.hasChildNodes()?(s=r.firstChild,a=1):sh(r.previousSibling)?(s=r.previousSibling,a=r.previousSibling.data.length):(s=i,a=e.nodeIndex(r)):(s=i,a=e.nodeIndex(r)),!o){const i=r.previousSibling,o=r.nextSibling;let l;for(It.each(It.grep(r.childNodes),(e=>{ei(e)&&(e.data=e.data.replace(/\uFEFF/g,""))}));l=e.get(n.id+"_"+t);)e.remove(l,!0);if(ei(o)&&ei(i)&&!Dt.browser.isOpera()){const t=i.data.length;i.appendData(o.data),e.remove(o),s=i,a=t}}return j.some(il(s,a))}return j.none()},lh=(e,t)=>{const n=e.dom;if(t){if(eh(t))return((e,t)=>{const n=e.createRng();return oh(e,!0,t,n)&&oh(e,!1,t,n)?j.some({range:n,forward:th(t)}):j.none()})(n,t);if((e=>p(e.start))(t))return((e,t)=>{const n=j.from(ml(e.getRoot(),t.start)),r=j.from(ml(e.getRoot(),t.end));return Bt(n,r,((n,r)=>{const i=e.createRng();return i.setStart(n.container(),n.offset()),i.setEnd(r.container(),r.offset()),{range:i,forward:th(t)}}))})(n,t);if((e=>Ee(e,"id"))(t))return((e,t)=>{const n=ah(e,"start",t),r=ah(e,"end",t);return Bt(n,r.or(n),((n,r)=>{const i=e.createRng();return i.setStart(nh(e,n.container()),n.offset()),i.setEnd(nh(e,r.container()),r.offset()),{range:i,forward:th(t)}}))})(n,t);if(Qd(t))return((e,t)=>j.from(e.select(t.name)[t.index]).map((t=>{const n=e.createRng();return n.selectNode(t),{range:n,forward:!0}})))(n,t);if((e=>Ee(e,"rng"))(t))return j.some({range:t.rng,forward:th(t)})}return j.none()},ch=(e,t,n)=>El(e,t,n),uh=(e,t)=>{lh(e,t).each((({range:t,forward:n})=>{e.setRng(t,n)}))},dh=e=>Wr(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type"),hh=(fh=vi,e=>fh===e);var fh;const ph=e=>""!==e&&-1!==" \f\n\r\t\v".indexOf(e),mh=e=>!ph(e)&&!hh(e)&&!yi(e),gh=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},vh=e=>K((e=>re(e,(e=>{const t=Na(e);return t?[_n.fromDom(t)]:[]})))(e),Ai),yh=(e,t)=>{const n=jr(t,"td[data-mce-selected],th[data-mce-selected]");return n.length>0?n:vh(e)},_h=e=>yh(gh(e.selection.getSel()),_n.fromDom(e.getBody())),bh=(e,t)=>er(e,"table",t),wh=e=>Bn(e).fold(O([e]),(t=>[e].concat(wh(t)))),kh=e=>Fn(e).fold(O([e]),(t=>"br"===Wt(t)?Mn(t).map((t=>[e].concat(kh(t)))).getOr([]):[e].concat(kh(t)))),xh=(e,t)=>Bt((e=>{const t=e.startContainer,n=e.startOffset;return ei(t)?0===n?j.some(_n.fromDom(t)):j.none():j.from(t.childNodes[n]).map(_n.fromDom)})(t),(e=>{const t=e.endContainer,n=e.endOffset;return ei(t)?n===t.data.length?j.some(_n.fromDom(t)):j.none():j.from(t.childNodes[n-1]).map(_n.fromDom)})(t),((t,n)=>{const r=ee(wh(e),L(xn,t)),i=ee(kh(e),L(xn,n));return r.isSome()&&i.isSome()})).getOr(!1),Sh=(e,t,n,r)=>{const i=n,o=new Hr(n,i),s=we(e.schema.getMoveCaretBeforeOnEnterElements(),((e,t)=>!W(["td","th","table"],t.toLowerCase())));let a=n;do{if(ei(a)&&0!==It.trim(a.data).length)return void(r?t.setStart(a,0):t.setEnd(a,a.data.length));if(s[a.nodeName])return void(r?t.setStartBefore(a):"BR"===a.nodeName?t.setEndBefore(a):t.setEndAfter(a))}while(a=r?o.next():o.prev());"BODY"===i.nodeName&&(r?t.setStart(i,0):t.setEnd(i,i.childNodes.length))},Eh=e=>{const t=e.selection.getSel();return k(t)&&t.rangeCount>0},Ch=(e,t)=>{const n=_h(e);n.length>0?Z(n,(n=>{const r=n.dom,i=e.dom.createRng();i.setStartBefore(r),i.setEndAfter(r),t(i,!0)})):t(e.selection.getRng(),!1)},Th=(e,t,n)=>{const r=Sl(e,t);n(r),e.moveToBookmark(r)},Ah=e=>S(null==e?void 0:e.nodeType),Oh=e=>Wr(e)&&!dh(e)&&!Xd(e)&&!Kr(e),Dh=(e,t,n)=>{const{selection:r,dom:i}=e,o=r.getNode(),s=ci(o);Th(r,!0,(()=>{t()}));s&&ci(o)&&i.isChildOf(o,e.getBody())?e.selection.select(o):n(r.getStart())&&Mh(i,r)},Mh=(e,t)=>{var n,r;const i=t.getRng(),{startContainer:o,startOffset:s}=i;if(!((e,t)=>{if(Oh(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),r=parseInt(n,10);return!isNaN(r)&&r>0}return!1})(e,t.getNode())&&Wr(o)){const a=o.childNodes,l=e.getRoot();let c;if(s<a.length){const t=a[s];c=new Hr(t,null!==(n=e.getParent(t,e.isBlock))&&void 0!==n?n:l)}else{const t=a[a.length-1];c=new Hr(t,null!==(r=e.getParent(t,e.isBlock))&&void 0!==r?r:l),c.next(!0)}for(let n=c.current();n;n=c.next()){if("false"===e.getContentEditable(n))return;if(ei(n)&&!Rh(n))return i.setStart(n,0),void t.setRng(i)}}},Lh=(e,t,n)=>{if(e){const r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(Wr(e)||!Rh(e))return e}},Ph=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Ro(e,t),Ih=(e,t,n)=>e.schema.isValidChild(t,n),Rh=(e,t=!1)=>{if(k(e)&&ei(e)){const n=t?e.data.replace(/ /g," "):e.data;return so(n)}return!1},Nh=(e,t)=>{const n=e.dom;return Oh(t)&&"false"===n.getContentEditable(t)&&((e,t)=>{const n="[data-mce-cef-wrappable]",r=Bc(e),i=Xe(r)?n:`${n},${r}`;return wn(_n.fromDom(t),i)})(e,t)&&0===n.select('[contenteditable="true"]',t).length},Bh=(e,t)=>x(e)?e(t):(k(t)&&(e=e.replace(/%(\w+)/g,((e,n)=>t[n]||e))),e),Fh=(e,t)=>(t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),jh=(e,t)=>{if(w(e))return null;{let n=String(e);return"color"!==t&&"backgroundColor"!==t||(n=Os(n)),"fontWeight"===t&&700===e&&(n="bold"),"fontFamily"===t&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},zh=(e,t,n)=>{const r=e.getStyle(t,n);return jh(r,n)},Hh=(e,t)=>{let n;return e.getParent(t,(t=>!!Wr(t)&&(n=e.getStyle(t,"text-decoration"),!!n&&"none"!==n))),n},$h=(e,t,n)=>e.getParents(t,n,e.getRoot()),Uh=(e,t,n)=>{const r=e.formatter.get(t);return k(r)&&q(r,n)},Wh=(e,t,n)=>{const r=["inline","block","selector","attributes","styles","classes"],i=e=>we(e,((e,t)=>q(r,(e=>e===t))));return Uh(e,t,(t=>{const r=i(t);return Uh(e,n,(e=>{const t=i(e);return((e,t,n=a)=>s(n).eq(e,t))(r,t)}))}))},qh=e=>Ce(e,"block"),Vh=e=>Ce(e,"selector"),Zh=e=>Ce(e,"inline"),Yh=e=>Vh(e)&&!1!==e.expand&&!Zh(e),Gh=e=>(e=>{const t=[];let n=e;for(;n;){if(ei(n)&&n.data!==Pi||n.childNodes.length>1)return[];Wr(n)&&t.push(n),n=n.firstChild}return t})(e).length>0,Kh=e=>Xd(e.dom)&&Gh(e.dom),Xh=dh,Jh=$h,Qh=Rh,ef=Ph,tf=e=>si(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,nf=(e,t)=>{let n=t;for(;n;){if(Wr(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},rf=(e,t,n,r)=>{const i=t.data;if(e){for(let e=n;e>0;e--)if(r(i.charAt(e-1)))return e}else for(let e=n;e<i.length;e++)if(r(i.charAt(e)))return e;return-1},of=(e,t,n)=>rf(e,t,n,(e=>hh(e)||ph(e))),sf=(e,t,n)=>rf(e,t,n,mh),af=(e,t,n,r,i,o)=>{let s;const a=e.getParent(n,e.isBlock)||t,l=(t,n,r)=>{const o=Aa(e),l=i?o.backwards:o.forwards;return j.from(l(t,n,((e,t)=>Xh(e.parentNode)?-1:(s=e,r(i,e,t))),a))};return l(n,r,of).bind((e=>o?l(e.container,e.offset+(i?-1:0),sf):j.some(e))).orThunk((()=>s?j.some({container:s,offset:i?0:s.length}):j.none()))},lf=(e,t,n,r,i)=>{const o=r[i];ei(r)&&Xe(r.data)&&o&&(r=o);const s=Jh(e,r);for(let r=0;r<s.length;r++)for(let i=0;i<t.length;i++){const o=t[i];if((!k(o.collapsed)||o.collapsed===n.collapsed)&&(Vh(o)&&e.is(s[r],o.selector)))return s[r]}return r},cf=(e,t,n,r)=>{var i;let o=n;const s=e.getRoot(),a=t[0];if(qh(a)&&(o=a.wrapper?null:e.getParent(n,a.block,s)),!o){const t=null!==(i=e.getParent(n,"LI,TD,TH,SUMMARY"))&&void 0!==i?i:s;o=e.getParent(ei(n)?n.parentNode:n,(t=>t!==s&&ef(e.schema,t)),t)}if(o&&qh(a)&&a.wrapper&&(o=Jh(e,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o&&o[r]&&!e.isBlock(o[r])&&(o=o[r],!Fh(o,"br")););return o||n},uf=(e,t,n,r)=>{const i=n.parentNode;return!k(n[r])&&(!(i!==t&&!w(i)&&!e.isBlock(i))||uf(e,t,i,r))},df=(e,t,n,r,i)=>{let o=n;const s=i?"previousSibling":"nextSibling",a=e.getRoot();if(ei(n)&&!Qh(n)&&(i?r>0:r<n.data.length))return n;for(;o;){if(!t[0].block_expand&&e.isBlock(o))return o;for(let t=o[s];t;t=t[s]){const n=ei(t)&&!uf(e,a,t,s);if(!Xh(t)&&!tf(t)&&!Qh(t,n))return o}if(o===a||o.parentNode===a){n=o;break}o=o.parentNode}return n},hf=e=>Xh(e.parentNode)||Xh(e),ff=(e,t,n,r=!1)=>{let{startContainer:i,startOffset:o,endContainer:s,endOffset:a}=t;const l=n[0];if(Wr(i)&&i.hasChildNodes()&&(i=Ba(i,o),ei(i)&&(o=0)),Wr(s)&&s.hasChildNodes()&&(s=Ba(s,t.collapsed?a:a-1),ei(s)&&(a=s.data.length)),i=nf(e,i),s=nf(e,s),hf(i)&&(i=Xh(i)?i:i.parentNode,i=t.collapsed?i.previousSibling||i:i.nextSibling||i,ei(i)&&(o=t.collapsed?i.length:0)),hf(s)&&(s=Xh(s)?s:s.parentNode,s=t.collapsed?s.nextSibling||s:s.previousSibling||s,ei(s)&&(a=t.collapsed?0:s.length)),t.collapsed){af(e,e.getRoot(),i,o,!0,r).each((({container:e,offset:t})=>{i=e,o=t}));af(e,e.getRoot(),s,a,!1,r).each((({container:e,offset:t})=>{s=e,a=t}))}return(Zh(l)||l.block_expand)&&(Zh(l)&&ei(i)&&0!==o||(i=df(e,n,i,o,!0)),Zh(l)&&ei(s)&&a!==s.data.length||(s=df(e,n,s,a,!1))),Yh(l)&&(i=lf(e,n,t,i,"previousSibling"),s=lf(e,n,t,s,"nextSibling")),(qh(l)||Vh(l))&&(i=cf(e,n,i,"previousSibling"),s=cf(e,n,s,"nextSibling"),qh(l)&&(e.isBlock(i)||(i=df(e,n,i,o,!0)),e.isBlock(s)||(s=df(e,n,s,a,!1)))),Wr(i)&&i.parentNode&&(o=e.nodeIndex(i),i=i.parentNode),Wr(s)&&s.parentNode&&(a=e.nodeIndex(s)+1,s=s.parentNode),{startContainer:i,startOffset:o,endContainer:s,endOffset:a}},pf=(e,t,n)=>{var r;const i=t.startOffset,o=Ba(t.startContainer,i),s=t.endOffset,a=Ba(t.endContainer,s-1),l=e=>{const t=e[0];ei(t)&&t===o&&i>=t.data.length&&e.splice(0,1);const n=e[e.length-1];return 0===s&&e.length>0&&n===a&&ei(n)&&e.splice(e.length-1,1),e},c=(e,t,n)=>{const r=[];for(;e&&e!==n;e=e[t])r.push(e);return r},u=(t,n)=>e.getParent(t,(e=>e.parentNode===n),n),d=(e,t,r)=>{const i=r?"nextSibling":"previousSibling";for(let o=e,s=o.parentNode;o&&o!==t;o=s){s=o.parentNode;const t=c(o===e?o:o[i],i);t.length&&(r||t.reverse(),n(l(t)))}};if(o===a)return n(l([o]));const h=null!==(r=e.findCommonAncestor(o,a))&&void 0!==r?r:e.getRoot();if(e.isChildOf(o,a))return d(o,h,!0);if(e.isChildOf(a,o))return d(a,h);const f=u(o,h)||o,p=u(a,h)||a;d(o,f,!0);const m=c(f===o?f:f.nextSibling,"nextSibling",p===a?p.nextSibling:p);m.length&&n(l(m)),d(a,p)},mf=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],gf=(e,t,n,r)=>An(t).fold((()=>"skipping"),(i=>"br"===r||(e=>Gt(e)&&bi(e)===Pi)(t)?"valid":(e=>Yt(e)&&vn(e,ca()))(t)?"existing":Xd(t.dom)?"caret":q(mf,(e=>wn(t,e)))?"valid-block":Ih(e,n,r)&&Ih(e,Wt(i),n)?"valid":"invalid-child")),vf=(e,t,n,r,i,o)=>{const{uid:s=t,...a}=n;fn(e,ca()),en(e,`${da()}`,s),en(e,`${ua()}`,r);const{attributes:l={},classes:c=[]}=i(s,a);if(tn(e,l),((e,t)=>{Z(t,(t=>{fn(e,t)}))})(e,c),o){c.length>0&&en(e,`${fa()}`,c.join(","));const t=pe(l);t.length>0&&en(e,`${pa()}`,t.join(","))}},yf=e=>{mn(e,ca()),sn(e,`${da()}`),sn(e,`${ua()}`),sn(e,`${ha()}`);const t=rn(e,`${pa()}`).map((e=>e.split(","))).getOr([]),n=rn(e,`${fa()}`).map((e=>e.split(","))).getOr([]);var r;Z(t,(t=>sn(e,t))),r=e,Z(n,(e=>{mn(r,e)})),sn(e,`${fa()}`),sn(e,`${pa()}`)},_f=(e,t,n,r,i)=>{const o=_n.fromTag("span",e);return vf(o,t,n,r,i,!1),o},bf=(e,t,n,r,i,o)=>{const s=[],a=_f(e.getDoc(),n,o,r,i),l=sa(),c=()=>{l.clear()},u=e=>{Z(e,d)},d=t=>{switch(gf(e,t,"span",Wt(t))){case"invalid-child":{c();const e=Rn(t);u(e),c();break}case"valid-block":c(),vf(t,n,o,r,i,!0);break;case"valid":{const e=l.get().getOrThunk((()=>{const e=Sa(a);return s.push(e),l.set(e),e}));yr(t,e);break}}};return pf(e.dom,t,(e=>{c(),(e=>{const t=V(e,_n.fromDom);u(t)})(e)})),s},wf=(e,t,n,r)=>{e.undoManager.transact((()=>{const i=e.selection,o=i.getRng(),s=_h(e).length>0,a=ka("mce-annotation");if(o.collapsed&&!s&&((e,t)=>{const n=ff(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)})(e,o),i.getRng().collapsed&&!s){const o=_f(e.getDoc(),a,r,t,n.decorate);Er(o,vi),i.getRng().insertNode(o.dom),i.select(o.dom)}else Th(i,!1,(()=>{Ch(e,(i=>{bf(e,i,a,t,n.decorate,r)}))}))}))},kf=e=>{const t=(()=>{const e={};return{register:(t,n)=>{e[t]={name:t,settings:n}},lookup:t=>Se(e,t).map((e=>e.settings)),getNames:()=>pe(e)}})();((e,t)=>{const n=ua(),r=e=>j.from(e.attr(n)).bind(t.lookup),i=e=>{var t,n;e.attr(da(),null),e.attr(ua(),null),e.attr(ha(),null);const r=j.from(e.attr(pa())).map((e=>e.split(","))).getOr([]),i=j.from(e.attr(fa())).map((e=>e.split(","))).getOr([]);Z(r,(t=>e.attr(t,null)));const o=null!==(n=null===(t=e.attr("class"))||void 0===t?void 0:t.split(" "))&&void 0!==n?n:[],s=se(o,[ca()].concat(i));e.attr("class",s.length>0?s.join(" "):null),e.attr(fa(),null),e.attr(pa(),null)};e.serializer.addTempAttr(ha()),e.serializer.addAttributeFilter(n,(e=>{for(const t of e)r(t).each((e=>{!1===e.persistent&&("span"===t.name?t.unwrap():i(t))}))}))})(e,t);const n=ba(e,t),r=Jt("span"),i=e=>{Z(e,(e=>{r(e)?kr(e):yf(e)}))};return{register:(e,n)=>{t.register(e,n)},annotate:(n,r)=>{t.lookup(n).each((t=>{wf(e,n,t,r)}))},annotationChanged:(e,t)=>{n.addListener(e,t)},remove:t=>{ga(e,j.some(t)).each((({elements:t})=>{const n=e.selection.getBookmark();i(t),e.selection.moveToBookmark(n)}))},removeAll:t=>{const n=e.selection.getBookmark();ge(_a(e,t),((e,t)=>{i(e)})),e.selection.moveToBookmark(n)},getAll:t=>{const n=_a(e,t);return ve(n,(e=>V(e,(e=>e.dom))))}}},xf=e=>({getBookmark:L(ch,e),moveToBookmark:L(uh,e)});xf.isBookmarkNode=dh;const Sf=(e,t,n)=>!n.collapsed&&q(n.getClientRects(),(n=>((e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom)(n,e,t))),Ef=(e,t,n)=>{e.dispatch(t,n)},Cf=(e,t,n,r)=>{e.dispatch("FormatApply",{format:t,node:n,vars:r})},Tf=(e,t,n,r)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:r})},Af=(e,t)=>e.dispatch("SetContent",t),Of=(e,t)=>e.dispatch("GetContent",t),Df=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),Mf={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Mf.metaKeyPressed(e),metaKeyPressed:e=>Dt.os.isMacOS()||Dt.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Lf="data-mce-selected",Pf=Math.abs,If=Math.round,Rf={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Nf=(e,t)=>{const n=t.dom,r=t.getDoc(),i=document,o=t.getBody();let s,a,l,c,u,d,h,f,p,m,g,v,y,_,b;const w=e=>k(e)&&(ai(e)||n.is(e,"figure.image")),x=e=>hi(e)||n.hasClass(e,"mce-preview-object"),S=e=>{const n=e.target;((e,t)=>{if((e=>"longpress"===e.type||0===e.type.indexOf("touch"))(e)){const n=e.touches[0];return w(e.target)&&!Sf(n.clientX,n.clientY,t)}return w(e.target)&&!Sf(e.clientX,e.clientY,t)})(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},E=e=>n.hasClass(e,"mce-preview-object")&&k(e.firstElementChild)?[e,e.firstElementChild]:n.is(e,"figure.image")?[e.querySelector("img")]:[e],C=e=>{const r=Sc(t);return!!r&&("false"!==e.getAttribute("data-mce-resize")&&(e!==t.getBody()&&(n.hasClass(e,"mce-preview-object")&&k(e.firstElementChild)?wn(_n.fromDom(e.firstElementChild),r):wn(_n.fromDom(e),r))))},T=(e,r,i)=>{if(k(i)){const o=E(e);Z(o,(e=>{e.style[r]||!t.schema.isValid(e.nodeName.toLowerCase(),r)?n.setStyle(e,r,i):n.setAttrib(e,r,""+i)}))}},A=(e,t,n)=>{T(e,"width",t),T(e,"height",n)},O=e=>{let r,i,u,k,S;r=e.screenX-d,i=e.screenY-h,v=r*c[2]+f,y=i*c[3]+p,v=v<5?5:v,y=y<5?5:y,u=(w(s)||x(s))&&!1!==Ec(t)?!Mf.modifierPressed(e):Mf.modifierPressed(e),u&&(Pf(r)>Pf(i)?(y=If(v*m),v=If(y/m)):(v=If(y/m),y=If(v*m))),A(a,v,y),k=c.startPos.x+r,S=c.startPos.y+i,k=k>0?k:0,S=S>0?S:0,n.setStyles(l,{left:k,top:S,display:"block"}),l.innerHTML=v+" &times; "+y,c[2]<0&&a.clientWidth<=v&&n.setStyle(a,"left",undefined+(f-v)),c[3]<0&&a.clientHeight<=y&&n.setStyle(a,"top",undefined+(p-y)),r=o.scrollWidth-_,i=o.scrollHeight-b,r+i!==0&&n.setStyles(l,{left:k-r,top:S-i}),g||(((e,t,n,r,i)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:r,origin:i})})(t,s,f,p,"corner-"+c.name),g=!0)},D=()=>{const e=g;g=!1,e&&(T(s,"width",v),T(s,"height",y)),n.unbind(r,"mousemove",O),n.unbind(r,"mouseup",D),i!==r&&(n.unbind(i,"mousemove",O),n.unbind(i,"mouseup",D)),n.remove(a),n.remove(l),n.remove(u),M(s),e&&(((e,t,n,r,i)=>{e.dispatch("ObjectResized",{target:t,width:n,height:r,origin:i})})(t,s,v,y,"corner-"+c.name),n.setAttrib(s,"style",n.getAttrib(s,"style"))),t.nodeChanged()},M=e=>{N();const g=n.getPos(e,o),w=g.x,k=g.y,S=e.getBoundingClientRect(),T=S.width||S.right-S.left,M=S.height||S.bottom-S.top;s!==e&&(P(),s=e,v=y=0);const L=t.dispatch("ObjectSelected",{target:e});C(e)&&!L.isDefaultPrevented()?ge(Rf,((e,t)=>{const g=g=>{const v=E(s)[0];var y;d=g.screenX,h=g.screenY,f=v.clientWidth,p=v.clientHeight,m=p/f,c=e,c.name=t,c.startPos={x:T*e[0]+w,y:M*e[1]+k},_=o.scrollWidth,b=o.scrollHeight,u=n.add(o,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(u,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),a=x(y=s)?n.create("img",{src:Dt.transparentSrc}):y.cloneNode(!0),n.addClass(a,"mce-clonedresizable"),n.setAttrib(a,"data-mce-bogus","all"),a.contentEditable="false",n.setStyles(a,{left:w,top:k,margin:0}),A(a,T,M),a.removeAttribute(Lf),o.appendChild(a),n.bind(r,"mousemove",O),n.bind(r,"mouseup",D),i!==r&&(n.bind(i,"mousemove",O),n.bind(i,"mouseup",D)),l=n.add(o,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},f+" &times; "+p)};let v=n.get("mceResizeHandle"+t);v&&n.remove(v),v=n.add(o,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),n.bind(v,"mousedown",(e=>{e.stopImmediatePropagation(),e.preventDefault(),g(e)})),e.elm=v,n.setStyles(v,{left:T*e[0]+w-v.offsetWidth/2,top:M*e[1]+k-v.offsetHeight/2})})):P(!1)},L=aa(M,0),P=(e=!0)=>{L.cancel(),N(),s&&e&&s.removeAttribute(Lf),ge(Rf,((e,t)=>{const r=n.get("mceResizeHandle"+t);r&&(n.unbind(r),n.remove(r))}))},I=(e,t)=>n.isChildOf(e,t),R=r=>{if(g||t.removed||t.composing)return;const i="mousedown"===r.type?r.target:e.getNode(),s=nr(_n.fromDom(i),"table,img,figure.image,hr,video,span.mce-preview-object,details").map((e=>e.dom)).filter((e=>n.isEditable(e.parentElement)||"IMG"===e.nodeName&&n.isEditable(e))).getOrUndefined(),a=k(s)?n.getAttrib(s,Lf,"1"):"1";if(Z(n.select(`img[${Lf}],hr[${Lf}]`),(e=>{e.removeAttribute(Lf)})),k(s)&&I(s,o)&&t.hasFocus()){B();const t=e.getStart(!0);if(I(t,s)&&I(e.getEnd(!0),s))return n.setAttrib(s,Lf,a),void L.throttle(s)}P()},N=()=>{ge(Rf,(e=>{e.elm&&(n.unbind(e.elm),delete e.elm)}))},B=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};t.on("init",(()=>{B(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",R),t.on("keyup compositionend",(e=>{s&&"TABLE"===s.nodeName&&R(e)})),t.on("hide blur",P),t.on("contextmenu longpress",S,!0)})),t.on("remove",N);return{isResizable:C,showResizeRect:M,hideResizeRect:P,updateResizeRect:R,destroy:()=>{L.cancel(),s=a=u=null}}},Bf=(e,t,n)=>{const r=e.document.createRange();var i;return i=r,t.fold((e=>{i.setStartBefore(e.dom)}),((e,t)=>{i.setStart(e.dom,t)}),(e=>{i.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))})(r,n),r},Ff=(e,t,n,r,i)=>{const o=e.document.createRange();return o.setStart(t.dom,n),o.setEnd(r.dom,i),o},jf=Dl([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),zf=(e,t,n)=>t(_n.fromDom(n.startContainer),n.startOffset,_n.fromDom(n.endContainer),n.endOffset),Hf=(e,t)=>{const n=((e,t)=>t.match({domRange:e=>({ltr:O(e),rtl:j.none}),relative:(t,n)=>({ltr:Ne((()=>Bf(e,t,n))),rtl:Ne((()=>j.some(Bf(e,n,t))))}),exact:(t,n,r,i)=>({ltr:Ne((()=>Ff(e,t,n,r,i))),rtl:Ne((()=>j.some(Ff(e,r,i,t,n))))})}))(e,t);return((e,t)=>{const n=t.ltr();if(n.collapsed)return t.rtl().filter((e=>!1===e.collapsed)).map((e=>jf.rtl(_n.fromDom(e.endContainer),e.endOffset,_n.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>zf(0,jf.ltr,n)));return zf(0,jf.ltr,n)})(0,n)};jf.ltr,jf.rtl;const $f=(e,t,n,r)=>({start:e,soffset:t,finish:n,foffset:r}),Uf=(e,t,n)=>{var r,i;return j.from(null===(i=(r=e.dom).caretPositionFromPoint)||void 0===i?void 0:i.call(r,t,n)).bind((t=>{if(null===t.offsetNode)return j.none();const n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),j.some(n)}))},Wf=(e,t,n)=>{var r,i;return j.from(null===(i=(r=e.dom).caretRangeFromPoint)||void 0===i?void 0:i.call(r,t,n))},qf=document.caretPositionFromPoint?Uf:document.caretRangeFromPoint?Wf:j.none,Vf=Dl([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Zf={before:Vf.before,on:Vf.on,after:Vf.after,cata:(e,t,n,r)=>e.fold(t,n,r),getStart:e=>e.fold(D,D,D)},Yf=Dl([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Gf={domRange:Yf.domRange,relative:Yf.relative,exact:Yf.exact,exactFromRange:e=>Yf.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>_n.fromDom(e.startContainer),relative:(e,t)=>Zf.getStart(e),exact:(e,t,n,r)=>e}))(e);return Tn(t)},range:$f},Kf=(e,t)=>{const n=Wt(e);return"input"===n?Zf.after(e):W(["br","img"],n)?0===t?Zf.before(e):Zf.after(e):Zf.on(e,t)},Xf=(e,t)=>{const n=e.fold(Zf.before,Kf,Zf.after),r=t.fold(Zf.before,Kf,Zf.after);return Gf.relative(n,r)},Jf=(e,t,n,r)=>{const i=Kf(e,t),o=Kf(n,r);return Gf.relative(i,o)},Qf=(e,t)=>{const n=(t||document).createDocumentFragment();return Z(e,(e=>{n.appendChild(e.dom)})),_n.fromDom(n)},ep=e=>{const t=Gf.getWin(e).dom,n=(e,n,r,i)=>Ff(t,e,n,r,i),r=(e=>e.match({domRange:e=>{const t=_n.fromDom(e.startContainer),n=_n.fromDom(e.endContainer);return Jf(t,e.startOffset,n,e.endOffset)},relative:Xf,exact:Jf}))(e);return Hf(t,r).match({ltr:n,rtl:n})},tp=(e,t,n)=>((e,t,n)=>{const r=_n.fromDom(e.document);return qf(r,t,n).map((e=>$f(_n.fromDom(e.startContainer),e.startOffset,_n.fromDom(e.endContainer),e.endOffset)))})(e,t,n),np=(e,t,n)=>{const r=Tn(_n.fromDom(n));return tp(r.dom,e,t).map((e=>{const t=n.createRange();return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),t})).getOrUndefined()},rp=(e,t)=>k(e)&&k(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,ip=(e,t,n)=>null!==((e,t,n)=>{let r=e;for(;r&&r!==t;){if(n(r))return r;r=r.parentNode}return null})(e,t,n),op=(e,t,n)=>ip(e,t,(e=>e.nodeName===n)),sp=(e,t)=>zi(e)&&!ip(e,t,Xd),ap=(e,t,n)=>{const r=t.parentNode;if(r){const i=new Hr(t,e.getParent(r,e.isBlock)||e.getRoot());let o;for(;o=i[n?"prev":"next"]();)if(si(o))return!0}return!1},lp=(e,t,n,r,i)=>{const o=e.getRoot(),s=e.schema.getNonEmptyElements(),a=i.parentNode;let l,c;if(!a)return j.none();const u=e.getParent(a,e.isBlock)||o;if(r&&si(i)&&t&&e.isEmpty(u))return j.some(il(a,e.nodeIndex(i)));const d=new Hr(i,u);for(;c=d[r?"prev":"next"]();){if("false"===e.getContentEditableParent(c)||sp(c,o))return j.none();if(ei(c)&&c.data.length>0)return op(c,o,"A")?j.none():j.some(il(c,r?c.data.length:0));if(e.isBlock(c)||s[c.nodeName.toLowerCase()])return j.none();l=c}return ri(l)?j.none():n&&l?j.some(il(l,0)):j.none()},cp=(e,t,n,r)=>{const i=e.getRoot();let o,s=!1,a=n?r.startContainer:r.endContainer,l=n?r.startOffset:r.endOffset;const c=Wr(a)&&l===a.childNodes.length,u=e.schema.getNonEmptyElements();let d=n;if(zi(a))return j.none();if(Wr(a)&&l>a.childNodes.length-1&&(d=!1),ii(a)&&(a=i,l=0),a===i){if(d&&(o=a.childNodes[l>0?l-1:0],o)){if(zi(o))return j.none();if(u[o.nodeName]||Xr(o))return j.none()}if(a.hasChildNodes()){if(l=Math.min(!d&&l>0?l-1:l,a.childNodes.length-1),a=a.childNodes[l],l=ei(a)&&c?a.data.length:0,!t&&a===i.lastChild&&Xr(a))return j.none();if(((e,t)=>{let n=t;for(;n&&n!==e;){if(ci(n))return!0;n=n.parentNode}return!1})(i,a)||zi(a))return j.none();if(pi(a))return j.none();if(a.hasChildNodes()&&!Xr(a)){o=a;const t=new Hr(a,i);do{if(ci(o)||zi(o)){s=!1;break}if(ei(o)&&o.data.length>0){l=d?0:o.data.length,a=o,s=!0;break}if(u[o.nodeName.toLowerCase()]&&!di(o)){l=e.nodeIndex(o),a=o.parentNode,d||l++,s=!0;break}}while(o=d?t.next():t.prev())}}}return t&&(ei(a)&&0===l&&lp(e,c,t,!0,a).each((e=>{a=e.container(),l=e.offset(),s=!0})),Wr(a)&&(o=a.childNodes[l],o||(o=a.childNodes[l-1]),!o||!si(o)||((e,t)=>{var n;return(null===(n=e.previousSibling)||void 0===n?void 0:n.nodeName)===t})(o,"A")||ap(e,o,!1)||ap(e,o,!0)||lp(e,c,t,!0,o).each((e=>{a=e.container(),l=e.offset(),s=!0})))),d&&!t&&ei(a)&&l===a.data.length&&lp(e,c,t,!1,a).each((e=>{a=e.container(),l=e.offset(),s=!0})),s&&a?j.some(il(a,l)):j.none()},up=(e,t)=>{const n=t.collapsed,r=t.cloneRange(),i=il.fromRangeStart(t);return cp(e,n,!0,r).each((e=>{n&&il.isAbove(i,e)||r.setStart(e.container(),e.offset())})),n||cp(e,n,!1,r).each((e=>{r.setEnd(e.container(),e.offset())})),n&&r.collapse(!0),rp(t,r)?j.none():j.some(r)},dp=(e,t)=>e.splitText(t),hp=e=>{let t=e.startContainer,n=e.startOffset,r=e.endContainer,i=e.endOffset;if(t===r&&ei(t)){if(n>0&&n<t.data.length)if(r=dp(t,n),t=r.previousSibling,i>n){i-=n;const e=dp(r,i).previousSibling;t=r=e,i=e.data.length,n=0}else i=0}else if(ei(t)&&n>0&&n<t.data.length&&(t=dp(t,n),n=0),ei(r)&&i>0&&i<r.data.length){const e=dp(r,i).previousSibling;r=e,i=e.data.length}return{startContainer:t,startOffset:n,endContainer:r,endOffset:i}},fp=e=>({walk:(t,n)=>pf(e,t,n),split:hp,expand:(t,n={type:"word"})=>{if("word"===n.type){const n=ff(e,t,[{inline:"span"}]),r=e.createRng();return r.setStart(n.startContainer,n.startOffset),r.setEnd(n.endContainer,n.endOffset),r}return t},normalize:t=>up(e,t).fold(B,(e=>(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0)))});fp.compareRanges=rp,fp.getCaretRangeFromPoint=np,fp.getSelectedNode=Na,fp.getNode=Ba;const pp=((e,t)=>{const n=n=>{const r=t(n);if(r<=0||null===r){const t=cr(n,e);return parseFloat(t)||0}return r},r=(e,t)=>J(t,((t,n)=>{const r=cr(e,n),i=void 0===r?0:parseInt(r,10);return isNaN(i)?t:t+i}),0);return{set:(t,n)=>{if(!S(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const r=t.dom;or(r)&&(r.style[e]=n+"px")},get:n,getOuter:n,aggregate:r,max:(e,t,n)=>{const i=r(e,n);return t>i?t-i:0}}})("height",(e=>{const t=e.dom;return Yn(e)?t.getBoundingClientRect().height:t.offsetHeight})),mp=()=>_n.fromDom(document),gp=(e,t)=>e.view(t).fold(O([]),(t=>{const n=e.owner(t),r=gp(e,n);return[t].concat(r)}));var vp=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?j.none():j.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(_n.fromDom)},owner:e=>Cn(e)});const yp=e=>{const t=mp(),n=Pr(t),r=((e,t)=>{const n=t.owner(e);return gp(t,n)})(e,vp),i=Lr(e),o=X(r,((e,t)=>{const n=Lr(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return Dr(o.left+i.left+n.left,o.top+i.top+n.top)},_p=e=>"textarea"===Wt(e),bp=(e,t)=>{const n=(e=>{const t=e.dom.ownerDocument,n=t.body,r=t.defaultView,i=t.documentElement;if(n===e.dom)return Dr(n.offsetLeft,n.offsetTop);const o=Mr(null==r?void 0:r.pageYOffset,i.scrollTop),s=Mr(null==r?void 0:r.pageXOffset,i.scrollLeft),a=Mr(i.clientTop,n.clientTop),l=Mr(i.clientLeft,n.clientLeft);return Lr(e).translate(s-l,o-a)})(e),r=(e=>pp.get(e))(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},wp=(e,t)=>{const n=((e,t)=>{const n=Rn(e);if(0===n.length||_p(e))return{element:e,offset:t};if(t<n.length&&!_p(n[t]))return{element:n[t],offset:0};{const r=n[n.length-1];return _p(r)?{element:e,offset:t}:"img"===Wt(r)?{element:r,offset:1}:Gt(r)?{element:r,offset:bi(r).length}:{element:r,offset:Rn(r).length}}})(e,t),r=_n.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>');return pr(n.element,r),bp(r,(()=>wr(r)))},kp=(e,t,n,r)=>{Cp(e,((i,o)=>Sp(e,t,n,r)),n)},xp=(e,t,n,r,i)=>{const o={elm:r.element.dom,alignToTop:i};if(((e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented())(e,o))return;n(e,t,Pr(t).top,r,i),((e,t)=>{e.dispatch("AfterScrollIntoView",t)})(e,o)},Sp=(e,t,n,r)=>{const i=_n.fromDom(e.getBody()),o=_n.fromDom(e.getDoc());i.dom.offsetWidth;const s=wp(_n.fromDom(n.startContainer),n.startOffset);xp(e,o,t,s,r),s.cleanup()},Ep=(e,t,n,r)=>{const i=_n.fromDom(e.getDoc());xp(e,i,n,(e=>bp(_n.fromDom(e),C))(t),r)},Cp=(e,t,n)=>{const r=n.startContainer,i=n.startOffset,o=n.endContainer,s=n.endOffset;t(_n.fromDom(r),_n.fromDom(o));const a=e.dom.createRng();a.setStart(r,i),a.setEnd(o,s),e.selection.setRng(n)},Tp=(e,t,n,r,i)=>{const o=t.pos;if(r)Ir(o.left,o.top,i);else{const r=o.top-n+t.height;Ir(-e.getBody().getBoundingClientRect().left,r,i)}},Ap=(e,t,n,r,i,o)=>{const s=r+n,a=i.pos.top,l=i.bottom,c=l-a>=r;if(a<n)Tp(e,i,r,!1!==o,t);else if(a>s){Tp(e,i,r,c?!1!==o:!0===o,t)}else l>s&&!c&&Tp(e,i,r,!0===o,t)},Op=(e,t,n,r,i)=>{const o=Tn(t).dom.innerHeight;Ap(e,t,n,o,r,i)},Dp=(e,t,n,r,i)=>{const o=Tn(t).dom.innerHeight;Ap(e,t,n,o,r,i);const s=yp(r.element),a=Br(window);s.top<a.y?Rr(r.element,!1!==i):s.top>a.bottom&&Rr(r.element,!0===i)},Mp=(e,t,n)=>kp(e,Op,t,n),Lp=(e,t,n)=>Ep(e,t,Op,n),Pp=(e,t,n)=>kp(e,Dp,t,n),Ip=(e,t,n)=>Ep(e,t,Dp,n),Rp=(e,t,n)=>{(e.inline?Mp:Pp)(e,t,n)},Np=(e,t=!1)=>e.dom.focus({preventScroll:t}),Bp=e=>{const t=Un(e).dom;return e.dom===t.activeElement},Fp=(e=mp())=>j.from(e.dom.activeElement).map(_n.fromDom),jp=(e,t)=>{const n=Gt(t)?bi(t).length:Rn(t).length+1;return e>n?n:e<0?0:e},zp=e=>Gf.range(e.start,jp(e.soffset,e.start),e.finish,jp(e.foffset,e.finish)),Hp=(e,t)=>!Ur(t.dom)&&(Sn(e,t)||xn(e,t)),$p=e=>t=>Hp(e,t.start)&&Hp(e,t.finish),Up=e=>Gf.range(_n.fromDom(e.startContainer),e.startOffset,_n.fromDom(e.endContainer),e.endOffset),Wp=e=>(e=>{const t=e.getSelection();return(t&&0!==t.rangeCount?j.from(t.getRangeAt(0)):j.none()).map(Up)})(Tn(e).dom).filter($p(e)),qp=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),j.some(t)}catch(e){return j.none()}},Vp=e=>{const t=(e=>e.inline||Dt.browser.isFirefox())(e)?Wp(_n.fromDom(e.getBody())):j.none();e.bookmark=t.isSome()?t:e.bookmark},Zp=e=>(e.bookmark?e.bookmark:j.none()).bind((t=>((e,t)=>j.from(t).filter($p(e)).map(zp))(_n.fromDom(e.getBody()),t))).bind(qp),Yp={isEditorUIElement:e=>{const t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},Gp={setEditorTimeout:(e,t,n)=>((e,t)=>(S(t)||(t=0),setTimeout(e,t)))((()=>{e.removed||t()}),n),setEditorInterval:(e,t,n)=>{const r=((e,t)=>(S(t)||(t=0),setInterval(e,t)))((()=>{e.removed?clearInterval(r):t()}),n);return r}},Kp=e=>{const t=aa((()=>{Vp(e)}),0);e.on("init",(()=>{e.inline&&((e,t)=>{const n=()=>{t.throttle()};Ks.DOM.bind(document,"mouseup",n),e.on("remove",(()=>{Ks.DOM.unbind(document,"mouseup",n)}))})(e,t),((e,t)=>{((e,t)=>{e.on("mouseup touchend",(e=>{t.throttle()}))})(e,t),e.on("keyup NodeChange AfterSetSelectionRange",(t=>{(e=>"nodechange"===e.type&&e.selectionChange)(t)||Vp(e)}))})(e,t)})),e.on("remove",(()=>{t.cancel()}))};let Xp;const Jp=Ks.DOM,Qp=e=>{const t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},em=(e,t)=>{const n=Fc(e),r=Jp.getParent(t,(t=>(e=>Wr(e)&&Yp.isEditorUIElement(e))(t)||!!n&&e.dom.is(t,n)));return null!==r},tm=e=>{try{const t=Un(_n.fromDom(e.getElement()));return Fp(t).fold((()=>document.body),(e=>e.dom))}catch(e){return document.body}},nm=(e,t)=>{const n=t.editor;Kp(n);const r=(e,t)=>{if(Cu(e)&&!0!==e.inline){t(_n.fromDom(e.getContainer()),"tox-edit-focus")}};n.on("focusin",(()=>{const t=e.focusedEditor;Qp(tm(n))&&r(n,fn),t!==n&&(t&&t.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:t}),n.focus(!0))})),n.on("focusout",(()=>{Gp.setEditorTimeout(n,(()=>{const t=e.focusedEditor;Qp(tm(n))&&t===n||r(n,mn),em(n,tm(n))||t!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),Xp||(Xp=t=>{const n=e.activeEditor;n&&Vn(t).each((t=>{const r=t;r.ownerDocument===document&&(r===document.body||em(n,r)||e.focusedEditor!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null))}))},Jp.bind(document,"focusin",Xp))},rm=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Xp&&(Jp.unbind(document,"focusin",Xp),Xp=null)},im=(e,t)=>(e=>e.collapsed?j.from(Ba(e.startContainer,e.startOffset)).map(_n.fromDom):j.none())(t).bind((t=>Ti(t)?j.some(t):Sn(e,t)?j.none():j.some(e))),om=(e,t)=>{im(_n.fromDom(e.getBody()),t).bind((e=>Yd(e.dom))).fold((()=>{e.selection.normalize()}),(t=>e.selection.setRng(t.toRange())))},sm=e=>{if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},am=e=>{return Bp(e)||(t=e,Fp(Un(t)).filter((e=>t.dom.contains(e.dom)))).isSome();var t},lm=e=>e.inline?(e=>{const t=e.getBody();return t&&am(_n.fromDom(t))})(e):(e=>k(e.iframeElement)&&Bp(_n.fromDom(e.iframeElement)))(e),cm=e=>lm(e)||(e=>{const t=Un(_n.fromDom(e.getElement()));return Fp(t).filter((t=>!Qp(t.dom)&&em(e,t.dom))).isSome()})(e),um=e=>e.editorManager.setActive(e),dm=(e,t)=>{e.removed||(t?um(e):(e=>{const t=e.selection,n=e.getBody();let r=t.getRng();e.quirks.refreshContentEditable(),k(e.bookmark)&&!lm(e)&&Zp(e).each((t=>{e.selection.setRng(t),r=t}));const i=((e,t)=>e.dom.getParent(t,(t=>"true"===e.dom.getContentEditable(t))))(e,t.getNode());if(i&&e.dom.isChildOf(i,n))return sm(i),om(e,r),void um(e);e.inline||(Dt.browser.isOpera()||sm(n),e.getWin().focus()),(Dt.browser.isFirefox()||e.inline)&&(sm(n),om(e,r)),um(e)})(e))},hm=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),fm=(e,t,n,r,i)=>{const o=n?t.startContainer:t.endContainer,s=n?t.startOffset:t.endOffset;return j.from(o).map(_n.fromDom).map((e=>r&&t.collapsed?e:Nn(e,i(e,s)).getOr(e))).bind((e=>Yt(e)?j.some(e):An(e).filter(Yt))).map((e=>e.dom)).getOr(e)},pm=(e,t,n=!1)=>fm(e,t,!0,n,((e,t)=>Math.min(jn(e),t))),mm=(e,t,n=!1)=>fm(e,t,!1,n,((e,t)=>t>0?t-1:t)),gm=(e,t)=>{const n=e;for(;e&&ei(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},vm=(e,t)=>V(t,(t=>{const n=e.dispatch("GetSelectionRange",{range:t});return n.range!==t?n.range:t})),ym=["img","br"],_m=e=>{const t=wi(e).filter((e=>0!==e.trim().length||e.indexOf(vi)>-1)).isSome();return t||W(ym,Wt(e))||(e=>Zt(e)&&"false"===nn(e,"contenteditable"))(e)},bm=(e,t)=>{const n=e=>{const r=Rn(e);for(let e=r.length-1;e>=0;e--){const i=r[e];if(t(i))return j.some(i);const o=n(i);if(o.isSome())return o}return j.none()};return n(e)},wm="[data-mce-autocompleter]",km=(e,t)=>{if(xm(_n.fromDom(e.getBody())).isNone()){const r=_n.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());vr(r,_n.fromDom(t.extractContents())),t.insertNode(r.dom),An(r).each((e=>e.dom.normalize())),(n=r,bm(n,_m)).map((t=>{e.selection.setCursorLocation(t.dom,(e=>"img"===Wt(e)?1:wi(e).fold((()=>Rn(e).length),(e=>e.length)))(t))}))}var n},xm=e=>tr(e,wm),Sm={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Em=(e,t,n)=>{const r=n?"lastChild":"firstChild",i=n?"prev":"next";if(e[r])return e[r];if(e!==t){let n=e[i];if(n)return n;for(let r=e.parent;r&&r!==t;r=r.parent)if(n=r[i],n)return n}},Cm=e=>{var t;const n=null!==(t=e.value)&&void 0!==t?t:"";if(!so(n))return!1;const r=e.parent;return!r||"span"===r.name&&!r.attr("style")||!/^[ ]+$/.test(n)},Tm=e=>{const t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Am{static create(e,t){const n=new Am(e,Sm[e]||1);return t&&ge(t,((e,t)=>{n.attr(t,e)})),n}constructor(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}replace(e){const t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t}attr(e,t){const n=this;if(!p(e))return k(e)&&ge(e,((e,t)=>{n.attr(t,e)})),n;const r=n.attributes;if(r){if(void 0!==t){if(null===t){if(e in r.map){delete r.map[e];let t=r.length;for(;t--;)if(r[t].name===e)return r.splice(t,1),n}return n}if(e in r.map){let n=r.length;for(;n--;)if(r[n].name===e){r[n].value=t;break}}else r.push({name:e,value:t});return r.map[e]=t,n}return r.map[e]}}clone(){const e=this,t=new Am(e.name,e.type),n=e.attributes;if(n){const e=[];e.map={};for(let t=0,r=n.length;t<r;t++){const r=n[t];"id"!==r.name&&(e[e.length]={name:r.name,value:r.value},e.map[r.name]=r.value)}t.attributes=e}return t.value=e.value,t}wrap(e){const t=this;return t.parent&&(t.parent.insert(e,t),e.append(t)),t}unwrap(){const e=this;for(let t=e.firstChild;t;){const n=t.next;e.insert(t,e,!0),t=n}e.remove()}remove(){const e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r&&(r.next=n),t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n&&(n.prev=r),e.parent=e.next=e.prev=null),e}append(e){const t=this;e.parent&&e.remove();const n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e}insert(e,t,n){e.parent&&e.remove();const r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev&&(t.prev.next=e),e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e),e.parent=r,e}getAll(e){const t=this,n=[];for(let r=t.firstChild;r;r=Em(r,t))r.name===e&&n.push(r);return n}children(){const e=[];for(let t=this.firstChild;t;t=t.next)e.push(t);return e}empty(){const e=this;if(e.firstChild){const t=[];for(let n=e.firstChild;n;n=Em(n,e))t.push(n);let n=t.length;for(;n--;){const e=t[n];e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return e.firstChild=e.lastChild=null,e}isEmpty(e,t={},n){var r;const i=this;let o=i.firstChild;if(Tm(i))return!1;if(o)do{if(1===o.type){if(o.attr("data-mce-bogus"))continue;if(e[o.name])return!1;if(Tm(o))return!1}if(8===o.type)return!1;if(3===o.type&&!Cm(o))return!1;if(3===o.type&&o.parent&&t[o.parent.name]&&so(null!==(r=o.value)&&void 0!==r?r:""))return!1;if(n&&n(o))return!1}while(o=Em(o,i));return!0}walk(e){return Em(this,null,e)}}const Om=It.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),Dm=e=>p(e.nodeValue)&&e.nodeValue.includes(Pi),Mm=e=>(0===e.length?"":`${V(e,(e=>`[${e}]`)).join(",")},`)+'[data-mce-bogus="all"]',Lm=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,(e=>Dm(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP)),Pm=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,(e=>{if(Dm(e)){const t=e.parentNode;return t&&Ee(Om,t.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_SKIP})),Im=e=>null!==Lm(e).nextNode(),Rm=e=>null!==Pm(e).nextNode(),Nm=(e,t)=>null!==t.querySelector(Mm(e)),Bm=(e,t)=>{Z(((e,t)=>t.querySelectorAll(Mm(e)))(e,t),(t=>{const n=_n.fromDom(t);"all"===nn(n,"data-mce-bogus")?wr(n):Z(e,(e=>{on(n,e)&&sn(n,e)}))}))},Fm=e=>{let t=e.nextNode();for(;null!==t;)t.nodeValue=null,t=e.nextNode()},jm=T(Fm,Lm),zm=T(Fm,Pm),Hm=(e,t)=>{const n=[{condition:L(Nm,t),action:L(Bm,t)},{condition:Im,action:jm},{condition:Rm,action:zm}];let r=e,i=!1;return Z(n,(({condition:t,action:n})=>{t(r)&&(i||(r=e.cloneNode(!0),i=!0),n(r))})),r},$m=e=>{const t=jr(e,"[data-mce-bogus]");Z(t,(e=>{"all"===nn(e,"data-mce-bogus")?wr(e):xi(e)?(pr(e,_n.fromText(gi)),wr(e)):kr(e)}))},Um=e=>{const t=jr(e,"input");Z(t,(e=>{sn(e,"name")}))},Wm=(e,t)=>{const n=e.getDoc(),r=Un(_n.fromDom(e.getBody())),i=_n.fromTag("div",n);en(i,"data-mce-bogus","all"),lr(i,{position:"fixed",left:"-9999999px",top:"0"}),Er(i,t.innerHTML),$m(i),Um(i);const o=(e=>zn(e)?e:_n.fromDom(Cn(e).dom.body))(r);vr(o,i);const s=Ri(i.dom.innerText);return wr(i),s},qm=(e,t,n)=>{let r;r="raw"===t.format?It.trim(Ri(Hm(n,e.serializer.getTempAttrs()).innerHTML)):"text"===t.format?Wm(e,n):"tree"===t.format?e.serializer.serialize(n,t):((e,t)=>{const n=Xl(e),r=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${n}>[\r\n]*|<br \\/>[\r\n]*)$`);return t.replace(r,"")})(e,e.serializer.serialize(n,t));return"text"!==t.format&&!Oi(_n.fromDom(n))&&p(r)?It.trim(r):r},Vm=It.makeMap,Zm=e=>{const t=[],n=(e=e||{}).indent,r=Vm(e.indent_before||""),i=Vm(e.indent_after||""),o=as.getEncodeFunc(e.entity_encoding||"raw",e.entities),s="xhtml"!==e.element_format;return{start:(e,a,l)=>{if(n&&r[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}if(t.push("<",e),a)for(let e=0,n=a.length;e<n;e++){const n=a[e];t.push(" ",n.name,'="',o(n.value,!0),'"')}if(t[t.length]=!l||s?">":" />",l&&n&&i[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}},end:e=>{let r;t.push("</",e,">"),n&&i[e]&&t.length>0&&(r=t[t.length-1],r.length>0&&"\n"!==r&&t.push("\n"))},text:(e,n)=>{e.length>0&&(t[t.length]=n?e:o(e))},cdata:e=>{t.push("<![CDATA[",e,"]]>")},comment:e=>{t.push("\x3c!--",e,"--\x3e")},pi:(e,r)=>{r?t.push("<?",e," ",o(r),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:e=>{t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Ym=(e={},t=_s())=>{const n=Zm(e);e.validate=!("validate"in e)||e.validate;return{serialize:r=>{const i=e.validate,o={3:e=>{var t;n.text(null!==(t=e.value)&&void 0!==t?t:"",e.raw)},8:e=>{var t;n.comment(null!==(t=e.value)&&void 0!==t?t:"")},7:e=>{n.pi(e.name,e.value)},10:e=>{var t;n.doctype(null!==(t=e.value)&&void 0!==t?t:"")},4:e=>{var t;n.cdata(null!==(t=e.value)&&void 0!==t?t:"")},11:e=>{let t=e;if(t=t.firstChild)do{s(t)}while(t=t.next)}};n.reset();const s=e=>{var r;const a=o[e.type];if(a)a(e);else{const o=e.name,a=o in t.getVoidElements();let l=e.attributes;if(i&&l&&l.length>1){const n=[];n.map={};const r=t.getElementRule(e.name);if(r){for(let e=0,t=r.attributesOrder.length;e<t;e++){const t=r.attributesOrder[e];if(t in l.map){const e=l.map[t];n.map[t]=e,n.push({name:t,value:e})}}for(let e=0,t=l.length;e<t;e++){const t=l[e].name;if(!(t in n.map)){const e=l.map[t];n.map[t]=e,n.push({name:t,value:e})}}l=n}}if(n.start(o,l,a),bo(o))p(e.value)&&n.text(e.value,!0),n.end(o);else if(!a){let t=e.firstChild;if(t){"pre"!==o&&"textarea"!==o||3!==t.type||"\n"!==(null===(r=t.value)||void 0===r?void 0:r[0])||n.text("\n",!0);do{s(t)}while(t=t.next)}n.end(o)}}};return 1!==r.type||e.inner?3===r.type?o[3](r):o[11](r):s(r),n.getContent()}}},Gm=new Set;Z(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],(e=>{Gm.add(e)}));const Km=["font","text-decoration","text-emphasis"],Xm=(e,t)=>pe(e.parseStyle(e.getAttrib(t,"style"))),Jm=(e,t)=>ie(Xm(e,t),(e=>!(e=>Gm.has(e))(e))),Qm=(e,t,n)=>{const r=Xm(e,t),i=Xm(e,n),o=r=>{var i,o;const s=null!==(i=e.getStyle(t,r))&&void 0!==i?i:"",a=null!==(o=e.getStyle(n,r))&&void 0!==o?o:"";return Ke(s)&&Ke(a)&&s!==a};return q(r,(e=>{const t=t=>q(t,(t=>t===e));if(!t(i)&&t(Km)){const e=K(i,(e=>q(Km,(t=>We(e,t)))));return q(e,o)}return o(e)}))},eg=(e,t,n)=>j.from(n.container()).filter(ei).exists((r=>{const i=e?0:-1;return t(r.data.charAt(n.offset()+i))})),tg=L(eg,!0,ph),ng=L(eg,!1,ph),rg=e=>{const t=e.container();return ei(t)&&(0===t.data.length||Ii(t.data)&&xf.isBookmarkNode(t.parentNode))},ig=(e,t)=>n=>pd(e?0:-1,n).filter(t).isSome(),og=e=>ai(e)&&"block"===cr(_n.fromDom(e),"display"),sg=e=>ci(e)&&!(e=>Wr(e)&&"all"===e.getAttribute("data-mce-bogus"))(e),ag=ig(!0,og),lg=ig(!1,og),cg=ig(!0,hi),ug=ig(!1,hi),dg=ig(!0,Xr),hg=ig(!1,Xr),fg=ig(!0,sg),pg=ig(!1,sg),mg=(e,t)=>((e,t,n)=>Sn(t,e)?Dn(e,(e=>n(e)||xn(e,t))).slice(0,-1):[])(e,t,B),gg=(e,t)=>[e].concat(mg(e,t)),vg=(e,t,n)=>Wd(e,t,n,rg),yg=(e,t,n)=>ee(gg(_n.fromDom(t.container()),e),(e=>t=>e.isBlock(Wt(t)))(n)),_g=(e,t,n,r)=>vg(e,t.dom,n).forall((e=>yg(t,n,r).fold((()=>!fd(e,n,t.dom)),(r=>!fd(e,n,t.dom)&&Sn(r,_n.fromDom(e.container())))))),bg=(e,t,n,r)=>yg(t,n,r).fold((()=>vg(e,t.dom,n).forall((e=>!fd(e,n,t.dom)))),(t=>vg(e,t.dom,n).isNone())),wg=L(bg,!1),kg=L(bg,!0),xg=L(_g,!1),Sg=L(_g,!0),Eg=e=>xd(e).exists(xi),Cg=(e,t,n,r)=>{const i=K(gg(_n.fromDom(n.container()),t),(e=>r.isBlock(Wt(e)))),o=ue(i).getOr(t);return $d(e,o.dom,n).filter(Eg)},Tg=(e,t,n)=>xd(t).exists(xi)||Cg(!0,e,t,n).isSome(),Ag=(e,t,n)=>(e=>j.from(e.getNode(!0)).map(_n.fromDom))(t).exists(xi)||Cg(!1,e,t,n).isSome(),Og=L(Cg,!1),Dg=L(Cg,!0),Mg=e=>il.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),Lg=(e,t,n)=>{const r=K(gg(_n.fromDom(t.container()),e),(e=>n.isBlock(Wt(e))));return ue(r).getOr(e)},Pg=(e,t,n)=>Mg(t)?ng(t):ng(t)||Zd(Lg(e,t,n).dom,t).exists(ng),Ig=(e,t,n)=>Mg(t)?tg(t):tg(t)||Vd(Lg(e,t,n).dom,t).exists(tg),Rg=e=>xd(e).bind((e=>Xn(e,Yt))).exists((e=>(e=>W(["pre","pre-wrap"],e))(cr(e,"white-space")))),Ng=(e,t,n)=>((e,t)=>Zd(e.dom,t).isNone())(e,t)||((e,t)=>Vd(e.dom,t).isNone())(e,t)||wg(e,t,n)||kg(e,t,n)||Ag(e,t,n)||Tg(e,t,n),Bg=(e,t)=>n=>(e=>k(e)&&ci(e)&&nd(e))(new Hr(n,e)[t]()),Fg=(e,t,n)=>!Rg(t)&&(Ng(e,t,n)||Pg(e,t,n)||Ig(e,t,n)),jg=(e,t,n)=>!Rg(t)&&(wg(e,t,n)||xg(e,t,n)||Ag(e,t,n)||Pg(e,t,n)||((e,t)=>{const n=Zd(e.dom,t).getOr(t),r=Bg(e.dom,"prev");return t.isAtStart()&&(r(t.container())||r(n.container()))})(e,t)),zg=(e,t,n)=>!Rg(t)&&(kg(e,t,n)||Sg(e,t,n)||Tg(e,t,n)||Ig(e,t,n)||((e,t)=>{const n=Vd(e.dom,t).getOr(t),r=Bg(e.dom,"next");return t.isAtEnd()&&(r(t.container())||r(n.container()))})(e,t)),Hg=(e,t,n)=>jg(e,t,n)||zg(e,(e=>{const t=e.container(),n=e.offset();return ei(t)&&n<t.data.length?il(t,n+1):e})(t),n),$g=(e,t)=>hh(e.charAt(t)),Ug=(e,t)=>ph(e.charAt(t)),Wg=(e,t,n,r)=>{const i=t.data,o=il(t,0);return n||!$g(i,0)||Hg(e,o,r)?!!(n&&Ug(i,0)&&jg(e,o,r))&&(t.data=vi+i.slice(1),!0):(t.data=" "+i.slice(1),!0)},qg=e=>{const t=e.data,n=(e=>{const t=e.split("");return V(t,((e,n)=>hh(e)&&n>0&&n<t.length-1&&mh(t[n-1])&&mh(t[n+1])?" ":e)).join("")})(t);return n!==t&&(e.data=n,!0)},Vg=(e,t,n,r)=>{const i=t.data,o=il(t,i.length-1);return n||!$g(i,i.length-1)||Hg(e,o,r)?!!(n&&Ug(i,i.length-1)&&zg(e,o,r))&&(t.data=i.slice(0,-1)+vi,!0):(t.data=i.slice(0,-1)+" ",!0)},Zg=(e,t,n)=>{const r=t.container();if(!ei(r))return j.none();if((e=>{const t=e.container();return ei(t)&&Ue(t.data,vi)})(t)){const i=Wg(e,r,!1,n)||qg(r)||Vg(e,r,!1,n);return Ft(i,t)}if(Hg(e,t,n)){const i=Wg(e,r,!0,n)||Vg(e,r,!0,n);return Ft(i,t)}return j.none()},Yg=(e,t,n,r)=>{if(0===n)return;const i=_n.fromDom(e),o=Kn(i,(e=>r.isBlock(Wt(e)))).getOr(i),s=e.data.slice(t,t+n),a=t+n>=e.data.length&&zg(o,il(e,e.data.length),r),l=0===t&&jg(o,il(e,0),r);e.replaceData(t,n,co(s,4,l,a))},Gg=(e,t,n)=>{const r=e.data.slice(t),i=r.length-Ye(r).length;Yg(e,t,i,n)},Kg=(e,t,n)=>{const r=e.data.slice(0,t),i=r.length-Ge(r).length;Yg(e,t-i,i,n)},Xg=(e,t,n,r,i=!0)=>{const o=Ge(e.data).length,s=i?e:t,a=i?t:e;return i?s.appendData(a.data):s.insertData(0,a.data),wr(_n.fromDom(a)),r&&Gg(s,o,n),s},Jg=(e,t)=>((e,t)=>{const n=e.container(),r=e.offset();return!il.isTextPosition(e)&&n===t.parentNode&&r>il.before(t).offset()})(t,e)?il(t.container(),t.offset()-1):t,Qg=e=>no(e.previousSibling)?j.some((e=>ei(e)?il(e,e.data.length):il.after(e))(e.previousSibling)):e.previousSibling?Gd(e.previousSibling):j.none(),ev=e=>no(e.nextSibling)?j.some((e=>ei(e)?il(e,0):il.before(e))(e.nextSibling)):e.nextSibling?Yd(e.nextSibling):j.none(),tv=(e,t)=>Qg(t).orThunk((()=>ev(t))).orThunk((()=>((e,t)=>j.from(t.previousSibling?t.previousSibling:t.parentNode).bind((t=>Zd(e,il.before(t)))).orThunk((()=>Vd(e,il.after(t)))))(e,t))),nv=(e,t)=>ev(t).orThunk((()=>Qg(t))).orThunk((()=>((e,t)=>Vd(e,il.after(t)).orThunk((()=>Zd(e,il.before(t)))))(e,t))),rv=(e,t,n)=>((e,t,n)=>e?nv(t,n):tv(t,n))(e,t,n).map(L(Jg,n)),iv=(e,t,n)=>{n.fold((()=>{e.focus()}),(n=>{e.selection.setRng(n.toRange(),t)}))},ov=(e,t)=>t&&Ee(e.schema.getBlockElements(),Wt(t)),sv=(e,t,n,r)=>{const i=Mn(e).filter(Gt),o=Ln(e).filter(Gt);return wr(e),(s=i,a=o,l=t,c=(e,t,i)=>{const o=e.dom,s=t.dom,a=o.data.length;return Xg(o,s,n,r),i.container()===s?il(o,a):i},s.isSome()&&a.isSome()&&l.isSome()?j.some(c(s.getOrDie(),a.getOrDie(),l.getOrDie())):j.none()).orThunk((()=>(r&&(i.each((e=>Kg(e.dom,e.dom.length,n))),o.each((e=>Gg(e.dom,0,n)))),t)));var s,a,l,c},av=(e,t,n,r=!0,i=!1)=>{const o=rv(t,e.getBody(),n.dom),s=Kn(n,L(ov,e),(a=e.getBody(),e=>e.dom===a));var a;const l=sv(n,o,e.schema,((e,t)=>Ee(e.schema.getTextInlineElements(),Wt(t)))(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):s.bind((e=>((e,t)=>{if(_o(e)){const n=_n.fromHtml('<br data-mce-bogus="1">');return t?Z(Rn(e),(e=>{Kh(e)||wr(e)})):br(e),vr(e,n),j.some(il.before(n.dom))}return j.none()})(e,i))).fold((()=>{r&&iv(e,t,l)}),(n=>{r&&iv(e,t,j.some(n))}))},lv=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,cv=(e,t)=>wn(_n.fromDom(t),xc(e))&&!Ro(e.schema,t)&&e.dom.isEditable(t),uv=e=>{var t;return"rtl"===Ks.DOM.getStyle(e,"direction",!0)||(e=>lv.test(e))(null!==(t=e.textContent)&&void 0!==t?t:"")},dv=(e,t,n)=>{const r=((e,t,n)=>K(Ks.DOM.getParents(n.container(),"*",t),e))(e,t,n);return j.from(r[r.length-1])},hv=(e,t)=>{const n=t.container(),r=t.offset();return e?ji(n)?ei(n.nextSibling)?il(n.nextSibling,0):il.after(n):$i(t)?il(n,r+1):t:ji(n)?ei(n.previousSibling)?il(n.previousSibling,n.previousSibling.data.length):il.before(n):Ui(t)?il(n,r-1):t},fv=L(hv,!0),pv=L(hv,!1),mv=(e,t)=>{const n=e=>e.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},gv=e=>mv(e,"Delete"),vv=e=>Si(e)||Ci(e),yv=(e,t)=>Sn(e,t)?Xn(t,vv,(e=>t=>Rt(An(t),e,xn))(e)):j.none(),_v=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},bv=(e,t,n)=>Bt(Yd(n),Gd(n),((r,i)=>{const o=hv(!0,r),s=hv(!1,i),a=hv(!1,t);return e?Vd(n,a).exists((e=>e.isEqual(s)&&t.isEqual(o))):Zd(n,a).exists((e=>e.isEqual(o)&&t.isEqual(s)))})).getOr(!0),wv=e=>{var t;return(8===qt(t=e)||"#comment"===Wt(t)?Mn(e):Fn(e)).bind(wv).orThunk((()=>j.some(e)))},kv=(e,t,n,r=!0)=>{var i;t.deleteContents();const o=wv(n).getOr(n),s=_n.fromDom(null!==(i=e.dom.getParent(o.dom,e.dom.isBlock))&&void 0!==i?i:n.dom);if(s.dom===e.getBody()?_v(e,r):_o(s)&&(Li(s),r&&e.selection.setCursorLocation(s.dom,0)),!xn(n,s)){const e=Rt(An(s),n)?[]:An(a=s).map(Rn).map((e=>K(e,(e=>!xn(a,e))))).getOr([]);Z(e.concat(Rn(n)),(e=>{xn(e,s)||Sn(e,s)||!_o(e)||wr(e)}))}var a},xv=(e,t)=>((e,t)=>{const n=e.dom;return n.parentNode?Jn(_n.fromDom(n.parentNode),(n=>!xn(e,n)&&t(n))):j.none()})(e,t).isSome(),Sv=(e,t)=>Qn(e,t).isSome(),Ev=e=>jr(e,"td,th"),Cv=(e,t)=>bh(_n.fromDom(e),t),Tv=e=>(e=>Bt(e.startTable,e.endTable,((t,n)=>{const r=Sv(t,(e=>xn(e,n))),i=Sv(n,(e=>xn(e,t)));return r||i?{...e,startTable:r?j.none():e.startTable,endTable:i?j.none():e.endTable,isSameTable:!1,isMultiTable:!1}:e})).getOr(e))(e),Av=(e,t)=>({start:e,end:t}),Ov=Dl([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Dv=(e,t)=>nr(_n.fromDom(e),"td,th",t),Mv=e=>!xn(e.start,e.end),Lv=(e,t)=>bh(e.start,t).bind((n=>bh(e.end,t).bind((e=>Ft(xn(n,e),n))))),Pv=e=>t=>Lv(t,e).map((e=>((e,t,n)=>({rng:e,table:t,cells:n}))(t,e,Ev(e)))),Iv=(e,t,n,r)=>{if(n.collapsed||!e.forall(Mv))return j.none();if(t.isSameTable){const t=e.bind(Pv(r));return j.some({start:t,end:t})}{const e=Dv(n.startContainer,r),t=Dv(n.endContainer,r),i=e.bind((e=>t=>bh(t,e).bind((e=>de(Ev(e)).map((e=>Av(t,e))))))(r)).bind(Pv(r)),o=t.bind((e=>t=>bh(t,e).bind((e=>ue(Ev(e)).map((e=>Av(e,t))))))(r)).bind(Pv(r));return j.some({start:i,end:o})}},Rv=(e,t)=>te(e,(e=>xn(e,t))),Nv=e=>Bt(Rv(e.cells,e.rng.start),Rv(e.cells,e.rng.end),((t,n)=>e.cells.slice(t,n+1))),Bv=(e,t,n)=>e.exists((e=>((e,t)=>!Mv(e)&&Lv(e,t).exists((e=>{const t=e.dom.rows;return 1===t.length&&1===t[0].cells.length})))(e,n)&&xh(e.start,t))),Fv=(e,t)=>{const{startTable:n,endTable:r}=t,i=e.cloneRange();return n.each((e=>i.setStartAfter(e.dom))),r.each((e=>i.setEndBefore(e.dom))),i},jv=(e,t)=>{const n=(e=>t=>xn(e,t))(e),r=((e,t)=>{const n=Dv(e.startContainer,t),r=Dv(e.endContainer,t);return Bt(n,r,Av)})(t,n),i=((e,t)=>{const n=Cv(e.startContainer,t),r=Cv(e.endContainer,t),i=n.isSome(),o=r.isSome(),s=Bt(n,r,xn).getOr(!1);return Tv({startTable:n,endTable:r,isStartInTable:i,isEndInTable:o,isSameTable:s,isMultiTable:!s&&i&&o})})(t,n);return Bv(r,t,n)?r.map((e=>Ov.singleCellTable(t,e.start))):i.isMultiTable?((e,t,n,r)=>Iv(e,t,n,r).bind((({start:e,end:r})=>{const i=e.bind(Nv).getOr([]),o=r.bind(Nv).getOr([]);if(i.length>0&&o.length>0){const e=Fv(n,t);return j.some(Ov.multiTable(i,o,e))}return j.none()})))(r,i,t,n):((e,t,n,r)=>Iv(e,t,n,r).bind((({start:e,end:t})=>e.or(t))).bind((e=>{const{isSameTable:r}=t,i=Nv(e).getOr([]);if(r&&e.cells.length===i.length)return j.some(Ov.fullTable(e.table));if(i.length>0){if(r)return j.some(Ov.partialTable(i,j.none()));{const e=Fv(n,t);return j.some(Ov.partialTable(i,j.some({...t,rng:e})))}}return j.none()})))(r,i,t,n)},zv=e=>Z(e,(e=>{sn(e,"contenteditable"),Li(e)})),Hv=(e,t,n,r)=>{const i=n.cloneRange();r?(i.setStart(n.startContainer,n.startOffset),i.setEndAfter(t.dom.lastChild)):(i.setStartBefore(t.dom.firstChild),i.setEnd(n.endContainer,n.endOffset)),qv(e,i,t,!1).each((e=>e()))},$v=e=>{const t=_h(e),n=_n.fromDom(e.selection.getNode());ui(n.dom)&&_o(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&q(t,(e=>xn(e,n)))&&en(n,"data-mce-selected","1")},Uv=(e,t,n)=>j.some((()=>{const r=e.selection.getRng(),i=n.bind((({rng:n,isStartInTable:i})=>{const o=((e,t)=>j.from(e.dom.getParent(t,e.dom.isBlock)).map(_n.fromDom))(e,i?n.endContainer:n.startContainer);n.deleteContents(),((e,t,n)=>{n.each((n=>{t?wr(n):(Li(n),e.selection.setCursorLocation(n.dom,0))}))})(e,i,o.filter(_o));const s=i?t[0]:t[t.length-1];return Hv(e,s,r,i),_o(s)?j.none():j.some(i?t.slice(1):t.slice(0,-1))})).getOr(t);zv(i),$v(e)})),Wv=(e,t,n,r)=>j.some((()=>{const i=e.selection.getRng(),o=t[0],s=n[n.length-1];Hv(e,o,i,!0),Hv(e,s,i,!1);const a=_o(o)?t:t.slice(1),l=_o(s)?n:n.slice(0,-1);zv(a.concat(l)),r.deleteContents(),$v(e)})),qv=(e,t,n,r=!0)=>j.some((()=>{kv(e,t,n,r)})),Vv=(e,t)=>j.some((()=>av(e,!1,t))),Zv=(e,t,n,r)=>Gv(t,r).fold((()=>((e,t,n)=>jv(t,n).bind((t=>t.fold(L(qv,e),L(Vv,e),L(Uv,e),L(Wv,e)))))(e,t,n)),(t=>((e,t)=>Kv(e,t))(e,t))),Yv=(e,t)=>ee(gg(t,e),Ai),Gv=(e,t)=>ee(gg(t,e),Jt("caption")),Kv=(e,t)=>j.some((()=>{Li(t),e.selection.setCursorLocation(t.dom,0)})),Xv=(e,t,n,r,i)=>Ud(n,e.getBody(),i).fold((()=>j.some(C)),(o=>((e,t,n,r)=>Yd(e.dom).bind((i=>Gd(e.dom).map((e=>t?n.isEqual(i)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(i))))).getOr(!0))(r,n,i,o)?((e,t)=>Kv(e,t))(e,r):((e,t,n)=>Gv(e,_n.fromDom(n.getNode())).fold((()=>j.some(C)),(e=>Ft(!xn(e,t),C))))(t,r,o))),Jv=(e,t,n,r)=>{const i=il.fromRangeStart(e.selection.getRng());return Yv(n,r).bind((r=>_o(r)?Kv(e,r):((e,t,n,r,i)=>Ud(n,e.getBody(),i).bind((e=>Yv(t,_n.fromDom(e.getNode())).bind((e=>xn(e,r)?j.none():j.some(C))))))(e,n,t,r,i)))},Qv=(e,t)=>e?dg(t):hg(t),ey=(e,t,n)=>{const r=_n.fromDom(e.getBody());return Gv(r,n).fold((()=>Jv(e,t,r,n).orThunk((()=>Ft(((e,t)=>{const n=il.fromRangeStart(e.selection.getRng());return Qv(t,n)||$d(t,e.getBody(),n).exists((e=>Qv(t,e)))})(e,t),C)))),(n=>((e,t,n,r)=>{const i=il.fromRangeStart(e.selection.getRng());return _o(r)?Kv(e,r):Xv(e,n,t,r,i)})(e,t,r,n)))},ty=(e,t)=>{const n=_n.fromDom(e.selection.getStart(!0)),r=_h(e);return e.selection.isCollapsed()&&0===r.length?ey(e,t,n):((e,t,n)=>{const r=_n.fromDom(e.getBody()),i=e.selection.getRng();return 0!==n.length?Uv(e,n,j.none()):Zv(e,r,i,t)})(e,n,r)},ny=(e,t)=>{let n=t;for(;n&&n!==e;){if(li(n)||ci(n))return n;n=n.parentNode}return null},ry=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],iy=It.each,oy=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),r=e=>q(ry,(t=>We(e,t)))||n.has(e);return{compare:(e,n)=>{if(e.nodeName!==n.nodeName||e.nodeType!==n.nodeType)return!1;const i=e=>{const n={};return iy(t.getAttribs(e),(i=>{const o=i.nodeName.toLowerCase();"style"===o||r(o)||(n[o]=t.getAttrib(e,o))})),n},o=(e,t)=>{for(const n in e)if(Ee(e,n)){const r=t[n];if(b(r))return!1;if(e[n]!==r)return!1;delete t[n]}for(const e in t)if(Ee(t,e))return!1;return!0};if(Wr(e)&&Wr(n)){if(!o(i(e),i(n)))return!1;if(!o(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style"))))return!1}return!dh(e)&&!dh(n)},isAttributeInternal:r}},sy=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),ay=(e,t,n,r)=>{const i=n.name;for(let t=0,o=e.length;t<o;t++){const o=e[t];if(o.name===i){const e=r.nodes[i];e?e.nodes.push(n):r.nodes[i]={filter:o,nodes:[n]}}}if(n.attributes)for(let e=0,i=t.length;e<i;e++){const i=t[e],o=i.name;if(o in n.attributes.map){const e=r.attributes[o];e?e.nodes.push(n):r.attributes[o]={filter:i,nodes:[n]}}}},ly=(e,t)=>{const n=(e,n)=>{ge(e,(e=>{const r=he(e.nodes);Z(e.filter.callbacks,(i=>{for(let t=r.length-1;t>=0;t--){const i=r[t];(n?void 0!==i.attr(e.filter.name):i.name===e.filter.name)&&!w(i.parent)||r.splice(t,1)}r.length>0&&i(r,e.filter.name,t)}))}))};n(e.nodes,!1),n(e.attributes,!0)},cy=(e,t,n,r={})=>{const i=((e,t,n)=>{const r={nodes:{},attributes:{}};return n.firstChild&&((e,t)=>{let n=e;for(;n=n.walk();)t(n)})(n,(n=>{ay(e,t,n,r)})),r})(e,t,n);ly(i,r)},uy=(e,t,n,r)=>{if((e.pad_empty_with_br||t.insert)&&n(r)){const e=new Am("br",1);t.insert&&e.attr("data-mce-bogus","1"),r.empty().append(e)}else r.empty().append(new Am("#text",3)).value=vi},dy=(e,t)=>{const n=null==e?void 0:e.firstChild;return k(n)&&n===e.lastChild&&n.name===t},hy=(e,t,n,r)=>r.isEmpty(t,n,(t=>((e,t)=>{const n=e.getElementRule(t.name);return!0===(null==n?void 0:n.paddEmpty)})(e,t))),fy=e=>{let t;for(let n=e;n;n=n.parent){const e=n.attr("contenteditable");if("false"===e)break;"true"===e&&(t=n)}return j.from(t)},py=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const e of r)n&&!t.isValidChild(n.name,e.name)&&py(e,t,n);e.unwrap()}},my=(e,t,n,r=C)=>{const i=t.getTextBlockElements(),o=t.getNonEmptyElements(),s=t.getWhitespaceElements(),a=It.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),l=new Set,c=e=>e!==n&&!a[e.name];for(let n=0;n<e.length;n++){const a=e[n];let u,d,h;if(!a.parent||l.has(a))continue;if(i[a.name]&&"li"===a.parent.name){let e=a.next;for(;e&&i[e.name];)e.name="li",l.add(e),a.parent.insert(e,a.parent),e=e.next;a.unwrap();continue}const f=[a];for(u=a.parent;u&&!t.isValidChild(u.name,a.name)&&c(u);u=u.parent)f.push(u);if(u&&f.length>1)if(gy(t,a,u))py(a,t);else{f.reverse(),d=f[0].clone(),r(d);let e=d;for(let n=0;n<f.length-1;n++){t.isValidChild(e.name,f[n].name)&&n>0?(h=f[n].clone(),r(h),e.append(h)):h=e;for(let e=f[n].firstChild;e&&e!==f[n+1];){const t=e.next;h.append(e),e=t}e=h}hy(t,o,s,d)?u.insert(a,f[0],!0):(u.insert(d,f[0],!0),u.insert(a,d)),u=f[0],(hy(t,o,s,u)||dy(u,"br"))&&u.empty().remove()}else if(a.parent){if("li"===a.name){let e=a.prev;if(e&&("ul"===e.name||"ol"===e.name)){e.append(a);continue}if(e=a.next,e&&("ul"===e.name||"ol"===e.name)&&e.firstChild){e.insert(a,e.firstChild,!0);continue}const t=new Am("ul",1);r(t),a.wrap(t);continue}if(t.isValidChild(a.parent.name,"div")&&t.isValidChild("div",a.name)){const e=new Am("div",1);r(e),a.wrap(e)}else py(a,t)}}},gy=(e,t,n=t.parent)=>!!n&&(!(!e.children[t.name]||e.isValidChild(n.name,t.name))||(!("a"!==t.name||!((e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1})(n,"a"))||!(!(e=>"summary"===e.name)(n)||!sy(t))&&!((null==n?void 0:n.firstChild)===t&&(null==n?void 0:n.lastChild)===t))),vy=e=>{const t=il.fromRangeStart(e),n=il.fromRangeEnd(e),r=e.commonAncestorContainer;return $d(!1,r,n).map((i=>!fd(t,n,r)&&fd(t,i,r)?((e,t,n,r)=>{const i=document.createRange();return i.setStart(e,t),i.setEnd(n,r),i})(t.container(),t.offset(),i.container(),i.offset()):e)).getOr(e)},yy=e=>e.collapsed?e:vy(e),_y=(e,t)=>e.getBlockElements()[t.name]&&(e=>k(e.firstChild)&&e.firstChild===e.lastChild)(t)&&(e=>"br"===e.name||e.value===vi)(t.firstChild),by=(e,t)=>{let n=t.firstChild,r=t.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),((e,t)=>{const n=e.getNonEmptyElements();return k(t)&&(t.isEmpty(n)||_y(e,t))})(e,r)&&(r=null==r?void 0:r.prev),!(!n||n!==r)&&("ul"===n.name||"ol"===n.name)},wy=e=>k(null==e?void 0:e.firstChild)&&e.firstChild===e.lastChild&&(e=>e.data===vi||si(e))(e.firstChild),ky=e=>{return e.length>0&&(!(t=e[e.length-1]).firstChild||wy(t))?e.slice(0,-1):e;var t},xy=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},Sy=(e,t)=>{const n=il.after(e),r=Bd(t).prev(n);return r?r.toRange():null},Ey=(e,t,n)=>{const r=e.parentNode;return r&&It.each(t,(t=>{r.insertBefore(t,e)})),((e,t)=>{const n=il.before(e),r=Bd(t).next(n);return r?r.toRange():null})(e,n)},Cy=(e,t,n,r)=>{const i=((e,t,n)=>{const r=t.serialize(n);return(e=>{var t,n;const r=e.firstChild,i=e.lastChild;return r&&"META"===r.nodeName&&(null===(t=r.parentNode)||void 0===t||t.removeChild(r)),i&&"mce_marker"===i.id&&(null===(n=i.parentNode)||void 0===n||n.removeChild(i)),e})(e.createFragment(r))})(t,e,r),o=xy(t,n.startContainer),s=ky((a=i.firstChild,K(null!==(l=null==a?void 0:a.childNodes)&&void 0!==l?l:[],(e=>"LI"===e.nodeName))));var a,l;const c=t.getRoot(),u=e=>{const r=il.fromRangeStart(n),i=Bd(t.getRoot()),s=1===e?i.prev(r):i.next(r),a=null==s?void 0:s.getNode();return!a||xy(t,a)!==o};return o?u(1)?Ey(o,s,c):u(2)?((e,t,n,r)=>(r.insertAfter(t.reverse(),e),Sy(t[0],n)))(o,s,c,t):((e,t,n,r)=>{const i=((e,t)=>{const n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]})(e,r),o=e.parentNode;return o&&(o.insertBefore(i[0],e),It.each(t,(t=>{o.insertBefore(t,e)})),o.insertBefore(i[1],e),o.removeChild(e)),Sy(t[t.length-1],n)})(o,s,c,n):null},Ty=["pre"],Ay=ui,Oy=(e,t,n)=>{j.from(e.getParent(t,"td,th")).map(_n.fromDom).each((e=>((e,t)=>{Fn(e).each((n=>{Mn(n).each((r=>{t.isBlock(Wt(e))&&xi(n)&&t.isBlock(Wt(r))&&wr(n)}))}))})(e,n)))},Dy=(e,t)=>{var n,r,i;let o;const s=e.dom,a=e.selection;if(!t)return;a.scrollIntoView(t);const l=ny(e.getBody(),t);if(l&&"false"===s.getContentEditable(l))return s.remove(t),void a.select(l);let c=s.createRng();const u=t.previousSibling;if(ei(u)){c.setStart(u,null!==(r=null===(n=u.nodeValue)||void 0===n?void 0:n.length)&&void 0!==r?r:0);const e=t.nextSibling;ei(e)&&(u.appendData(e.data),null===(i=e.parentNode)||void 0===i||i.removeChild(e))}else c.setStartBefore(t),c.setEndBefore(t);const d=s.getParent(t,s.isBlock);if(s.remove(t),d&&s.isEmpty(d)){const t=Ay(d);br(_n.fromDom(d)),c.setStart(d,0),c.setEnd(d,0),t||(e=>!!e.getAttribute("data-mce-fragment"))(d)||!(o=(t=>{let n=il.fromRangeStart(t);return n=Bd(e.getBody()).next(n),null==n?void 0:n.toRange()})(c))?s.add(d,s.create("br",t?{}:{"data-mce-bogus":"1"})):(c=o,s.remove(d))}a.setRng(c)},My=e=>{const t=e.dom,n=yy(e.selection.getRng());e.selection.setRng(n);const r=t.getParent(n.startContainer,Ay);((e,t,n)=>{if(k(n))return n===e.getParent(t.endContainer,Ay)&&xh(_n.fromDom(n),t);return!1})(t,n,r)?qv(e,n,_n.fromDom(r)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset==1&&ei(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)},Ly=(e,t,n)=>{var r,i;const o=e.selection,s=e.dom,a=e.parser,l=n.merge,c=Ym({validate:!0},e.schema),u='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(t=Ri(t)),-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,u);let d=o.getRng();const h=d.startContainer,f=e.getBody();h===f&&o.isCollapsed()&&s.isBlock(f.firstChild)&&((e,t)=>k(t)&&!e.schema.getVoidElements()[t.nodeName])(e,f.firstChild)&&s.isEmpty(f.firstChild)&&(d=s.createRng(),d.setStart(f.firstChild,0),d.setEnd(f.firstChild,0),o.setRng(d)),o.isCollapsed()||My(e);const p=o.getNode(),m={context:p.nodeName.toLowerCase(),data:n.data,insert:!0},g=a.parse(t,m);if(!0===n.paste&&by(e.schema,g)&&((e,t)=>!!xy(e,t))(s,p))return d=Cy(c,s,o.getRng(),g),d&&o.setRng(d),t;!0===n.paste&&((e,t,n,r)=>{var i;const o=t.firstChild,s=t.lastChild,a=o===("bookmark"===s.attr("data-mce-type")?s.prev:s),l=W(Ty,o.name);if(a&&l){const t="false"!==o.attr("contenteditable"),s=(null===(i=e.getParent(n,e.isBlock))||void 0===i?void 0:i.nodeName.toLowerCase())===o.name,a=j.from(ny(r,n)).forall(li);return t&&s&&a}return!1})(s,g,p,e.getBody())&&(null===(r=g.firstChild)||void 0===r||r.unwrap()),(e=>{let t=e;for(;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")})(g);let v=g.lastChild;if(v&&"mce_marker"===v.attr("id")){const t=v;for(v=v.prev;v;v=v.walk(!0))if(3===v.type||!s.isBlock(v.name)){v.parent&&e.schema.isValidChild(v.parent.name,"span")&&v.parent.insert(t,v,"br"===v.name);break}}if(e._selectionOverrides.showBlockCaretContainer(p),m.invalid||((e,t,n)=>{var r;return q(n.children(),sy)&&"SUMMARY"===(null===(r=e.getParent(t,e.isBlock))||void 0===r?void 0:r.nodeName)})(s,p,g)){e.selection.setContent(u);let n,r=o.getNode();const l=e.getBody();for(ii(r)?r=n=l:n=r;n&&n!==l;)r=n,n=n.parentNode;t=r===l?l.innerHTML:s.getOuterHTML(r);const d=a.parse(t),h=(e=>{for(let t=e;t;t=t.walk())if("mce_marker"===t.attr("id"))return j.some(t);return j.none()})(d),f=h.bind(fy).getOr(d);h.each((e=>e.replace(g)));const p=g.children(),m=null!==(i=g.parent)&&void 0!==i?i:d;g.unwrap();const v=K(p,(t=>gy(e.schema,t,m)));my(v,e.schema,f),cy(a.getNodeFilters(),a.getAttributeFilters(),d),t=c.serialize(d),r===l?s.setHTML(l,t):s.setOuterHTML(r,t)}else t=c.serialize(g),((e,t,n)=>{var r;if("all"===n.getAttribute("data-mce-bogus"))null===(r=n.parentNode)||void 0===r||r.insertBefore(e.dom.createFragment(t),n);else{const r=n.firstChild,i=n.lastChild;!r||r===i&&"BR"===r.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}})(e,t,p);var y;return((e,t)=>{const n=e.schema.getTextInlineElements(),r=e.dom;if(t){const t=e.getBody(),i=oy(e);It.each(r.select("*[data-mce-fragment]"),(e=>{if(k(n[e.nodeName.toLowerCase()])&&Jm(r,e))for(let n=e.parentElement;k(n)&&n!==t&&!Qm(r,e,n);n=n.parentElement)if(i.compare(n,e)){r.remove(e,!0);break}}))}})(e,l),Dy(e,s.get("mce_marker")),y=e.getBody(),It.each(y.getElementsByTagName("*"),(e=>{e.removeAttribute("data-mce-fragment")})),Oy(s,o.getStart(),e.schema),((e,t,n)=>{const r=Dn(_n.fromDom(n),(e=>xn(e,_n.fromDom(t))));ce(r,r.length-2).filter(Yt).fold((()=>Do(e,t)),(t=>Do(e,t.dom)))})(e.schema,e.getBody(),o.getStart()),t},Py=e=>e instanceof Am,Iy=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),!0!==n&&(e=>{lm(e)&&Yd(e.getBody()).each((t=>{const n=t.getNode(),r=Xr(n)?Yd(n).getOr(t):t;e.selection.setRng(r.toRange())}))})(e)},Ry=(e,t,n)=>j.from(e.getBody()).map((r=>Py(t)?((e,t,n,r)=>{cy(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const i=Ym({validate:!1},e.schema).serialize(n),o=Ri(Oi(_n.fromDom(t))?i:It.trim(i));return Iy(e,o,r.no_selection),{content:n,html:o}})(e,r,t,n):((e,t,n,r)=>{if(0===(n=Ri(n)).length||/^\s+$/.test(n)){const i='<br data-mce-bogus="1">';"TABLE"===t.nodeName?n="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+i+"</li>");const o=Xl(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),o.toLowerCase())?(n=i,n=e.dom.createHTML(o,Jl(e),n)):n||(n=i),Iy(e,n,r.no_selection),{content:n,html:n}}{"raw"!==r.format&&(n=Ym({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const i=Oi(_n.fromDom(t))?n:It.trim(n);return Iy(e,i,r.no_selection),{content:i,html:i}}})(e,r,t,n))).getOr({content:t,html:Py(n.content)?"":n.content}),Ny=e=>x(e)?e:B,By=(e,t,n)=>{const r=t(e),i=Ny(n);return r.orThunk((()=>i(e)?j.none():((e,t,n)=>{let r=e.dom;const i=Ny(n);for(;r.parentNode;){r=r.parentNode;const e=_n.fromDom(r),n=t(e);if(n.isSome())return n;if(i(e))break}return j.none()})(e,t,i)))},Fy=Fh,jy=(e,t,n)=>{const r=e.formatter.get(n);if(r)for(let n=0;n<r.length;n++){const i=r[n];if(Vh(i)&&!1===i.inherit&&e.dom.is(t,i.selector))return!0}return!1},zy=(e,t,n,r,i)=>{const o=e.dom.getRoot();if(t===o)return!1;const s=e.dom.getParent(t,(t=>!!jy(e,t,n)||(t.parentNode===o||!!Uy(e,t,n,r,!0))));return!!Uy(e,s,n,r,i)},Hy=(e,t,n)=>!(!Zh(n)||!Fy(t,n.inline))||(!(!qh(n)||!Fy(t,n.block))||!!Vh(n)&&(Wr(t)&&e.is(t,n.selector))),$y=(e,t,n,r,i,o)=>{const s=n[r],a="attributes"===r;if(x(n.onmatch))return n.onmatch(t,n,r);if(s)if(Ae(s)){for(let n=0;n<s.length;n++)if(a?e.getAttrib(t,s[n]):zh(e,t,s[n]))return!0}else for(const r in s)if(Ee(s,r)){const l=a?e.getAttrib(t,r):zh(e,t,r),c=Bh(s[r],o),u=w(l)||Xe(l);if(u&&w(c))continue;if(i&&u&&!n.exact)return!1;if((!i||n.exact)&&!Fy(l,jh(c,r)))return!1}return!0},Uy=(e,t,n,r,i)=>{const o=e.formatter.get(n),s=e.dom;if(o&&Wr(t))for(let n=0;n<o.length;n++){const a=o[n];if(Hy(e.dom,t,a)&&$y(s,t,a,"attributes",i,r)&&$y(s,t,a,"styles",i,r)){const n=a.classes;if(n)for(let i=0;i<n.length;i++)if(!e.dom.hasClass(t,Bh(n[i],r)))return;return a}}},Wy=(e,t,n,r,i)=>{if(r)return zy(e,r,t,n,i);if(r=e.selection.getNode(),zy(e,r,t,n,i))return!0;const o=e.selection.getStart();return!(o===r||!zy(e,o,t,n,i))},qy=(e,t)=>{const n=t=>xn(t,_n.fromDom(e.getBody()));return j.from(e.selection.getStart(!0)).bind((r=>By(_n.fromDom(r),(n=>fe(t,(t=>((t,n)=>Uy(e,t.dom,n)?j.some(n):j.none())(n,t)))),n))).getOrNull()},Vy=(e,t,n)=>J(n,((n,r)=>{const i=((e,t)=>Uh(e,t,(e=>{const t=e=>x(e)||e.length>1&&"%"===e.charAt(0);return q(["styles","attributes"],(n=>Se(e,n).exists((e=>{const n=v(e)?e:xe(e);return q(n,t)}))))})))(e,r);return e.formatter.matchNode(t,r,{},i)?n.concat([r]):n}),[]),Zy=Pi,Yy=e=>{if(e){const t=new Hr(e,e);for(let e=t.current();e;e=t.next())if(ei(e))return e}return null},Gy=e=>{const t=_n.fromTag("span");return tn(t,{id:Kd,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&vr(t,_n.fromText(Zy)),t},Ky=(e,t,n)=>{const r=e.dom,i=e.selection;if(Gh(t))av(e,!1,_n.fromDom(t),n,!0);else{const e=i.getRng(),n=r.getParent(t,r.isBlock),o=e.startContainer,s=e.startOffset,a=e.endContainer,l=e.endOffset,c=(e=>{const t=Yy(e);return t&&t.data.charAt(0)===Zy&&t.deleteData(0,1),t})(t);r.remove(t,!0),o===c&&s>0&&e.setStart(c,s-1),a===c&&l>0&&e.setEnd(c,l-1),n&&r.isEmpty(n)&&Li(_n.fromDom(n)),i.setRng(e)}},Xy=(e,t,n)=>{const r=e.dom,i=e.selection;if(t)Ky(e,t,n);else if(!(t=Jd(e.getBody(),i.getStart())))for(;t=r.get(Kd);)Ky(e,t,n)},Jy=(e,t)=>(e.appendChild(t),t),Qy=(e,t)=>{var n;const r=X(e,((e,t)=>Jy(e,t.cloneNode(!1))),t),i=null!==(n=r.ownerDocument)&&void 0!==n?n:document;return Jy(r,i.createTextNode(Zy))},e_=(e,t,n,r)=>{const i=e.dom,o=e.selection;let s=!1;const a=e.formatter.get(t);if(!a)return;const l=o.getRng(),c=l.startContainer,u=l.startOffset;let d=c;ei(c)&&(u!==c.data.length&&(s=!0),d=d.parentNode);const h=[];let f;for(;d;){if(Uy(e,d,t,n,r)){f=d;break}d.nextSibling&&(s=!0),h.push(d),d=d.parentNode}if(f)if(s){const s=o.getBookmark();l.collapse(!0);let c=ff(i,l,a,!0);c=hp(c),e.formatter.remove(t,n,c,r),o.moveToBookmark(s)}else{const s=Jd(e.getBody(),f),a=k(s)?i.getParents(f.parentNode,F,s):[],l=Gy(!1).dom;((e,t,n)=>{var r,i;const o=e.dom,s=o.getParent(n,L(Ph,e.schema));s&&o.isEmpty(s)?null===(r=n.parentNode)||void 0===r||r.replaceChild(t,n):(Di(_n.fromDom(n)),o.isEmpty(n)?null===(i=n.parentNode)||void 0===i||i.replaceChild(t,n):o.insertAfter(t,n))})(e,l,null!=s?s:f);const c=((e,t,n,r,i,o)=>{const s=e.formatter,a=e.dom,l=K(pe(s.get()),(e=>e!==r&&!Ue(e,"removeformat"))),c=Vy(e,n,l);if(K(c,(t=>!Wh(e,t,r))).length>0){const e=n.cloneNode(!1);return a.add(t,e),s.remove(r,i,e,o),a.remove(e),j.some(e)}return j.none()})(e,l,f,t,n,r),u=Qy([...h,...c.toArray(),...a],l);s&&Ky(e,s,k(s)),o.setCursorLocation(u,1),i.isEmpty(f)&&i.remove(f)}},t_=e=>{e.on("mouseup keydown",(t=>{var n;((e,t,n)=>{const r=e.selection,i=e.getBody();Xy(e,null,n),8!==t&&46!==t||!r.isCollapsed()||r.getStart().innerHTML!==Zy||Xy(e,Jd(i,r.getStart()),!0),37!==t&&39!==t||Xy(e,Jd(i,r.getStart()),!0)})(e,t.keyCode,(n=e.selection.getRng().endContainer,ei(n)&&qe(n.data,vi)))}))},n_=e=>{const t=Gy(!1),n=Qy(e,t.dom);return{caretContainer:t,caretPosition:il(n,0)}},r_=(e,t)=>{const{caretContainer:n,caretPosition:r}=n_(t);return pr(_n.fromDom(e),n),wr(_n.fromDom(e)),r},i_=(e,t)=>{if(Xd(t.dom))return!1;const n=e.schema.getTextInlineElements();return Ee(n,Wt(t))&&!Xd(t.dom)&&!Kr(t.dom)},o_={},s_=Zr(["pre"]);((e,t)=>{o_[e]||(o_[e]=[]),o_[e].push(t)})("pre",(e=>{const t=e.selection.getRng();if(!t.collapsed){const t=e.selection.getSelectedBlocks(),n=K(K(t,s_),(e=>t=>{const n=t.previousSibling;return s_(n)&&W(e,n)})(t));Z(n,(e=>{((e,t)=>{const n=_n.fromDom(t),r=Cn(n).dom;wr(n),_r(_n.fromDom(e),[_n.fromTag("br",r),_n.fromTag("br",r),...Rn(n)])})(e.previousSibling,e)}))}}));const a_=["fontWeight","fontStyle","color","fontSize","fontFamily"],l_=e=>ee(e,(e=>Zh(e)&&"span"===e.inline&&(e=>m(e.styles)&&q(pe(e.styles),(e=>W(a_,e))))(e))),c_=(e,t)=>{const n=e.get(t);return v(n)?l_(n):j.none()},u_=(e,t)=>Zd(t,il.fromRangeStart(e)).isNone(),d_=(e,t)=>!1===Vd(t,il.fromRangeEnd(e)).exists((e=>!si(e.getNode())||Vd(t,e).isSome())),h_=e=>t=>fi(t)&&e.isEditable(t),f_=e=>K((e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(1===t.length)return u_(n,t[0])&&d_(n,t[0])?t:[];{const e=ue(t).filter((e=>u_(n,e))).toArray(),r=de(t).filter((e=>d_(n,e))).toArray(),i=t.slice(1,-1);return e.concat(i).concat(r)}})(e),h_(e.dom)),p_=e=>K(e.getSelectedBlocks(),h_(e.dom)),m_=It.each,g_=e=>Wr(e)&&!dh(e)&&!Xd(e)&&!Kr(e),v_=(e,t)=>{for(let n=e;n;n=n[t]){if(ei(n)&&Ke(n.data))return e;if(Wr(n)&&!dh(n))return n}return e},y_=(e,t,n)=>{const r=oy(e),i=qr(t)&&e.dom.isEditable(t),o=qr(n)&&e.dom.isEditable(n);if(i&&o){const i=v_(t,"previousSibling"),o=v_(n,"nextSibling");if(r.compare(i,o)){for(let e=i.nextSibling;e&&e!==o;){const t=e;e=e.nextSibling,i.appendChild(t)}return e.dom.remove(o),It.each(It.grep(o.childNodes),(e=>{i.appendChild(e)})),i}}return n},__=(e,t,n,r)=>{var i;if(r&&!1!==t.merge_siblings){const t=null!==(i=y_(e,Lh(r),r))&&void 0!==i?i:r;y_(e,t,Lh(t,!0))}},b_=(e,t,n)=>{m_(e.childNodes,(e=>{g_(e)&&(t(e)&&n(e),e.hasChildNodes()&&b_(e,t,n))}))},w_=(e,t)=>n=>!(!n||!zh(e,n,t)),k_=(e,t,n)=>r=>{e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),((e,t)=>{"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)})(e,r)},x_=Dl([{keep:[]},{rename:["name"]},{removed:[]}]),S_=/^(src|href|style)$/,E_=It.each,C_=Fh,T_=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),A_=(e,t,n)=>{let r=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"];if(Wr(r)){const e=r.childNodes.length-1;!n&&i&&i--,r=r.childNodes[i>e?e:i]}return ei(r)&&n&&i>=r.data.length&&(r=new Hr(r,e.getBody()).next()||r),ei(r)&&!n&&0===i&&(r=new Hr(r,e.getBody()).prev()||r),r},O_=(e,t)=>{const n=t?"firstChild":"lastChild",r=e[n];return(e=>/^(TR|TH|TD)$/.test(e.nodeName))(e)&&r?"TR"===e.nodeName&&r[n]||r:e},D_=(e,t,n,r)=>{var i;const o=e.create(n,r);return null===(i=t.parentNode)||void 0===i||i.insertBefore(o,t),o.appendChild(t),o},M_=(e,t,n,r,i)=>{const o=_n.fromDom(t),s=_n.fromDom(e.create(r,i)),a=n?In(o):Pn(o);return _r(s,a),n?(pr(o,s),gr(s,o)):(mr(o,s),vr(s,o)),s.dom},L_=(e,t,n)=>{const r=t.parentNode;let i;const o=e.dom,s=Xl(e);qh(n)&&r===o.getRoot()&&(n.list_block&&C_(t,n.list_block)||Z(he(t.childNodes),(t=>{Ih(e,s,t.nodeName.toLowerCase())?i?i.appendChild(t):(i=D_(o,t,s),o.setAttribs(i,Jl(e))):i=null}))),(e=>Vh(e)&&Zh(e)&&Rt(Se(e,"mixed"),!0))(n)&&!C_(n.inline,t)||o.remove(t,!0)},P_=(e,t,n)=>S(e)?{name:t,value:null}:{name:e,value:Bh(t,n)},I_=(e,t)=>{""===e.getAttrib(t,"style")&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},R_=(e,t,n,r,i)=>{let o=!1;E_(n.styles,((s,a)=>{const{name:l,value:c}=P_(a,s,r),u=jh(c,l);(n.remove_similar||y(c)||!Wr(i)||C_(zh(e,i,l),u))&&e.setStyle(t,l,""),o=!0})),o&&I_(e,t)},N_=(e,t,n,r,i)=>{const o=e.dom,s=oy(e),a=e.schema;if(Zh(t)&&Po(a,t.inline)&&Ro(a,r)&&r.parentElement===e.getBody())return L_(e,r,t),x_.removed();if(!t.ceFalseOverride&&r&&"false"===o.getContentEditableParent(r))return x_.keep();if(r&&!Hy(o,r,t)&&!((e,t)=>t.links&&"A"===e.nodeName)(r,t))return x_.keep();const l=r,c=t.preserve_attributes;if(Zh(t)&&"all"===t.remove&&v(c)){const e=K(o.getAttribs(l),(e=>W(c,e.name.toLowerCase())));if(o.removeAllAttribs(l),Z(e,(e=>o.setAttrib(l,e.name,e.value))),e.length>0)return x_.rename("span")}if("all"!==t.remove){R_(o,l,t,n,i),E_(t.attributes,((e,r)=>{const{name:s,value:a}=P_(r,e,n);if(t.remove_similar||y(a)||!Wr(i)||C_(o.getAttrib(i,s),a)){if("class"===s){const e=o.getAttrib(l,s);if(e){let t="";if(Z(e.split(/\s+/),(e=>{/mce\-\w+/.test(e)&&(t+=(t?" ":"")+e)})),t)return void o.setAttrib(l,s,t)}}if(S_.test(s)&&l.removeAttribute("data-mce-"+s),"style"===s&&Zr(["li"])(l)&&"none"===o.getStyle(l,"list-style-type"))return l.removeAttribute(s),void o.setStyle(l,"list-style-type","none");"class"===s&&l.removeAttribute("className"),l.removeAttribute(s)}})),E_(t.classes,(e=>{e=Bh(e,n),Wr(i)&&!o.hasClass(i,e)||o.removeClass(l,e)}));const e=o.getAttribs(l);for(let t=0;t<e.length;t++){const n=e[t].nodeName;if(!s.isAttributeInternal(n))return x_.keep()}}return"none"!==t.remove?(L_(e,l,t),x_.removed()):x_.keep()},B_=(e,t,n,r)=>N_(e,t,n,r,r).fold(O(r),(t=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,t))),O(null)),F_=(e,t,n,r,i)=>{const o=e.formatter.get(t),s=o[0],a=e.dom,l=e.selection,c=r=>{const a=((e,t,n,r,i)=>{let o;return t.parentNode&&Z($h(e.dom,t.parentNode).reverse(),(t=>{if(!o&&Wr(t)&&"_start"!==t.id&&"_end"!==t.id){const s=Uy(e,t,n,r,i);s&&!1!==s.split&&(o=t)}})),o})(e,r,t,n,i);return((e,t,n,r,i,o,s,a)=>{var l,c;let u,d;const h=e.dom;if(n){const f=n.parentNode;for(let n=r.parentNode;n&&n!==f;n=n.parentNode){let r=h.clone(n,!1);for(let n=0;n<t.length&&(r=B_(e,t[n],a,r),null!==r);n++);r&&(u&&r.appendChild(u),d||(d=r),u=r)}!o||s.mixed&&h.isBlock(n)||(r=null!==(l=h.split(n,r))&&void 0!==l?l:r),u&&d&&(null===(c=i.parentNode)||void 0===c||c.insertBefore(u,i),d.appendChild(i),Zh(s)&&__(e,s,0,u))}return r})(e,o,a,r,r,!0,s,n)},u=t=>q(o,(r=>z_(e,r,n,t,t))),d=t=>{const n=he(t.childNodes),r=u(t)||q(o,(e=>Hy(a,t,e))),i=t.parentNode;if(!r&&k(i)&&Yh(s)&&u(i),s.deep&&n.length)for(let e=0;e<n.length;e++)d(n[e]);Z(["underline","line-through","overline"],(n=>{Wr(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&Hh(a,t.parentNode)===n&&z_(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},void 0,t)}))},h=e=>{const t=a.get(e?"_start":"_end");if(t){let n=t[e?"firstChild":"lastChild"];return(e=>dh(e)&&Wr(e)&&("_start"===e.id||"_end"===e.id))(n)&&(n=n[e?"firstChild":"lastChild"]),ei(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),a.remove(t,!0),n}return null},f=t=>{let n,r,i=ff(a,t,o,t.collapsed);if(s.split){if(i=hp(i),n=A_(e,i,!0),r=A_(e,i),n!==r){if(n=O_(n,!0),r=O_(r,!1),T_(a,n,r)){const e=j.from(n.firstChild).getOr(n);return c(M_(a,e,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void h(!0)}if(T_(a,r,n)){const e=j.from(r.lastChild).getOr(r);return c(M_(a,e,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void h(!1)}n=D_(a,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=D_(a,r,"span",{id:"_end","data-mce-type":"bookmark"});const e=a.createRng();e.setStartAfter(n),e.setEndBefore(r),pf(a,e,(e=>{Z(e,(e=>{dh(e)||dh(e.parentNode)||c(e)}))})),c(n),c(r),n=h(!0),r=h()}else n=r=c(n);i.startContainer=n.parentNode?n.parentNode:n,i.startOffset=a.nodeIndex(n),i.endContainer=r.parentNode?r.parentNode:r,i.endOffset=a.nodeIndex(r)+1}pf(a,i,(e=>{Z(e,d)}))};if(r){if(Ah(r)){const e=a.createRng();e.setStartBefore(r),e.setEndAfter(r),f(e)}else f(r);Tf(e,t,r,n)}else l.isCollapsed()&&Zh(s)&&!_h(e).length?e_(e,t,n,i):(Dh(e,(()=>Ch(e,f)),(r=>Zh(s)&&Wy(e,t,n,r))),e.nodeChanged()),((e,t,n)=>{"removeformat"===t?Z(p_(e.selection),(t=>{Z(a_,(n=>e.dom.setStyle(t,n,""))),I_(e.dom,t)})):c_(e.formatter,t).each((t=>{Z(p_(e.selection),(r=>R_(e.dom,r,t,n,null)))}))})(e,t,n),Tf(e,t,r,n)},j_=(e,t,n,r,i)=>{(r||e.selection.isEditable())&&F_(e,t,n,r,i)},z_=(e,t,n,r,i)=>N_(e,t,n,r,i).fold(B,(t=>(e.dom.rename(r,t),!0)),F),H_=It.each,$_=(e,t,n,r)=>{H_(t,(t=>{Zh(t)&&H_(e.dom.select(t.inline,r),(r=>{g_(r)&&z_(e,t,n,r,t.exact?r:null)})),((e,t,n)=>{if(t.clear_child_styles){const r=t.links?"*:not(a)":"*";m_(e.select(r,n),(n=>{g_(n)&&e.isEditable(n)&&m_(t.styles,((t,r)=>{e.setStyle(n,r,"")}))}))}})(e.dom,t,r)}))},U_=It.each,W_=(e,t,n,r)=>{if(U_(n.styles,((n,i)=>{e.setStyle(t,i,Bh(n,r))})),n.styles){const n=e.getAttrib(t,"style");n&&e.setAttrib(t,"data-mce-style",n)}},q_=(e,t,n,r)=>{const i=e.formatter.get(t),o=i[0],s=!r&&e.selection.isCollapsed(),a=e.dom,l=e.selection,c=(e,t=o)=>{x(t.onformat)&&t.onformat(e,t,n,r),W_(a,e,t,n),U_(t.attributes,((t,r)=>{a.setAttrib(e,r,Bh(t,n))})),U_(t.classes,(t=>{const r=Bh(t,n);a.hasClass(e,r)||a.addClass(e,r)}))},u=(e,t)=>{let n=!1;return U_(e,(e=>!!Vh(e)&&("false"===a.getContentEditable(t)&&!e.ceFalseOverride||(!(!k(e.collapsed)||e.collapsed===s)||(!(a.is(t,e.selector)&&!Xd(t))||(c(t,e),n=!0,!1)))))),n},d=e=>{if(p(e)){const t=a.create(e);return c(t),t}return null},h=(r,s,a)=>{const l=[];let h=!0;const f=o.inline||o.block,p=d(f),m=r=>(e=>qh(e)&&!0===e.wrapper)(o)&&Uy(e,r,t,n),g=(t,n,r)=>{const i=(e=>qh(e)&&!0!==e.wrapper)(o)&&Ph(e.schema,t)&&Ih(e,n,f);return r&&i};pf(r,s,(t=>{let n;const s=t=>{let d=!1,v=h,y=!1;const _=t.parentNode,b=_.nodeName.toLowerCase(),w=r.getContentEditable(t);k(w)&&(v=h,h="true"===w,d=!0,y=Nh(e,t));const x=h&&!d;if(si(t)&&!((e,t,n,r)=>{if(Nc(e)&&Zh(t)&&n.parentNode){const t=vs(e.schema),i=xv(_n.fromDom(n),(e=>Xd(e.dom)));return Ce(t,r)&&_o(_n.fromDom(n.parentNode),!1)&&!i}return!1})(e,o,t,b))return n=null,void(qh(o)&&r.remove(t));if(m(t))n=null;else{if(g(t,b,x)){const e=r.rename(t,f);return c(e),l.push(e),void(n=null)}if(Vh(o)){let e=u(i,t);if(!e&&k(_)&&Yh(o)&&(e=u(i,_)),!Zh(o)||e)return void(n=null)}k(p)&&((t,n,i,s)=>{const l=t.nodeName.toLowerCase(),c=Ih(e,f,l)&&Ih(e,n,f),u=!a&&ei(t)&&Ii(t.data),d=Xd(t),h=!Zh(o)||!r.isBlock(t);return(i||s)&&c&&!u&&!d&&h})(t,b,x,y)?(n||(n=r.clone(p,!1),_.insertBefore(n,t),l.push(n)),y&&d&&(h=v),n.appendChild(t)):(n=null,Z(he(t.childNodes),s),d&&(h=v),n=null)}};Z(t,s)})),!0===o.links&&Z(l,(e=>{const t=e=>{"A"===e.nodeName&&c(e,o),Z(he(e.childNodes),t)};t(e)})),Z(l,(s=>{const a=(e=>{let t=0;return Z(e.childNodes,(e=>{(e=>k(e)&&ei(e)&&0===e.length)(e)||dh(e)||t++})),t})(s);!(l.length>1)&&r.isBlock(s)||0!==a?(Zh(o)||qh(o)&&o.wrapper)&&(o.exact||1!==a||(s=(e=>{const t=ee(e.childNodes,Oh).filter((e=>"false"!==r.getContentEditable(e)&&Hy(r,e,o)));return t.map((t=>{const n=r.clone(t,!1);return c(n),r.replace(n,e,!0),r.remove(t,!0),n})).getOr(e)})(s)),$_(e,i,n,s),((e,t,n,r,i)=>{const o=i.parentNode;Uy(e,o,n,r)&&z_(e,t,r,i)||t.merge_with_parents&&o&&e.dom.getParent(o,(o=>!!Uy(e,o,n,r)&&(z_(e,t,r,i),!0)))})(e,o,t,n,s),((e,t,n,r)=>{if(t.styles&&t.styles.backgroundColor){const i=w_(e,"fontSize");b_(r,(t=>i(t)&&e.isEditable(t)),k_(e,"backgroundColor",Bh(t.styles.backgroundColor,n)))}})(r,o,n,s),((e,t,n,r)=>{const i=t=>{if(qr(t)&&Wr(t.parentNode)&&e.isEditable(t)){const n=Hh(e,t.parentNode);e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(It.walk(r,i,"childNodes"),i(r))})(r,o,0,s),((e,t,n,r)=>{if(Zh(t)&&("sub"===t.inline||"sup"===t.inline)){const n=w_(e,"fontSize");b_(r,(t=>n(t)&&e.isEditable(t)),k_(e,"fontSize",""));const i=K(e.select("sup"===t.inline?"sub":"sup",r),e.isEditable);e.remove(i,!0)}})(r,o,0,s),__(e,o,0,s)):r.remove(s,!0)}))},f=Ah(r)?r:l.getNode();if("false"===a.getContentEditable(f)&&!Nh(e,f))return u(i,r=f),void Cf(e,t,r,n);if(o){if(r)if(Ah(r)){if(!u(i,r)){const e=a.createRng();e.setStartBefore(r),e.setEndAfter(r),h(a,ff(a,e,i),!0)}}else h(a,r,!0);else s&&Zh(o)&&!_h(e).length?((e,t,n)=>{let r;const i=e.selection,o=e.formatter.get(t);if(!o)return;const s=i.getRng();let a=s.startOffset;const l=s.startContainer.nodeValue;r=Jd(e.getBody(),i.getStart());const c=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(l&&a>0&&a<l.length&&c.test(l.charAt(a))&&c.test(l.charAt(a-1))){const r=i.getBookmark();s.collapse(!0);let a=ff(e.dom,s,o);a=hp(a),e.formatter.apply(t,n,a),i.moveToBookmark(r)}else{let o=r?Yy(r):null;r&&(null==o?void 0:o.data)===Zy||(r=((e,t)=>e.importNode(t,!0))(e.getDoc(),Gy(!0).dom),o=r.firstChild,s.insertNode(r),a=1),e.formatter.apply(t,n,r),i.setCursorLocation(o,a)}})(e,t,n):(l.setRng(yy(l.getRng())),Dh(e,(()=>{Ch(e,((e,t)=>{const n=t?e:ff(a,e,i);h(a,n,!1)}))}),F),e.nodeChanged()),c_(e.formatter,t).each((t=>{Z(f_(e.selection),(e=>W_(a,e,t,n)))}));((e,t)=>{Ee(o_,e)&&Z(o_[e],(e=>{e(t)}))})(t,e)}Cf(e,t,r,n)},V_=(e,t,n,r)=>{(r||e.selection.isEditable())&&q_(e,t,n,r)},Z_=e=>Ee(e,"vars"),Y_=e=>e.selection.getStart(),G_=(e,t,n,r,i)=>Q(t,(t=>{const o=e.formatter.matchNode(t,n,null!=i?i:{},r);return!b(o)}),(t=>!!jy(e,t,n)||!r&&k(e.formatter.matchNode(t,n,i,!0)))),K_=(e,t)=>{const n=null!=t?t:Y_(e);return K($h(e.dom,n),(e=>Wr(e)&&!Kr(e)))},X_=(e,t,n)=>{const r=K_(e,t);ge(n,((n,i)=>{const o=n=>{const o=G_(e,r,i,n.similar,Z_(n)?n.vars:void 0),s=o.isSome();if(n.state.get()!==s){n.state.set(s);const e=o.getOr(t);Z_(n)?n.callback(s,{node:e,format:i,parents:r}):Z(n.callbacks,(t=>t(s,{node:e,format:i,parents:r})))}};Z([n.withSimilar,n.withoutSimilar],o),Z(n.withVars,o)}))},J_=(e,t,n,r,i,o)=>(((e,t,n,r,i,o)=>{const s=t.get();Z(n.split(","),(t=>{const n=Se(s,t).getOrThunk((()=>{const e={withSimilar:{state:Qs(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Qs(!1),similar:!1,callbacks:[]},withVars:[]};return s[t]=e,e})),a=()=>{const n=K_(e);return G_(e,n,t,i,o).isSome()};if(b(o)){const e=i?n.withSimilar:n.withoutSimilar;e.callbacks.push(r),1===e.callbacks.length&&e.state.set(a())}else n.withVars.push({state:Qs(a()),similar:i,vars:o,callback:r})})),t.set(s)})(e,t,n,r,i,o),{unbind:()=>((e,t,n)=>{const r=e.get();Z(t.split(","),(e=>Se(r,e).each((t=>{r[e]={withSimilar:{...t.withSimilar,callbacks:K(t.withSimilar.callbacks,(e=>e!==n))},withoutSimilar:{...t.withoutSimilar,callbacks:K(t.withoutSimilar.callbacks,(e=>e!==n))},withVars:K(t.withVars,(e=>e.callback!==n))}})))),e.set(r)})(t,n,r)}),Q_=It.explode,eb=()=>{const e={};return{addFilter:(t,n)=>{Z(Q_(t),(t=>{Ee(e,t)||(e[t]={name:t,callbacks:[]}),e[t].callbacks.push(n)}))},getFilters:()=>xe(e),removeFilter:(t,n)=>{Z(Q_(t),(t=>{if(Ee(e,t))if(k(n)){const r=e[t],i=K(r.callbacks,(e=>e!==n));i.length>0?r.callbacks=i:delete e[t]}else delete e[t]}))}}},tb=(e,t,n)=>{e.addNodeFilter("font",(e=>{Z(e,(e=>{const r=t.parse(e.attr("style")),i=e.attr("color"),o=e.attr("face"),s=e.attr("size");i&&(r.color=i),o&&(r["font-family"]=o),s&&Je(s).each((e=>{r["font-size"]=n[e-1]})),e.name="span",e.attr("style",t.serialize(r)),((e,t)=>{Z(t,(t=>{e.attr(t,null)}))})(e,["color","face","size"])}))}))},nb=(e,t,n)=>{var r;const i=Ds();t.convert_fonts_to_spans&&tb(e,i,It.explode(null!==(r=t.font_size_legacy_values)&&void 0!==r?r:"")),((e,t,n)=>{e.addNodeFilter("strike",(e=>{const r="html4"!==t.type;Z(e,(e=>{if(r)e.name="s";else{const t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))}}))}))})(e,n,i)},rb=(e,t,n)=>{t.addNodeFilter("br",((t,r,i)=>{const o=It.extend({},n.getBlockElements()),s=n.getNonEmptyElements(),a=n.getWhitespaceElements();o.body=1;const l=e=>e.name in o||Bo(n,e);for(let r=0,c=t.length;r<c;r++){let c=t[r],u=c.parent;if(u&&l(u)&&c===u.lastChild){let t=c.prev;for(;t;){const e=t.name;if("span"!==e||"bookmark"!==t.attr("data-mce-type")){"br"===e&&(c=null);break}t=t.prev}if(c&&(c.remove(),hy(n,s,a,u))){const t=n.getElementRule(u.name);t&&(t.removeEmpty?u.remove():t.paddEmpty&&uy(e,i,l,u))}}else{let e=c;for(;u&&u.firstChild===e&&u.lastChild===e&&(e=u,!o[u.name]);)u=u.parent;if(e===u){const e=new Am("#text",3);e.value=vi,c.replace(e)}}}}))},ib=e=>{const[t,...n]=e.split(","),r=n.join(","),i=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(i){const e=";base64"===i[2],t=e?(e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""})(r):decodeURIComponent(r);return j.some({type:i[1],data:t,base64Encoded:e})}return j.none()},ob=(e,t,n=!0)=>{let r=t;if(n)try{r=atob(t)}catch(e){return j.none()}const i=new Uint8Array(r.length);for(let e=0;e<i.length;e++)i[e]=r.charCodeAt(e);return j.some(new Blob([i],{type:e}))},sb=e=>{return We(e,"blob:")?(e=>fetch(e).then((e=>e.ok?e.blob():Promise.reject())).catch((()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"}))))(e):We(e,"data:")?(t=e,new Promise(((e,n)=>{ib(t).bind((({type:e,data:t,base64Encoded:n})=>ob(e,t,n))).fold((()=>n("Invalid data URI")),e)}))):Promise.reject("Unknown URI format");var t},ab=e=>new Promise(((t,n)=>{const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{var e;n(null===(e=r.error)||void 0===e?void 0:e.message)},r.readAsDataURL(e)}));let lb=0;const cb=(e,t,n)=>ib(e).bind((({data:e,type:r,base64Encoded:i})=>{if(t&&!i)return j.none();{const t=i?e:btoa(e);return n(t,r)}})),ub=(e,t,n)=>{const r=e.create((i||"blobid")+lb++,t,n);var i;return e.add(r),r},db=(e,t,n=!1)=>cb(t,n,((t,n)=>j.from(e.getByData(t,n)).orThunk((()=>ob(n,t).map((n=>ub(e,n,t))))))),hb=(e,t)=>{const{blob_cache:n}=t;if(n){const t=e=>{const t=e.attr("src");(e=>e.attr("src")===Dt.transparentSrc||k(e.attr("data-mce-placeholder")))(e)||(e=>k(e.attr("data-mce-bogus")))(e)||w(t)||db(n,t,!0).each((t=>{e.attr("src",t.blobUri())}))};e.addAttributeFilter("src",(e=>Z(e,t)))}},fb=(e,t)=>We(e,`${t}/`),pb=(e,t)=>{const n=e.schema;t.remove_trailing_brs&&rb(t,e,n),e.addAttributeFilter("href",(e=>{let n=e.length;const r=e=>{const t=e?It.trim(e):"";return/\b(noopener)\b/g.test(t)?t:(e=>e.split(" ").filter((e=>e.length>0)).concat(["noopener"]).sort().join(" "))(t)};if(!t.allow_unsafe_link_target)for(;n--;){const t=e[n];"a"===t.name&&"_blank"===t.attr("target")&&t.attr("rel",r(t.attr("rel")))}})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(e=>{let t,n,r,i,o=e.length;for(;o--;)if(i=e[o],"a"===i.name&&i.firstChild&&!i.attr("href"))for(r=i.parent,t=i.lastChild;t&&r;)n=t.prev,r.insert(t,i),t=n})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(e=>{let t,n,r=e.length;for(;r--;)if(t=e[r],n=t.parent,n&&("ul"===n.name||"ol"===n.name))if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{const e=new Am("li",1);e.attr("style","list-style-type: none"),t.wrap(e)}}));const r=n.getValidClasses();t.validate&&r&&e.addAttributeFilter("class",(e=>{var t;let n=e.length;for(;n--;){const i=e[n],o=null!==(t=i.attr("class"))&&void 0!==t?t:"",s=It.explode(o," ");let a="";for(let e=0;e<s.length;e++){const t=s[e];let n=!1,o=r["*"];o&&o[t]&&(n=!0),o=r[i.name],!n&&o&&o[t]&&(n=!0),n&&(a&&(a+=" "),a+=t)}a.length||(a=null),i.attr("class",a)}})),hb(e,t),t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",(e=>Z(e,(e=>{e.replace(((e,t,n,r,i)=>{let o;o=b(e)?"iframe":fb(e,"image")?"img":fb(e,"video")?"video":fb(e,"audio")?"audio":"iframe";const s=new Am(o,1);return s.attr("audio"===o?{src:t}:{src:t,width:n,height:r}),"audio"!==o&&"video"!==o||s.attr("controls",""),"iframe"===o&&i&&s.attr("sandbox",""),s})(e.attr("type"),"object"===e.name?e.attr("data"):e.attr("src"),e.attr("width"),e.attr("height"),t.sandbox_iframes))})))),t.sandbox_iframes&&e.addNodeFilter("iframe",(e=>Z(e,(e=>e.attr("sandbox","")))))},{entries:mb,setPrototypeOf:gb,isFrozen:vb,getPrototypeOf:yb,getOwnPropertyDescriptor:_b}=Object;let{freeze:bb,seal:wb,create:kb}=Object,{apply:xb,construct:Sb}="undefined"!=typeof Reflect&&Reflect;xb||(xb=function(e,t,n){return e.apply(t,n)}),bb||(bb=function(e){return e}),wb||(wb=function(e){return e}),Sb||(Sb=function(e,t){return new e(...t)});const Eb=Bb(Array.prototype.forEach),Cb=Bb(Array.prototype.pop),Tb=Bb(Array.prototype.push),Ab=Bb(String.prototype.toLowerCase),Ob=Bb(String.prototype.toString),Db=Bb(String.prototype.match),Mb=Bb(String.prototype.replace),Lb=Bb(String.prototype.indexOf),Pb=Bb(String.prototype.trim),Ib=Bb(RegExp.prototype.test),Rb=(Nb=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Sb(Nb,t)});var Nb;function Bb(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return xb(e,t,r)}}function Fb(e,t,n){var r;n=null!==(r=n)&&void 0!==r?r:Ab,gb&&gb(e,null);let i=t.length;for(;i--;){let r=t[i];if("string"==typeof r){const e=n(r);e!==r&&(vb(t)||(t[i]=e),r=e)}e[r]=!0}return e}function jb(e){const t=kb(null);for(const[n,r]of mb(e))t[n]=r;return t}function zb(e,t){for(;null!==e;){const n=_b(e,t);if(n){if(n.get)return Bb(n.get);if("function"==typeof n.value)return Bb(n.value)}e=yb(e)}return function(e){return console.warn("fallback value for",e),null}}const Hb=bb(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),$b=bb(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ub=bb(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Wb=bb(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),qb=bb(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Vb=bb(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Zb=bb(["#text"]),Yb=bb(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Gb=bb(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Kb=bb(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Xb=bb(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Jb=wb(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Qb=wb(/<%[\w\W]*|[\w\W]*%>/gm),ew=wb(/\${[\w\W]*}/gm),tw=wb(/^data-[\-\w.\u00B7-\uFFFF]/),nw=wb(/^aria-[\-\w]+$/),rw=wb(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),iw=wb(/^(?:\w+script|data):/i),ow=wb(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),sw=wb(/^html$/i);var aw=Object.freeze({__proto__:null,MUSTACHE_EXPR:Jb,ERB_EXPR:Qb,TMPLIT_EXPR:ew,DATA_ATTR:tw,ARIA_ATTR:nw,IS_ALLOWED_URI:rw,IS_SCRIPT_OR_DATA:iw,ATTR_WHITESPACE:ow,DOCTYPE_NAME:sw});const lw=()=>"undefined"==typeof window?null:window;var cw=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lw();const n=t=>e(t);if(n.version="3.0.5",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;const r=t.document,i=r.currentScript;let{document:o}=t;const{DocumentFragment:s,HTMLTemplateElement:a,Node:l,Element:c,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:p}=t,m=c.prototype,g=zb(m,"cloneNode"),v=zb(m,"nextSibling"),y=zb(m,"childNodes"),_=zb(m,"parentNode");if("function"==typeof a){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let b,w="";const{implementation:k,createNodeIterator:x,createDocumentFragment:S,getElementsByTagName:E}=o,{importNode:C}=r;let T={};n.isSupported="function"==typeof mb&&"function"==typeof _&&k&&void 0!==k.createHTMLDocument;const{MUSTACHE_EXPR:A,ERB_EXPR:O,TMPLIT_EXPR:D,DATA_ATTR:M,ARIA_ATTR:L,IS_SCRIPT_OR_DATA:P,ATTR_WHITESPACE:I}=aw;let{IS_ALLOWED_URI:R}=aw,N=null;const B=Fb({},[...Hb,...$b,...Ub,...qb,...Zb]);let F=null;const j=Fb({},[...Yb,...Gb,...Kb,...Xb]);let z=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),H=null,$=null,U=!0,W=!0,q=!1,V=!0,Z=!1,Y=!1,G=!1,K=!1,X=!1,J=!1,Q=!1,ee=!0,te=!1,ne=!0,re=!1,ie={},oe=null;const se=Fb({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ae=null;const le=Fb({},["audio","video","img","source","image","track"]);let ce=null;const ue=Fb({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),de="http://www.w3.org/1998/Math/MathML",he="http://www.w3.org/2000/svg",fe="http://www.w3.org/1999/xhtml";let pe=fe,me=!1,ge=null;const ve=Fb({},[de,he,fe],Ob);let ye;const _e=["application/xhtml+xml","text/html"];let be,we=null;const ke=o.createElement("form"),xe=function(e){return e instanceof RegExp||e instanceof Function},Se=function(e){if(!we||we!==e){if(e&&"object"==typeof e||(e={}),e=jb(e),ye=ye=-1===_e.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,be="application/xhtml+xml"===ye?Ob:Ab,N="ALLOWED_TAGS"in e?Fb({},e.ALLOWED_TAGS,be):B,F="ALLOWED_ATTR"in e?Fb({},e.ALLOWED_ATTR,be):j,ge="ALLOWED_NAMESPACES"in e?Fb({},e.ALLOWED_NAMESPACES,Ob):ve,ce="ADD_URI_SAFE_ATTR"in e?Fb(jb(ue),e.ADD_URI_SAFE_ATTR,be):ue,ae="ADD_DATA_URI_TAGS"in e?Fb(jb(le),e.ADD_DATA_URI_TAGS,be):le,oe="FORBID_CONTENTS"in e?Fb({},e.FORBID_CONTENTS,be):se,H="FORBID_TAGS"in e?Fb({},e.FORBID_TAGS,be):{},$="FORBID_ATTR"in e?Fb({},e.FORBID_ATTR,be):{},ie="USE_PROFILES"in e&&e.USE_PROFILES,U=!1!==e.ALLOW_ARIA_ATTR,W=!1!==e.ALLOW_DATA_ATTR,q=e.ALLOW_UNKNOWN_PROTOCOLS||!1,V=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Z=e.SAFE_FOR_TEMPLATES||!1,Y=e.WHOLE_DOCUMENT||!1,X=e.RETURN_DOM||!1,J=e.RETURN_DOM_FRAGMENT||!1,Q=e.RETURN_TRUSTED_TYPE||!1,K=e.FORCE_BODY||!1,ee=!1!==e.SANITIZE_DOM,te=e.SANITIZE_NAMED_PROPS||!1,ne=!1!==e.KEEP_CONTENT,re=e.IN_PLACE||!1,R=e.ALLOWED_URI_REGEXP||rw,pe=e.NAMESPACE||fe,z=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&xe(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(z.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&xe(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(z.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(z.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Z&&(W=!1),J&&(X=!0),ie&&(N=Fb({},[...Zb]),F=[],!0===ie.html&&(Fb(N,Hb),Fb(F,Yb)),!0===ie.svg&&(Fb(N,$b),Fb(F,Gb),Fb(F,Xb)),!0===ie.svgFilters&&(Fb(N,Ub),Fb(F,Gb),Fb(F,Xb)),!0===ie.mathMl&&(Fb(N,qb),Fb(F,Kb),Fb(F,Xb))),e.ADD_TAGS&&(N===B&&(N=jb(N)),Fb(N,e.ADD_TAGS,be)),e.ADD_ATTR&&(F===j&&(F=jb(F)),Fb(F,e.ADD_ATTR,be)),e.ADD_URI_SAFE_ATTR&&Fb(ce,e.ADD_URI_SAFE_ATTR,be),e.FORBID_CONTENTS&&(oe===se&&(oe=jb(oe)),Fb(oe,e.FORBID_CONTENTS,be)),ne&&(N["#text"]=!0),Y&&Fb(N,["html","head","body"]),N.table&&(Fb(N,["tbody"]),delete H.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Rb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Rb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');b=e.TRUSTED_TYPES_POLICY,w=b.createHTML("")}else void 0===b&&(b=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(p,i)),null!==b&&"string"==typeof w&&(w=b.createHTML(""));bb&&bb(e),we=e}},Ee=Fb({},["mi","mo","mn","ms","mtext"]),Ce=Fb({},["foreignobject","desc","title","annotation-xml"]),Te=Fb({},["title","style","font","a","script"]),Ae=Fb({},$b);Fb(Ae,Ub),Fb(Ae,Wb);const Oe=Fb({},qb);Fb(Oe,Vb);const De=function(e){Tb(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},Me=function(e,t){try{Tb(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Tb(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!F[e])if(X||J)try{De(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Le=function(e){let t,n;if(K)e="<remove></remove>"+e;else{const t=Db(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===ye&&pe===fe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const r=b?b.createHTML(e):e;if(pe===fe)try{t=(new f).parseFromString(r,ye)}catch(e){}if(!t||!t.documentElement){t=k.createDocument(pe,"template",null);try{t.documentElement.innerHTML=me?w:r}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(o.createTextNode(n),i.childNodes[0]||null),pe===fe?E.call(t,Y?"html":"body")[0]:Y?t.documentElement:i},Pe=function(e){return x.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},Ie=function(e){return"object"==typeof l?e instanceof l:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Re=function(e,t,r){T[e]&&Eb(T[e],(e=>{e.call(n,t,r,we)}))},Ne=function(e){let t;if(Re("beforeSanitizeElements",e,null),(r=e)instanceof h&&("string"!=typeof r.nodeName||"string"!=typeof r.textContent||"function"!=typeof r.removeChild||!(r.attributes instanceof d)||"function"!=typeof r.removeAttribute||"function"!=typeof r.setAttribute||"string"!=typeof r.namespaceURI||"function"!=typeof r.insertBefore||"function"!=typeof r.hasChildNodes))return De(e),!0;var r;const i=be(e.nodeName);if(Re("uponSanitizeElement",e,{tagName:i,allowedTags:N}),e.hasChildNodes()&&!Ie(e.firstElementChild)&&(!Ie(e.content)||!Ie(e.content.firstElementChild))&&Ib(/<[/\w]/g,e.innerHTML)&&Ib(/<[/\w]/g,e.textContent))return De(e),!0;if(!N[i]||H[i]){if(!H[i]&&Fe(i)){if(z.tagNameCheck instanceof RegExp&&Ib(z.tagNameCheck,i))return!1;if(z.tagNameCheck instanceof Function&&z.tagNameCheck(i))return!1}if(ne&&!oe[i]){const t=_(e)||e.parentNode,n=y(e)||e.childNodes;if(n&&t){for(let r=n.length-1;r>=0;--r)t.insertBefore(g(n[r],!0),v(e))}}return De(e),!0}return e instanceof c&&!function(e){let t=_(e);t&&t.tagName||(t={namespaceURI:pe,tagName:"template"});const n=Ab(e.tagName),r=Ab(t.tagName);return!!ge[e.namespaceURI]&&(e.namespaceURI===he?t.namespaceURI===fe?"svg"===n:t.namespaceURI===de?"svg"===n&&("annotation-xml"===r||Ee[r]):Boolean(Ae[n]):e.namespaceURI===de?t.namespaceURI===fe?"math"===n:t.namespaceURI===he?"math"===n&&Ce[r]:Boolean(Oe[n]):e.namespaceURI===fe?!(t.namespaceURI===he&&!Ce[r])&&!(t.namespaceURI===de&&!Ee[r])&&!Oe[n]&&(Te[n]||!Ae[n]):!("application/xhtml+xml"!==ye||!ge[e.namespaceURI]))}(e)?(De(e),!0):"noscript"!==i&&"noembed"!==i&&"noframes"!==i||!Ib(/<\/no(script|embed|frames)/i,e.innerHTML)?(Z&&3===e.nodeType&&(t=e.textContent,t=Mb(t,A," "),t=Mb(t,O," "),t=Mb(t,D," "),e.textContent!==t&&(Tb(n.removed,{element:e.cloneNode()}),e.textContent=t)),Re("afterSanitizeElements",e,null),!1):(De(e),!0)},Be=function(e,t,n){if(ee&&("id"===t||"name"===t)&&(n in o||n in ke))return!1;if(W&&!$[t]&&Ib(M,t));else if(U&&Ib(L,t));else if(!F[t]||$[t]){if(!(Fe(e)&&(z.tagNameCheck instanceof RegExp&&Ib(z.tagNameCheck,e)||z.tagNameCheck instanceof Function&&z.tagNameCheck(e))&&(z.attributeNameCheck instanceof RegExp&&Ib(z.attributeNameCheck,t)||z.attributeNameCheck instanceof Function&&z.attributeNameCheck(t))||"is"===t&&z.allowCustomizedBuiltInElements&&(z.tagNameCheck instanceof RegExp&&Ib(z.tagNameCheck,n)||z.tagNameCheck instanceof Function&&z.tagNameCheck(n))))return!1}else if(ce[t]);else if(Ib(R,Mb(n,I,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Lb(n,"data:")||!ae[e]){if(q&&!Ib(P,Mb(n,I,"")));else if(n)return!1}else;return!0},Fe=function(e){return e.indexOf("-")>0},je=function(e){let t,n,r,i;Re("beforeSanitizeAttributes",e,null);const{attributes:o}=e;if(!o)return;const s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:F};for(i=o.length;i--;){t=o[i];const{name:a,namespaceURI:l}=t;n="value"===a?t.value:Pb(t.value);const c=n;if(r=be(a),s.attrName=r,s.attrValue=n,s.keepAttr=!0,s.forceKeepAttr=void 0,Re("uponSanitizeAttribute",e,s),n=s.attrValue,s.forceKeepAttr)continue;if(!s.keepAttr){Me(a,e);continue}if(!V&&Ib(/\/>/i,n)){Me(a,e);continue}Z&&(n=Mb(n,A," "),n=Mb(n,O," "),n=Mb(n,D," "));const u=be(e.nodeName);if(Be(u,r,n)){if(!te||"id"!==r&&"name"!==r||(Me(a,e),n="user-content-"+n),b&&"object"==typeof p&&"function"==typeof p.getAttributeType)if(l);else switch(p.getAttributeType(u,r)){case"TrustedHTML":n=b.createHTML(n);break;case"TrustedScriptURL":n=b.createScriptURL(n)}if(n!==c)try{l?e.setAttributeNS(l,a,n):e.setAttribute(a,n)}catch(t){Me(a,e)}}else Me(a,e)}Re("afterSanitizeAttributes",e,null)},ze=function e(t){let n;const r=Pe(t);for(Re("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)Re("uponSanitizeShadowNode",n,null),Ne(n)||(n.content instanceof s&&e(n.content),je(n));Re("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){let t,i,o,a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(me=!e,me&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Ie(e)){if("function"!=typeof e.toString)throw Rb("toString is not a function");if("string"!=typeof(e=e.toString()))throw Rb("dirty is not a string, aborting")}if(!n.isSupported)return e;if(G||Se(c),n.removed=[],"string"==typeof e&&(re=!1),re){if(e.nodeName){const t=be(e.nodeName);if(!N[t]||H[t])throw Rb("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)t=Le("\x3c!----\x3e"),i=t.ownerDocument.importNode(e,!0),1===i.nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?t=i:t.appendChild(i);else{if(!X&&!Z&&!Y&&-1===e.indexOf("<"))return b&&Q?b.createHTML(e):e;if(t=Le(e),!t)return X?null:Q?w:""}t&&K&&De(t.firstChild);const u=Pe(re?e:t);for(;o=u.nextNode();)Ne(o)||(o.content instanceof s&&ze(o.content),je(o));if(re)return e;if(X){if(J)for(a=S.call(t.ownerDocument);t.firstChild;)a.appendChild(t.firstChild);else a=t;return(F.shadowroot||F.shadowrootmode)&&(a=C.call(r,a,!0)),a}let d=Y?t.outerHTML:t.innerHTML;return Y&&N["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&Ib(sw,t.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+t.ownerDocument.doctype.name+">\n"+d),Z&&(d=Mb(d,A," "),d=Mb(d,O," "),d=Mb(d,D," ")),b&&Q?b.createHTML(d):d},n.setConfig=function(e){Se(e),G=!0},n.clearConfig=function(){we=null,G=!1},n.isValidAttribute=function(e,t,n){we||Se({});const r=be(e),i=be(t);return Be(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&(T[e]=T[e]||[],Tb(T[e],t))},n.removeHook=function(e){if(T[e])return Cb(T[e])},n.removeHooks=function(e){T[e]&&(T[e]=[])},n.removeAllHooks=function(){T={}},n}();const uw=It.each,dw=It.trim,hw=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],fw={ftp:21,http:80,https:443,mailto:25},pw=["img","video"],mw=(e,t,n)=>{const r=(e=>{try{return decodeURIComponent(e)}catch(t){return unescape(e)}})(t).replace(/\s/g,"");return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(r)||!e.allow_html_data_urls&&(/^data:image\//i.test(r)?((e,t)=>k(e)?!e:!k(t)||!W(pw,t))(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)))};class gw{static parseDataUri(e){let t;const n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}}static isDomSafe(e,t,n={}){if(n.allow_script_urls)return!0;{const r=as.decode(e).replace(/[\s\u0000-\u001F]+/g,"");return!mw(n,r,t)}}static getDocumentBaseUrl(e){var t;let n;return n=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?null!==(t=e.href)&&void 0!==t?t:"":e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),n}constructor(e,t={}){this.path="",this.directory="",e=dw(e),this.settings=t;const n=t.base_uri,r=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(r.source=e);const i=0===e.indexOf("//");if(0!==e.indexOf("/")||i||(e=(n&&n.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){const t=n?n.path:new gw(document.location.href).directory;if(""===(null==n?void 0:n.protocol))e="//mce_host"+r.toAbsPath(t,e);else{const i=/([^#?]*)([#?]?.*)/.exec(e);i&&(e=(n&&n.protocol||"http")+"://mce_host"+r.toAbsPath(t,i[1])+i[2])}}e=e.replace(/@@/g,"(mce_at)");const o=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);o&&uw(hw,((e,t)=>{let n=o[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),r[e]=n})),n&&(r.protocol||(r.protocol=n.protocol),r.userInfo||(r.userInfo=n.userInfo),r.port||"mce_host"!==r.host||(r.port=n.port),r.host&&"mce_host"!==r.host||(r.host=n.host),r.source=""),i&&(r.protocol="")}setPath(e){const t=/^(.*?)\/?(\w+)?$/.exec(e);t&&(this.path=t[0],this.directory=t[1],this.file=t[2]),this.source="",this.getURI()}toRelative(e){if("./"===e)return e;const t=new gw(e,{base_uri:this});if("mce_host"!==t.host&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&""!==t.protocol)return t.getURI();const n=this.getURI(),r=t.getURI();if(n===r||"/"===n.charAt(n.length-1)&&n.substr(0,n.length-1)===r)return n;let i=this.toRelPath(this.path,t.path);return t.query&&(i+="?"+t.query),t.anchor&&(i+="#"+t.anchor),i}toAbsolute(e,t){const n=new gw(e,{base_uri:this});return n.getURI(t&&this.isSameOrigin(n))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;const t=this.protocol?fw[this.protocol]:null;if(t&&(this.port||t)==(e.port||t))return!0}return!1}toRelPath(e,t){let n,r,i=0,o="";const s=e.substring(0,e.lastIndexOf("/")).split("/"),a=t.split("/");if(s.length>=a.length)for(n=0,r=s.length;n<r;n++)if(n>=a.length||s[n]!==a[n]){i=n+1;break}if(s.length<a.length)for(n=0,r=a.length;n<r;n++)if(n>=s.length||s[n]!==a[n]){i=n+1;break}if(1===i)return t;for(n=0,r=s.length-(i-1);n<r;n++)o+="../";for(n=i-1,r=a.length;n<r;n++)o+=n!==i-1?"/"+a[n]:a[n];return o}toAbsPath(e,t){let n=0;const r=/\/$/.test(t)?"/":"",i=e.split("/"),o=t.split("/"),s=[];uw(i,(e=>{e&&s.push(e)}));const a=[];for(let e=o.length-1;e>=0;e--)0!==o[e].length&&"."!==o[e]&&(".."!==o[e]?n>0?n--:a.push(o[e]):n++);const l=s.length-n;let c;return c=l<=0?oe(a).join("/"):s.slice(0,l).join("/")+"/"+oe(a).join("/"),0!==c.indexOf("/")&&(c="/"+c),r&&c.lastIndexOf("/")!==c.length-1&&(c+=r),c}getURI(e=!1){let t;return this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source}}const vw=It.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),yw="data-mce-type";let _w=0;const bw=(e,t,n,r,i)=>{var o,s,a,l;const c=t.validate,u=n.getSpecialElements();8===e.nodeType&&!t.allow_conditional_comments&&/^\[if/i.test(null!==(o=e.nodeValue)&&void 0!==o?o:"")&&(e.nodeValue=" "+e.nodeValue);const d=null!==(s=null==i?void 0:i.tagName)&&void 0!==s?s:e.nodeName.toLowerCase();if("html"!==r&&n.isValid(r))return void(k(i)&&(i.allowedTags[d]=!0));if(1!==e.nodeType||"body"===d)return;const h=_n.fromDom(e),f=on(h,yw),m=nn(h,"data-mce-bogus");if(!f&&p(m))return void("all"===m?wr(h):kr(h));const g=n.getElementRule(d);if(!c||g){if(k(i)&&(i.allowedTags[d]=!0),c&&g&&!f){if(Z(null!==(a=g.attributesForced)&&void 0!==a?a:[],(e=>{en(h,e.name,"{$uid}"===e.value?"mce_"+_w++:e.value)})),Z(null!==(l=g.attributesDefault)&&void 0!==l?l:[],(e=>{on(h,e.name)||en(h,e.name,"{$uid}"===e.value?"mce_"+_w++:e.value)})),g.attributesRequired&&!q(g.attributesRequired,(e=>on(h,e))))return void kr(h);if(g.removeEmptyAttrs&&(e=>{const t=e.dom.attributes;return null==t||0===t.length})(h))return void kr(h);g.outputName&&g.outputName!==d&&Ca(h,g.outputName)}}else Ee(u,d)?wr(h):kr(h)},ww=(e,t,n,r,i,o)=>"html"!==n&&!bo(r)||!(i in vw&&mw(e,o,r))&&(!e.validate||t.isValid(r,i)||We(i,"data-")||We(i,"aria-")),kw=(e,t)=>e.hasAttribute(yw)&&("id"===t||"class"===t||"style"===t),xw=(e,t)=>e in t.getBoolAttrs(),Sw=(e,t,n,r)=>{const{attributes:i}=e;for(let o=i.length-1;o>=0;o--){const s=i[o],a=s.name,l=s.value;ww(t,n,r,e.tagName.toLowerCase(),a,l)||kw(e,a)?xw(a,n)&&e.setAttribute(a,a):e.removeAttribute(a)}},Ew=(e,t,n)=>{const r=cw();return r.addHook("uponSanitizeElement",((r,i)=>{bw(r,e,t,n.track(r),i)})),r.addHook("uponSanitizeAttribute",((r,i)=>{((e,t,n,r,i)=>{const o=e.tagName.toLowerCase(),{attrName:s,attrValue:a}=i;i.keepAttr=ww(t,n,r,o,s,a),i.keepAttr?(i.allowedAttributes[s]=!0,xw(s,n)&&(i.attrValue=s),t.allow_svg_data_urls&&We(a,"data:image/svg+xml")&&(i.forceKeepAttr=!0)):kw(e,s)&&(i.forceKeepAttr=!0)})(r,e,t,n.current(),i)})),r},Cw=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map((e=>`xlink:${e}`)),n={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};return cw().sanitize(e,n),e.innerHTML},Tw=(e,t)=>{const n=(()=>{let e=[];const t=()=>e[e.length-1];return{track:n=>{wo(n)&&e.push(n);let r=t();return r&&!r.contains(n)&&(e.pop(),r=t()),ko(r)},current:()=>ko(t()),reset:()=>{e=[]}}})();if(e.sanitize){const r=Ew(e,t,n),i=(t,i)=>{r.sanitize(t,((e,t)=>{const n={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]};return n.PARSER_MEDIA_TYPE=t,e.allow_script_urls?n.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(n.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),n})(e,i)),r.removed=[],n.reset()};return{sanitizeHtmlElement:i,sanitizeNamespaceElement:Cw}}return{sanitizeHtmlElement:(r,i)=>{const o=document.createNodeIterator(r,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let s;for(;s=o.nextNode();){const r=n.track(s);bw(s,e,t,r),Wr(s)&&Sw(s,e,t,r)}n.reset()},sanitizeNamespaceElement:C}},Aw=It.makeMap,Ow=It.extend,Dw=(e,t,n,r)=>{const i=e.name,o=i in n&&"title"!==i&&"textarea"!==i,s=t.childNodes;for(let t=0,i=s.length;t<i;t++){const i=s[t],a=new Am(i.nodeName.toLowerCase(),i.nodeType);if(Wr(i)){const e=i.attributes;for(let t=0,n=e.length;t<n;t++){const n=e[t];a.attr(n.name,n.value)}bo(a.name)&&(r(i),a.value=i.innerHTML)}else ei(i)?(a.value=i.data,o&&(a.raw=!0)):(ri(i)||ti(i)||ni(i))&&(a.value=i.data);bo(a.name)||Dw(a,i,n,r),e.append(a)}},Mw=(e,t,n,r)=>{const i=n.validate,o=t.getNonEmptyElements(),s=t.getWhitespaceElements(),a=Ow(Aw("script,style,head,html,body,title,meta,param"),t.getBlockElements()),l=vs(t),c=/[ \t\r\n]+/g,u=/^[ \t\r\n]+/,d=/[ \t\r\n]+$/,h=e=>{let t=e.parent;for(;k(t);){if(t.name in s)return!0;t=t.parent}return!1},f=n=>n.name in a||Bo(t,n)||bo(n.name)&&n.parent===e,p=(t,n)=>{const i=n?t.prev:t.next;return!k(i)&&!w(t.parent)&&(f(t.parent)&&(t.parent!==e||!0===r.isRootContent))};return[e=>{var t;if(3===e.type&&!h(e)){let n=null!==(t=e.value)&&void 0!==t?t:"";n=n.replace(c," "),(((e,t)=>k(e)&&(t(e)||"br"===e.name))(e.prev,f)||p(e,!0))&&(n=n.replace(u,"")),0===n.length?e.remove():e.value=n}},e=>{var a;if(1===e.type){const a=t.getElementRule(e.name);if(i&&a){const i=hy(t,o,s,e);a.paddInEmptyBlock&&i&&(e=>{let n=e;for(;k(n);){if(n.name in l)return hy(t,o,s,n);n=n.parent}return!1})(e)?uy(n,r,f,e):a.removeEmpty&&i?f(e)?e.remove():e.unwrap():a.paddEmpty&&(i||(e=>{var t;return dy(e,"#text")&&(null===(t=null==e?void 0:e.firstChild)||void 0===t?void 0:t.value)===vi})(e))&&uy(n,r,f,e)}}else if(3===e.type&&!h(e)){let t=null!==(a=e.value)&&void 0!==a?a:"";(e.next&&f(e.next)||p(e,!1))&&(t=t.replace(d,"")),0===t.length?e.remove():e.value=t}}]},Lw=(e={},t=_s())=>{const n=eb(),r=eb(),i={validate:!0,root_name:"body",sanitize:!0,...e},o=new DOMParser,s=Tw(i,t),a=n.addFilter,l=n.getFilters,c=n.removeFilter,u=r.addFilter,d=r.getFilters,h=r.removeFilter,f=(e,n)=>{const r=p(n.attr(yw)),i=1===n.type&&!Ee(e,n.name)&&!Bo(t,n)&&!bo(n.name);return 3===n.type||i&&!r},m={schema:t,addAttributeFilter:u,getAttributeFilters:d,removeAttributeFilter:h,addNodeFilter:a,getNodeFilters:l,removeNodeFilter:c,parse:(e,n={})=>{var r;const a=i.validate,c=null!==(r=n.context)&&void 0!==r?r:i.root_name,u=((e,n,r="html")=>{const i="xhtml"===r?"application/xhtml+xml":"text/html",a=Ee(t.getSpecialElements(),n.toLowerCase()),l=a?`<${n}>${e}</${n}>`:e,c="xhtml"===r?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${l}</body></html>`:`<body>${l}</body>`,u=o.parseFromString(c,i).body;return s.sanitizeHtmlElement(u,i),a?u.firstChild:u})(e,c,n.format);Do(t,u);const h=new Am(c,11);Dw(h,u,t.getSpecialElements(),s.sanitizeNamespaceElement),u.innerHTML="";const[p,m]=Mw(h,t,i,n),g=[],v=a?e=>((e,n)=>{gy(t,e)&&n.push(e)})(e,g):C,y={nodes:{},attributes:{}},_=e=>ay(l(),d(),e,y);if(((e,t,n)=>{const r=[];for(let n=e,i=n;n;i=n,n=n.walk()){const o=n;Z(t,(e=>e(o))),w(o.parent)&&o!==e?n=i:r.push(o)}for(let e=r.length-1;e>=0;e--){const t=r[e];Z(n,(e=>e(t)))}})(h,[p,_],[m,v]),g.reverse(),a&&g.length>0)if(n.context){const{pass:e,fail:r}=G(g,(e=>e.parent===h));my(r,t,h,_),n.invalid=e.length>0}else my(g,t,h,_);const b=((e,t)=>{var n;const r=null!==(n=t.forced_root_block)&&void 0!==n?n:e.forced_root_block;return!1===r?"":!0===r?"p":r})(i,n);return b&&("body"===h.name||n.isRootContent)&&((e,n)=>{const r=Ow(Aw("script,style,head,html,body,title,meta,param"),t.getBlockElements()),o=/^[ \t\r\n]+/,s=/[ \t\r\n]+$/;let a=e.firstChild,l=null;const c=e=>{var t,n;e&&(a=e.firstChild,a&&3===a.type&&(a.value=null===(t=a.value)||void 0===t?void 0:t.replace(o,"")),a=e.lastChild,a&&3===a.type&&(a.value=null===(n=a.value)||void 0===n?void 0:n.replace(s,"")))};if(t.isValidChild(e.name,n.toLowerCase())){for(;a;){const t=a.next;f(r,a)?(l||(l=new Am(n,1),l.attr(i.forced_root_block_attrs),e.insert(l,a)),l.append(a)):(c(l),l=null),a=t}c(l)}})(h,b),n.invalid||ly(y,n),h}};return pb(m,i),((e,t,n)=>{t.inline_styles&&nb(e,t,n)})(m,i,t),m},Pw=(e,t,n)=>{const r=(e=>Py(e)?Ym({validate:!1}).serialize(e):e)(e),i=t(r);if(i.isDefaultPrevented())return i;if(Py(e)){if(i.content!==r){const t=Lw({validate:!1,forced_root_block:!1,...n}).parse(i.content,{context:e.name});return{...i,content:t}}return{...i,content:e}}return i},Iw=(e,t)=>{if(t.no_events)return Ol.value(t);{const n=((e,t)=>e.dispatch("BeforeGetContent",t))(e,t);return n.isDefaultPrevented()?Ol.error(Of(e,{content:"",...n}).content):Ol.value(n)}},Rw=(e,t,n)=>{if(n.no_events)return t;{const r=Pw(t,(t=>Of(e,{...n,content:t})),{sanitize:Tu(e),sandbox_iframes:Iu(e)});return r.content}},Nw=(e,t)=>{if(t.no_events)return Ol.value(t);{const n=Pw(t.content,(n=>((e,t)=>e.dispatch("BeforeSetContent",t))(e,{...t,content:n})),{sanitize:Tu(e),sandbox_iframes:Iu(e)});return n.isDefaultPrevented()?(Af(e,n),Ol.error(void 0)):Ol.value(n)}},Bw=(e,t,n)=>{n.no_events||Af(e,{...n,content:t})},Fw=(e,t,n)=>({element:e,width:t,rows:n}),jw=(e,t)=>({element:e,cells:t}),zw=(e,t)=>({x:e,y:t}),Hw=(e,t)=>rn(e,t).bind(Je).getOr(1),$w=(e,t,n)=>{const r=e.rows;return!!(r[n]?r[n].cells:[])[t]},Uw=e=>J(e,((e,t)=>t.cells.length>e?t.cells.length:e),0),Ww=(e,t)=>{const n=e.rows;for(let e=0;e<n.length;e++){const r=n[e].cells;for(let n=0;n<r.length;n++)if(xn(r[n],t))return j.some(zw(n,e))}return j.none()},qw=(e,t,n,r,i)=>{const o=[],s=e.rows;for(let e=n;e<=i;e++){const n=s[e].cells,i=t<r?n.slice(t,r+1):n.slice(r,t+1);o.push(jw(s[e].element,i))}return o},Vw=e=>{const t=Fw(Sa(e),0,[]);return Z(jr(e,"tr"),((e,n)=>{Z(jr(e,"td,th"),((r,i)=>{((e,t,n,r,i)=>{const o=Hw(i,"rowspan"),s=Hw(i,"colspan"),a=e.rows;for(let e=n;e<n+o;e++){a[e]||(a[e]=jw(Ea(r),[]));for(let r=t;r<t+s;r++)a[e].cells[r]=e===n&&r===t?i:Sa(i)}})(t,((e,t,n)=>{for(;$w(e,t,n);)t++;return t})(t,i,n),n,e,r)}))})),Fw(t.element,Uw(t.rows),t.rows)},Zw=e=>((e,t)=>{const n=Sa(e.element),r=_n.fromTag("tbody");return _r(r,t),vr(n,r),n})(e,(e=>V(e.rows,(e=>{const t=V(e.cells,(e=>{const t=Ea(e);return sn(t,"colspan"),sn(t,"rowspan"),t})),n=Sa(e.element);return _r(n,t),n})))(e)),Yw=(e,t,n)=>Ww(e,t).bind((t=>Ww(e,n).map((n=>((e,t,n)=>{const r=t.x,i=t.y,o=n.x,s=n.y,a=i<s?qw(e,r,i,o,s):qw(e,r,s,o,i);return Fw(e.element,Uw(a),a)})(e,t,n))))),Gw=(e,t)=>ee(e,(e=>"li"===Wt(e)&&xh(e,t))).fold(O([]),(t=>(e=>ee(e,(e=>"ul"===Wt(e)||"ol"===Wt(e))))(e).map((e=>{const t=_n.fromTag(Wt(e)),n=we(hr(e),((e,t)=>We(t,"list-style")));return lr(t,n),[_n.fromTag("li"),t]})).getOr([]))),Kw=(e,t,n)=>{const r=_n.fromDom(t.commonAncestorContainer),i=gg(r,e),o=K(i,(e=>n.isWrapper(Wt(e)))),s=Gw(i,t),a=o.concat(s.length?s:(e=>Ci(e)?An(e).filter(Ei).fold(O([]),(t=>[e,t])):Ei(e)?[e]:[])(r));return V(a,Sa)},Xw=()=>Qf([]),Jw=(e,t,n)=>((e,t)=>{const n=J(t,((e,t)=>(vr(t,e),t)),e);return t.length>0?Qf([n]):n})(_n.fromDom(t.cloneContents()),Kw(e,t,n)),Qw=(e,t)=>((e,t)=>er(t,"table",L(xn,e)))(e,t[0]).bind((e=>{const n=t[0],r=t[t.length-1],i=Vw(e);return Yw(i,n,r).map((e=>Qf([Zw(e)])))})).getOrThunk(Xw),ek=(e,t,n)=>{const r=yh(t,e);return r.length>0?Qw(e,r):((e,t,n)=>t.length>0&&t[0].collapsed?Xw():Jw(e,t[0],n))(e,t,n)},tk=(e,t)=>t>=0&&t<e.length&&ph(e.charAt(t)),nk=e=>Ri(e.innerText),rk=(e,t)=>{if("text"===t.format)return(e=>j.from(e.selection.getRng()).map((t=>{var n;const r=j.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),o=(e=>e.map((e=>e.nodeName)).getOr("div").toLowerCase())(r),s=_n.fromDom(t.cloneContents());$m(s),Um(s);const a=e.dom.add(i,o,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},s.dom),l=nk(a),c=Ri(null!==(n=a.textContent)&&void 0!==n?n:"");if(e.dom.remove(a),tk(c,0)||tk(c,c.length-1)){const e=r.getOr(i),t=nk(e),n=t.indexOf(l);return-1===n?l:(tk(t,n-1)?" ":"")+l+(tk(t,n+l.length)?" ":"")}return l})).getOr(""))(e);{const n=((e,t)=>{const n=e.selection.getRng(),r=e.dom.create("body"),i=e.selection.getSel(),o=vm(e,gh(i)),s=t.contextual?ek(_n.fromDom(e.getBody()),o,e.schema).dom:n.cloneContents();return s&&r.appendChild(s),e.selection.serializer.serialize(r,t)})(e,t);return"tree"===t.format?n:e.selection.isCollapsed()?"":n}},ik=e=>Wr(e)?e.outerHTML:ei(e)?as.encodeRaw(e.data,!1):ri(e)?"\x3c!--"+e.data+"--\x3e":"",ok=(e,t,n)=>{const r=(e=>{let t;const n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r})(t);if(e.hasChildNodes()&&n<e.childNodes.length){const t=e.childNodes[n];e.insertBefore(r,t)}else e.appendChild(r)},sk=(e,t)=>(((e,t)=>{let n=0;Z(e,(e=>{0===e[0]?n++:1===e[0]?(ok(t,e[1],n),n++):2===e[0]&&((e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}})(t,n)}))})(((e,t)=>{const n=e.length+t.length+2,r=new Array(n),i=new Array(n),o=(n,r,i,s,l)=>{const c=a(n,r,i,s);if(null===c||c.start===r&&c.diag===r-s||c.end===n&&c.diag===n-i){let o=n,a=i;for(;o<r||a<s;)o<r&&a<s&&e[o]===t[a]?(l.push([0,e[o]]),++o,++a):r-n>s-i?(l.push([2,e[o]]),++o):(l.push([1,t[a]]),++a)}else{o(n,c.start,i,c.start-c.diag,l);for(let t=c.start;t<c.end;++t)l.push([0,e[t]]);o(c.end,r,c.end-c.diag,s,l)}},s=(n,r,i,o)=>{let s=n;for(;s-r<o&&s<i&&e[s]===t[s-r];)++s;return((e,t,n)=>({start:e,end:t,diag:n}))(n,s,r)},a=(n,o,a,l)=>{const c=o-n,u=l-a;if(0===c||0===u)return null;const d=c-u,h=u+c,f=(h%2==0?h:h+1)/2;let p,m,g,v,y;for(r[1+f]=n,i[1+f]=o+1,p=0;p<=f;++p){for(m=-p;m<=p;m+=2){for(g=m+f,m===-p||m!==p&&r[g-1]<r[g+1]?r[g]=r[g+1]:r[g]=r[g-1]+1,v=r[g],y=v-n+a-m;v<o&&y<l&&e[v]===t[y];)r[g]=++v,++y;if(d%2!=0&&d-p<=m&&m<=d+p&&i[g-d]<=r[g])return s(i[g-d],m+n-a,o,l)}for(m=d-p;m<=d+p;m+=2){for(g=m+f-d,m===d-p||m!==d+p&&i[g+1]<=i[g-1]?i[g]=i[g+1]-1:i[g]=i[g-1],v=i[g]-1,y=v-n+a-m;v>=n&&y>=a&&e[v]===t[y];)i[g]=v--,y--;if(d%2==0&&-p<=m&&m<=p&&i[g]<=r[g+d])return s(i[g],m+n-a,o,l)}}return null},l=[];return o(0,e.length,0,t.length,l),l})(V(he(t.childNodes),ik),e),t),t),ak=Ne((()=>document.implementation.createHTMLDocument("undo"))),lk=e=>{const t=e.serializer.getTempAttrs(),n=Hm(e.getBody(),t);return(e=>null!==e.querySelector("iframe"))(n)?(r=((e,t)=>K(V(he(e.childNodes),t?T(Ri,ik):ik),(e=>e.length>0)))(n,!0),{type:"fragmented",fragments:r,content:"",bookmark:null,beforeBookmark:null}):{type:"complete",fragments:null,content:Ri(n.innerHTML),bookmark:null,beforeBookmark:null};var r},ck=(e,t,n)=>{const r=n?t.beforeBookmark:t.bookmark;"fragmented"===t.type?sk(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!k(r)||!eh(r)||!r.isFakeCaret}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},uk=e=>"fragmented"===e.type?e.fragments.join(""):e.content,dk=e=>{const t=_n.fromTag("body",ak());return Er(t,uk(e)),Z(jr(t,"*[data-mce-bogus]"),kr),Sr(t)},hk=(e,t)=>!(!e||!t)&&(!!((e,t)=>uk(e)===uk(t))(e,t)||((e,t)=>dk(e)===dk(t))(e,t)),fk=e=>0===e.get(),pk=(e,t,n)=>{fk(n)&&(e.typing=t)},mk=(e,t)=>{e.typing&&(pk(e,!1,t),e.add())},gk=e=>({init:{bindEvents:C},undoManager:{beforeChange:(t,n)=>((e,t,n)=>{fk(t)&&n.set(Cl(e.selection))})(e,t,n),add:(t,n,r,i,o,s)=>((e,t,n,r,i,o,s)=>{const a=lk(e),l=It.extend(o||{},a);if(!fk(r)||e.removed)return null;const c=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:l,lastLevel:c,originalEvent:s}).isDefaultPrevented())return null;if(c&&hk(c,l))return null;t.data[n.get()]&&i.get().each((e=>{t.data[n.get()].beforeBookmark=e}));const u=Wc(e);if(u&&t.data.length>u){for(let e=0;e<t.data.length-1;e++)t.data[e]=t.data[e+1];t.data.length--,n.set(t.data.length)}l.bookmark=Cl(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(l),n.set(t.data.length-1);const d={level:l,lastLevel:c,originalEvent:s};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",d),e.dispatch("change",d)):e.dispatch("AddUndo",d),l})(e,t,n,r,i,o,s),undo:(t,n,r)=>((e,t,n,r)=>{let i;return t.typing&&(t.add(),t.typing=!1,pk(t,!1,n)),r.get()>0&&(r.set(r.get()-1),i=t.data[r.get()],ck(e,i,!0),e.setDirty(!0),e.dispatch("Undo",{level:i})),i})(e,t,n,r),redo:(t,n)=>((e,t,n)=>{let r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],ck(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r})(e,t,n),clear:(t,n)=>((e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")})(e,t,n),reset:e=>(e=>{e.clear(),e.add()})(e),hasUndo:(t,n)=>((e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!hk(lk(e),t.data[0]))(e,t,n),hasRedo:(e,t)=>((e,t)=>t.get()<e.data.length-1&&!e.typing)(e,t),transact:(e,t,n)=>((e,t,n)=>(mk(e,t),e.beforeChange(),e.ignore(n),e.add()))(e,t,n),ignore:(e,t)=>((e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}})(e,t),extra:(t,n,r,i)=>((e,t,n,r,i)=>{if(t.transact(r)){const r=t.data[n.get()].bookmark,o=t.data[n.get()-1];ck(e,o,!0),t.transact(i)&&(t.data[n.get()-1].beforeBookmark=r)}})(e,t,n,r,i)},formatter:{match:(t,n,r,i)=>Wy(e,t,n,r,i),matchAll:(t,n)=>((e,t,n)=>{const r=[],i={},o=e.selection.getStart();return e.dom.getParent(o,(o=>{for(let s=0;s<t.length;s++){const a=t[s];!i[a]&&Uy(e,o,a,n)&&(i[a]=!0,r.push(a))}}),e.dom.getRoot()),r})(e,t,n),matchNode:(t,n,r,i)=>Uy(e,t,n,r,i),canApply:t=>((e,t)=>{const n=e.formatter.get(t),r=e.dom;if(n&&e.selection.isEditable()){const t=e.selection.getStart(),i=$h(r,t);for(let e=n.length-1;e>=0;e--){const t=n[e];if(!Vh(t))return!0;for(let e=i.length-1;e>=0;e--)if(r.is(i[e],t.selector))return!0}}return!1})(e,t),closest:t=>qy(e,t),apply:(t,n,r)=>V_(e,t,n,r),remove:(t,n,r,i)=>j_(e,t,n,r,i),toggle:(t,n,r)=>((e,t,n,r)=>{const i=e.formatter.get(t);i&&(!Wy(e,t,n,r)||"toggle"in i[0]&&!i[0].toggle?V_(e,t,n,r):j_(e,t,n,r))})(e,t,n,r),formatChanged:(t,n,r,i,o)=>J_(e,t,n,r,i,o)},editor:{getContent:t=>((e,t)=>j.from(e.getBody()).fold(O("tree"===t.format?new Am("body",11):""),(n=>qm(e,t,n))))(e,t),setContent:(t,n)=>Ry(e,t,n),insertContent:(t,n)=>Ly(e,t,n),addVisual:t=>((e,t)=>{const n=e.dom,r=k(t)?t:e.getBody();Z(n.select("table,a",r),(t=>{switch(t.nodeName){case"TABLE":const r=Qc(e),i=n.getAttrib(t,"border");i&&"0"!==i||!e.hasVisual?n.removeClass(t,r):n.addClass(t,r);break;case"A":if(!n.getAttrib(t,"href")){const r=n.getAttrib(t,"name")||t.id,i=eu(e);r&&e.hasVisual?n.addClass(t,i):n.removeClass(t,i)}}})),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})})(e,t)},selection:{getContent:(t,n)=>((e,t,n={})=>{const r=((e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}))(n,t);return Iw(e,r).fold(D,(t=>{const n=rk(e,t);return Rw(e,n,t)}))})(e,t,n)},autocompleter:{addDecoration:t=>km(e,t),removeDecoration:()=>((e,t)=>xm(t).each((t=>{const n=e.selection.getBookmark();kr(t),e.selection.moveToBookmark(n)})))(e,_n.fromDom(e.getBody()))},raw:{getModel:()=>j.none()}}),vk=e=>Ee(e.plugins,"rtc"),yk=e=>{const t=e;return(e=>Se(e.plugins,"rtc").bind((e=>j.from(e.setup))))(e).fold((()=>(t.rtcInstance=gk(e),j.none())),(e=>(t.rtcInstance=(()=>{const e=O(null),t=O("");return{init:{bindEvents:C},undoManager:{beforeChange:C,add:e,undo:e,redo:e,clear:C,reset:C,hasUndo:B,hasRedo:B,transact:e,ignore:C,extra:C},formatter:{match:B,matchAll:O([]),matchNode:O(void 0),canApply:B,closest:t,apply:C,remove:C,toggle:C,formatChanged:O({unbind:C})},editor:{getContent:t,setContent:O({content:"",html:""}),insertContent:O(""),addVisual:C},selection:{getContent:t},autocompleter:{addDecoration:C,removeDecoration:C},raw:{getModel:O(j.none())}}})(),j.some((()=>e().then((e=>(t.rtcInstance=(e=>{const t=e=>m(e)?e:{},{init:n,undoManager:r,formatter:i,editor:o,selection:s,autocompleter:a,raw:l}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(e,t,n)=>r.transact(n),ignore:(e,t)=>r.ignore(t),extra:(e,t,n,i)=>r.extra(n,i)},formatter:{match:(e,n,r,o)=>i.match(e,t(n),o),matchAll:i.matchAll,matchNode:i.matchNode,canApply:e=>i.canApply(e),closest:e=>i.closest(e),apply:(e,n,r)=>i.apply(e,t(n)),remove:(e,n,r,o)=>i.remove(e,t(n)),toggle:(e,n,r)=>i.toggle(e,t(n)),formatChanged:(e,t,n,r,o)=>i.formatChanged(t,n,r,o)},editor:{getContent:e=>o.getContent(e),setContent:(e,t)=>({content:o.setContent(e,t),html:""}),insertContent:(e,t)=>(o.insertContent(e),""),addVisual:o.addVisual},selection:{getContent:(e,t)=>s.getContent(t)},autocompleter:{addDecoration:a.addDecoration,removeDecoration:a.removeDecoration},raw:{getModel:()=>j.some(l.getRawModel())}}})(e),e.rtc.isRemote))))))))},_k=e=>e.rtcInstance?e.rtcInstance:gk(e),bk=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},wk=e=>bk(e).init.bindEvents(),kk=(e,t={})=>((e,t,n)=>bk(e).selection.getContent(t,n))(e,t.format?t.format:"html",t),xk=e=>0===e.dom.length?(wr(e),j.none()):j.some(e),Sk=(e,t,n,r,i)=>{e.bind((e=>((r?Kg:Gg)(e.dom,r?e.dom.length:0,i),t.filter(Gt).map((t=>((e,t,n,r,i)=>{const o=e.dom,s=t.dom,a=r?o.length:s.length;r?(Xg(o,s,i,!1,!r),n.setStart(s,a)):(Xg(s,o,i,!1,!r),n.setEnd(s,a))})(e,t,n,r,i)))))).orThunk((()=>{const e=((e,t)=>e.filter((e=>xf.isBookmarkNode(e.dom))).bind(t?Ln:Mn))(t,r).or(t).filter(Gt);return e.map((e=>((e,t,n)=>{An(e).each((r=>{const i=e.dom;t&&jg(r,il(i,0),n)?Gg(i,0,n):!t&&zg(r,il(i,i.length),n)&&Kg(i,i.length,n)}))})(e,r,i)))}))},Ek=(e,t,n={})=>{const r=((e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}))(n,t);Nw(e,r).each((t=>{const n=((e,t)=>{if("raw"!==t.format){const n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),i=r?{context:r.nodeName.toLowerCase()}:{},o=e.parser.parse(t.content,{forced_root_block:!1,...i,...t});return Ym({validate:!1},e.schema).serialize(o)}return t.content})(e,t),r=e.selection.getRng();((e,t,n)=>{const r=j.from(t.firstChild).map(_n.fromDom),i=j.from(t.lastChild).map(_n.fromDom);e.deleteContents(),e.insertNode(t);const o=r.bind(Mn).filter(Gt).bind(xk),s=i.bind(Ln).filter(Gt).bind(xk);Sk(o,r,e,!0,n),Sk(s,i,e,!1,n),e.collapse(!1)})(r,r.createContextualFragment(n),e.schema),e.selection.setRng(r),Rp(e,r),Bw(e,n,t)}))},Ck=(e,t,n)=>{if(Ee(e,t)){const r=K(e[t],(e=>e!==n));0===r.length?delete e[t]:e[t]=r}};var Tk=(e,t)=>{let n,r;const i=(t,n)=>ee(n,(n=>e.is(n,t))),o=t=>e.getParents(t,void 0,e.getRoot());return{selectorChangedWithUnbind:(e,s)=>(n||(n={},r={},t.on("NodeChange",(e=>{const t=e.element,s=o(t),a={};ge(n,((e,t)=>{i(t,s).each((n=>{r[t]||(Z(e,(e=>{e(!0,{node:n,selector:t,parents:s})})),r[t]=e),a[t]=e}))})),ge(r,((e,n)=>{a[n]||(delete r[n],Z(e,(e=>{e(!1,{node:t,selector:n,parents:s})})))}))}))),n[e]||(n[e]=[]),n[e].push(s),i(e,o(t.selection.getStart())).each((()=>{r[e]=n[e]})),{unbind:()=>{Ck(n,e,s),Ck(r,e,s)}})}};const Ak=e=>!(!e||!e.ownerDocument)&&Sn(_n.fromDom(e.ownerDocument),_n.fromDom(e)),Ok=(e,t,n,r)=>{let i,o;const{selectorChangedWithUnbind:s}=Tk(e,r),a=(e,t)=>Ek(r,e,t),l=e=>{const t=u();t.collapse(!!e),d(t)},c=()=>t.getSelection?t.getSelection():t.document.selection,u=()=>{let n;const s=(e,t,n)=>{try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}},a=t.document;if(k(r.bookmark)&&!lm(r)){const e=Zp(r);if(e.isSome())return e.map((e=>vm(r,[e])[0])).getOr(a.createRange())}try{const e=c();e&&!Ur(e.anchorNode)&&(n=e.rangeCount>0?e.getRangeAt(0):a.createRange(),n=vm(r,[n])[0])}catch(e){}if(n||(n=a.createRange()),ii(n.startContainer)&&n.collapsed){const t=e.getRoot();n.setStart(t,0),n.setEnd(t,0)}return i&&o&&(0===s(n.START_TO_START,n,i)&&0===s(n.END_TO_END,n,i)?n=o:(i=null,o=null)),n},d=(e,t)=>{if(!(e=>!!e&&Ak(e.startContainer)&&Ak(e.endContainer))(e))return;const n=c();if(e=r.dispatch("SetSelectionRange",{range:e,forward:t}).range,n){o=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),i=n.rangeCount>0?n.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&(null==n?void 0:n.setBaseAndExtent)&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()){const t=e.startContainer.childNodes[e.startOffset];t&&"IMG"===t.nodeName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(t,0,t,1))}r.dispatch("AfterSetSelectionRange",{range:e,forward:t})},h=()=>{const t=c(),n=null==t?void 0:t.anchorNode,r=null==t?void 0:t.focusNode;if(!t||!n||!r||Ur(n)||Ur(r))return!0;const i=e.createRng(),o=e.createRng();try{i.setStart(n,t.anchorOffset),i.collapse(!0),o.setStart(r,t.focusOffset),o.collapse(!0)}catch(e){return!0}return i.compareBoundaryPoints(i.START_TO_START,o)<=0},f={dom:e,win:t,serializer:n,editor:r,expand:(t={type:"word"})=>d(fp(e).expand(u(),t)),collapse:l,setCursorLocation:(t,n)=>{const i=e.createRng();k(t)&&k(n)?(i.setStart(t,n),i.setEnd(t,n),d(i),l(!1)):(Sh(e,i,r.getBody(),!0),d(i))},getContent:e=>kk(r,e),setContent:a,getBookmark:(e,t)=>p.getBookmark(e,t),moveToBookmark:e=>p.moveToBookmark(e),select:(t,n)=>(((e,t,n)=>j.from(t).bind((t=>j.from(t.parentNode).map((r=>{const i=e.nodeIndex(t),o=e.createRng();return o.setStart(r,i),o.setEnd(r,i+1),n&&(Sh(e,o,t,!0),Sh(e,o,t,!1)),o})))))(e,t,n).each(d),t),isCollapsed:()=>{const e=u(),t=c();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isEditable:()=>{const t=u(),n=r.getBody().querySelectorAll('[data-mce-selected="1"]');return n.length>0?ie(n,(t=>e.isEditable(t.parentElement))):hm(e,t)},isForward:h,setNode:t=>(a(e.getOuterHTML(t)),t),getNode:()=>((e,t)=>{if(!t)return e;let n=t.startContainer,r=t.endContainer;const i=t.startOffset,o=t.endOffset;let s=t.commonAncestorContainer;t.collapsed||(n===r&&o-i<2&&n.hasChildNodes()&&(s=n.childNodes[i]),ei(n)&&ei(r)&&(n=n.length===i?gm(n.nextSibling,!0):n.parentNode,r=0===o?gm(r.previousSibling,!1):r.parentNode,n&&n===r&&(s=n)));const a=ei(s)?s.parentNode:s;return qr(a)?a:e})(r.getBody(),u()),getSel:c,setRng:d,getRng:u,getStart:e=>pm(r.getBody(),u(),e),getEnd:e=>mm(r.getBody(),u(),e),getSelectedBlocks:(t,n)=>((e,t,n,r)=>{const i=[],o=e.getRoot(),s=e.getParent(n||pm(o,t,t.collapsed),e.isBlock),a=e.getParent(r||mm(o,t,t.collapsed),e.isBlock);if(s&&s!==o&&i.push(s),s&&a&&s!==a){let t;const n=new Hr(s,o);for(;(t=n.next())&&t!==a;)e.isBlock(t)&&i.push(t)}return a&&s!==a&&a!==o&&i.push(a),i})(e,u(),t,n),normalize:()=>{const t=u(),n=c();if(!(gh(n).length>1)&&Eh(r)){const n=up(e,t);return n.each((e=>{d(e,h())})),n.getOr(t)}return t},selectorChanged:(e,t)=>(s(e,t),f),selectorChangedWithUnbind:s,getScrollContainer:()=>{let t,n=e.getRoot();for(;n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:(e,t)=>{k(e)?((e,t,n)=>{(e.inline?Lp:Ip)(e,t,n)})(r,e,t):Rp(r,u(),t)},placeCaretAt:(e,t)=>d(np(e,t,r.getDoc())),getBoundingClientRect:()=>{const e=u();return e.collapsed?il.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:()=>{t=i=o=null,m.destroy()}},p=xf(f),m=Nf(f,r);return f.bookmarkManager=p,f.controlSelection=m,f},Dk=(e,t,n)=>((e,t)=>k(e)&&e.hasEventListeners("PreProcess")&&!t.no_events)(e,n)?((e,t,n)=>{let r;const i=e.dom;let o=t.cloneNode(!0);const s=document.implementation;if(s.createHTMLDocument){const e=s.createHTMLDocument("");It.each("BODY"===o.nodeName?o.childNodes:[o],(t=>{e.body.appendChild(e.importNode(t,!0))})),o="BODY"!==o.nodeName?e.body.firstChild:e.body,r=i.doc,i.doc=e}return((e,t)=>{e.dispatch("PreProcess",t)})(e,{...n,node:o}),r&&(i.doc=r),o})(e,t,n):t,Mk=(e,t,n)=>{-1===It.inArray(t,n)&&(e.addAttributeFilter(n,((e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)})),t.push(n))},Lk=(e,t,n,r,i)=>{const o=((e,t,n)=>Ym(e,t).serialize(n))(t,n,r);return((e,t,n)=>{if(!t.no_events&&e){const r=((e,t)=>e.dispatch("PostProcess",t))(e,{...t,content:n});return r.content}return n})(e,i,o)},Pk=(e,t)=>{const n=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},i=t&&t.dom?t.dom:Ks.DOM,o=t&&t.schema?t.schema:_s(r),s=Lw(r,o);((e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",((e,t)=>{let n=e.length;for(;n--;){const r=e[n];r.attr("tabindex",r.attr("data-mce-tabindex")),r.attr(t,null)}})),e.addAttributeFilter("src,href,style",((e,r)=>{const i="data-mce-"+r,o=t.url_converter,s=t.url_converter_scope;let a=e.length;for(;a--;){const t=e[a];let l=t.attr(i);void 0!==l?(t.attr(r,l.length>0?l:null),t.attr(i,null)):(l=t.attr(r),"style"===r?l=n.serializeStyle(n.parseStyle(l),t.name):o&&(l=o.call(s,l,r,t.name)),t.attr(r,l.length>0?l:null))}})),e.addAttributeFilter("class",(e=>{let t=e.length;for(;t--;){const n=e[t];let r=n.attr("class");r&&(r=r.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",r.length>0?r:null))}})),e.addAttributeFilter("data-mce-type",((e,t,n)=>{let r=e.length;for(;r--;){const t=e[r];if("bookmark"===t.attr("data-mce-type")&&!n.cleanup){const e=j.from(t.firstChild).exists((e=>{var t;return!Ii(null!==(t=e.value)&&void 0!==t?t:"")}));e?t.unwrap():t.remove()}}})),e.addNodeFilter("noscript",(e=>{var t;let n=e.length;for(;n--;){const r=e[n].firstChild;r&&(r.value=as.decode(null!==(t=r.value)&&void 0!==t?t:""))}})),e.addNodeFilter("script,style",((e,n)=>{var r;const i=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let o=e.length;for(;o--;){const s=e[o],a=s.firstChild,l=null!==(r=null==a?void 0:a.value)&&void 0!==r?r:"";if("script"===n){const e=s.attr("type");e&&s.attr("type","mce-no/type"===e?null:e.replace(/^mce\-/,"")),"xhtml"===t.element_format&&a&&l.length>0&&(a.value="// <![CDATA[\n"+i(l)+"\n// ]]>")}else"xhtml"===t.element_format&&a&&l.length>0&&(a.value="\x3c!--\n"+i(l)+"\n--\x3e")}})),e.addNodeFilter("#comment",(e=>{let r=e.length;for(;r--;){const i=e[r],o=i.value;t.preserve_cdata&&0===(null==o?void 0:o.indexOf("[CDATA["))?(i.name="#cdata",i.type=4,i.value=n.decode(o.replace(/^\[CDATA\[|\]\]$/g,""))):0===(null==o?void 0:o.indexOf("mce:protected "))&&(i.name="#text",i.type=3,i.raw=!0,i.value=unescape(o).substr(14))}})),e.addNodeFilter("xml:namespace,input",((e,t)=>{let n=e.length;for(;n--;){const r=e[n];7===r.type?r.remove():1===r.type&&("input"!==t||r.attr("type")||r.attr("type","text"))}})),e.addAttributeFilter("data-mce-type",(t=>{Z(t,(t=>{"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",((e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)})),t.remove_trailing_brs&&rb(t,e,e.schema)})(s,r,i);return{schema:o,addNodeFilter:s.addNodeFilter,addAttributeFilter:s.addAttributeFilter,serialize:(e,n={})=>{const a={format:"html",...n},l=Dk(t,e,a),c=((e,t,n)=>{const r=Ri(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Oi(_n.fromDom(t))?r:It.trim(r)})(i,l,a),u=((e,t,n)=>{const r=n.selection?{forced_root_block:!1,...n}:n,i=e.parse(t,r);return(e=>{const t=e=>"br"===(null==e?void 0:e.name),n=e.lastChild;if(t(n)){const e=n.prev;t(e)&&(n.remove(),e.remove())}})(i),i})(s,c,a);return"tree"===a.format?u:Lk(t,r,o,u,a)},addRules:o.addValidElements,setRules:o.setValidElements,addTempAttr:L(Mk,s,n),getTempAttrs:O(n),getNodeFilters:s.getNodeFilters,getAttributeFilters:s.getAttributeFilters,removeNodeFilter:s.removeNodeFilter,removeAttributeFilter:s.removeAttributeFilter}},Ik=(e,t)=>{const n=Pk(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},Rk=(e,t={})=>{const n=((e,t)=>({...e,format:t,get:!0,getInner:!0}))(t,t.format?t.format:"html");return Iw(e,n).fold(D,(t=>{const n=((e,t)=>_k(e).editor.getContent(t))(e,t);return Rw(e,n,t)}))},Nk=(e,t,n={})=>{const r=((e,t)=>({format:"html",...e,set:!0,content:t}))(n,t);return Nw(e,r).map((t=>{const n=((e,t,n)=>_k(e).editor.setContent(t,n))(e,t.content,t);return Bw(e,n.html,t),n.content})).getOr(t)},Bk="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),Fk="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),jk="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),zk=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],Hk=(e,t)=>{const n=K(t,(t=>Ee(e,t)));return le(n)},$k=e=>{const t=Hk(e,Bk),n=e.forced_root_block;return!1!==n&&""!==n||t.push("forced_root_block (false only)"),le(t)},Uk=e=>Hk(e,Fk),Wk=(e,t)=>{const n=It.makeMap(e.plugins," "),r=K(t,(e=>Ee(n,e)));return le(r)},qk=e=>Wk(e,jk),Vk=e=>Wk(e,zk.map((e=>e.name))),Zk=e=>ee(zk,(t=>t.name===e)).fold((()=>e),(t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e)),Yk=(e,t)=>{((e,t)=>{const n=$k(e),r=qk(t),i=r.length>0,o=n.length>0,s="mobile"===t.theme;if(i||o||s){const e="\n- ",t=s?`\n\nThemes:${e}mobile`:"",a=i?`\n\nPlugins:${e}${r.join(e)}`:"",l=o?`\n\nOptions:${e}${n.join(e)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+t+a+l)}})(e,t),((e,t)=>{const n=Uk(e),r=Vk(t),i=r.length>0,o=n.length>0;if(i||o){const e="\n- ",t=i?`\n\nPlugins:${e}${r.map(Zk).join(e)}`:"",s=o?`\n\nOptions:${e}${n.join(e)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+t+s)}})(e,t)},Gk=Ks.DOM,Kk=e=>j.from(e).each((e=>e.destroy())),Xk=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,r=e.getBody(),i=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&k(null==i?void 0:i.nextSibling)&&Gk.remove(i.nextSibling),(e=>{e.dispatch("remove")})(e),e.editorManager.remove(e),!e.inline&&r&&(e=>{Gk.setStyle(e.id,"display",e.orgDisplay)})(e),(e=>{e.dispatch("detach")})(e),Gk.remove(e.getContainer()),Kk(t),Kk(n),e.destroy()}},Jk=(e,t)=>{const{selection:n,dom:r}=e;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Kk(n),Kk(r)),(e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Gk.unbind(t,"submit reset",e.formEventDelegate))})(e),(e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const e=n.dom;t.selection=n.win=n.dom=e.doc=null}})(e),e.destroyed=!0):e.remove())},Qk=(()=>{const e={};return{add:(t,n)=>{e[t]=n},get:t=>e[t]?e[t]:{icons:{}},has:t=>Ee(e,t)}})(),ex=ia.ModelManager,tx=(e,t)=>t.dom[e],nx=(e,t)=>parseInt(cr(t,e),10),rx=L(tx,"clientWidth"),ix=L(tx,"clientHeight"),ox=L(nx,"margin-top"),sx=L(nx,"margin-left"),ax=(e,t,n)=>{const r=_n.fromDom(e.getBody()),i=e.inline?r:(o=r,_n.fromDom(Cn(o).dom.documentElement));var o;const s=((e,t,n,r)=>{const i=(e=>e.dom.getBoundingClientRect())(t);return{x:n-(e?i.left+t.dom.clientLeft+sx(t):0),y:r-(e?i.top+t.dom.clientTop+ox(t):0)}})(e.inline,i,t,n);return((e,t,n)=>{const r=rx(e),i=ix(e);return t>=0&&n>=0&&t<=r&&n<=i})(i,s.x,s.y)},lx=e=>(e=>j.from(e).map(_n.fromDom))(e.inline?e.getBody():e.getContentAreaContainer()).map(Yn).getOr(!1);const cx=e=>{const t=[],n=()=>{const t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():(()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}})()},r=()=>j.from(t[0]),i=()=>{Z(t,(e=>{e.reposition()}))},o=e=>{te(t,(t=>t===e)).each((e=>{t.splice(e,1)}))},s=(s,a=!0)=>e.removed||!lx(e)?{}:(a&&e.dispatch("BeforeOpenNotification",{notification:s}),ee(t,(e=>{return t=n().getArgs(e),r=s,!(t.type!==r.type||t.text!==r.text||t.progressBar||t.timeout||r.progressBar||r.timeout);var t,r})).getOrThunk((()=>{e.editorManager.setActive(e);const a=n().open(s,(()=>{o(a),i(),cm(e)&&r().fold((()=>e.focus()),(e=>Np(_n.fromDom(e.getEl()))))}));return(e=>{t.push(e)})(a),i(),e.dispatch("OpenNotification",{notification:{...a}}),a}))),a=O(t);return(e=>{e.on("SkinLoaded",(()=>{const t=Ac(e);t&&s({text:t,type:"warning",timeout:0},!1),i()})),e.on("show ResizeEditor ResizeWindow NodeChange",(()=>{requestAnimationFrame(i)})),e.on("remove",(()=>{Z(t.slice(),(e=>{n().close(e)}))}))})(e),{open:s,close:()=>{r().each((e=>{n().close(e),o(e),i()}))},getNotifications:a}},ux=ia.PluginManager,dx=ia.ThemeManager;const hx=e=>{let t=[];const n=()=>{const t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():(()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}})()},r=(e,t)=>(...n)=>t?t.apply(e,n):void 0,i=n=>{t.push(n),(t=>{e.dispatch("OpenWindow",{dialog:t})})(n)},o=n=>{(t=>{e.dispatch("CloseWindow",{dialog:t})})(n),t=K(t,(e=>e!==n)),0===t.length&&e.focus()},s=t=>{e.editorManager.setActive(e),Vp(e),e.ui.show();const n=t();return i(n),n};return e.on("remove",(()=>{Z(t,(e=>{n().close(e)}))})),{open:(e,t)=>s((()=>n().open(e,t,o))),openUrl:e=>s((()=>n().openUrl(e,o))),alert:(e,t,i)=>{const o=n();o.alert(e,r(i||o,t))},confirm:(e,t,i)=>{const o=n();o.confirm(e,r(i||o,t))},close:()=>{j.from(t[t.length-1]).each((e=>{n().close(e),o(e)}))}}},fx=(e,t)=>{e.notificationManager.open({type:"error",text:t})},px=(e,t)=>{e._skinLoaded?fx(e,t):e.on("SkinLoaded",(()=>{fx(e,t)}))},mx=(e,t,n)=>{Ef(e,t,{message:n}),console.error(n)},gx=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,vx=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},yx=e=>"content/"+e+"/content.css",_x=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",r=`content${e.editorManager.suffix}.css`;return V(t,(t=>(e=>tinymce.Resource.has(yx(e)))(t)?t:(e=>/^[a-z0-9\-]+$/i.test(e))(t)&&!e.inline?`${n}/${t}/${r}`:e.documentBaseURI.toAbsolute(t)))},bx=e=>{e.contentCSS=e.contentCSS.concat((e=>_x(e,_c(e)))(e),(e=>_x(e,wc(e)))(e))},wx=(e,t)=>{const n={};return{findAll:(r,i=F)=>{const o=K((e=>e?he(e.getElementsByTagName("img")):[])(r),(t=>{const n=t.src;return!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!n||n===Dt.transparentSrc)&&(We(n,"blob:")?!e.isUploaded(n)&&i(t):!!We(n,"data:")&&i(t))))})),s=V(o,(e=>{const r=e.src;if(Ee(n,r))return n[r].then((t=>p(t)?t:{image:e,blobInfo:t.blobInfo}));{const i=((e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(We(t,"blob:")){const r=e.getByUri(t);return k(r)?Promise.resolve(r):sb(t).then((t=>ab(t).then((r=>cb(r,!1,(n=>j.some(ub(e,t,n)))).getOrThunk(n)))))}return We(t,"data:")?db(e,t).fold(n,(e=>Promise.resolve(e))):Promise.reject("Unknown image data format")})(t,r).then((t=>(delete n[r],{image:e,blobInfo:t}))).catch((e=>(delete n[r],e)));return n[r]=i,i}}));return Promise.all(s)}}},kx=()=>{let e={};const t=(e,t)=>({status:e,resultUri:t}),n=t=>t in e;return{hasBlobUri:n,getResultUri:t=>{const n=e[t];return n?n.resultUri:null},isPending:t=>!!n(t)&&1===e[t].status,isUploaded:t=>!!n(t)&&2===e[t].status,markPending:n=>{e[n]=t(1,null)},markUploaded:(n,r)=>{e[n]=t(2,r)},removeFailed:t=>{delete e[t]},destroy:()=>{e={}}}};let xx=0;const Sx=e=>e+xx+++(()=>{const e=()=>Math.round(4294967295*Math.random()).toString(36);return"s"+(new Date).getTime().toString(36)+e()+e()+e()})(),Ex=(e,t)=>{const n={},r=(e,n)=>new Promise(((r,i)=>{const o=new XMLHttpRequest;o.open("POST",t.url),o.withCredentials=t.credentials,o.upload.onprogress=e=>{n(e.loaded/e.total*100)},o.onerror=()=>{i("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=()=>{if(o.status<200||o.status>=300)return void i("HTTP Error: "+o.status);const e=JSON.parse(o.responseText);var n,s;e&&p(e.location)?r((n=t.basePath,s=e.location,n?n.replace(/\/$/,"")+"/"+s.replace(/^\//,""):s)):i("Invalid JSON: "+o.responseText)};const s=new FormData;s.append("file",e.blob(),e.filename()),o.send(s)})),i=x(t.handler)?t.handler:r,o=(e,t)=>({url:t,blobInfo:e,status:!0}),s=(e,t)=>({url:"",blobInfo:e,status:!1,error:t}),a=(e,t)=>{It.each(n[e],(e=>{e(t)})),delete n[e]},l=(t,r)=>(t=It.grep(t,(t=>!e.isUploaded(t.blobUri()))),Promise.all(It.map(t,(t=>e.isPending(t.blobUri())?(e=>{const t=e.blobUri();return new Promise((e=>{n[t]=n[t]||[],n[t].push(e)}))})(t):((t,n,r)=>(e.markPending(t.blobUri()),new Promise((i=>{let l,c;try{const u=()=>{l&&(l.close(),c=C)},d=n=>{u(),e.markUploaded(t.blobUri(),n),a(t.blobUri(),o(t,n)),i(o(t,n))},h=n=>{u(),e.removeFailed(t.blobUri()),a(t.blobUri(),s(t,n)),i(s(t,n))};c=e=>{e<0||e>100||j.from(l).orThunk((()=>j.from(r).map(R))).each((t=>{l=t,t.progressBar.value(e)}))},n(t,c).then(d,(e=>{h(p(e)?{message:e}:e)}))}catch(e){i(s(t,e))}}))))(t,i,r)))));return{upload:(e,n)=>t.url||i!==r?l(e,n):new Promise((e=>{e([])}))}},Cx=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),Tx=(e,t)=>Ex(t,{url:cc(e),basePath:uc(e),credentials:dc(e),handler:hc(e)}),Ax=e=>t=>{((e,t)=>e.dom.isEmpty(t.dom)&&k(e.schema.getTextBlockElements()[Wt(t)]))(e,t)&&vr(t,_n.fromHtml('<br data-mce-bogus="1" />'))},Ox=e=>{const t=(()=>{let e=[];const t=e=>{if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const t=e.id||Sx("blobid"),n=e.name||t,r=e.blob;return{id:O(t),name:O(n),filename:O(e.filename||n+"."+(i=r.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[i.toLowerCase()]||"dat")),blob:O(r),base64:O(e.base64),blobUri:O(e.blobUri||URL.createObjectURL(r)),uri:O(e.uri)};var i},n=t=>ee(e,t).getOrUndefined(),r=e=>n((t=>t.id()===e));return{create:(e,n,r,i,o)=>{if(p(e))return t({id:e,name:i,filename:o,blob:n,base64:r});if(m(e))return t(e);throw new Error("Unknown input type")},add:t=>{r(t.id())||e.push(t)},get:r,getByUri:e=>n((t=>t.blobUri()===e)),getByData:(e,t)=>n((n=>n.base64()===e&&n.blob().type===t)),findFirst:n,removeByUri:t=>{e=K(e,(e=>e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)))},destroy:()=>{Z(e,(e=>{URL.revokeObjectURL(e.blobUri())})),e=[]}}})();let n,r;const i=kx(),o=[],s=t=>n=>e.selection?t(n):[],a=(e,t,n)=>{let r=0;do{r=e.indexOf(t,r),-1!==r&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1)}while(-1!==r);return e},l=(e,t,n)=>{const r=`src="${n}"${n===Dt.transparentSrc?' data-mce-placeholder="1"':""}`;return e=a(e,`src="${t}"`,r),e=a(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},c=(t,n)=>{Z(e.undoManager.data,(e=>{"fragmented"===e.type?e.fragments=V(e.fragments,(e=>l(e,t,n))):e.content=l(e.content,t,n)}))},u=()=>(n||(n=Tx(e,i)),f().then(s((r=>{const i=V(r,(e=>e.blobInfo));return n.upload(i,Cx(e)).then(s((n=>{const i=[];let o=!1;const s=V(n,((n,s)=>{const{blobInfo:a,image:l}=r[s];let u=!1;return n.status&&sc(e)?(n.url&&!Ue(l.src,n.url)&&(o=!0),t.removeByUri(l.src),vk(e)||((t,n)=>{const r=e.convertURL(n,"src");var i;c(t.src,n),tn(_n.fromDom(t),{src:oc(e)?(i=n,i+(-1===i.indexOf("?")?"?":"&")+(new Date).getTime()):n,"data-mce-src":r})})(l,n.url)):n.error&&(n.error.remove&&(c(l.src,Dt.transparentSrc),i.push(l),u=!0),((e,t)=>{px(e,ra.translate(["Failed to upload image: {0}",t]))})(e,n.error.message)),{element:l,status:n.status,uploadUri:n.url,blobInfo:a,removed:u}}));return i.length>0&&!vk(e)?e.undoManager.transact((()=>{Z(xr(i),(n=>{const r=An(n);wr(n),r.each(Ax(e)),t.removeByUri(n.dom.src)}))})):o&&e.undoManager.dispatchChange(),s})))})))),d=()=>ic(e)?u():Promise.resolve([]),h=e=>ie(o,(t=>t(e))),f=()=>(r||(r=wx(i,t)),r.findAll(e.getBody(),h).then(s((t=>{const n=K(t,(t=>p(t)?(px(e,t),!1):"blob"!==t.uriType));return vk(e)||Z(n,(e=>{c(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),n})))),g=n=>n.replace(/src="(blob:[^"]+)"/g,((n,r)=>{const o=i.getResultUri(r);if(o)return'src="'+o+'"';let s=t.getByUri(r);if(s||(s=J(e.editorManager.get(),((e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(r)),void 0)),s){return'src="data:'+s.blob().type+";base64,"+s.base64()+'"'}return n}));return e.on("SetContent",(()=>{ic(e)?d():f()})),e.on("RawSaveContent",(e=>{e.content=g(e.content)})),e.on("GetContent",(e=>{e.source_view||"raw"===e.format||"tree"===e.format||(e.content=g(e.content))})),e.on("PostRender",(()=>{e.parser.addNodeFilter("img",(e=>{Z(e,(e=>{const n=e.attr("src");if(!n||t.getByUri(n))return;const r=i.getResultUri(n);r&&e.attr("src",r)}))}))})),{blobCache:t,addFilter:e=>{o.push(e)},uploadImages:u,uploadImagesAuto:d,scanForImages:f,destroy:()=>{t.destroy(),i.destroy(),r=n=null}}},Dx={remove_similar:!0,inherit:!1},Mx={selector:"td,th",...Dx},Lx={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Mx},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Mx},tablecellbordercolor:{styles:{borderColor:"%value"},...Mx},tablecellclass:{classes:["%value"],...Mx},tableclass:{selector:"table",classes:["%value"],...Dx},tablecellborderstyle:{styles:{borderStyle:"%value"},...Mx},tablecellborderwidth:{styles:{borderWidth:"%value"},...Mx}},Px=O(Lx),Ix=e=>{const t={},n=(e,r)=>{e&&(p(e)?(v(r)||(r=[r]),Z(r,(e=>{b(e.deep)&&(e.deep=!Vh(e)),b(e.split)&&(e.split=!Vh(e)||Zh(e)),b(e.remove)&&Vh(e)&&!Zh(e)&&(e.remove="none"),Vh(e)&&Zh(e)&&(e.mixed=!0,e.block_expand=!0),p(e.classes)&&(e.classes=e.classes.split(/\s+/))})),t[e]=r):ge(e,((e,t)=>{n(t,e)})))};return n((e=>{const t=e.dom,n=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const e={inline:"span",styles:{textDecoration:"line-through"},exact:!0},t={inline:"strike",remove:"all",preserve_attributes:["class","style"]},r={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==n?[r,e,t]:[e,r,t]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(e,t,n)=>Wr(e)&&e.hasAttribute("href"),onformat:(e,n,r)=>{It.each(r,((n,r)=>{t.setAttrib(e,r,n)}))}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":e=>{var t;return null!==(t=null==e?void 0:e.customValue)&&void 0!==t?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return It.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(e=>{r[e]={block:e,remove:"all"}})),r})(e)),n(Px()),n(Ic(e)),{get:e=>k(e)?t[e]:t,has:e=>Ee(t,e),register:n,unregister:e=>(e&&t[e]&&delete t[e],t)}},Rx=It.each,Nx=Ks.DOM,Bx=e=>k(e)&&m(e),Fx=(e,t)=>{const n=t&&t.schema||_s({}),r=e=>{const t=p(e)?{name:e,classes:[],attrs:{}}:e,n=Nx.create(t.name);return((e,t)=>{t.classes.length>0&&Nx.addClass(e,t.classes.join(" ")),Nx.setAttribs(e,t.attrs)})(n,t),n},i=(e,t,o)=>{let s;const a=t[0],l=Bx(a)?a.name:void 0,c=((e,t)=>{const r=n.getElementRule(e.nodeName.toLowerCase()),i=null==r?void 0:r.parentsRequired;return!(!i||!i.length)&&(t&&W(i,t)?t:i[0])})(e,l);if(c)l===c?(s=a,t=t.slice(1)):s=c;else if(a)s=a,t=t.slice(1);else if(!o)return e;const u=s?r(s):Nx.create("div");u.appendChild(e),o&&It.each(o,(t=>{const n=r(t);u.insertBefore(n,e)}));const d=Bx(s)?s.siblings:void 0;return i(u,t,d)},o=Nx.create("div");if(e.length>0){const t=e[0],n=r(t),s=Bx(t)?t.siblings:void 0;o.appendChild(i(n,e.slice(1),s))}return o},jx=e=>{let t="div";const n={name:t,classes:[],attrs:{},selector:e=It.trim(e)};return"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,((e,t,r,i,o)=>{switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==It.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}if("["===i){const e=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);e&&(n.attrs[e[1]]=e[2])}return""}))),n.name=t||"div",n},zx=(e,t)=>{let n="",r=Rc(e);if(""===r)return"";const i=e=>p(e)?e.replace(/%(\w+)/g,""):"",o=(t,n)=>Nx.getStyle(null!=n?n:e.getBody(),t,!0);if(p(t)){const n=e.formatter.get(t);if(!n)return"";t=n[0]}if("preview"in t){const e=t.preview;if(!1===e)return"";r=e||r}let s,a=t.block||t.inline||"span";const l=(c=t.selector,p(c)?(c=(c=c.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),It.map(c.split(/(?:>|\s+(?![^\[\]]+\]))/),(e=>{const t=It.map(e.split(/(?:~\+|~|\+)/),jx),n=t.pop();return t.length&&(n.siblings=t),n})).reverse()):[]);var c;l.length>0?(l[0].name||(l[0].name=a),a=t.selector,s=Fx(l,e)):s=Fx([a],e);const u=Nx.select(a,s)[0]||s.firstChild;Rx(t.styles,((e,t)=>{const n=i(e);n&&Nx.setStyle(u,t,n)})),Rx(t.attributes,((e,t)=>{const n=i(e);n&&Nx.setAttrib(u,t,n)})),Rx(t.classes,(e=>{const t=i(e);Nx.hasClass(u,t)||Nx.addClass(u,t)})),e.dispatch("PreviewFormats"),Nx.setStyles(s,{position:"absolute",left:-65535}),e.getBody().appendChild(s);const d=o("fontSize"),h=/px$/.test(d)?parseInt(d,10):0;return Rx(r.split(" "),(e=>{let t=o(e,u);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=o(e),"#ffffff"===Os(t).toLowerCase())||"color"===e&&"#000000"===Os(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===h)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*h+"px"}"border"===e&&t&&(n+="padding:0 2px;"),n+=e+":"+t+";"}})),e.dispatch("AfterPreviewFormats"),Nx.remove(s),n},Hx=e=>{const t=Ix(e),n=Qs({});return(e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])})(e),t_(e),vk(e)||((e,t)=>{e.set({}),t.on("NodeChange",(n=>{X_(t,n.element,e.get())})),t.on("FormatApply FormatRemove",(n=>{const r=j.from(n.node).map((e=>Ah(e)?e:e.startContainer)).bind((e=>Wr(e)?j.some(e):j.from(e.parentElement))).getOrThunk((()=>Y_(t)));X_(t,r,e.get())}))})(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(t,n,r)=>{((e,t,n,r)=>{bk(e).formatter.apply(t,n,r)})(e,t,n,r)},remove:(t,n,r,i)=>{((e,t,n,r,i)=>{bk(e).formatter.remove(t,n,r,i)})(e,t,n,r,i)},toggle:(t,n,r)=>{((e,t,n,r)=>{bk(e).formatter.toggle(t,n,r)})(e,t,n,r)},match:(t,n,r,i)=>((e,t,n,r,i)=>bk(e).formatter.match(t,n,r,i))(e,t,n,r,i),closest:t=>((e,t)=>bk(e).formatter.closest(t))(e,t),matchAll:(t,n)=>((e,t,n)=>bk(e).formatter.matchAll(t,n))(e,t,n),matchNode:(t,n,r,i)=>((e,t,n,r,i)=>bk(e).formatter.matchNode(t,n,r,i))(e,t,n,r,i),canApply:t=>((e,t)=>bk(e).formatter.canApply(t))(e,t),formatChanged:(t,r,i,o)=>((e,t,n,r,i,o)=>bk(e).formatter.formatChanged(t,n,r,i,o))(e,n,t,r,i,o),getCssText:L(zx,e)}},$x=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Ux=e=>{const t=sa(),n=Qs(0),r=Qs(0),i={data:[],typing:!1,beforeChange:()=>{((e,t,n)=>{bk(e).undoManager.beforeChange(t,n)})(e,n,t)},add:(o,s)=>((e,t,n,r,i,o,s)=>bk(e).undoManager.add(t,n,r,i,o,s))(e,i,r,n,t,o,s),dispatchChange:()=>{e.setDirty(!0);const t=lk(e);t.bookmark=Cl(e.selection),e.dispatch("change",{level:t,lastLevel:ce(i.data,r.get()).getOrUndefined()})},undo:()=>((e,t,n,r)=>bk(e).undoManager.undo(t,n,r))(e,i,n,r),redo:()=>((e,t,n)=>bk(e).undoManager.redo(t,n))(e,r,i.data),clear:()=>{((e,t,n)=>{bk(e).undoManager.clear(t,n)})(e,i,r)},reset:()=>{((e,t)=>{bk(e).undoManager.reset(t)})(e,i)},hasUndo:()=>((e,t,n)=>bk(e).undoManager.hasUndo(t,n))(e,i,r),hasRedo:()=>((e,t,n)=>bk(e).undoManager.hasRedo(t,n))(e,i,r),transact:t=>((e,t,n,r)=>bk(e).undoManager.transact(t,n,r))(e,i,n,t),ignore:t=>{((e,t,n)=>{bk(e).undoManager.ignore(t,n)})(e,n,t)},extra:(t,n)=>{((e,t,n,r,i)=>{bk(e).undoManager.extra(t,n,r,i)})(e,i,r,t,n)}};return vk(e)||((e,t,n)=>{const r=Qs(!1),i=e=>{pk(t,!1,n),t.add({},e)};e.on("init",(()=>{t.add()})),e.on("BeforeExecCommand",(e=>{const r=e.command;$x(r)||(mk(t,n),t.beforeChange())})),e.on("ExecCommand",(e=>{const t=e.command;$x(t)||i(e)})),e.on("ObjectResizeStart cut",(()=>{t.beforeChange()})),e.on("SaveContent ObjectResized blur",i),e.on("dragend",i),e.on("keyup",(n=>{const o=n.keyCode;if(n.isDefaultPrevented())return;const s=Dt.os.isMacOS()&&"Meta"===n.key;(o>=33&&o<=36||o>=37&&o<=40||45===o||n.ctrlKey||s)&&(i(),e.nodeChanged()),46!==o&&8!==o||e.nodeChanged(),r.get()&&t.typing&&!hk(lk(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())})),e.on("keydown",(e=>{const o=e.keyCode;if(e.isDefaultPrevented())return;if(o>=33&&o<=36||o>=37&&o<=40||45===o)return void(t.typing&&i(e));const s=e.ctrlKey&&!e.altKey||e.metaKey;if((o<16||o>20)&&224!==o&&91!==o&&!t.typing&&!s)return t.beforeChange(),pk(t,!0,n),t.add({},e),void r.set(!0);(Dt.os.isMacOS()?e.metaKey:e.ctrlKey&&!e.altKey)&&t.beforeChange()})),e.on("mousedown",(e=>{t.typing&&i(e)})),e.on("input",(e=>{var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data||(e=>"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType)(e))&&i(e)})),e.on("AddUndo Undo Redo ClearUndos",(t=>{t.isDefaultPrevented()||e.nodeChanged()}))})(e,i,n),(e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")})(e),i},Wx=[9,27,Mf.HOME,Mf.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Mf.DOWN,Mf.UP,Mf.LEFT,Mf.RIGHT].concat(Dt.browser.isFirefox()?[224]:[]),qx="data-mce-placeholder",Vx=e=>"keydown"===e.type||"keyup"===e.type,Zx=e=>{const t=e.keyCode;return t===Mf.BACKSPACE||t===Mf.DELETE},Yx=e=>{var t;const n=e.dom,r=Xl(e),i=null!==(t=Cc(e))&&void 0!==t?t:"",o=(t,s)=>{if((e=>{if(Vx(e)){const t=e.keyCode;return!Zx(e)&&(Mf.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||W(Wx,t))}return!1})(t))return;const a=e.getBody(),l=!(e=>Vx(e)&&!(Zx(e)||"keyup"===e.type&&229===e.keyCode))(t)&&((e,t,n)=>{if(_o(_n.fromDom(t),!1)){const r=t.firstElementChild;return!r||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&n===r.nodeName.toLowerCase()}return!1})(n,a,r);(""!==n.getAttrib(a,qx)!==l||s)&&(n.setAttrib(a,qx,l?i:null),n.setAttrib(a,"aria-placeholder",l?i:null),((e,t)=>{e.dispatch("PlaceholderToggle",{state:t})})(e,l),e.on(l?"keydown":"keyup",o),e.off(l?"keyup":"keydown",o))};Ke(i)&&e.on("init",(t=>{o(t,!0),e.on("change SetContent ExecCommand",o),e.on("paste",(t=>Gp.setEditorTimeout(e,(()=>o(t)))))}))},Gx=(e,t)=>({from:e,to:t}),Kx=(e,t)=>{const n=_n.fromDom(e),r=_n.fromDom(t.container());return yv(n,r).map((e=>((e,t)=>({block:e,position:t}))(e,t)))},Xx=(e,t)=>Xn(t,(e=>Ai(e)||li(e.dom)),(t=>xn(t,e))).filter(Yt).getOr(e),Jx=(e,t,n)=>{const r=Kx(e,il.fromRangeStart(n)),i=r.bind((n=>$d(t,e,n.position).bind((n=>Kx(e,n).map((n=>((e,t,n)=>si(n.position.getNode())&&!_o(n.block)?qd(!1,n.block.dom).bind((r=>r.isEqual(n.position)?$d(t,e,r).bind((t=>Kx(e,t))):j.some(n))).getOr(n):n)(e,t,n)))))));return Bt(r,i,Gx).filter((t=>(e=>!xn(e.from.block,e.to.block))(t)&&((e,t)=>{const n=_n.fromDom(e);return xn(Xx(n,t.from.block),Xx(n,t.to.block))})(e,t)&&(e=>!1===ci(e.from.block.dom)&&!1===ci(e.to.block.dom))(t)&&(e=>{const t=e=>Si(e)||Lo(e.dom);return t(e.from.block)&&t(e.to.block)})(t)))},Qx=(e,t)=>{const n=((e,t)=>{const n=Rn(e);return te(n,(e=>t.isBlock(Wt(e)))).fold(O(n),(e=>n.slice(0,e)))})(e,t);return Z(n,wr),n},eS=(e,t)=>{const n=gg(t,e);return ee(n.reverse(),(e=>_o(e))).each(wr)},tS=(e,t,n,r,i)=>{if(_o(n))return Li(n),Yd(n.dom);0===K(Pn(i),(e=>!_o(e))).length&&_o(t)&&pr(i,_n.fromTag("br"));const o=Zd(n.dom,il.before(i.dom));return Z(Qx(t,r),(e=>{pr(i,e)})),eS(e,t),o},nS=(e,t,n,r)=>{if(_o(n)){if(_o(t)){const e=e=>{const t=(e,n)=>Bn(e).fold((()=>n),(e=>((e,t)=>e.isInline(Wt(t)))(r,e)?t(e,n.concat(Sa(e))):n));return t(e,[])},i=X(e(n),((e,t)=>(yr(e,t),t)),Mi());br(t),vr(t,i)}return wr(n),Yd(t.dom)}const i=Gd(n.dom);return Z(Qx(t,r),(e=>{vr(n,e)})),eS(e,t),i},rS=(e,t)=>Sn(t,e)?((e,t)=>{const n=gg(t,e);return j.from(n[n.length-1])})(t,e):j.none(),iS=(e,t)=>{qd(e,t.dom).bind((e=>j.from(e.getNode()))).map(_n.fromDom).filter(xi).each(wr)},oS=(e,t,n,r)=>(iS(!0,t),iS(!1,n),rS(t,n).fold(L(nS,e,t,n,r),L(tS,e,t,n,r))),sS=(e,t,n,r,i)=>t?oS(e,r,n,i):oS(e,n,r,i),aS=(e,t)=>{const n=_n.fromDom(e.getBody()),r=((e,t,n)=>n.collapsed?Jx(e,t,n):j.none())(n.dom,t,e.selection.getRng()).map((r=>()=>{sS(n,t,r.from.block,r.to.block,e.schema).each((t=>{e.selection.setRng(t.toRange())}))}));return r},lS=(e,t)=>{const n=_n.fromDom(t),r=L(xn,e);return Kn(n,Ai,r).isSome()},cS=(e,t)=>{const n=Zd(e.dom,il.fromRangeStart(t)).isNone(),r=Vd(e.dom,il.fromRangeEnd(t)).isNone();return!((e,t)=>lS(e,t.startContainer)||lS(e,t.endContainer))(e,t)&&n&&r},uS=e=>{const t=_n.fromDom(e.getBody()),n=e.selection.getRng();return cS(t,n)?(e=>j.some((()=>{e.setContent(""),e.selection.setCursorLocation()})))(e):((e,t,n)=>{const r=t.getRng();return Bt(yv(e,_n.fromDom(r.startContainer)),yv(e,_n.fromDom(r.endContainer)),((i,o)=>xn(i,o)?j.none():j.some((()=>{r.deleteContents(),sS(e,!0,i,o,n).each((e=>{t.setRng(e.toRange())}))})))).getOr(j.none())})(t,e.selection,e.schema)},dS=(e,t)=>e.selection.isCollapsed()?j.none():uS(e),hS=(e,t,n,r,i)=>j.from(t._selectionOverrides.showCaret(e,n,r,i)),fS=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?j.none():j.some((e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t})(t)),pS=(e,t,n)=>t.collapsed?((e,t,n)=>{const r=bd(1,e.getBody(),t),i=il.fromRangeStart(r),o=i.getNode();if(Xu(o))return hS(1,e,o,!i.isAtEnd(),!1);const s=i.getNode(!0);if(Xu(s))return hS(1,e,s,!1,!1);const a=ny(e.dom.getRoot(),i.getNode());return Xu(a)?hS(1,e,a,!1,n):j.none()})(e,t,n).getOr(t):t,mS=e=>fg(e)||cg(e),gS=e=>pg(e)||ug(e),vS=(e,t,n,r,i,o)=>{hS(r,e,o.getNode(!i),i,!0).each((n=>{if(t.collapsed){const e=t.cloneRange();i?e.setEnd(n.startContainer,n.startOffset):e.setStart(n.endContainer,n.endOffset),e.deleteContents()}else t.deleteContents();e.selection.setRng(n)})),((e,t)=>{ei(t)&&0===t.data.length&&e.remove(t)})(e.dom,n)},yS=(e,t)=>((e,t)=>{const n=e.selection.getRng();if(!ei(n.commonAncestorContainer))return j.none();const r=t?Cd.Forwards:Cd.Backwards,i=Bd(e.getBody()),o=L(Sd,t?i.next:i.prev),s=t?mS:gS,a=kd(r,e.getBody(),n),l=o(a),c=l?hv(t,l):l;if(!c||!Ed(a,c))return j.none();if(s(c))return j.some((()=>vS(e,n,a.getNode(),r,t,c)));const u=o(c);return u&&s(u)&&Ed(c,u)?j.some((()=>vS(e,n,a.getNode(),r,t,u))):j.none()})(e,t),_S=(e,t)=>{const n=e.getBody();return t?Yd(n).filter(fg):Gd(n).filter(pg)},bS=e=>{const t=e.selection.getRng();return!t.collapsed&&(_S(e,!0).exists((e=>e.isEqual(il.fromRangeStart(t))))||_S(e,!1).exists((e=>e.isEqual(il.fromRangeEnd(t)))))},wS=Dl([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),kS=(e,t,n,r)=>{const i=r.getNode(!t);return yv(_n.fromDom(e),_n.fromDom(n.getNode())).map((e=>_o(e)?wS.remove(e.dom):wS.moveToElement(i))).orThunk((()=>j.some(wS.moveToElement(i))))},xS=(e,t,n,r)=>$d(t,e,n).bind((i=>(e=>k(e)&&(Ai(_n.fromDom(e))||Ci(_n.fromDom(e))))(i.getNode())||((e,t,n,r,i)=>{const o=t=>i.isInline(t.nodeName.toLowerCase())&&!fd(n,r,e);return wd(!t,n).fold((()=>wd(t,r).fold(B,o)),o)})(e,t,n,i,r)?j.none():t&&ci(i.getNode())||!t&&ci(i.getNode(!0))?kS(e,t,n,i):t&&pg(n)||!t&&fg(n)?j.some(wS.moveToPosition(i)):j.none())),SS=(e,t,n,r)=>((e,t)=>{const n=t.getNode(!e),r=e?"after":"before";return Wr(n)&&n.getAttribute("data-mce-caret")===r})(t,n)?((e,t)=>w(t)?j.none():e&&ci(t.nextSibling)?j.some(wS.moveToElement(t.nextSibling)):!e&&ci(t.previousSibling)?j.some(wS.moveToElement(t.previousSibling)):j.none())(t,n.getNode(!t)).orThunk((()=>xS(e,t,n,r))):xS(e,t,n,r).bind((t=>((e,t,n)=>n.fold((e=>j.some(wS.remove(e))),(e=>j.some(wS.moveToElement(e))),(n=>fd(t,n,e)?j.none():j.some(wS.moveToPosition(n)))))(e,n,t))),ES=(e,t)=>j.from(ny(e.getBody(),t)),CS=(e,t)=>{const n=e.selection.getNode();return ES(e,n).filter(ci).fold((()=>((e,t,n,r)=>{const i=bd(t?1:-1,e,n),o=il.fromRangeStart(i),s=_n.fromDom(e);return!t&&pg(o)?j.some(wS.remove(o.getNode(!0))):t&&fg(o)?j.some(wS.remove(o.getNode())):!t&&fg(o)&&Ag(s,o,r)?Og(s,o,r).map((e=>wS.remove(e.getNode()))):t&&pg(o)&&Tg(s,o,r)?Dg(s,o,r).map((e=>wS.remove(e.getNode()))):SS(e,t,o,r)})(e.getBody(),t,e.selection.getRng(),e.schema).map((n=>()=>n.fold(((e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),av(e,t,_n.fromDom(n)),!0))(e,t),((e,t)=>n=>{const r=t?il.before(n):il.after(n);return e.selection.setRng(r.toRange()),!0})(e,t),(e=>t=>(e.selection.setRng(t.toRange()),!0))(e))))),(()=>j.some(C)))},TS=(e,t)=>{const n=e.selection.getNode();if(ci(n)&&!ui(n)){return ES(e,n.parentNode).filter(ci).fold((()=>j.some((()=>{var n;n=_n.fromDom(e.getBody()),Z(jr(n,".mce-offscreen-selection"),wr),av(e,t,_n.fromDom(e.selection.getNode())),_v(e)}))),(()=>j.some(C)))}return bS(e)?j.some((()=>{kv(e,e.selection.getRng(),_n.fromDom(e.getBody()))})):j.none()},AS=e=>{const t=e.dom,n=e.selection,r=ny(e.getBody(),n.getNode());if(li(r)&&t.isBlock(r)&&t.isEmpty(r)){const e=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(e),n.setRng(il.before(e).toRange())}return!0},OS=(e,t)=>e.selection.isCollapsed()?CS(e,t):TS(e,t),DS=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=il.fromRangeStart(e.selection.getRng());return $d(t,e.getBody(),n).filter((e=>t?ag(e):lg(e))).bind((e=>pd(t?0:-1,e))).map((t=>()=>e.selection.select(t)))})(e,t):j.none(),MS=ei,LS=e=>MS(e)&&e.data[0]===Pi,PS=e=>MS(e)&&e.data[e.data.length-1]===Pi,IS=e=>{var t;return(null!==(t=e.ownerDocument)&&void 0!==t?t:document).createTextNode(Pi)},RS=(e,t)=>e?(e=>{var t;if(MS(e.previousSibling))return PS(e.previousSibling)||e.previousSibling.appendData(Pi),e.previousSibling;if(MS(e))return LS(e)||e.insertData(0,Pi),e;{const n=IS(e);return null===(t=e.parentNode)||void 0===t||t.insertBefore(n,e),n}})(t):(e=>{var t,n;if(MS(e.nextSibling))return LS(e.nextSibling)||e.nextSibling.insertData(0,Pi),e.nextSibling;if(MS(e))return PS(e)||e.appendData(Pi),e;{const r=IS(e);return e.nextSibling?null===(t=e.parentNode)||void 0===t||t.insertBefore(r,e.nextSibling):null===(n=e.parentNode)||void 0===n||n.appendChild(r),r}})(t),NS=L(RS,!0),BS=L(RS,!1),FS=(e,t)=>ei(e.container())?RS(t,e.container()):RS(t,e.getNode()),jS=(e,t)=>{const n=t.get();return n&&e.container()===n&&ji(n)},zS=(e,t)=>t.fold((t=>{Wu(e.get());const n=NS(t);return e.set(n),j.some(il(n,n.length-1))}),(t=>Yd(t).map((t=>{if(jS(t,e)){const t=e.get();return il(t,1)}{Wu(e.get());const n=FS(t,!0);return e.set(n),il(n,1)}}))),(t=>Gd(t).map((t=>{if(jS(t,e)){const t=e.get();return il(t,t.length-1)}{Wu(e.get());const n=FS(t,!1);return e.set(n),il(n,n.length-1)}}))),(t=>{Wu(e.get());const n=BS(t);return e.set(n),j.some(il(n,1))})),HS=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n].apply(null,t);if(r.isSome())return r}return j.none()},$S=Dl([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),US=(e,t)=>{const n=hd(t,e);return n||e},WS=(e,t,n)=>{const r=fv(n),i=US(t,r.container());return dv(e,i,r).fold((()=>Vd(i,r).bind(L(dv,e,i)).map((e=>$S.before(e)))),j.none)},qS=(e,t)=>null===Jd(e,t),VS=(e,t,n)=>dv(e,t,n).filter(L(qS,t)),ZS=(e,t,n)=>{const r=pv(n);return VS(e,t,r).bind((e=>Zd(e,r).isNone()?j.some($S.start(e)):j.none()))},YS=(e,t,n)=>{const r=fv(n);return VS(e,t,r).bind((e=>Vd(e,r).isNone()?j.some($S.end(e)):j.none()))},GS=(e,t,n)=>{const r=pv(n),i=US(t,r.container());return dv(e,i,r).fold((()=>Zd(i,r).bind(L(dv,e,i)).map((e=>$S.after(e)))),j.none)},KS=e=>!uv(JS(e)),XS=(e,t,n)=>HS([WS,ZS,YS,GS],[e,t,n]).filter(KS),JS=e=>e.fold(D,D,D,D),QS=e=>e.fold(O("before"),O("start"),O("end"),O("after")),eE=e=>e.fold($S.before,$S.before,$S.after,$S.after),tE=e=>e.fold($S.start,$S.start,$S.end,$S.end),nE=(e,t,n,r,i,o)=>Bt(dv(t,n,r),dv(t,n,i),((t,r)=>t!==r&&((e,t,n)=>{const r=hd(t,e),i=hd(n,e);return k(r)&&r===i})(n,t,r)?$S.after(e?t:r):o)).getOr(o),rE=(e,t)=>e.fold(F,(e=>{return r=t,!(QS(n=e)===QS(r)&&JS(n)===JS(r));var n,r})),iE=(e,t)=>e?t.fold(T(j.some,$S.start),j.none,T(j.some,$S.after),j.none):t.fold(j.none,T(j.some,$S.before),j.none,T(j.some,$S.end)),oE=(e,t,n,r)=>{const i=hv(e,r),o=XS(t,n,i);return XS(t,n,i).bind(L(iE,e)).orThunk((()=>((e,t,n,r,i)=>{const o=hv(e,i);return $d(e,n,o).map(L(hv,e)).fold((()=>r.map(eE)),(i=>XS(t,n,i).map(L(nE,e,t,n,o,i)).filter(L(rE,r)))).filter(KS)})(e,t,n,o,r)))},sE=(e,t,n)=>{const r=e?1:-1;return t.setRng(il(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},aE=(e,t)=>{const n=t.selection.getRng(),r=e?il.fromRangeEnd(n):il.fromRangeStart(n);return!!(e=>x(e.selection.getSel().modify))(t)&&(e&&$i(r)?sE(!0,t.selection,r):!(e||!Ui(r))&&sE(!1,t.selection,r))};var lE;!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(lE||(lE={}));const cE=(e,t)=>e===Cd.Backwards?oe(t):t,uE=(e,t,n)=>e===Cd.Forwards?t.next(n):t.prev(n),dE=(e,t,n,r)=>si(r.getNode(t===Cd.Forwards))?lE.Br:!1===fd(n,r)?lE.Block:lE.Wrap,hE=(e,t,n,r)=>{const i=Bd(n);let o=r;const s=[];for(;o;){const n=uE(t,i,o);if(!n)break;if(si(n.getNode(!1)))return t===Cd.Forwards?{positions:cE(t,s).concat([n]),breakType:lE.Br,breakAt:j.some(n)}:{positions:cE(t,s),breakType:lE.Br,breakAt:j.some(n)};if(n.isVisible()){if(e(o,n)){const e=dE(0,t,o,n);return{positions:cE(t,s),breakType:e,breakAt:j.some(n)}}s.push(n),o=n}else o=n}return{positions:cE(t,s),breakType:lE.Eol,breakAt:j.none()}},fE=(e,t,n,r)=>t(n,r).breakAt.map((r=>{const i=t(n,r).positions;return e===Cd.Backwards?i.concat(r):[r].concat(i)})).getOr([]),pE=(e,t)=>J(e,((e,n)=>e.fold((()=>j.some(n)),(r=>Bt(ue(r.getClientRects()),ue(n.getClientRects()),((e,i)=>{const o=Math.abs(t-e.left);return Math.abs(t-i.left)<=o?n:r})).or(e)))),j.none()),mE=(e,t)=>ue(t.getClientRects()).bind((t=>pE(e,t.left))),gE=L(hE,il.isAbove,-1),vE=L(hE,il.isBelow,1),yE=L(fE,-1,gE),_E=L(fE,1,vE),bE=(e,t)=>gE(e,t).breakAt.isNone(),wE=(e,t)=>vE(e,t).breakAt.isNone(),kE=(e,t)=>mE(yE(e,t),t),xE=(e,t)=>mE(_E(e,t),t),SE=ci,EE=(e,t)=>Math.abs(e.left-t),CE=(e,t)=>Math.abs(e.right-t),TE=(e,t)=>Pe(e,((e,n)=>{const r=Math.min(EE(e,t),CE(e,t)),i=Math.min(EE(n,t),CE(n,t));return i===r&&Ce(n,"node")&&SE(n.node)||i<r?n:e})),AE=e=>{const t=t=>V(t,(t=>{const n=Da(t);return n.node=e,n}));if(Wr(e))return t(e.getClientRects());if(ei(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}return[]},OE=e=>re(e,AE);var DE;!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(DE||(DE={}));const ME=(e,t,n,r,i,o)=>{let s=0;const a=[],l=r=>{let o=OE([r]);-1===e&&(o=o.reverse());for(let e=0;e<o.length;e++){const r=o[e];if(!n(r,c)){if(a.length>0&&t(r,Re(a))&&s++,r.line=s,i(r))return!0;a.push(r)}}return!1},c=Re(o.getClientRects());if(!c)return a;const u=o.getNode();return u&&(l(u),((e,t,n,r)=>{let i=r;for(;i=dd(i,e,io,t);)if(n(i))return})(e,r,l,u)),a},LE=L(ME,DE.Up,Pa,Ia),PE=L(ME,DE.Down,Ia,Pa),IE=e=>Re(e.getClientRects()),RE=e=>t=>((e,t)=>t.line>e)(e,t),NE=e=>t=>((e,t)=>t.line===e)(e,t),BE=(e,t)=>{e.selection.setRng(t),Rp(e,e.selection.getRng())},FE=(e,t,n)=>j.some(pS(e,t,n)),jE=(e,t,n,r,i,o)=>{const s=t===Cd.Forwards,a=Bd(e.getBody()),l=L(Sd,s?a.next:a.prev),c=s?r:i;if(!n.collapsed){const r=Na(n);if(o(r))return hS(t,e,r,t===Cd.Backwards,!1);if(bS(e)){const e=n.cloneRange();return e.collapse(t===Cd.Backwards),j.from(e)}}const u=kd(t,e.getBody(),n);if(c(u))return fS(e,u.getNode(!s));let d=l(u);const h=Zi(n);if(!d)return h?j.some(n):j.none();if(d=hv(s,d),c(d))return hS(t,e,d.getNode(!s),s,!1);const f=l(d);return f&&c(f)&&Ed(d,f)?hS(t,e,f.getNode(!s),s,!1):h?FE(e,d.toRange(),!1):j.none()},zE=(e,t,n,r,i,o)=>{const s=kd(t,e.getBody(),n),a=Re(s.getClientRects()),l=t===DE.Down,c=e.getBody();if(!a)return j.none();if(bS(e)){const e=l?il.fromRangeEnd(n):il.fromRangeStart(n);return(l?xE:kE)(c,e).orThunk((()=>j.from(e))).map((e=>e.toRange()))}const u=(l?PE:LE)(c,RE(1),s),d=K(u,NE(1)),h=a.left,f=TE(d,h);if(f&&o(f.node)){const n=Math.abs(h-f.left),r=Math.abs(h-f.right);return hS(t,e,f.node,n<r,!1)}let p;if(p=r(s)?s.getNode():i(s)?s.getNode(!0):Na(n),p){const n=((e,t,n,r)=>{const i=Bd(t);let o,s,a,l;const c=[];let u=0;1===e?(o=i.next,s=Ia,a=Pa,l=il.after(r)):(o=i.prev,s=Pa,a=Ia,l=il.before(r));const d=IE(l);do{if(!l.isVisible())continue;const e=IE(l);if(a(e,d))continue;c.length>0&&s(e,Re(c))&&u++;const t=Da(e);if(t.position=l,t.line=u,n(t))return c;c.push(t)}while(l=o(l));return c})(t,c,RE(1),p);let r=TE(K(n,NE(1)),h);if(r)return FE(e,r.position.toRange(),!1);if(r=Re(K(n,NE(0))),r)return FE(e,r.position.toRange(),!1)}return 0===d.length?HE(e,l).filter(l?i:r).map((t=>pS(e,t.toRange(),!1))):j.none()},HE=(e,t)=>{const n=e.selection.getRng(),r=t?il.fromRangeEnd(n):il.fromRangeStart(n),i=((e,t)=>Kn(_n.fromDom(e),(e=>Qu(e.dom)),(e=>e.dom===t)).map((e=>e.dom)).getOr(t))(r.container(),e.getBody());if(t){const e=vE(i,r);return de(e.positions)}{const e=gE(i,r);return ue(e.positions)}},$E=(e,t,n)=>HE(e,t).filter(n).exists((t=>(e.selection.setRng(t.toRange()),!0))),UE=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},WE=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},qE=(e,t,n)=>zS(t,n).map((t=>(UE(e,t),n))),VE=(e,t,n)=>{const r=e.getBody(),i=((e,t,n)=>{const r=il.fromRangeStart(e);if(e.collapsed)return r;{const i=il.fromRangeEnd(e);return n?Zd(t,i).getOr(i):Vd(t,r).getOr(r)}})(e.selection.getRng(),r,n),o=L(cv,e);return oE(n,o,r,i).bind((n=>qE(e,t,n)))},ZE=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const r=il.fromRangeStart(e.selection.getRng());il.isTextPosition(r)&&!(e=>$i(e)||Ui(e))(r)&&(UE(e,Uu(n,r)),t.set(null))}},YE=(e,t,n)=>!!Pc(e)&&VE(e,t,n).isSome(),GE=(e,t,n)=>!!Pc(t)&&aE(e,t),KE=e=>{const t=Qs(null),n=L(cv,e);return e.on("NodeChange",(r=>{Pc(e)&&(((e,t,n)=>{const r=V(jr(_n.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(e=>e.dom)),i=K(r,e),o=K(n,e);Z(se(i,o),L(WE,!1)),Z(se(o,i),L(WE,!0))})(n,e.dom,r.parents),ZE(e,t),((e,t,n,r)=>{if(t.selection.isCollapsed()){const i=K(r,e);Z(i,(r=>{const i=il.fromRangeStart(t.selection.getRng());XS(e,t.getBody(),i).bind((e=>qE(t,n,e)))}))}})(n,e,t,r.parents))})),t},XE=L(GE,!0),JE=L(GE,!1),QE=(e,t,n)=>{if(Pc(e)){const r=HE(e,t).getOrThunk((()=>{const n=e.selection.getRng();return t?il.fromRangeEnd(n):il.fromRangeStart(n)}));return XS(L(cv,e),e.getBody(),r).exists((t=>{const r=eE(t);return zS(n,r).exists((t=>(UE(e,t),!0)))}))}return!1},eC=(e,t)=>n=>zS(t,n).map((t=>()=>UE(e,t))),tC=(e,t,n,r)=>{const i=e.getBody(),o=L(cv,e);e.undoManager.ignore((()=>{e.selection.setRng(((e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n})(n,r)),gv(e),XS(o,i,il.fromRangeStart(e.selection.getRng())).map(tE).bind(eC(e,t)).each(N)})),e.nodeChanged()},nC=(e,t,n,r)=>{const i=((e,t)=>{const n=hd(t,e);return n||e})(e.getBody(),r.container()),o=L(cv,e),s=XS(o,i,r);return s.bind((e=>n?e.fold(O(j.some(tE(e))),j.none,O(j.some(eE(e))),j.none):e.fold(j.none,O(j.some(eE(e))),j.none,O(j.some(tE(e)))))).map(eC(e,t)).getOrThunk((()=>{const a=Ud(n,i,r),l=a.bind((e=>XS(o,i,e)));return Bt(s,l,(()=>dv(o,i,r).bind((t=>(e=>Bt(Yd(e),Gd(e),((t,n)=>{const r=hv(!0,t),i=hv(!1,n);return Vd(e,r).forall((e=>e.isEqual(i)))})).getOr(!0))(t)?j.some((()=>{av(e,n,_n.fromDom(t))})):j.none())))).getOrThunk((()=>l.bind((()=>a.map((i=>()=>{n?tC(e,t,r,i):tC(e,t,i,r)}))))))}))},rC=(e,t,n)=>{if(e.selection.isCollapsed()&&Pc(e)){const r=il.fromRangeStart(e.selection.getRng());return nC(e,t,n,r)}return j.none()},iC=(e,t)=>{const n=_n.fromDom(e.getBody()),r=_n.fromDom(e.selection.getStart()),i=gg(r,n);return te(i,t).fold(O(i),(e=>i.slice(0,e)))},oC=e=>1===jn(e),sC=e=>iC(e,(t=>e.schema.isBlock(Wt(t))||(e=>jn(e)>1)(t))),aC=(e,t)=>{const n=L(i_,e);return re(t,(e=>n(e)?[e.dom]:[]))},lC=e=>{const t=(e=>iC(e,(t=>e.schema.isBlock(Wt(t)))))(e);return aC(e,t)},cC=(e,t)=>{const n=K(sC(e),oC);return de(n).bind((r=>{const i=il.fromRangeStart(e.selection.getRng());return bv(t,i,r.dom)&&!Kh(r)?j.some((()=>((e,t,n,r)=>{const i=aC(t,r);if(0===i.length)av(t,e,n);else{const e=r_(n.dom,i);t.selection.setRng(e.toRange())}})(t,e,r,n))):j.none()}))},uC=(e,t)=>{const n=e.selection.getStart(),r=((e,t)=>{const n=t.parentElement;return si(t)&&!y(n)&&e.dom.isEmpty(n)})(e,n)||(i=n,Kh(_n.fromDom(i)))?r_(n,t):((e,t)=>{const{caretContainer:n,caretPosition:r}=n_(t);return e.insertNode(n.dom),r})(e.selection.getRng(),t);var i;e.selection.setRng(r.toRange())},dC=e=>ei(e.startContainer),hC=e=>(e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!y(t)&&!y(n)&&t.isEqualNode(n)})(e)&&(e=>{const t=e.endContainer;return e.endOffset===(ei(t)?t.length:t.childNodes.length)})(e),fC=e=>{const t=e.selection.getRng();return(e=>0===e.startOffset&&dC(e))(t)&&((e,t)=>{const n=t.startContainer.parentElement;return!y(n)&&i_(e,_n.fromDom(n))})(e,t)&&(e=>hC(e)||(e=>!e.endContainer.isEqualNode(e.commonAncestorContainer))(e))(t)},pC=e=>{if(fC(e)){const t=lC(e);return j.some((()=>{gv(e),((e,t)=>{const n=se(t,lC(e));n.length>0&&uC(e,n)})(e,t)}))}return j.none()},mC=(e,t)=>e.selection.isCollapsed()?cC(e,t):pC(e),gC=(e,t)=>((e,t,n)=>Kn(e,t,n).isSome())(e,(e=>Xd(e.dom)),(e=>t.isBlock(Wt(e)))),vC=e=>{const t=e.selection.getRng();return t.collapsed&&(dC(t)||e.dom.isEmpty(t.startContainer))&&!(e=>gC(_n.fromDom(e.selection.getStart()),e.schema))(e)},yC=e=>(vC(e)&&uC(e,[]),!0),_C=(e,t,n)=>k(n)?j.some((()=>{e._selectionOverrides.hideFakeCaret(),av(e,t,_n.fromDom(n))})):j.none(),bC=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=t?cg:ug,r=t?Cd.Forwards:Cd.Backwards,i=kd(r,e.getBody(),e.selection.getRng());return n(i)?_C(e,t,i.getNode(!t)):j.from(hv(t,i)).filter((e=>n(e)&&Ed(i,e))).bind((n=>_C(e,t,n.getNode(!t))))})(e,t):((e,t)=>{const n=e.selection.getNode();return hi(n)?_C(e,t,n):j.none()})(e,t),wC=e=>Je(null!=e?e:"").getOr(0),kC=(e,t)=>(e||(e=>"table"===Wt(e))(t)?"margin":"padding")+("rtl"===cr(t,"direction")?"-right":"-left"),xC=e=>{const t=EC(e);return!e.mode.isReadOnly()&&(t.length>1||((e,t)=>ie(t,(t=>{const n=kC(vc(e),t),r=dr(t,n).map(wC).getOr(0);return"false"!==e.dom.getContentEditable(t.dom)&&r>0})))(e,t))},SC=e=>Ei(e)||Ci(e),EC=e=>K(xr(e.selection.getSelectedBlocks()),(e=>!SC(e)&&!(e=>An(e).exists(SC))(e)&&Xn(e,(e=>li(e.dom)||ci(e.dom))).exists((e=>li(e.dom))))),CC=(e,t)=>{var n,r;const{dom:i}=e,o=yc(e),s=null!==(r=null===(n=/[a-z%]+$/i.exec(o))||void 0===n?void 0:n[0])&&void 0!==r?r:"px",a=wC(o),l=vc(e);Z(EC(e),(e=>{((e,t,n,r,i,o)=>{const s=kC(n,_n.fromDom(o)),a=wC(e.getStyle(o,s));if("outdent"===t){const t=Math.max(0,a-r);e.setStyle(o,s,t?t+i:"")}else{const t=a+r+i;e.setStyle(o,s,t)}})(i,t,l,a,s,e.dom)}))},TC=e=>CC(e,"outdent"),AC=e=>{if(e.selection.isCollapsed()&&xC(e)){const t=e.dom,n=e.selection.getRng(),r=il.fromRangeStart(n),i=t.getParent(n.startContainer,t.isBlock);if(null!==i&&wg(_n.fromDom(i),r,e.schema))return j.some((()=>TC(e)))}return j.none()},OC=(e,t,n)=>fe([AC,OS,yS,(e,n)=>rC(e,t,n),aS,ty,DS,bC,dS,mC],(t=>t(e,n))).filter((t=>e.selection.isEditable())),DC=(e,t)=>{OC(e,t,!0).fold((()=>{e.selection.isEditable()&&(e=>{mv(e,"ForwardDelete")})(e)}),N)},MC=(e,t)=>{e.addCommand("delete",(()=>{((e,t)=>{OC(e,t,!1).fold((()=>{e.selection.isEditable()&&(gv(e),_v(e))}),N)})(e,t)})),e.addCommand("forwardDelete",(()=>{DC(e,t)}))},LC=e=>void 0===e.touches||1!==e.touches.length?j.none():j.some(e.touches[0]),PC=e=>{const t=sa(),n=Qs(!1),r=la((t=>{e.dispatch("longpress",{...t,type:"longpress"}),n.set(!0)}),400);e.on("touchstart",(e=>{LC(e).each((i=>{r.cancel();const o={x:i.clientX,y:i.clientY,target:e.target};r.throttle(e),n.set(!1),t.set(o)}))}),!0),e.on("touchmove",(i=>{r.cancel(),LC(i).each((r=>{t.on((i=>{((e,t)=>{const n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>5||r>5})(r,i)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))}))}))}),!0),e.on("touchend touchcancel",(i=>{r.cancel(),"touchcancel"!==i.type&&t.get().filter((e=>e.target.isEqualNode(i.target))).each((()=>{n.get()?i.preventDefault():e.dispatch("tap",{...i,type:"tap"})}))}),!0)},IC=(e,t)=>Ee(e,t.nodeName),RC=(e,t)=>!!ei(t)||!!Wr(t)&&!(IC(e.getBlockElements(),t)||dh(t)||Ro(e,t)||wo(t)),NC=(e,t)=>{if(ei(t)){if(0===t.data.length)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||IC(e,t.nextSibling)||wo(t.nextSibling)}return!1},BC=e=>e.dom.create(Xl(e),Jl(e)),FC=e=>{const t=e.dom,n=e.selection,r=e.schema,i=r.getBlockElements(),o=n.getStart(),s=e.getBody();let a,l,c=!1;const u=Xl(e);if(!o||!Wr(o))return;const d=s.nodeName.toLowerCase();if(!r.isValidChild(d,u.toLowerCase())||((e,t,n)=>q(mg(_n.fromDom(n),_n.fromDom(t)),(t=>IC(e,t.dom))))(i,s,o))return;const h=n.getRng(),{startContainer:f,startOffset:p,endContainer:m,endOffset:g}=h,v=lm(e);let y=s.firstChild;for(;y;)if(Wr(y)&&Mo(r,y),RC(r,y)){if(NC(i,y)){l=y,y=y.nextSibling,t.remove(l);continue}a||(a=BC(e),s.insertBefore(a,y),c=!0),l=y,y=y.nextSibling,a.appendChild(l)}else a=null,y=y.nextSibling;c&&v&&(h.setStart(f,p),h.setEnd(m,g),n.setRng(h),e.nodeChanged())},jC=(e,t,n)=>{const r=_n.fromDom(BC(e)),i=Mi();vr(r,i),n(t,r);const o=document.createRange();return o.setStartBefore(i.dom),o.setEndBefore(i.dom),o},zC=e=>t=>-1!==(" "+t.attr("class")+" ").indexOf(e),HC=(e,t,n)=>function(r){const i=arguments,o=i[i.length-2],s=o>0?t.charAt(o-1):"";if('"'===s)return r;if(">"===s){const e=t.lastIndexOf("<",o);if(-1!==e){if(-1!==t.substring(e,o).indexOf('contenteditable="false"'))return r}}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(i[0])+'">'+e.dom.encode("string"==typeof i[1]?i[1]:i[0])+"</span>"},$C=e=>{const t="contenteditable",n=" "+It.trim(xu(e))+" ",r=" "+It.trim(ku(e))+" ",i=zC(n),o=zC(r),s=Su(e);s.length>0&&e.on("BeforeSetContent",(t=>{((e,t,n)=>{let r=t.length,i=n.content;if("raw"!==n.format){for(;r--;)i=i.replace(t[r],HC(e,i,ku(e)));n.content=i}})(e,s,t)})),e.parser.addAttributeFilter("class",(e=>{let n=e.length;for(;n--;){const r=e[n];i(r)?r.attr(t,"true"):o(r)&&r.attr(t,"false")}})),e.serializer.addAttributeFilter(t,(e=>{let n=e.length;for(;n--;){const r=e[n];(i(r)||o(r))&&(s.length>0&&r.attr("data-mce-content")?(r.name="#text",r.type=3,r.raw=!0,r.value=r.attr("data-mce-content")):r.attr(t,null))}}))},UC=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Vi(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},WC=(e,t)=>{const n=(e=>tr(_n.fromDom(e.getBody()),"*[data-mce-caret]").map((e=>e.dom)).getOrNull())(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void UC(e,n)):void(Hi(n)&&(UC(e,n),e.undoManager.add()))},qC=ci,VC=(e,t,n)=>{const r=Bd(e.getBody()),i=L(Sd,1===t?r.next:r.prev);if(n.collapsed){const r=e.dom.getParent(n.startContainer,"PRE");if(!r)return;if(!i(il.fromRangeStart(n))){const n=_n.fromDom((e=>{const t=e.dom.create(Xl(e));return t.innerHTML='<br data-mce-bogus="1">',t})(e));1===t?mr(_n.fromDom(r),n):pr(_n.fromDom(r),n),e.selection.select(n.dom,!0),e.selection.collapse()}}},ZC=(e,t)=>{const n=t?Cd.Forwards:Cd.Backwards,r=e.selection.getRng();return((e,t,n)=>jE(t,e,n,fg,pg,qC))(n,e,r).orThunk((()=>(VC(e,n,r),j.none())))},YC=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return((e,t,n)=>zE(t,e,n,(e=>fg(e)||dg(e)),(e=>pg(e)||hg(e)),qC))(n,e,r).orThunk((()=>(VC(e,n,r),j.none())))},GC=(e,t)=>ZC(e,((e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return uv(n)?!t:t})(e.selection,t)).exists((t=>(BE(e,t),!0))),KC=(e,t)=>YC(e,t).exists((t=>(BE(e,t),!0))),XC=(e,t)=>$E(e,t,t?pg:fg),JC=(e,t)=>_S(e,!t).map((n=>{const r=n.toRange(),i=e.selection.getRng();return t?r.setStart(i.startContainer,i.startOffset):r.setEnd(i.endContainer,i.endOffset),r})).exists((t=>(BE(e,t),!0))),QC=e=>W(["figcaption"],Wt(e)),eT=(e,t)=>{const n=_n.fromDom(e.getBody()),r=il.fromRangeStart(e.selection.getRng());return((e,t,n)=>{const r=L(xn,t);return Xn(_n.fromDom(e.container()),(e=>n.isBlock(Wt(e))),r).filter(QC)})(r,n,e.schema).exists((()=>{if(((e,t,n)=>t?wE(e.dom,n):bE(e.dom,n))(n,t,r)){const r=jC(e,n,t?vr:gr);return e.selection.setRng(r),!0}return!1}))},tT=(e,t)=>!!e.selection.isCollapsed()&&eT(e,t),nT=(e,t)=>t?j.from(e.dom.getParent(e.selection.getNode(),"details")).map((t=>((e,t)=>{const n=e.selection.getRng(),r=il.fromRangeStart(n);return!(e.getBody().lastChild!==t||!wE(t,r)||(e.execCommand("InsertNewBlockAfter"),0))})(e,t))).getOr(!1):j.from(e.dom.getParent(e.selection.getNode(),"summary")).bind((t=>j.from(e.dom.getParent(t,"details")).map((n=>((e,t,n)=>{const r=e.selection.getRng(),i=il.fromRangeStart(r);return!(e.getBody().firstChild!==t||!bE(n,i)||(e.execCommand("InsertNewBlockBefore"),0))})(e,n,t))))).getOr(!1),rT=(e,t)=>nT(e,t),iT={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},oT=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,sT=(e,t)=>re((e=>V(e,(e=>({...iT,...e}))))(e),(e=>oT(e,t)?[e]:[])),aT=(e,t)=>re((e=>V(e,(e=>({...iT,...e}))))(e),(e=>oT(e,t)?[e]:[])),lT=(e,...t)=>()=>e.apply(null,t),cT=(e,t)=>ee(sT(e,t),(e=>e.action())),uT=(e,t)=>fe(aT(e,t),(e=>e.action())),dT=(e,t)=>{const n=t?Cd.Forwards:Cd.Backwards,r=e.selection.getRng();return jE(e,n,r,cg,ug,hi).exists((t=>(BE(e,t),!0)))},hT=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return zE(e,n,r,cg,ug,hi).exists((t=>(BE(e,t),!0)))},fT=(e,t)=>$E(e,t,t?ug:cg),pT=Dl([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),mT={...pT,none:e=>pT.none(e)},gT=(e,t,n)=>re(Rn(e),(e=>wn(e,t)?n(e)?[e]:[]:gT(e,t,n))),vT=(e,t)=>((e,t,n=B)=>n(t)?j.none():W(e,Wt(t))?j.some(t):er(t,e.join(","),(e=>wn(e,"table")||n(e))))(["td","th"],e,t),yT=e=>gT(e,"th,td",F),_T=(e,t)=>nr(e,"table",t),bT=(e,t,n,r,i=F)=>{const o=1===r;if(!o&&n<=0)return mT.first(e[0]);if(o&&n>=e.length-1)return mT.last(e[e.length-1]);{const o=n+r,s=e[o];return i(s)?mT.middle(t,s):bT(e,t,o,r,i)}},wT=(e,t)=>_T(e,t).bind((t=>{const n=yT(t);return te(n,(t=>xn(e,t))).map((e=>({index:e,all:n})))})),kT=(e,t,n,r,i)=>{const o=jr(_n.fromDom(n),"td,th,caption").map((e=>e.dom)),s=K(((e,t)=>re(t,(t=>{const n=((e,t)=>({left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}))(Da(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]})))(e,o),(e=>t(e,i)));return((e,t,n)=>J(e,((e,r)=>e.fold((()=>j.some(r)),(e=>{const i=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),o=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return j.some(o<i?r:e)}))),j.none()))(s,r,i).map((e=>e.cell))},xT=L(kT,(e=>e.bottom),((e,t)=>e.y<t)),ST=L(kT,(e=>e.top),((e,t)=>e.y>t)),ET=(e,t)=>ue(t.getClientRects()).bind((t=>xT(e,t.left,t.top))).bind((e=>{return mE(Gd(n=e).map((e=>gE(n,e).positions.concat(e))).getOr([]),t);var n})),CT=(e,t)=>de(t.getClientRects()).bind((t=>ST(e,t.left,t.top))).bind((e=>{return mE(Yd(n=e).map((e=>[e].concat(vE(n,e).positions))).getOr([]),t);var n})),TT=(e,t,n)=>{const r=e(t,n);return(e=>e.breakType===lE.Wrap&&0===e.positions.length)(r)||!si(n.getNode())&&(e=>e.breakType===lE.Br&&1===e.positions.length)(r)?!((e,t,n)=>n.breakAt.exists((n=>e(t,n).breakAt.isSome())))(e,t,r):r.breakAt.isNone()},AT=L(TT,gE),OT=L(TT,vE),DT=(e,t,n,r)=>{const i=e.selection.getRng(),o=t?1:-1;return!(!Ku()||!((e,t,n)=>{const r=il.fromRangeStart(t);return qd(!e,n).exists((e=>e.isEqual(r)))})(t,i,n))&&(hS(o,e,n,!t,!1).each((t=>{BE(e,t)})),!0)},MT=(e,t)=>{const n=t.getNode(e);return Xr(n)?j.some(n):j.none()},LT=(e,t,n)=>{const r=MT(!!t,n),i=!1===t;r.fold((()=>BE(e,n.toRange())),(r=>qd(i,e.getBody()).filter((e=>e.isEqual(n))).fold((()=>BE(e,n.toRange())),(n=>((e,t,n)=>{t.undoManager.transact((()=>{const r=e?mr:pr,i=jC(t,_n.fromDom(n),r);BE(t,i)}))})(t,e,r)))))},PT=(e,t,n,r)=>{const i=e.selection.getRng(),o=il.fromRangeStart(i),s=e.getBody();if(!t&&AT(r,o)){const r=((e,t,n)=>ET(t,n).orThunk((()=>ue(n.getClientRects()).bind((n=>pE(yE(e,il.before(t)),n.left))))).getOr(il.before(t)))(s,n,o);return LT(e,t,r),!0}if(t&&OT(r,o)){const r=((e,t,n)=>CT(t,n).orThunk((()=>ue(n.getClientRects()).bind((n=>pE(_E(e,il.after(t)),n.left))))).getOr(il.after(t)))(s,n,o);return LT(e,t,r),!0}return!1},IT=(e,t,n)=>j.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((r=>j.from(e.dom.getParent(r,"table")).map((i=>n(e,t,i,r))))).getOr(!1),RT=(e,t)=>IT(e,t,DT),NT=(e,t)=>IT(e,t,PT),BT=(e,t,n)=>n.fold(j.none,j.none,((e,t)=>{return(n=t,Qn(n,_m)).map((e=>(e=>{const t=Gf.exact(e,0,e,0);return ep(t)})(e)));var n}),(n=>(e.execCommand("mceTableInsertRowAfter"),FT(e,t,n)))),FT=(e,t,n)=>BT(e,t,((e,t,n)=>wT(e,n).fold((()=>mT.none(e)),(n=>bT(n.all,e,n.index,1,t))))(n,rr)),jT=(e,t,n)=>BT(e,t,((e,t,n)=>wT(e,n).fold((()=>mT.none()),(n=>bT(n.all,e,n.index,-1,t))))(n,rr)),zT=(e,t)=>{const n=["table","li","dl"],r=_n.fromDom(e.getBody()),i=e=>{const t=Wt(e);return xn(e,r)||W(n,t)},o=e.selection.getRng(),s=_n.fromDom(t?o.endContainer:o.startContainer);return vT(s,i).map((n=>{_T(n,i).each((t=>{e.model.table.clearSelectedCells(t.dom)})),e.selection.collapse(!t);return(t?FT:jT)(e,i,n).each((t=>{e.selection.setRng(t)})),!0})).getOr(!1)},HT=(e,t)=>{e.on("keydown",(n=>{n.isDefaultPrevented()||((e,t,n)=>{const r=Dt.os.isMacOS()||Dt.os.isiOS();cT([{keyCode:Mf.RIGHT,action:lT(GC,e,!0)},{keyCode:Mf.LEFT,action:lT(GC,e,!1)},{keyCode:Mf.UP,action:lT(KC,e,!1)},{keyCode:Mf.DOWN,action:lT(KC,e,!0)},...r?[{keyCode:Mf.UP,action:lT(JC,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Mf.DOWN,action:lT(JC,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Mf.RIGHT,action:lT(RT,e,!0)},{keyCode:Mf.LEFT,action:lT(RT,e,!1)},{keyCode:Mf.UP,action:lT(NT,e,!1)},{keyCode:Mf.DOWN,action:lT(NT,e,!0)},{keyCode:Mf.UP,action:lT(NT,e,!1)},{keyCode:Mf.UP,action:lT(rT,e,!1)},{keyCode:Mf.DOWN,action:lT(rT,e,!0)},{keyCode:Mf.RIGHT,action:lT(dT,e,!0)},{keyCode:Mf.LEFT,action:lT(dT,e,!1)},{keyCode:Mf.UP,action:lT(hT,e,!1)},{keyCode:Mf.DOWN,action:lT(hT,e,!0)},{keyCode:Mf.RIGHT,action:lT(YE,e,t,!0)},{keyCode:Mf.LEFT,action:lT(YE,e,t,!1)},{keyCode:Mf.RIGHT,ctrlKey:!r,altKey:r,action:lT(XE,e,t)},{keyCode:Mf.LEFT,ctrlKey:!r,altKey:r,action:lT(JE,e,t)},{keyCode:Mf.UP,action:lT(tT,e,!1)},{keyCode:Mf.DOWN,action:lT(tT,e,!0)}],n).each((e=>{n.preventDefault()}))})(e,t,n)}))},$T=(e,t)=>({container:e,offset:t}),UT=Ks.DOM,WT=e=>t=>e===t?-1:0,qT=(e,t,n)=>{if(ei(e)&&t>=0)return j.some($T(e,t));{const r=Aa(UT);return j.from(r.backwards(e,t,WT(e),n)).map((e=>$T(e.container,e.container.data.length)))}},VT=(e,t,n)=>{if(!ei(e))return j.none();const r=e.data;if(t>=0&&t<=r.length)return j.some($T(e,t));{const r=Aa(UT);return j.from(r.backwards(e,t,WT(e),n)).bind((e=>{const r=e.container.data;return VT(e.container,t+r.length,n)}))}},ZT=(e,t,n)=>{if(!ei(e))return j.none();const r=e.data;if(t<=r.length)return j.some($T(e,t));{const i=Aa(UT);return j.from(i.forwards(e,t,WT(e),n)).bind((e=>ZT(e.container,t-r.length,n)))}},YT=(e,t,n,r,i)=>{const o=Aa(e,(e=>t=>e.isBlock(t)||W(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t))(e));return j.from(o.backwards(t,n,r,i))},GT=e=>Ri(e.toString().replace(/\u00A0/g," ")),KT=e=>""!==e&&-1!=="  \f\n\r\t\v".indexOf(e),XT=(e,t)=>e.substring(t.length),JT=(e,t,n,r=0)=>{if(!(i=t).collapsed||!ei(i.startContainer))return j.none();var i;const o={text:"",offset:0},s=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return YT(e,t.startContainer,t.startOffset,((e,t,r)=>(o.text=r+o.text,o.offset+=t,((e,t,n)=>{let r;const i=n.charAt(0);for(r=t-1;r>=0;r--){const o=e.charAt(r);if(KT(o))return j.none();if(i===o&&Ue(e,n,r,t))break}return j.some(r)})(o.text,o.offset,n).getOr(t))),s).bind((e=>{const i=t.cloneRange();if(i.setStart(e.container,e.offset),i.setEnd(t.endContainer,t.endOffset),i.collapsed)return j.none();const o=GT(i);return 0!==o.lastIndexOf(n)||XT(o,n).length<r?j.none():j.some({text:XT(o,n),range:i,trigger:n})}))},QT=(e,t,n,r=0)=>{return(i=_n.fromDom(t.startContainer),nr(i,wm)).fold((()=>JT(e,t,n,r)),(t=>{const r=e.createRng();r.selectNode(t.dom);const i=GT(r);return j.some({range:r,text:XT(i,n),trigger:n})}));var i},eA=e=>{if((e=>3===e.nodeType)(e))return $T(e,e.data.length);{const t=e.childNodes;return t.length>0?eA(t[t.length-1]):$T(e,t.length)}},tA=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?tA(n[t],0):n.length>0&&(e=>1===e.nodeType)(e)&&n.length===t?eA(n[n.length-1]):$T(e,t)},nA=e=>t=>{const n=tA(t.startContainer,t.startOffset);return!((e,t)=>{var n;const r=null!==(n=e.getParent(t.container,e.isBlock))&&void 0!==n?n:e.getRoot();return YT(e,t.container,t.offset,((e,t)=>0===t?-1:t),r).filter((e=>{const t=e.container.data.charAt(e.offset-1);return!KT(t)})).isSome()})(e,n)},rA=(e,t)=>{const n=t(),r=e.selection.getRng();return((e,t,n)=>fe(n.triggers,(n=>QT(e,t,n))))(e.dom,r,n).bind((n=>iA(e,t,n)))},iA=(e,t,n,r={})=>{var i;const o=t(),s=null!==(i=e.selection.getRng().startContainer.nodeValue)&&void 0!==i?i:"",a=K(o.lookupByTrigger(n.trigger),(t=>n.text.length>=t.minChars&&t.matches.getOrThunk((()=>nA(e.dom)))(n.range,s,n.text)));if(0===a.length)return j.none();const l=Promise.all(V(a,(e=>e.fetch(n.text,e.maxResults,r).then((t=>({matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}))))));return j.some({lookupData:l,context:n})};var oA;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(oA||(oA={}));const sA=(e,t,n)=>e.stype===oA.Error?t(e.serror):n(e.svalue),aA=e=>({stype:oA.Value,svalue:e}),lA=e=>({stype:oA.Error,serror:e}),cA=e=>sA(e,Ol.error,Ol.value),uA=aA,dA=e=>{const t=[],n=[];return Z(e,(e=>{sA(e,(e=>n.push(e)),(e=>t.push(e)))})),{values:t,errors:n}},hA=lA,fA=(e,t)=>e.stype===oA.Error?t(e.serror):e,pA=(e,t)=>e.stype===oA.Value?{stype:oA.Value,svalue:t(e.svalue)}:e,mA=(e,t)=>e.stype===oA.Error?{stype:oA.Error,serror:t(e.serror)}:e,gA=sA,vA=e=>m(e)&&pe(e).length>100?" removed due to size":JSON.stringify(e,null,2),yA=(e,t)=>hA([{path:e,getErrorInfo:t}]),_A=(e,t,n,r)=>Se(n,r).fold((()=>((e,t,n)=>yA(e,(()=>'The chosen schema: "'+n+'" did not exist in branches: '+vA(t))))(e,n,r)),(n=>n.extract(e.concat(["branch: "+r]),t))),bA=(e,t)=>({extract:(n,r)=>Se(r,e).fold((()=>((e,t)=>yA(e,(()=>'Choice schema did not contain choice key: "'+t+'"')))(n,e)),(e=>_A(n,r,t,e))),toString:()=>"chooseOn("+e+"). Possible values: "+pe(t)}),wA=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let r=0;r<t.length;r++){const i=t[r];for(const t in i)Ee(i,t)&&(n[t]=e(n[t],i[t]))}return n},kA=wA(((e,t)=>g(e)&&g(t)?kA(e,t):t)),xA=(wA(((e,t)=>t)),e=>({tag:"defaultedThunk",process:O(e)})),SA=e=>T(hA,ne)(e),EA=e=>{const t=dA(e);return t.errors.length>0?SA(t.errors):uA(t.values)},CA=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},TA=e=>({extract:(t,n)=>fA(e(n),(e=>((e,t)=>yA(e,O(t)))(t,e))),toString:O("val")}),AA=TA(uA),OA=(e,t,n,r)=>Se(t,n).fold((()=>((e,t,n)=>yA(e,(()=>'Could not find valid *required* value for "'+t+'" in '+vA(n))))(e,n,t)),r),DA=(e,t,n,r)=>r(Se(e,t).getOrThunk((()=>n(e)))),MA=(e,t,n,r,i)=>{const o=e=>i.extract(t.concat([r]),e),s=e=>e.fold((()=>uA(j.none())),(e=>{const n=i.extract(t.concat([r]),e);return pA(n,j.some)}));switch(e.tag){case"required":return OA(t,n,r,o);case"defaultedThunk":return DA(n,r,e.process,o);case"option":return((e,t,n)=>n(Se(e,t)))(n,r,s);case"defaultedOptionThunk":return((e,t,n,r)=>r(Se(e,t).map((t=>!0===t?n(e):t))))(n,r,e.process,s);case"mergeWithThunk":return DA(n,r,O({}),(t=>{const r=kA(e.process(n),t);return o(r)}))}},LA=e=>({extract:(t,n)=>((e,t,n)=>{const r={},i=[];for(const o of n)CA(o,((n,o,s,a)=>{const l=MA(s,e,t,n,a);gA(l,(e=>{i.push(...e)}),(e=>{r[o]=e}))}),((e,n)=>{r[e]=n(t)}));return i.length>0?hA(i):uA(r)})(t,n,e),toString:()=>{const t=V(e,(e=>CA(e,((e,t,n,r)=>e+" -> "+r.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"}}),PA=e=>({extract:(t,n)=>{const r=V(n,((n,r)=>e.extract(t.concat(["["+r+"]"]),n)));return EA(r)},toString:()=>"array("+e.toString()+")"}),IA=(e,t,n)=>cA(((e,t,n)=>{const r=t.extract([e],n);return mA(r,(e=>({input:n,errors:e})))})(e,t,n)),RA=e=>"Errors: \n"+(e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:O("... (only showing first ten failures)")}]):e;return V(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))})(e.errors).join("\n")+"\n\nInput object: "+vA(e.input),NA=(e,t)=>bA(e,ve(t,LA)),BA=O(AA),FA=(e,t)=>TA((n=>{const r=typeof n;return e(n)?uA(n):hA(`Expected type: ${t} but got: ${r}`)})),jA=FA(S,"number"),zA=FA(p,"string"),HA=FA(_,"boolean"),$A=FA(x,"function"),UA=(e,t,n,r)=>({tag:"field",key:e,newKey:t,presence:n,prop:r}),WA=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),qA=e=>{return t=t=>W(e,t)?Ol.value(t):Ol.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`),TA((e=>t(e).fold(hA,uA)));var t},VA=(e,t)=>UA(e,e,{tag:"required",process:{}},t),ZA=e=>VA(e,zA),YA=e=>VA(e,$A),GA=(e,t)=>UA(e,e,{tag:"option",process:{}},t),KA=e=>GA(e,zA),XA=(e,t,n)=>UA(e,e,xA(t),n),JA=(e,t)=>XA(e,t,jA),QA=(e,t,n)=>XA(e,t,qA(n)),eO=(e,t)=>XA(e,t,HA),tO=(e,t)=>XA(e,t,$A),nO=ZA("type"),rO=YA("fetch"),iO=YA("onAction"),oO=tO("onSetup",(()=>C)),sO=KA("text"),aO=KA("icon"),lO=KA("tooltip"),cO=KA("label"),uO=eO("active",!1),dO=eO("enabled",!0),hO=eO("primary",!1),fO=e=>((e,t)=>XA(e,t,zA))("type",e),pO=LA([nO,ZA("trigger"),JA("minChars",1),(gO=1,((e,t)=>UA(e,e,xA(t),BA()))("columns",gO)),JA("maxResults",10),(mO="matches",GA(mO,$A)),rO,iO,((e,t,n)=>XA(e,t,PA(n)))("highlightOn",[],zA)]);var mO,gO;const vO=[dO,lO,aO,sO,oO],yO=[uO].concat(vO),_O=[tO("predicate",B),QA("scope","node",["node","editor"]),QA("position","selection",["node","selection","line"])],bO=vO.concat([fO("contextformbutton"),hO,iO,WA("original",D)]),wO=yO.concat([fO("contextformbutton"),hO,iO,WA("original",D)]),kO=vO.concat([fO("contextformbutton")]),xO=yO.concat([fO("contextformtogglebutton")]),SO=NA("type",{contextformbutton:bO,contextformtogglebutton:wO});LA([fO("contextform"),tO("initValue",O("")),cO,((e,t)=>UA(e,e,{tag:"required",process:{}},PA(t)))("commands",SO),GA("launch",NA("type",{contextformbutton:kO,contextformtogglebutton:xO}))].concat(_O));const EO=e=>{const t=e.ui.registry.getAll().popups,n=ve(t,(e=>{return(t=e,IA("Autocompleter",pO,{trigger:t.ch,...t})).fold((e=>{throw new Error(RA(e))}),D);var t})),r=Te(ke(n,(e=>e.trigger))),i=xe(n);return{dataset:n,triggers:r,lookupByTrigger:e=>K(i,(t=>t.trigger===e))}},CO=e=>{const t=sa(),n=Qs(!1),r=t.isSet,i=()=>{r()&&((e=>{bk(e).autocompleter.removeDecoration()})(e),(e=>{e.dispatch("AutocompleterEnd")})(e),n.set(!1),t.clear())},o=n=>{r()||(((e,t)=>{bk(e).autocompleter.addDecoration(t)})(e,n.range),t.set({trigger:n.trigger,matchLength:n.text.length}))},s=Ne((()=>EO(e))),a=r=>{(n=>t.get().map((t=>QT(e.dom,e.selection.getRng(),t.trigger).bind((t=>iA(e,s,t,n))))).getOrThunk((()=>rA(e,s))))(r).fold(i,(r=>{o(r.context),r.lookupData.then((o=>{t.get().map((s=>{const a=r.context;s.trigger===a.trigger&&(a.text.length-s.matchLength>=10?i():(t.set({...s,matchLength:a.text.length}),n.get()?((e,t)=>{e.dispatch("AutocompleterUpdate",t)})(e,{lookupData:o}):(n.set(!0),((e,t)=>{e.dispatch("AutocompleterStart",t)})(e,{lookupData:o}))))}))}))}))};e.addCommand("mceAutocompleterReload",((e,t)=>{const n=m(t)?t.fetchOptions:{};a(n)})),e.addCommand("mceAutocompleterClose",i),((e,t)=>{const n=la(t.load,50);e.on("keypress compositionend",(e=>{27!==e.which&&n.throttle()})),e.on("keydown",(e=>{const r=e.which;8===r?n.throttle():27===r&&t.cancelIfNecessary()})),e.on("remove",n.cancel)})(e,{cancelIfNecessary:i,load:a})},TO=xt().browser.isSafari(),AO=e=>Li(_n.fromDom(e)),OO=(e,t)=>{var n;return 0===e.startOffset&&e.endOffset===(null===(n=t.textContent)||void 0===n?void 0:n.length)},DO=(e,t)=>j.from(e.getParent(t.container(),"details")),MO=(e,t)=>DO(e,t).isSome(),LO=(e,t)=>t.startSummary.exists((t=>((e,t)=>Yd(t).exists((t=>t.isEqual(e))))(e,t))),PO=(e,t)=>t.startSummary.exists((t=>((e,t)=>Gd(t).exists((n=>si(n.getNode())&&Zd(t,n).exists((t=>t.isEqual(e)))||n.isEqual(e))))(e,t))),IO=(e,t)=>{const n=t.getNode();b(n)||e.selection.setCursorLocation(n,t.offset())},RO=(e,t,n)=>{const r=e.dom.getParent(t.container(),"details");if(r&&!r.open){const t=e.dom.select("summary",r)[0];if(t){(n?Yd(t):Gd(t)).each((t=>IO(e,t)))}}else IO(e,t)},NO=(e,t,n)=>{const{dom:r,selection:i}=e,o=e.getBody();if("character"===n){const n=il.fromRangeStart(i.getRng()),s=r.getParent(n.container(),r.isBlock),a=DO(r,n),l=s&&r.isEmpty(s),c=y(null==s?void 0:s.previousSibling),u=y(null==s?void 0:s.nextSibling);if(l){if(t?u:c){if(Ud(!t,o,n).exists((e=>MO(r,e)&&!Nt(a,DO(r,e)))))return!0}}return Ud(t,o,n).fold(B,(n=>{const i=DO(r,n);if(MO(r,n)&&!Nt(a,i)){if(t||RO(e,n,!1),s&&l){if(t&&c)return!0;if(!t&&u)return!0;RO(e,n,t),e.dom.remove(s)}return!0}return!1}))}return!1},BO=(e,t,n,r)=>{const i=e.selection.getRng(),o=il.fromRangeStart(i),s=e.getBody();return"selection"===r?((e,t)=>{const n=t.startSummary.exists((t=>t.contains(e.startContainer))),r=t.startSummary.exists((t=>t.contains(e.endContainer))),i=t.startDetails.forall((e=>t.endDetails.forall((t=>e!==t))));return(n||r)&&!(n&&r)||i})(i,t):n?PO(o,t)||((e,t,n)=>n.startDetails.exists((n=>Vd(e,t).forall((e=>!n.contains(e.container()))))))(s,o,t):LO(o,t)||((e,t)=>t.startDetails.exists((n=>Zd(n,e).forall((n=>t.startSummary.exists((t=>!t.contains(e.container())&&t.contains(n.container()))))))))(o,t)},FO=(e,t,n)=>((e,t)=>{const n=j.from(e.getParent(t.startContainer,"details")),r=j.from(e.getParent(t.endContainer,"details"));if(n.isSome()||r.isSome()){const t=n.bind((t=>j.from(e.select("summary",t)[0])));return j.some({startSummary:t,startDetails:n,endDetails:r})}return j.none()})(e.dom,e.selection.getRng()).fold((()=>NO(e,t,n)),(r=>BO(e,r,t,n)||NO(e,t,n))),jO=(e,t,n)=>{const r=e.selection,i=r.getNode(),o=r.getRng(),s=il.fromRangeStart(o);return!!mi(i)&&("selection"===n&&OO(o,i)||bv(t,s,i)?AO(i):e.undoManager.transact((()=>{const o=r.getSel();let{anchorNode:s,anchorOffset:a,focusNode:l,focusOffset:c}=null!=o?o:{};const u=()=>{k(s)&&k(a)&&k(l)&&k(c)&&(null==o||o.setBaseAndExtent(s,a,l,c))},d=(e,t)=>{Z(e.childNodes,(e=>{Ah(e)&&t.appendChild(e)}))},h=e.dom.create("span",{"data-mce-bogus":"1"});d(i,h),i.appendChild(h),u(),"word"!==n&&"line"!==n||null==o||o.modify("extend",t?"right":"left",n),!r.isCollapsed()&&OO(r.getRng(),h)?AO(i):(e.execCommand(t?"ForwardDelete":"Delete"),s=null==o?void 0:o.anchorNode,a=null==o?void 0:o.anchorOffset,l=null==o?void 0:o.focusNode,c=null==o?void 0:o.focusOffset,d(h,i),u()),e.dom.remove(h)})),!0)},zO=(e,t,n)=>FO(e,t,n)||TO&&jO(e,t,n)?j.some(C):j.none(),HO=e=>(t,n,r={})=>{const i=t.getBody(),o={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:i,currentTarget:i,eventPhase:Event.AT_TARGET,originalTarget:i,explicitOriginalTarget:i,isTrusted:!1,srcElement:i,cancelable:!1,preventDefault:C,inputType:n},s=Ps(new InputEvent(e));return t.dispatch(e,{...s,...o,...r})},$O=HO("input"),UO=HO("beforeinput"),WO=xt(),qO=WO.os,VO=qO.isMacOS()||qO.isiOS(),ZO=WO.browser.isFirefox(),YO=(e,t)=>{let n=!1;e.on("keydown",(r=>{n=r.keyCode===Mf.BACKSPACE,r.isDefaultPrevented()||((e,t,n)=>{const r=n.keyCode===Mf.BACKSPACE?"deleteContentBackward":"deleteContentForward",i=e.selection.isCollapsed(),o=i?"character":"selection",s=e=>i?e?"word":"line":"selection";uT([{keyCode:Mf.BACKSPACE,action:lT(AC,e)},{keyCode:Mf.BACKSPACE,action:lT(OS,e,!1)},{keyCode:Mf.DELETE,action:lT(OS,e,!0)},{keyCode:Mf.BACKSPACE,action:lT(yS,e,!1)},{keyCode:Mf.DELETE,action:lT(yS,e,!0)},{keyCode:Mf.BACKSPACE,action:lT(rC,e,t,!1)},{keyCode:Mf.DELETE,action:lT(rC,e,t,!0)},{keyCode:Mf.BACKSPACE,action:lT(ty,e,!1)},{keyCode:Mf.DELETE,action:lT(ty,e,!0)},{keyCode:Mf.BACKSPACE,action:lT(zO,e,!1,o)},{keyCode:Mf.DELETE,action:lT(zO,e,!0,o)},...VO?[{keyCode:Mf.BACKSPACE,altKey:!0,action:lT(zO,e,!1,s(!0))},{keyCode:Mf.DELETE,altKey:!0,action:lT(zO,e,!0,s(!0))},{keyCode:Mf.BACKSPACE,metaKey:!0,action:lT(zO,e,!1,s(!1))}]:[{keyCode:Mf.BACKSPACE,ctrlKey:!0,action:lT(zO,e,!1,s(!0))},{keyCode:Mf.DELETE,ctrlKey:!0,action:lT(zO,e,!0,s(!0))}],{keyCode:Mf.BACKSPACE,action:lT(DS,e,!1)},{keyCode:Mf.DELETE,action:lT(DS,e,!0)},{keyCode:Mf.BACKSPACE,action:lT(bC,e,!1)},{keyCode:Mf.DELETE,action:lT(bC,e,!0)},{keyCode:Mf.BACKSPACE,action:lT(dS,e,!1)},{keyCode:Mf.DELETE,action:lT(dS,e,!0)},{keyCode:Mf.BACKSPACE,action:lT(aS,e,!1)},{keyCode:Mf.DELETE,action:lT(aS,e,!0)},{keyCode:Mf.BACKSPACE,action:lT(mC,e,!1)},{keyCode:Mf.DELETE,action:lT(mC,e,!0)}],n).filter((t=>e.selection.isEditable())).each((t=>{n.preventDefault(),UO(e,r).isDefaultPrevented()||(t(),$O(e,r))}))})(e,t,r)})),e.on("keyup",(t=>{t.isDefaultPrevented()||((e,t,n)=>{cT([{keyCode:Mf.BACKSPACE,action:lT(AS,e)},{keyCode:Mf.DELETE,action:lT(AS,e)},...VO?[{keyCode:Mf.BACKSPACE,altKey:!0,action:lT(yC,e)},{keyCode:Mf.DELETE,altKey:!0,action:lT(yC,e)},...n?[{keyCode:ZO?224:91,action:lT(yC,e)}]:[]]:[{keyCode:Mf.BACKSPACE,ctrlKey:!0,action:lT(yC,e)},{keyCode:Mf.DELETE,ctrlKey:!0,action:lT(yC,e)}]],t)})(e,t,n),n=!1}))},GO=(e,t)=>{const n=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const e=(e=>{for(;e;){if(Wr(e)||ei(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null})(t.firstChild);e&&/^(UL|OL|DL)$/.test(e.nodeName)&&t.insertBefore(n.doc.createTextNode(vi),t.firstChild)}const i=n.createRng();if(t.normalize(),t.hasChildNodes()){const e=new Hr(t,t);let n,o=t;for(;n=e.current();){if(ei(n)){i.setStart(n,0),i.setEnd(n,0);break}if(r[n.nodeName.toLowerCase()]){i.setStartBefore(n),i.setEndBefore(n);break}o=n,n=e.next()}n||(i.setStart(o,0),i.setEnd(o,0))}else si(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)):(i.setStart(t,0),i.setEnd(t,0));e.selection.setRng(i),Rp(e,i)},KO=(e,t)=>{const n=e.getRoot();let r,i=t;for(;i!==n&&i&&"false"!==e.getContentEditable(i);){if("true"===e.getContentEditable(i)){r=i;break}i=i.parentNode}return i!==n?r:n},XO=e=>j.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),JO=e=>{e.innerHTML='<br data-mce-bogus="1">'},QO=(e,t)=>{if(Xl(e).toLowerCase()===t.tagName.toLowerCase()){((e,t,n)=>{const r=e.dom;j.from(n.style).map(r.parseStyle).each((e=>{const n={...hr(_n.fromDom(t)),...e};r.setStyles(t,n)}));const i=j.from(n.class).map((e=>e.split(/\s+/))),o=j.from(t.className).map((e=>K(e.split(/\s+/),(e=>""!==e))));Bt(i,o,((e,n)=>{const i=K(n,(t=>!W(e,t))),o=[...e,...i];r.setAttrib(t,"class",o.join(" "))}));const s=["style","class"],a=we(n,((e,t)=>!W(s,t)));r.setAttribs(t,a)})(e,t,Jl(e))}},eD=(e,t,n,r,i=!0,o,s)=>{const a=e.dom,l=e.schema,c=Xl(e),u=n?n.nodeName.toUpperCase():"";let d=t;const h=l.getTextInlineElements();let f;f=o||"TABLE"===u||"HR"===u?a.create(o||c,s||{}):n.cloneNode(!1);let p=f;if(i){do{if(h[d.nodeName]){if(Xd(d)||dh(d))continue;const e=d.cloneNode(!1);a.setAttrib(e,"id",""),f.hasChildNodes()?(e.appendChild(f.firstChild),f.appendChild(e)):(p=e,f.appendChild(e))}}while((d=d.parentNode)&&d!==r)}else a.setAttrib(f,"style",null),a.setAttrib(f,"class",null);return QO(e,f),JO(p),f},tD=(e,t,n)=>!t&&n.nodeName.toLowerCase()===Xl(e)&&e.dom.isEmpty(n)&&((e,t,n)=>{let r=t;for(;r&&r!==e&&y(r.nextSibling);){const e=r.parentElement;if(!e||!n(e))return pi(e);r=e}return!1})(e.getBody(),n,(t=>Ee(e.schema.getTextBlockElements(),t.nodeName.toLowerCase()))),nD=(e,t,n)=>{var r,i,o;const s=t(Xl(e)),a=((e,t)=>e.dom.getParent(t,pi))(e,n);a&&(e.dom.insertAfter(s,a),GO(e,s),(null!==(o=null===(i=null===(r=n.parentElement)||void 0===r?void 0:r.childNodes)||void 0===i?void 0:i.length)&&void 0!==o?o:0)>1&&e.dom.remove(n))},rD=(e,t)=>{const n=null==e?void 0:e.parentNode;return k(n)&&n.nodeName===t},iD=e=>k(e)&&/^(OL|UL|LI)$/.test(e.nodeName),oD=e=>k(e)&&/^(LI|DT|DD)$/.test(e.nodeName),sD=e=>{const t=e.parentNode;return oD(t)?t:e},aD=(e,t,n)=>{let r=e[n?"firstChild":"lastChild"];for(;r&&!Wr(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},lD=e=>J(ke(hr(_n.fromDom(e)),((e,t)=>`${t}: ${e};`)),((e,t)=>e+t),""),cD=(e,t,n,r,i)=>{const o=e.dom,s=e.selection.getRng(),a=n.parentNode;if(n===e.getBody()||!a)return;var l;iD(l=n)&&iD(l.parentNode)&&(i="LI");const c=oD(r)?lD(r):void 0;let u=oD(r)&&c?t(i,{style:lD(r)}):t(i);if(aD(n,r,!0)&&aD(n,r,!1))if(rD(n,"LI")){const e=sD(n);o.insertAfter(u,e),(e=>{var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e})(n)?o.remove(e):o.remove(n)}else o.replace(u,n);else if(aD(n,r,!0))rD(n,"LI")?(o.insertAfter(u,sD(n)),u.appendChild(o.doc.createTextNode(" ")),u.appendChild(n)):a.insertBefore(u,n),o.remove(r);else if(aD(n,r,!1))o.insertAfter(u,sD(n)),o.remove(r);else{n=sD(n);const e=s.cloneRange();e.setStartAfter(r),e.setEndAfter(n);const t=e.extractContents();if("LI"===i&&((e,t)=>e.firstChild&&e.firstChild.nodeName===t)(t,"LI")){const e=K(V(u.children,_n.fromDom),P(Jt("br")));u=t.firstChild,o.insertAfter(t,n),Z(e,(e=>gr(_n.fromDom(u),e))),c&&u.setAttribute("style",c)}else o.insertAfter(t,n),o.insertAfter(u,n);o.remove(r)}GO(e,u)},uD=(e,t)=>t&&"A"===t.nodeName&&e.isEmpty(t),dD=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,hD=(e,t)=>k(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&"false"!==e.getContentEditable(t),fD=(e,t,n)=>ei(t)?e?1===n&&t.data.charAt(n-1)===Pi?0:n:n===t.data.length-1&&t.data.charAt(n)===Pi?t.data.length:n:n,pD={insert:(e,t)=>{let n,r,i,o,s=!1;const a=e.dom,l=e.schema.getNonEmptyElements(),c=e.selection.getRng(),u=Xl(e),d=_n.fromDom(c.startContainer),h=Nn(d,c.startOffset),f=h.exists((e=>Zt(e)&&!rr(e))),m=c.collapsed&&f,g=(t,r)=>eD(e,n,S,x,nc(e),t,r),v=e=>{const t=fD(e,n,r);if(ei(n)&&(e?t>0:t<n.data.length))return!1;if(n.parentNode===S&&s&&!e)return!0;if(e&&Wr(n)&&n===S.firstChild)return!0;if(dD(n,"TABLE")||dD(n,"HR"))return s&&!e||!s&&e;const i=new Hr(n,S);let o;for(ei(n)&&(e&&0===t?i.prev():e||t!==n.data.length||i.next());o=i.current();){if(Wr(o)){if(!o.getAttribute("data-mce-bogus")){const e=o.nodeName.toLowerCase();if(l[e]&&"br"!==e)return!1}}else if(ei(o)&&!so(o.data))return!1;e?i.prev():i.next()}return!0},y=()=>{let t;return t=/^(H[1-6]|PRE|FIGURE)$/.test(i)&&"HGROUP"!==E?g(u):g(),((e,t)=>{const n=rc(e);return!w(t)&&(p(n)?W(It.explode(n),t.nodeName.toLowerCase()):n)})(e,o)&&hD(a,o)&&a.isEmpty(S,void 0,{includeZwsp:!0})?t=a.split(o,S):a.insertAfter(t,S),GO(e,t),t};up(a,c).each((e=>{c.setStart(e.startContainer,e.startOffset),c.setEnd(e.endContainer,e.endOffset)})),n=c.startContainer,r=c.startOffset;const _=!(!t||!t.shiftKey),b=!(!t||!t.ctrlKey);Wr(n)&&n.hasChildNodes()&&!m&&(s=r>n.childNodes.length-1,n=n.childNodes[Math.min(r,n.childNodes.length-1)]||n,r=s&&ei(n)?n.data.length:0);const x=KO(a,n);if(!x||((e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return null!==n&&"false"===e.dom.getContentEditableParent(n)})(e,n))return;_||(n=((e,t,n,r,i)=>{var o,s;const a=e.dom,l=null!==(o=KO(a,r))&&void 0!==o?o:a.getRoot();let c=a.getParent(r,a.isBlock);if(!c||!hD(a,c)){if(c=c||l,!c.hasChildNodes()){const r=a.create(t);return QO(e,r),c.appendChild(r),n.setStart(r,0),n.setEnd(r,0),r}let o,u=r;for(;u&&u.parentNode!==c;)u=u.parentNode;for(;u&&!a.isBlock(u);)o=u,u=u.previousSibling;const d=null===(s=null==o?void 0:o.parentElement)||void 0===s?void 0:s.nodeName;if(o&&d&&e.schema.isValidChild(d,t.toLowerCase())){const s=o.parentNode,l=a.create(t);for(QO(e,l),s.insertBefore(l,o),u=o;u&&!a.isBlock(u);){const e=u.nextSibling;l.appendChild(u),u=e}n.setStart(r,i),n.setEnd(r,i)}}return r})(e,u,c,n,r));let S=a.getParent(n,a.isBlock)||a.getRoot();o=k(null==S?void 0:S.parentNode)?a.getParent(S.parentNode,a.isBlock):null,i=S?S.nodeName.toUpperCase():"";const E=o?o.nodeName.toUpperCase():"";if("LI"===E&&!b){S=o,o=o.parentNode,i=E}if(Wr(o)&&tD(e,_,S))return nD(e,g,S);if(/^(LI|DT|DD)$/.test(i)&&Wr(o)&&a.isEmpty(S))return void cD(e,g,o,S,u);if(!(m||S!==e.getBody()&&hD(a,S)))return;const C=S.parentNode;let T;if(m)T=g(u),h.fold((()=>{vr(d,_n.fromDom(T))}),(e=>{pr(e,_n.fromDom(T))})),e.selection.setCursorLocation(T,0);else if(Fi(S))T=Vi(S),a.isEmpty(S)&&JO(S),QO(e,T),GO(e,T);else if(v(!1))T=y();else if(v(!0)&&C){T=C.insertBefore(g(),S);const t=_n.fromDom(c.startContainer).dom.hasChildNodes()&&c.collapsed;GO(e,dD(S,"HR")||t?T:S)}else{const t=(e=>{const t=e.cloneRange();return t.setStart(e.startContainer,fD(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,fD(!1,e.endContainer,e.endOffset)),t})(c).cloneRange();t.setEndAfter(S);const n=t.extractContents();(e=>{Z(Fr(_n.fromDom(e),Gt),(e=>{const t=e.dom;t.nodeValue=Ri(t.data)}))})(n),(e=>{let t=e;do{ei(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)})(n),T=n.firstChild,a.insertAfter(n,S),((e,t,n)=>{var r;const i=[];if(!n)return;let o=n;for(;o=o.firstChild;){if(e.isBlock(o))return;Wr(o)&&!t[o.nodeName.toLowerCase()]&&i.push(o)}let s=i.length;for(;s--;)o=i[s],(!o.hasChildNodes()||o.firstChild===o.lastChild&&""===(null===(r=o.firstChild)||void 0===r?void 0:r.nodeValue)||uD(e,o))&&e.remove(o)})(a,l,T),((e,t)=>{t.normalize();const n=t.lastChild;(!n||Wr(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")})(a,S),a.isEmpty(S)&&JO(S),T.normalize(),a.isEmpty(T)?(a.remove(T),y()):(QO(e,T),GO(e,T))}a.setAttrib(T,"id",""),e.dispatch("NewBlock",{newBlock:T})},fakeEventName:"insertParagraph"},mD=(e,t,n)=>{const r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),Rp(e,r)},gD=(e,t)=>{const n=e.selection,r=e.dom,i=n.getRng();let o,s=!1;up(r,i).each((e=>{i.setStart(e.startContainer,e.startOffset),i.setEnd(e.endContainer,e.endOffset)}));let a=i.startOffset,l=i.startContainer;if(Wr(l)&&l.hasChildNodes()){const e=a>l.childNodes.length-1;l=l.childNodes[Math.min(a,l.childNodes.length-1)]||l,a=e&&ei(l)?l.data.length:0}let c=r.getParent(l,r.isBlock);const u=c&&c.parentNode?r.getParent(c.parentNode,r.isBlock):null,d=u?u.nodeName.toUpperCase():"",h=!(!t||!t.ctrlKey);"LI"!==d||h||(c=u),ei(l)&&a>=l.data.length&&(((e,t,n)=>{const r=new Hr(t,n);let i;const o=e.getNonEmptyElements();for(;i=r.next();)if(o[i.nodeName.toLowerCase()]||ei(i)&&i.length>0)return!0;return!1})(e.schema,l,c||r.getRoot())||(o=r.create("br"),i.insertNode(o),i.setStartAfter(o),i.setEndAfter(o),s=!0)),o=r.create("br"),sl(r,i,o),mD(e,o,s),e.undoManager.add()},vD=(e,t)=>{const n=_n.fromTag("br");pr(_n.fromDom(t),n),e.undoManager.add()},yD=(e,t)=>{_D(e.getBody(),t)||mr(_n.fromDom(t),_n.fromTag("br"));const n=_n.fromTag("br");mr(_n.fromDom(t),n),mD(e,n.dom,!1),e.undoManager.add()},_D=(e,t)=>{return n=il.after(t),!!si(n.getNode())||Vd(e,il.after(t)).map((e=>si(e.getNode()))).getOr(!1);var n},bD=e=>e&&"A"===e.nodeName&&"href"in e,wD=e=>e.fold(B,bD,bD,B),kD=(e,t)=>{t.fold(C,L(vD,e),L(yD,e),C)},xD={insert:(e,t)=>{const n=(e=>{const t=L(cv,e),n=il.fromRangeStart(e.selection.getRng());return XS(t,e.getBody(),n).filter(wD)})(e);n.isSome()?n.each(L(kD,e)):gD(e,t)},fakeEventName:"insertLineBreak"},SD=(e,t)=>XO(e).filter((e=>t.length>0&&wn(_n.fromDom(e),t))).isSome(),ED=Dl([{br:[]},{block:[]},{none:[]}]),CD=(e,t)=>(e=>SD(e,tc(e)))(e),TD=e=>(t,n)=>(e=>XO(e).filter((e=>Ci(_n.fromDom(e)))).isSome())(t)===e,AD=(e,t)=>(n,r)=>{const i=(e=>XO(e).fold(O(""),(e=>e.nodeName.toUpperCase())))(n)===e.toUpperCase();return i===t},OD=e=>{const t=KO(e.dom,e.selection.getStart());return w(t)},DD=e=>AD("pre",e),MD=e=>(t,n)=>Kl(t)===e,LD=(e,t)=>(e=>SD(e,ec(e)))(e),PD=(e,t)=>t,ID=e=>{const t=Xl(e),n=KO(e.dom,e.selection.getStart());return k(n)&&e.schema.isValidChild(n.nodeName,t)},RD=e=>{const t=e.selection.getRng(),n=_n.fromDom(t.startContainer),r=Nn(n,t.startOffset).map((e=>Zt(e)&&!rr(e)));return t.collapsed&&r.getOr(!0)},ND=(e,t)=>(n,r)=>J(e,((e,t)=>e&&t(n,r)),!0)?j.some(t):j.none(),BD=(e,t,n)=>{if(t.selection.isCollapsed()||(e=>{e.execCommand("delete")})(t),k(n)){if(UO(t,e.fakeEventName).isDefaultPrevented())return}e.insert(t,n),k(n)&&$O(t,e.fakeEventName)},FD=(e,t)=>{const n=()=>BD(xD,e,t),r=()=>BD(pD,e,t),i=((e,t)=>HS([ND([CD],ED.none()),ND([DD(!0),OD],ED.none()),ND([AD("summary",!0)],ED.br()),ND([DD(!0),MD(!1),PD],ED.br()),ND([DD(!0),MD(!1)],ED.block()),ND([DD(!0),MD(!0),PD],ED.block()),ND([DD(!0),MD(!0)],ED.br()),ND([TD(!0),PD],ED.br()),ND([TD(!0)],ED.block()),ND([LD],ED.br()),ND([PD],ED.br()),ND([ID],ED.block()),ND([RD],ED.block())],[e,!(!t||!t.shiftKey)]).getOr(ED.none()))(e,t);switch(Ql(e)){case"linebreak":i.fold(n,n,C);break;case"block":i.fold(r,r,C);break;case"invert":i.fold(r,n,C);break;default:i.fold(n,r,C)}},jD=xt(),zD=jD.os.isiOS()&&jD.browser.isSafari(),HD=(e,t)=>{var n;t.isDefaultPrevented()||(t.preventDefault(),(n=e.undoManager).typing&&(n.typing=!1,n.add()),e.undoManager.transact((()=>{FD(e,t)})))},$D=e=>{let t=j.none();e.on("keydown",(n=>{n.keyCode===Mf.ENTER&&(zD&&(e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(ei(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=t.data.charAt(e.startOffset-1);return n.test(r)}return!1})(e.selection.getRng())?(e=>{t=j.some(e.selection.getBookmark()),e.undoManager.add()})(e):HD(e,n))})),e.on("keyup",(n=>{n.keyCode===Mf.ENTER&&t.each((()=>((e,n)=>{e.undoManager.undo(),t.fold(C,(t=>e.selection.moveToBookmark(t))),HD(e,n),t=j.none()})(e,n)))}))},UD=(e,t)=>{e.on("keydown",(n=>{n.isDefaultPrevented()||((e,t,n)=>{const r=Dt.os.isMacOS()||Dt.os.isiOS();cT([{keyCode:Mf.END,action:lT(XC,e,!0)},{keyCode:Mf.HOME,action:lT(XC,e,!1)},...r?[]:[{keyCode:Mf.HOME,action:lT(JC,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Mf.END,action:lT(JC,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Mf.END,action:lT(fT,e,!0)},{keyCode:Mf.HOME,action:lT(fT,e,!1)},{keyCode:Mf.END,action:lT(QE,e,!0,t)},{keyCode:Mf.HOME,action:lT(QE,e,!1,t)}],n).each((e=>{n.preventDefault()}))})(e,t,n)}))},WD=e=>{e.on("input",(t=>{t.isComposing||(e=>{const t=_n.fromDom(e.getBody());e.selection.isCollapsed()&&Zg(t,il.fromRangeStart(e.selection.getRng()),e.schema).each((t=>{e.selection.setRng(t.toRange())}))})(e)}))},qD=xt(),VD=e=>e.stopImmediatePropagation(),ZD=e=>e.keyCode===Mf.PAGE_UP||e.keyCode===Mf.PAGE_DOWN,YD=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",VD,!0):!n&&e.get()&&t.off("NodeChange",VD),e.set(n)},GD=(e,t)=>{if(qD.os.isMacOS())return;const n=Qs(!1);e.on("keydown",(t=>{ZD(t)&&YD(n,e,!0)})),e.on("keyup",(r=>{r.isDefaultPrevented()||((e,t,n)=>{cT([{keyCode:Mf.PAGE_UP,action:lT(QE,e,!1,t)},{keyCode:Mf.PAGE_DOWN,action:lT(QE,e,!0,t)}],n)})(e,t,r),ZD(r)&&n.get()&&(YD(n,e,!1),e.nodeChanged())}))},KD=(e,t)=>{const n=t.container(),r=t.offset();return ei(n)?(n.insertData(r,e),j.some(il(n,r+e.length))):xd(t).map((n=>{const r=_n.fromText(e);return t.isAtEnd()?mr(n,r):pr(n,r),il(r.dom,e.length)}))},XD=L(KD,vi),JD=L(KD," "),QD=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},eM=e=>{const t=il.fromRangeStart(e.selection.getRng()),n=_n.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=L(cv,e),i=il.fromRangeStart(e.selection.getRng());return XS(r,e.getBody(),i).bind((e=>t=>t.fold((t=>Zd(e.dom,il.before(t))),(e=>Yd(e)),(e=>Gd(e)),(t=>Vd(e.dom,il.after(t)))))(n)).map((r=>()=>((e,t,n)=>r=>Fg(e,r,n)?XD(t):JD(t))(n,t,e.schema)(r).each(QD(e))))}return j.none()},tM=e=>Ft(Dt.browser.isFirefox()&&e.selection.isEditable()&&((e,t)=>e.isEditable(e.getParent(t,"summary")))(e.dom,e.selection.getRng().startContainer),(()=>{const t=_n.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");((e,t,n)=>Fg(e,t,n)?XD(t):JD(t))(t,il.fromRangeStart(e.selection.getRng()),e.schema).each(QD(e))})),nM=e=>{e.on("keydown",(t=>{t.isDefaultPrevented()||((e,t)=>{uT([{keyCode:Mf.SPACEBAR,action:lT(eM,e)},{keyCode:Mf.SPACEBAR,action:lT(tM,e)}],t).each((n=>{t.preventDefault(),UO(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),$O(e,"insertText",{data:" "}))}))})(e,t)}))},rM=e=>Du(e)?[{keyCode:Mf.TAB,action:lT(zT,e,!0)},{keyCode:Mf.TAB,shiftKey:!0,action:lT(zT,e,!1)}]:[],iM=e=>{e.on("keydown",(t=>{t.isDefaultPrevented()||((e,t)=>{cT([...rM(e)],t).each((e=>{t.preventDefault()}))})(e,t)}))},oM=e=>{if(e.addShortcut("Meta+P","","mcePrint"),CO(e),vk(e))return Qs(null);{const t=KE(e);return(e=>{e.on("beforeinput",(t=>{e.selection.isEditable()&&!q(t.getTargetRanges(),(t=>!hm(e.dom,t)))||t.preventDefault()}))})(e),(e=>{e.on("keyup compositionstart",L(WC,e))})(e),HT(e,t),YO(e,t),$D(e),nM(e),WD(e),iM(e),UD(e,t),GD(e,t),t}};class sM{constructor(e){let t;this.lastPath=[],this.editor=e;const n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(n=>{const r=e.selection.getRng(),i={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};"nodechange"!==n.type&&rp(i,t)||e.dispatch("SelectionChange"),t=i})),e.on("contextmenu",(()=>{e.dispatch("SelectionChange")})),e.on("SelectionChange",(()=>{const t=e.selection.getStart(!0);t&&Eh(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("mouseup",(t=>{!t.isDefaultPrevented()&&Eh(e)&&("IMG"===e.selection.getNode().nodeName?Gp.setEditorTimeout(e,(()=>{e.nodeChanged()})):e.nodeChanged())}))}nodeChanged(e={}){const t=this.editor.selection;let n;if(this.editor.initialized&&t&&!qc(this.editor)&&!this.editor.mode.isReadOnly()){const r=this.editor.getBody();n=t.getStart(!0)||r,n.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(n,r)||(n=r);const i=[];this.editor.dom.getParent(n,(e=>e===r||(i.push(e),!1))),this.editor.dispatch("NodeChange",{...e,element:n,parents:i})}}isSameElementPath(e){let t;const n=this.editor,r=oe(n.dom.getParents(e,F,n.getBody()));if(r.length===this.lastPath.length){for(t=r.length;t>=0&&r[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=r,!0}return this.lastPath=r,!1}}const aM=ka("image"),lM=ka("event"),cM=e=>t=>{t[lM]=e},uM=cM(0),dM=cM(2),hM=cM(1),fM=(pM=0,e=>{const t=e;return j.from(t[lM]).exists((e=>e===pM))});var pM;const mM=ka("mode"),gM=e=>t=>{t[mM]=e},vM=(e,t)=>gM(t)(e),yM=gM(0),_M=gM(2),bM=gM(1),wM=e=>t=>{const n=t;return j.from(n[mM]).exists((t=>t===e))},kM=wM(0),xM=wM(1),SM=["none","copy","link","move"],EM=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],CM=()=>{const e=new window.DataTransfer;let t="move",n="all";const r={get dropEffect(){return t},set dropEffect(e){W(SM,e)&&(t=e)},get effectAllowed(){return n},set effectAllowed(e){fM(r)&&W(EM,e)&&(n=e)},get items(){return((e,t)=>({...t,get length(){return t.length},add:(n,r)=>{if(kM(e)){if(!p(n))return t.add(n);if(!b(r))return t.add(n,r)}return null},remove:n=>{kM(e)&&t.remove(n)},clear:()=>{kM(e)&&t.clear()}}))(r,e.items)},get files(){return xM(r)?Object.freeze({length:0,item:e=>null}):e.files},get types(){return e.types},setDragImage:(t,n,i)=>{var o;kM(r)&&(o={image:t,x:n,y:i},r[aM]=o,e.setDragImage(t,n,i))},getData:t=>xM(r)?"":e.getData(t),setData:(t,n)=>{kM(r)&&e.setData(t,n)},clearData:t=>{kM(r)&&e.clearData(t)}};return yM(r),r},TM=e=>{const t=CM(),n=(e=>{const t=e;return j.from(t[mM])})(e);return _M(e),uM(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,(e=>{const t=e;return j.from(t[aM])})(e).each((e=>t.setDragImage(e.image,e.x,e.y))),Z(e.types,(n=>{"Files"!==n&&t.setData(n,e.getData(n))})),Z(e.files,(e=>t.items.add(e))),(e=>{const t=e;return j.from(t[lM])})(e).each((e=>{((e,t)=>{cM(t)(e)})(t,e)})),n.each((n=>{vM(e,n),vM(t,n)})),t},AM=(e,t)=>e.setData("text/html",t),OM="x-tinymce/html",DM=O(OM),MM="\x3c!-- "+OM+" --\x3e",LM=e=>MM+e,PM=e=>-1!==e.indexOf(MM),IM=(e,t,n)=>{const r=e.split(/\n\n/),i=((e,t)=>{let n="<"+e;const r=ke(t,((e,t)=>t+'="'+as.encodeAllRaw(e)+'"'));return r.length&&(n+=" "+r.join(" ")),n+">"})(t,n),o="</"+t+">",s=V(r,(e=>e.split(/\n/).join("<br />")));return 1===s.length?s[0]:V(s,(e=>i+e+o)).join("")},RM="%MCEPASTEBIN%",NM=e=>e.dom.get("mcepastebin"),BM=e=>k(e)&&"mcepastebin"===e.id,FM=e=>e===RM,jM=e=>{const t=Qs(null);return{create:()=>((e,t)=>{const{dom:n,selection:r}=e,i=e.getBody();t.set(r.getRng());const o=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},RM);Dt.browser.isFirefox()&&n.setStyle(o,"left","rtl"===n.getStyle(i,"direction",!0)?65535:-65535),n.bind(o,"beforedeactivate focusin focusout",(e=>{e.stopPropagation()})),o.focus(),r.select(o,!0)})(e,t),remove:()=>((e,t)=>{const n=e.dom;if(NM(e)){let r;const i=t.get();for(;r=NM(e);)n.remove(r),n.unbind(r);i&&e.selection.setRng(i)}t.set(null)})(e,t),getEl:()=>NM(e),getHtml:()=>(e=>{const t=e.dom,n=(e,n)=>{e.appendChild(n),t.remove(n,!0)},[r,...i]=K(e.getBody().childNodes,BM);Z(i,(e=>{n(r,e)}));const o=t.select("div[id=mcepastebin]",r);for(let e=o.length-1;e>=0;e--){const i=t.create("div");r.insertBefore(i,o[e]),n(i,o[e])}return r?r.innerHTML:""})(e),getLastRng:t.get}},zM=(e,t)=>(It.each(t,(t=>{e=f(t,RegExp)?e.replace(t,""):e.replace(t[0],t[1])})),e),HM=e=>e=zM(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(e,t,n)=>t||n?vi:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),$M=(e,t)=>({content:e,cancelled:t}),UM=(e,t,n)=>{const r=((e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}))(e,t,n),i=((e,t)=>{const n=Lw({sanitize:Tu(e),sandbox_iframes:Iu(e)},e.schema);n.addNodeFilter("meta",(e=>{It.each(e,(e=>{e.remove()}))}));const r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Ym({validate:!0},e.schema).serialize(r)})(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?((e,t,n)=>{const r=e.dom.create("div",{style:"display:none"},t),i=((e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}))(e,r,n);return $M(i.node.innerHTML,i.isDefaultPrevented())})(e,i,n):$M(i,r.isDefaultPrevented())},WM=(e,t)=>(e.insertContent(t,{merge:mu(e),paste:!0}),!0),qM=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),VM=(e,t,n)=>!(e.selection.isCollapsed()||!qM(t))&&((e,t,n)=>(e.undoManager.extra((()=>{n(e,t)}),(()=>{e.execCommand("mceInsertLink",!1,t)})),!0))(e,t,n),ZM=(e,t,n)=>!!((e,t)=>qM(t)&&q(Ou(e),(e=>qe(t.toLowerCase(),`.${e.toLowerCase()}`))))(e,t)&&((e,t,n)=>(e.undoManager.extra((()=>{n(e,t)}),(()=>{e.insertContent('<img src="'+t+'">')})),!0))(e,t,n),YM=(e,t,n)=>{n||!gu(e)?WM(e,t):((e,t)=>{It.each([VM,ZM,WM],(n=>!n(e,t,WM)))})(e,t)},GM=(e=>{let t=0;return()=>e+t++})("mceclip"),KM=e=>{const t=CM();return AM(t,e),_M(t),t},XM=(e,t,n,r,i)=>{const o=((e,t,n)=>UM(e,t,n))(e,t,n);if(!o.cancelled){const t=o.content,n=()=>YM(e,t,r);if(i){UO(e,"insertFromPaste",{dataTransfer:KM(t)}).isDefaultPrevented()||(n(),$O(e,"insertFromPaste"))}else n()}},JM=(e,t,n,r)=>{const i=n||PM(t);XM(e,(e=>e.replace(MM,""))(t),i,!1,r)},QM=(e,t,n)=>{const r=e.dom.encode(t).replace(/\r\n/g,"\n"),i=co(r,yu(e)),o=IM(i,Xl(e),Jl(e));XM(e,o,!1,!0,n)},eL=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const r=e.types[n];try{t[r]=e.getData(r)}catch(e){t[r]=""}}return t},tL=(e,t)=>t in e&&e[t].length>0,nL=e=>tL(e,"text/html")||tL(e,"text/plain"),rL=(e,t,n,r)=>{const i=GM(),o=oc(e)&&k(n.name),s=o?((e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return k(n)?e.dom.encode(n[1]):void 0})(e,n.name):i,a=o?n.name:void 0,l=t.create(i,n,r,s,a);return t.add(l),l},iL=e=>{const t=Ou(e);return e=>We(e.type,"image/")&&q(t,(t=>(e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return It.hasOwn(n,t)?"image/"+n[t]:"image/"+t})(t)===e.type))},oL=(e,t,n)=>{const r="paste"===t.type?t.clipboardData:t.dataTransfer;var i;if(cu(e)&&r){const o=((e,t)=>{const n=t.items?re(he(t.items),(e=>"file"===e.kind?[e.getAsFile()]:[])):[],r=t.files?he(t.files):[];return K(n.length>0?n:r,iL(e))})(e,r);if(o.length>0)return t.preventDefault(),(i=o,Promise.all(V(i,(e=>ab(e).then((t=>({file:e,uri:t}))))))).then((t=>{n&&e.selection.setRng(n),Z(t,(t=>{((e,t)=>{ib(t.uri).each((({data:n,type:r,base64Encoded:i})=>{const o=i?n:btoa(n),s=t.file,a=e.editorUpload.blobCache,l=a.getByData(o,r),c=null!=l?l:rL(e,a,s,o);JM(e,`<img src="${c.blobUri()}">`,!1,!0)}))})(e,t)}))})),!0}return!1},sL=(e,t,n,r,i)=>{let o=HM(n);const s=tL(t,DM())||PM(n),a=!s&&(e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e))(o),l=qM(o);(FM(o)||!o.length||a&&!l)&&(r=!0),(r||l)&&(o=tL(t,"text/plain")&&a?t["text/plain"]:(e=>{const t=_s(),n=Lw({},t);let r="";const i=t.getVoidElements(),o=It.makeMap("script noscript style textarea video audio iframe object"," "),s=t.getBlockElements(),a=e=>{const n=e.name,l=e;if("br"!==n){if("wbr"!==n)if(i[n]&&(r+=" "),o[n])r+=" ";else{if(3===e.type&&(r+=e.value),!(e.name in t.getVoidElements())){let t=e.firstChild;if(t)do{a(t)}while(t=t.next)}s[n]&&l.next&&(r+="\n","p"===n&&(r+="\n"))}}else r+="\n"};return e=zM(e,[/<!\[[^\]]+\]>/g]),a(n.parse(e)),r})(o)),FM(o)||(r?QM(e,o,i):JM(e,o,s,i))},aL=(e,t,n)=>{let r;e.on("keydown",(e=>{(e=>Mf.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode)(e)&&!e.isDefaultPrevented()&&(r=e.shiftKey&&86===e.keyCode)})),e.on("paste",(i=>{if(i.isDefaultPrevented()||(e=>{var t,n;return Dt.os.isAndroid()&&0===(null===(n=null===(t=e.clipboardData)||void 0===t?void 0:t.items)||void 0===n?void 0:n.length)})(i))return;const o="text"===n.get()||r;r=!1;const s=eL(i.clipboardData);!nL(s)&&oL(e,i,t.getLastRng()||e.selection.getRng())||(tL(s,"text/html")?(i.preventDefault(),sL(e,s,s["text/html"],o,!0)):tL(s,"text/plain")&&tL(s,"text/uri-list")?(i.preventDefault(),sL(e,s,s["text/plain"],o,!0)):(t.create(),Gp.setEditorTimeout(e,(()=>{const n=t.getHtml();t.remove(),sL(e,s,n,o,!1)}),0)))}))},lL=(e,t,n)=>{aL(e,t,n),(e=>{const t=e=>We(e,"webkit-fake-url"),n=e=>We(e,"data:");e.parser.addNodeFilter("img",((r,i,o)=>{if(!cu(e)&&(e=>{var t;return!0===(null===(t=e.data)||void 0===t?void 0:t.paste)})(o))for(const i of r){const r=i.attr("src");p(r)&&!i.attr("data-mce-object")&&r!==Dt.transparentSrc&&(t(r)||!_u(e)&&n(r))&&i.remove()}}))})(e)},cL=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",(()=>{((e,t)=>{"text"===t.get()?(t.set("html"),Df(e,!1)):(t.set("text"),Df(e,!0)),e.focus()})(e,t)})),e.addCommand("mceInsertClipboardContent",((t,n)=>{n.html&&JM(e,n.html,n.internal,!1),n.text&&QM(e,n.text,!1)}))},uL=(e,t,n,r)=>{((e,t,n)=>{if(!e)return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(DM(),t),!0}catch(e){return!1}})(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},dL=e=>(t,n)=>{const{dom:r,selection:i}=e,o=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),s=r.create("div",{contenteditable:"true"},t);r.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),o.appendChild(s),r.add(e.getBody(),o);const a=i.getRng();s.focus();const l=r.createRng();l.selectNodeContents(s),i.setRng(l),Gp.setEditorTimeout(e,(()=>{i.setRng(a),r.remove(o),n()}),0)},hL=e=>({html:LM(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),fL=e=>!e.selection.isCollapsed()||(e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()))(e),pL=e=>{e.on("cut",(e=>t=>{!t.isDefaultPrevented()&&fL(e)&&e.selection.isEditable()&&uL(t,hL(e),dL(e),(()=>{if(Dt.browser.isChromium()||Dt.browser.isFirefox()){const t=e.selection.getRng();Gp.setEditorTimeout(e,(()=>{e.selection.setRng(t),e.execCommand("Delete")}),0)}else e.execCommand("Delete")}))})(e)),e.on("copy",(e=>t=>{!t.isDefaultPrevented()&&fL(e)&&uL(t,hL(e),dL(e),C)})(e))},mL=(e,t)=>{var n,r;return fp.getCaretRangeFromPoint(null!==(n=t.clientX)&&void 0!==n?n:0,null!==(r=t.clientY)&&void 0!==r?r:0,e.getDoc())},gL=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},vL=(e,t)=>{lu(e)&&e.on("dragend dragover draggesture dragdrop drop drag",(e=>{e.preventDefault(),e.stopPropagation()})),cu(e)||e.on("drop",(e=>{const t=e.dataTransfer;t&&(e=>q(e.files,(e=>/^image\//.test(e.type))))(t)&&e.preventDefault()})),e.on("drop",(n=>{if(n.isDefaultPrevented())return;const r=mL(e,n);if(w(r))return;const i=eL(n.dataTransfer),o=tL(i,DM());if((!nL(i)||(e=>{const t=e["text/plain"];return!!t&&0===t.indexOf("file://")})(i))&&oL(e,n,r))return;const s=i[DM()],a=s||i["text/html"]||i["text/plain"],l=((e,t,n,r)=>{const i=e.getParent(n,(e=>Ro(t,e)));if(!y(e.getParent(n,"summary")))return!0;if(i&&Ee(r,"text/html")){const e=(new DOMParser).parseFromString(r["text/html"],"text/html").body;return!y(e.querySelector(i.nodeName.toLowerCase()))}return!1})(e.dom,e.schema,r.startContainer,i),c=t.get();c&&!l||a&&(n.preventDefault(),Gp.setEditorTimeout(e,(()=>{e.undoManager.transact((()=>{(s||c&&l)&&e.execCommand("Delete"),gL(e,r);const t=HM(a);i["text/html"]?JM(e,t,o,!0):QM(e,t,!0)}))})))})),e.on("dragstart",(e=>{t.set(!0)})),e.on("dragover dragend",(n=>{cu(e)&&!t.get()&&(n.preventDefault(),gL(e,mL(e,n))),"dragend"===n.type&&t.set(!1)})),(e=>{e.on("input",(t=>{const n=e=>y(e.querySelector("summary"));if("deleteByDrag"===t.inputType){const t=K(e.dom.select("details"),n);Z(t,(t=>{si(t.firstChild)&&t.firstChild.remove();const n=e.dom.create("summary");n.appendChild(Mi().dom),t.prepend(n)}))}}))})(e)},yL=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,_L=e=>It.trim(e).replace(yL,Os).toLowerCase(),bL=(e,t,n)=>{const r=fu(e);if(n||"all"===r||!pu(e))return t;const i=r?r.split(/[, ]/):[];if(i&&"none"!==r){const n=e.dom,r=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,((e,t,o,s)=>{const a=n.parseStyle(n.decode(o)),l={};for(let e=0;e<i.length;e++){const t=a[i[e]];let o=t,s=n.getStyle(r,i[e],!0);/color/.test(i[e])&&(o=_L(o),s=_L(s)),s!==o&&(l[i[e]]=t)}const c=n.serializeStyle(l,"span");return c?t+' style="'+c+'"'+s:t+s}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,((e,t,n,r)=>t+' style="'+n+'"'+r)),t},wL=e=>{const t=Qs(!1),n=Qs(vu(e)?"text":"html"),r=jM(e);(e=>{(Dt.browser.isChromium()||Dt.browser.isSafari())&&((e,t)=>{e.on("PastePreProcess",(n=>{n.content=t(e,n.content,n.internal)}))})(e,bL)})(e),cL(e,n),(e=>{const t=t=>n=>{t(e,n)},n=uu(e);x(n)&&e.on("PastePreProcess",t(n));const r=du(e);x(r)&&e.on("PastePostProcess",t(r))})(e),e.on("PreInit",(()=>{pL(e),vL(e,t),lL(e,r,n)}))},kL=e=>{(e=>{e.on("click",(t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()}))})(e),(e=>{e.parser.addNodeFilter("details",(t=>{const n=Mu(e);Z(t,(e=>{"expanded"===n?e.attr("open","open"):"collapsed"===n&&e.attr("open",null)}))})),e.serializer.addNodeFilter("details",(t=>{const n=Lu(e);Z(t,(e=>{"expanded"===n?e.attr("open","open"):"collapsed"===n&&e.attr("open",null)}))}))})(e)},xL=si,SL=ei,EL=e=>ci(e.dom),CL=e=>t=>xn(_n.fromDom(e),t),TL=(e,t,n)=>Xn(_n.fromDom(e),(e=>(e=>li(e.dom))(e)||n.isBlock(Wt(e))),CL(t)).getOr(_n.fromDom(t)).dom,AL=(e,t)=>Xn(_n.fromDom(e),EL,CL(t)),OL=(e,t,n)=>{const r=new Hr(e,t),i=n?r.next.bind(r):r.prev.bind(r);let o=e;for(let t=n?e:i();t&&!xL(t);t=i())no(t)&&(o=t);return o},DL=e=>{const t=((e,t,n)=>{const r=il.fromRangeStart(e).getNode(),i=TL(r,t,n),o=OL(r,i,!1),s=OL(r,i,!0),a=document.createRange();return AL(o,i).fold((()=>{SL(o)?a.setStart(o,0):a.setStartBefore(o)}),(e=>a.setStartBefore(e.dom))),AL(s,i).fold((()=>{SL(s)?a.setEnd(s,s.data.length):a.setEndAfter(s)}),(e=>a.setEndAfter(e.dom))),a})(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(yy(t))};var ML;!function(e){e.Before="before",e.After="after"}(ML||(ML={}));const LL=(e,t)=>Math.abs(e.left-t),PL=(e,t)=>Math.abs(e.right-t),IL=(e,t)=>{const n=((e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)))(e,t)/Math.min(e.height,t.height);return((e,t)=>e.top<t.bottom&&e.bottom>t.top)(e,t)&&n>.5},RL=(e,t)=>(e=>J(e,((e,t)=>e.fold((()=>j.some(t)),(e=>{const n=Math.min(t.left,e.left),r=Math.min(t.top,e.top),i=Math.max(t.right,e.right),o=Math.max(t.bottom,e.bottom);return j.some({top:r,right:i,bottom:o,left:n,width:i-n,height:o-r})}))),j.none()))(K(e,(e=>{return(n=t)>=(r=e).top&&n<=r.bottom;var n,r}))).fold((()=>[[],e]),(t=>{const{pass:n,fail:r}=G(e,(e=>IL(e,t)));return[n,r]})),NL=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),BL=(e,t,n,r)=>{const i=e=>no(e.node)?j.some(e):Wr(e.node)?BL(he(e.node.childNodes),t,n,!1):j.none(),o=(e,o)=>{const s=le(e,((e,r)=>o(e,t,n)-o(r,t,n)));return fe(s,i).map((e=>r&&!ei(e.node)&&s.length>1?((e,r,o)=>i(r).filter((r=>Math.abs(o(e,t,n)-o(r,t,n))<2&&ei(r.node))))(e,s[1],o).getOr(e):e))},[s,a]=RL(OE(e),n),{pass:l,fail:c}=G(a,(e=>e.top<n));return o(s,NL).orThunk((()=>o(c,Ra))).orThunk((()=>o(l,Ra)))},FL=(e,t,n)=>{const r=_n.fromDom(e),i=Cn(r),o=_n.fromPoint(i,t,n).filter((e=>Sn(r,e))).getOr(r);return((e,t,n,r)=>{const i=(t,o)=>{const s=K(t.dom.childNodes,P((e=>Wr(e)&&e.classList.contains("mce-drag-container"))));return o.fold((()=>BL(s,n,r,!0)),(e=>{const t=K(s,(t=>t!==e.dom));return BL(t,n,r,!0)})).orThunk((()=>(xn(t,e)?j.none():On(t)).bind((e=>i(e,j.some(t))))))};return i(t,j.none())})(r,o,t,n)},jL=(e,t,n)=>FL(e,t,n).filter((e=>Ju(e.node))).map((e=>((e,t)=>({node:e.node,position:LL(e,t)<PL(e,t)?ML.Before:ML.After}))(e,t))),zL=e=>{var t,n;const r=e.getBoundingClientRect(),i=e.ownerDocument,o=i.documentElement,s=i.defaultView;return{top:r.top+(null!==(t=null==s?void 0:s.scrollY)&&void 0!==t?t:0)-o.clientTop,left:r.left+(null!==(n=null==s?void 0:s.scrollX)&&void 0!==n?n:0)-o.clientLeft}},HL=(e,t)=>{return n=(e=>e.inline?zL(e.getBody()):{left:0,top:0})(e),r=(e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}})(e),i=((e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=zL(e.getContentAreaContainer()),r=(e=>{const t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},i={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:i})(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}})(e,t),{pageX:i.left-n.left+r.left,pageY:i.top-n.top+r.top};var n,r,i},$L=e=>({target:e,srcElement:e}),UL=(e,t,n,r)=>{const i=((e,t)=>{const n=TM(e);return"dragstart"===t?(uM(n),yM(n)):"drop"===t?(dM(n),_M(n)):(hM(n),bM(n)),n})(n,e);return b(r)?((e,t,n)=>{const r=I("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:C,stopImmediatePropagation:C,stopPropagation:C,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:n,...$L(t)}})(e,t,i):((e,t,n,r)=>({...t,dataTransfer:r,type:e,...$L(n)}))(e,r,t,i)},WL=ci,qL=((...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1})(WL,li),VL=(e,t,n,r)=>{const i=e.dom,o=t.cloneNode(!0);i.setStyles(o,{width:n,height:r}),i.setAttrib(o,"data-mce-selected",null);const s=i.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return i.setStyles(s,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),i.setStyles(o,{margin:0,boxSizing:"border-box"}),s.appendChild(o),s},ZL=(e,t)=>n=>()=>{const r="left"===e?n.scrollX:n.scrollY;n.scroll({[e]:r+t,behavior:"smooth"})},YL=ZL("left",-32),GL=ZL("left",32),KL=ZL("top",-32),XL=ZL("top",32),JL=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},QL=(e,t)=>n=>{if((e=>0===e.button)(n)){const r=ee(t.dom.getParents(n.target),qL).getOr(null);if(k(r)&&((e,t,n)=>WL(n)&&n!==t&&e.isEditable(n.parentElement))(t.dom,t.getBody(),r)){const i=t.dom.getPos(r),o=t.getBody(),s=t.getDoc().documentElement;e.set({element:r,dataTransfer:CM(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?o.scrollWidth:s.offsetWidth)-2,maxY:(t.inline?o.scrollHeight:s.offsetHeight)-2,relX:n.pageX-i.x,relY:n.pageY-i.y,width:r.offsetWidth,height:r.offsetHeight,ghost:VL(t,r,r.offsetWidth,r.offsetHeight),intervalId:oa(100)})}}},eP=(e,t,n,r,i)=>{"dragstart"===t&&AM(r,e.dom.getOuterHTML(n));const o=UL(t,n,r,i);return e.dispatch(t,o)},tP=(e,t)=>{const n=aa(((e,n)=>((e,t,n)=>{e._selectionOverrides.hideFakeCaret(),jL(e.getBody(),t,n).fold((()=>e.selection.placeCaretAt(t,n)),(r=>{const i=e._selectionOverrides.showCaret(1,r.node,r.position===ML.Before,!1);i?e.selection.setRng(i):e.selection.placeCaretAt(t,n)}))})(t,e,n)),0);t.on("remove",n.cancel);const r=e;return i=>e.on((e=>{const o=Math.max(Math.abs(i.screenX-e.screenX),Math.abs(i.screenY-e.screenY));if(!e.dragging&&o>10){const n=eP(t,"dragstart",e.element,e.dataTransfer,i);if(k(n.dataTransfer)&&(e.dataTransfer=n.dataTransfer),n.isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){const o=i.currentTarget===t.getDoc().documentElement,l=((e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}))(e,HL(t,i));s=e.ghost,a=t.getBody(),s.parentNode!==a&&a.appendChild(s),((e,t,n,r,i,o,s,a,l,c,u,d)=>{let h=0,f=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>i&&(h=t.pageX+n-i),t.pageY+r>o&&(f=t.pageY+r-o),e.style.width=n-h+"px",e.style.height=r-f+"px";const p=l.clientHeight,m=l.clientWidth,g=s+l.getBoundingClientRect().top,v=a+l.getBoundingClientRect().left;u.on((e=>{e.intervalId.clear(),e.dragging&&d&&(s+8>=p?e.intervalId.set(XL(c)):s-8<=0?e.intervalId.set(KL(c)):a+8>=m?e.intervalId.set(GL(c)):a-8<=0?e.intervalId.set(YL(c)):g+16>=window.innerHeight?e.intervalId.set(XL(window)):g-16<=0?e.intervalId.set(KL(window)):v+16>=window.innerWidth?e.intervalId.set(GL(window)):v-16<=0&&e.intervalId.set(YL(window)))}))})(e.ghost,l,e.width,e.height,e.maxX,e.maxY,i.clientY,i.clientX,t.getContentAreaContainer(),t.getWin(),r,o),n.throttle(i.clientX,i.clientY)}var s,a}))},nP=(e,t)=>n=>{e.on((e=>{var r;if(e.intervalId.clear(),e.dragging){if(((e,t,n)=>!w(t)&&t!==n&&!e.dom.isChildOf(t,n)&&e.dom.isEditable(t))(t,(e=>{const t=e.getSel();if(k(t)){const e=t.getRangeAt(0).startContainer;return ei(e)?e.parentNode:e}return null})(t.selection),e.element)){const i=null!==(r=t.getDoc().elementFromPoint(n.clientX,n.clientY))&&void 0!==r?r:t.getBody();eP(t,"drop",i,e.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact((()=>{((e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);JL(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&Li(_n.fromDom(n))})(t.dom,e.element),(e=>{const t=e.getData("text/html");return""===t?j.none():j.some(t)})(e.dataTransfer).each((e=>t.insertContent(e))),t._selectionOverrides.hideFakeCaret()}))}eP(t,"dragend",t.getBody(),e.dataTransfer,n)}})),iP(e)},rP=(e,t,n)=>{e.on((e=>{e.intervalId.clear(),e.dragging&&n.fold((()=>eP(t,"dragend",e.element,e.dataTransfer)),(n=>eP(t,"dragend",e.element,e.dataTransfer,n)))})),iP(e)},iP=e=>{e.on((e=>{e.intervalId.clear(),JL(e.ghost)})),e.clear()},oP=e=>{const t=sa(),n=Ks.DOM,r=document,i=QL(t,e),o=tP(t,e),s=nP(t,e),a=((e,t)=>n=>rP(e,t,j.some(n)))(t,e);e.on("mousedown",i),e.on("mousemove",o),e.on("mouseup",s),n.bind(r,"mousemove",o),n.bind(r,"mouseup",a),e.on("remove",(()=>{n.unbind(r,"mousemove",o),n.unbind(r,"mouseup",a)})),e.on("keydown",(n=>{n.keyCode===Mf.ESC&&rP(t,e,j.none())}))},sP=e=>{oP(e),Xc(e)&&(e=>{const t=t=>{if(!t.isDefaultPrevented()){const n=t.dataTransfer;n&&(W(n.types,"Files")||n.files.length>0)&&(t.preventDefault(),"drop"===t.type&&px(e,"Dropped file type is not supported"))}},n=n=>{em(e,n.target)&&t(n)},r=()=>{const r=Ks.DOM,i=e.dom,o=document,s=e.inline?e.getBody():e.getDoc(),a=["drop","dragover"];Z(a,(e=>{r.bind(o,e,n),i.bind(s,e,t)})),e.on("remove",(()=>{Z(a,(e=>{r.unbind(o,e,n),i.unbind(s,e,t)}))}))};e.on("init",(()=>{Gp.setEditorTimeout(e,r,0)}))})(e)},aP=ci,lP=(e,t)=>ny(e.getBody(),t),cP=e=>{const t=e.selection,n=e.dom,r=e.getBody(),i=Gu(e,r,n.isBlock,(()=>lm(e))),o="sel-"+n.uniqueId(),s="data-mce-selected";let a;const l=e=>e!==r&&(aP(e)||hi(e))&&n.isChildOf(e,r)&&n.isEditable(e.parentNode),c=(n,r,o,s=!0)=>e.dispatch("ShowCaret",{target:r,direction:n,before:o}).isDefaultPrevented()?null:(s&&t.scrollIntoView(r,-1===n),i.show(o,r)),u=()=>{e.on("click",(t=>{n.isEditable(t.target)||(t.preventDefault(),e.focus())})),e.on("blur NewBlock",g),e.on("ResizeWindow FullscreenStateChanged",i.reposition),e.on("tap",(t=>{const n=t.target,r=lP(e,n);aP(r)?(t.preventDefault(),fS(e,r).each(m)):l(n)&&fS(e,n).each(m)}),!0),e.on("mousedown",(i=>{const o=i.target;if(o!==r&&"HTML"!==o.nodeName&&!n.isChildOf(o,r))return;if(!ax(e,i.clientX,i.clientY))return;g(),v();const s=lP(e,o);aP(s)?(i.preventDefault(),fS(e,s).each(m)):jL(r,i.clientX,i.clientY).each((n=>{i.preventDefault();(e=>{e&&t.setRng(e)})(c(1,n.node,n.position===ML.Before,!1)),qr(s)?s.focus():e.getBody().focus()}))})),e.on("keypress",(e=>{Mf.modifierPressed(e)||aP(t.getNode())&&e.preventDefault()})),e.on("GetSelectionRange",(e=>{let t=e.range;if(a){if(!a.parentNode)return void(a=null);t=t.cloneRange(),t.selectNode(a),e.range=t}})),e.on("SetSelectionRange",(e=>{e.range=f(e.range);const t=m(e.range,e.forward);t&&(e.range=t)}));e.on("AfterSetSelectionRange",(e=>{const t=e.range,r=t.startContainer.parentElement;h(t)||(e=>Wr(e)&&"mcepastebin"===e.id)(r)||v(),(e=>k(e)&&n.hasClass(e,"mce-offscreen-selection"))(r)||g()})),sP(e),(e=>{const t=aa((()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const t=e.selection.getRng();if(t.collapsed){const n=pS(e,t,!1);e.selection.setRng(n)}}}),0);e.on("focus",(()=>{t.throttle()})),e.on("blur",(()=>{t.cancel()}))})(e),(e=>{e.on("init",(()=>{e.on("focusin",(t=>{const n=t.target;if(hi(n)){const t=ny(e.getBody(),n),r=ci(t)?t:n;e.selection.getNode()!==r&&fS(e,r).each((t=>e.selection.setRng(t)))}}))}))})(e)},d=e=>zi(e)||Wi(e)||qi(e),h=e=>d(e.startContainer)||d(e.endContainer),f=t=>{const r=e.schema.getVoidElements(),i=n.createRng(),o=t.startContainer,s=t.startOffset,a=t.endContainer,l=t.endOffset;return Ee(r,o.nodeName.toLowerCase())?0===s?i.setStartBefore(o):i.setStartAfter(o):i.setStart(o,s),Ee(r,a.nodeName.toLowerCase())?0===l?i.setEndBefore(a):i.setEndAfter(a):i.setEnd(a,l),i},p=r=>{const i=r.cloneNode(!0),l=e.dispatch("ObjectSelected",{target:r,targetClone:i});if(l.isDefaultPrevented())return null;const c=((r,i)=>{const s=_n.fromDom(e.getBody()),a=e.getDoc(),l=tr(s,"#"+o).getOrThunk((()=>{const e=_n.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',a);return en(e,"id",o),vr(s,e),e})),c=n.createRng();br(l),_r(l,[_n.fromText(vi,a),_n.fromDom(i),_n.fromText(vi,a)]),c.setStart(l.dom.firstChild,1),c.setEnd(l.dom.lastChild,0),lr(l,{top:n.getPos(r,e.getBody()).y+"px"}),Np(l);const u=t.getSel();return u&&(u.removeAllRanges(),u.addRange(c)),c})(r,l.targetClone),u=_n.fromDom(r);return Z(jr(_n.fromDom(e.getBody()),`*[${s}]`),(e=>{xn(u,e)||sn(e,s)})),n.getAttrib(r,s)||r.setAttribute(s,"1"),a=r,v(),c},m=(e,t)=>{if(!e)return null;if(e.collapsed){if(!h(e)){const i=t?1:-1,o=kd(i,r,e),s=o.getNode(!t);if(k(s)){if(Ju(s))return c(i,s,!!t&&!o.isAtEnd(),!1);if(ji(s)&&ci(s.nextSibling)){const e=n.createRng();return e.setStart(s,0),e.setEnd(s,0),e}}const a=o.getNode(t);if(k(a)){if(Ju(a))return c(i,a,!t&&!o.isAtEnd(),!1);if(ji(a)&&ci(a.previousSibling)){const e=n.createRng();return e.setStart(a,1),e.setEnd(a,1),e}}}return null}let i=e.startContainer,o=e.startOffset;const s=e.endOffset;if(ei(i)&&0===o&&aP(i.parentNode)&&(i=i.parentNode,o=n.nodeIndex(i),i=i.parentNode),!Wr(i))return null;if(s===o+1&&i===e.endContainer){const e=i.childNodes[o];if(l(e))return p(e)}return null},g=()=>{a&&a.removeAttribute(s),tr(_n.fromDom(e.getBody()),"#"+o).each(wr),a=null},v=()=>{i.hide()};return vk(e)||u(),{showCaret:c,showBlockCaretContainer:e=>{e.hasAttribute("data-mce-caret")&&(Vi(e),t.scrollIntoView(e))},hideFakeCaret:v,destroy:()=>{i.destroy(),a=null}}},uP=(e,t)=>{let n=t;for(let t=e.previousSibling;ei(t);t=t.previousSibling)n+=t.data.length;return n},dP=(e,t,n,r,i)=>{if(ei(n)&&(r<0||r>n.data.length))return[];const o=i&&ei(n)?[uP(n,r)]:[r];let s=n;for(;s!==t&&s.parentNode;)o.push(e.nodeIndex(s,i)),s=s.parentNode;return s===t?o.reverse():[]},hP=(e,t,n,r,i,o,s=!1)=>({start:dP(e,t,n,r,s),end:dP(e,t,i,o,s)}),fP=(e,t)=>{const n=t.slice(),r=n.pop();if(S(r)){return J(n,((e,t)=>e.bind((e=>j.from(e.childNodes[t])))),j.some(e)).bind((e=>ei(e)&&(r<0||r>e.data.length)?j.none():j.some({node:e,offset:r})))}return j.none()},pP=(e,t)=>fP(e,t.start).bind((({node:n,offset:r})=>fP(e,t.end).map((({node:e,offset:t})=>{const i=document.createRange();return i.setStart(n,r),i.setEnd(e,t),i})))),mP=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const r=t.parentNode;e.remove(t,ei(t.firstChild)&&so(t.firstChild.data)),mP(e,r,n)}},gP=(e,t,n,r=!0)=>{const i=t.startContainer.parentNode,o=t.endContainer.parentNode;t.deleteContents(),r&&!n(t.startContainer)&&(ei(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),ei(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),mP(e,i,n),i!==o&&mP(e,o,n))},vP=(e,t)=>j.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),yP=(e,t,n)=>{const r=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:Il(r).concat(e.blockPatterns),inlinePatterns:Rl(r).concat(e.inlinePatterns)}},_P=(e,t,n,r)=>{const i=e.createRng();return i.setStart(t,0),i.setEnd(n,r),i.toString()},bP=(e,t,n)=>{const r=((e,t,n)=>{if(ei(e)&&t>=e.length)return j.some($T(e,t));{const r=Aa(UT);return j.from(r.forwards(e,t,WT(e),n)).map((e=>$T(e.container,0)))}})(t,0,t);r.each((r=>{const i=r.container;ZT(i,n.start.length,t).each((n=>{const r=e.createRng();r.setStart(i,0),r.setEnd(n.container,n.offset),gP(e,r,(e=>e===t))}));const o=_n.fromDom(i),s=bi(o);/^\s[^\s]/.test(s)&&((e,t)=>{_i.set(e,t)})(o,s.slice(1))}))},wP=(e,t)=>{const n=e.dom,r=t.pattern,i=pP(n.getRoot(),t.range).getOrDie("Unable to resolve path range");return vP(e,i).each((t=>{"block-format"===r.type?((e,t)=>{const n=t.get(e);return v(n)&&ue(n).exists((e=>Ee(e,"block")))})(r.format,e.formatter)&&e.undoManager.transact((()=>{bP(e.dom,t,r),e.formatter.apply(r.format)})):"block-command"===r.type&&e.undoManager.transact((()=>{bP(e.dom,t,r),e.execCommand(r.cmd,!1,r.value)}))})),!0},kP=(e,t)=>{const n=(e=>le(e,((e,t)=>t.start.length-e.start.length)))(e),r=t.replace(vi," ");return ee(n,(e=>0===t.indexOf(e.start)||0===r.indexOf(e.start)))},xP=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),SP=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},EP=(e,t,n)=>{const r=pP(e.getRoot(),n).getOrDie("Unable to resolve path range"),i=r.startContainer,o=r.endContainer,s=0===r.endOffset?o:o.splitText(r.endOffset),a=0===r.startOffset?i:i.splitText(r.startOffset),l=a.parentNode;return{prefix:t,end:s.parentNode.insertBefore(xP(e,t+"-end"),s),start:l.insertBefore(xP(e,t+"-start"),a)}},CP=(e,t,n)=>{mP(e,e.get(t.prefix+"-end"),n),mP(e,e.get(t.prefix+"-start"),n)},TP=e=>0===e.start.length,AP=(e,t,n,r)=>{const i=t.start;var o;return YT(e,r.container,r.offset,(o=i,(e,t)=>{const n=e.data.substring(0,t),r=n.lastIndexOf(o.charAt(o.length-1)),i=n.lastIndexOf(o);return-1!==i?i+o.length:-1!==r?r+1:-1}),n).bind((r=>{var o,s;const a=null!==(s=null===(o=n.textContent)||void 0===o?void 0:o.indexOf(i))&&void 0!==s?s:-1;if(-1!==a&&r.offset>=a+i.length){const t=e.createRng();return t.setStart(r.container,r.offset-i.length),t.setEnd(r.container,r.offset),j.some(t)}{const o=r.offset-i.length;return VT(r.container,o,n).map((t=>{const n=e.createRng();return n.setStart(t.container,t.offset),n.setEnd(r.container,r.offset),n})).filter((e=>e.toString()===i)).orThunk((()=>AP(e,t,n,$T(r.container,0))))}}))},OP=(e,t,n,r)=>{const i=e.dom,o=i.getRoot(),s=n.pattern,a=n.position.container,l=n.position.offset;return VT(a,l-n.pattern.end.length,t).bind((c=>{const u=hP(i,o,c.container,c.offset,a,l,r);if(TP(s))return j.some({matches:[{pattern:s,startRng:u,endRng:u}],position:c});{const a=DP(e,n.remainingPatterns,c.container,c.offset,t,r),l=a.getOr({matches:[],position:c}),d=l.position,h=((e,t,n,r,i,o=!1)=>{if(0===t.start.length&&!o){const t=e.createRng();return t.setStart(n,r),t.setEnd(n,r),j.some(t)}return qT(n,r,i).bind((n=>AP(e,t,i,n).bind((e=>{var t;if(o){if(e.endContainer===n.container&&e.endOffset===n.offset)return j.none();if(0===n.offset&&(null===(t=e.endContainer.textContent)||void 0===t?void 0:t.length)===e.endOffset)return j.none()}return j.some(e)}))))})(i,s,d.container,d.offset,t,a.isNone());return h.map((e=>{const t=((e,t,n,r=!1)=>hP(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,r))(i,o,e,r);return{matches:l.matches.concat([{pattern:s,startRng:t,endRng:u}]),position:$T(e.startContainer,e.startOffset)}}))}}))},DP=(e,t,n,r,i,o)=>{const s=e.dom;return qT(n,r,s.getRoot()).bind((a=>{const l=_P(s,i,n,r);for(let s=0;s<t.length;s++){const c=t[s];if(!qe(l,c.end))continue;const u=t.slice();u.splice(s,1);const d=OP(e,i,{pattern:c,remainingPatterns:u,position:a},o);if(d.isNone()&&r>0)return DP(e,t,n,r-1,i,o);if(d.isSome())return d}return j.none()}))},MP=(e,t,n)=>{e.selection.setRng(n),"inline-format"===t.type?Z(t.format,(t=>{e.formatter.apply(t)})):e.execCommand(t.cmd,!1,t.value)},LP=(e,t,n,r,i,o)=>{var s;return((e,t)=>{const n=ie(e,(e=>q(t,(t=>e.pattern.start===t.pattern.start&&e.pattern.end===t.pattern.end))));return e.length===t.length?n?e:t:e.length>t.length?e:t})(DP(e,i.inlinePatterns,n,r,t,o).fold((()=>[]),(e=>e.matches)),DP(e,(s=i.inlinePatterns,le(s,((e,t)=>t.end.length-e.end.length))),n,r,t,o).fold((()=>[]),(e=>e.matches)))},PP=(e,t)=>{if(0===t.length)return;const n=e.dom,r=e.selection.getBookmark(),i=((e,t)=>{const n=ka("mce_textpattern"),r=X(t,((t,r)=>{const i=EP(e,n+`_end${t.length}`,r.endRng);return t.concat([{...r,endMarker:i}])}),[]);return X(r,((t,i)=>{const o=r.length-t.length-1,s=TP(i.pattern)?i.endMarker:EP(e,n+`_start${o}`,i.startRng);return t.concat([{...i,startMarker:s}])}),[])})(n,t);Z(i,(t=>{const r=n.getParent(t.startMarker.start,n.isBlock),i=e=>e===r;TP(t.pattern)?((e,t,n,r)=>{const i=SP(e.dom,n);gP(e.dom,i,r),MP(e,t,i)})(e,t.pattern,t.endMarker,i):((e,t,n,r,i)=>{const o=e.dom,s=SP(o,r),a=SP(o,n);gP(o,a,i),gP(o,s,i);const l={prefix:n.prefix,start:n.end,end:r.start},c=SP(o,l);MP(e,t,c)})(e,t.pattern,t.startMarker,t.endMarker,i),CP(n,t.endMarker,i),CP(n,t.startMarker,i)})),e.selection.moveToBookmark(r)},IP=(e,t)=>{const n=e.selection.getRng();return vP(e,n).map((r=>{var i;const o=Math.max(0,n.startOffset),s=yP(t,r,null!==(i=r.textContent)&&void 0!==i?i:""),a=LP(e,r,n.startContainer,o,s,!0),l=((e,t,n,r)=>{var i;const o=e.dom,s=Xl(e);if(!o.is(t,s))return[];const a=null!==(i=t.textContent)&&void 0!==i?i:"";return kP(n.blockPatterns,a).map((e=>It.trim(a).length===e.start.length?[]:[{pattern:e,range:hP(o,o.getRoot(),t,0,t,0,r)}])).getOr([])})(e,r,s,!0);return(l.length>0||a.length>0)&&(e.undoManager.add(),e.undoManager.extra((()=>{e.execCommand("mceInsertNewLine")}),(()=>{(e=>{e.insertContent(Pi,{preserve_zwsp:!0})})(e),PP(e,a),((e,t)=>{if(0===t.length)return;const n=e.selection.getBookmark();Z(t,(t=>wP(e,t))),e.selection.moveToBookmark(n)})(e,l);const t=e.selection.getRng(),n=qT(t.startContainer,t.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),n.each((t=>{const n=t.container;n.data.charAt(t.offset-1)===gi&&(n.deleteData(t.offset-1,1),mP(e.dom,n.parentNode,(t=>t===e.dom.getRoot())))}))})),!0)})).getOr(!1)},RP=(e,t,n)=>{for(let r=0;r<e.length;r++)if(n(e[r],t))return!0;return!1},NP=e=>{const t=[",",".",";",":","!","?"],n=[32],r=()=>{return t=bu(e),n=wu(e),{inlinePatterns:Rl(t),blockPatterns:Il(t),dynamicPatternsLookup:n};var t,n},i=()=>(e=>e.options.isSet("text_patterns_lookup"))(e);e.on("keydown",(t=>{if(13===t.keyCode&&!Mf.modifierPressed(t)&&e.selection.isCollapsed()){const n=r();(n.inlinePatterns.length>0||n.blockPatterns.length>0||i())&&IP(e,n)&&t.preventDefault()}}),!0);const o=()=>{if(e.selection.isCollapsed()){const t=r();(t.inlinePatterns.length>0||i())&&((e,t)=>{const n=e.selection.getRng();vP(e,n).map((r=>{const i=Math.max(0,n.startOffset-1),o=_P(e.dom,r,n.startContainer,i),s=yP(t,r,o),a=LP(e,r,n.startContainer,i,s,!1);a.length>0&&e.undoManager.transact((()=>{PP(e,a)}))}))})(e,t)}};e.on("keyup",(e=>{RP(n,e,((e,t)=>e===t.keyCode&&!Mf.modifierPressed(t)))&&o()})),e.on("keypress",(n=>{RP(t,n,((e,t)=>e.charCodeAt(0)===t.charCode))&&Gp.setEditorTimeout(e,o)}))},BP=e=>{const t=It.each,n=Mf.BACKSPACE,r=Mf.DELETE,i=e.dom,o=e.selection,s=e.parser,a=Dt.browser,l=a.isFirefox(),c=a.isChromium()||a.isSafari(),u=Dt.deviceType.isiPhone()||Dt.deviceType.isiPad(),d=Dt.os.isMacOS()||Dt.os.isiOS(),h=(t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}},f=e=>e.isDefaultPrevented(),m=()=>{const t=e=>{const t=i.create("body"),n=e.cloneContents();return t.appendChild(n),o.serializer.serialize(t,{format:"html"})};e.on("keydown",(o=>{const s=o.keyCode;if(!f(o)&&(s===r||s===n)&&e.selection.isEditable()){const n=e.selection.isCollapsed(),r=e.getBody();if(n&&!_o(_n.fromDom(r)))return;if(!n&&!(n=>{const r=t(n),o=i.createRng();return o.selectNode(e.getBody()),r===t(o)})(e.selection.getRng()))return;o.preventDefault(),e.setContent(""),r.firstChild&&i.isBlock(r.firstChild)?e.selection.setCursorLocation(r.firstChild,0):e.selection.setCursorLocation(r,0),e.nodeChanged()}}))},g=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},v=()=>{e.inline||i.bind(e.getDoc(),"mousedown mouseup",(t=>{let n;if(t.target===e.getDoc().documentElement)if(n=o.getRng(),e.getBody().focus(),"mousedown"===t.type){if(zi(n.startContainer))return;o.placeCaretAt(t.clientX,t.clientY)}else o.setRng(n)}))},y=()=>{Range.prototype.getClientRects||e.on("mousedown",(t=>{if(!f(t)&&"HTML"===t.target.nodeName){const t=e.getBody();t.blur(),Gp.setEditorTimeout(e,(()=>{t.focus()}))}}))},_=()=>{const t=eu(e);e.on("click",(n=>{const r=n.target;/^(IMG|HR)$/.test(r.nodeName)&&i.isEditable(r)&&(n.preventDefault(),e.selection.select(r),e.nodeChanged()),"A"===r.nodeName&&i.hasClass(r,t)&&0===r.childNodes.length&&i.isEditable(r.parentNode)&&(n.preventDefault(),o.select(r))}))},b=()=>{e.on("keydown",(e=>{if(!f(e)&&e.keyCode===n&&o.isCollapsed()&&0===o.getRng().startOffset){const t=o.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}return!0}))},w=()=>{const t=()=>{h("StyleWithCSS",!1),h("enableInlineTableEditing",!1),Sc(e)||h("enableObjectResizing",!1)};Vc(e)||e.on("BeforeExecCommand mousedown",t)},k=()=>{e.on("SetContent ExecCommand",(e=>{"setcontent"!==e.type&&"mceInsertLink"!==e.command||t(i.select("a:not([data-mce-block])"),(e=>{var t;let n=e.parentNode;const r=i.getRoot();if((null==n?void 0:n.lastChild)===e){for(;n&&!i.isBlock(n);){if((null===(t=n.parentNode)||void 0===t?void 0:t.lastChild)!==n||n===r)return;n=n.parentNode}i.add(n,"br",{"data-mce-bogus":1})}}))}))},x=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},S=()=>{e.inline||e.on("keydown",(()=>{document.activeElement===document.body&&e.getWin().focus()}))},E=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(t=>{let n;"HTML"===t.target.nodeName&&(n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged())})))},T=()=>{d&&e.on("keydown",(t=>{if(Mf.metaKeyPressed(t)&&!t.shiftKey&&(37===t.keyCode||39===t.keyCode)){t.preventDefault();e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary")}}))},A=()=>{e.on("click",(e=>{let t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},O=()=>{e.on("init",(()=>{e.dom.bind(e.getBody(),"submit",(e=>{e.preventDefault()}))}))},D=C,M=()=>{e.on("keydown",(t=>{if(f(t)||t.keyCode!==Mf.BACKSPACE)return;let n=o.getRng();const r=n.startContainer,s=n.startOffset,a=i.getRoot();let l=r;if(n.collapsed&&0===s){for(;l.parentNode&&l.parentNode.firstChild===l&&l.parentNode!==a;)l=l.parentNode;"BLOCKQUOTE"===l.nodeName&&(e.formatter.toggle("blockquote",void 0,l),n=i.createRng(),n.setStart(r,0),n.setEnd(r,0),o.setRng(n))}})),m(),Dt.windowsPhone||e.on("keyup focusin mouseup",(t=>{Mf.modifierPressed(t)||(e=>{const t=e.getBody(),n=e.selection.getRng();return n.startContainer===n.endContainer&&n.startContainer===t&&0===n.startOffset&&n.endOffset===t.childNodes.length})(e)||o.normalize()}),!0),c&&(v(),_(),e.on("init",(()=>{h("DefaultParagraphSeparator",Xl(e))})),O(),b(),s.addNodeFilter("br",(e=>{let t=e.length;for(;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})),u?(S(),E(),A()):g()),l&&(e.on("keydown",(t=>{if(!f(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(o.isCollapsed()&&0===o.getRng().startOffset){const e=o.getNode(),n=e.previousSibling;if("HR"===e.nodeName)return i.remove(e),void t.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(i.remove(n),t.preventDefault())}}})),y(),(()=>{const n=()=>{const n=i.getAttribs(o.getStart().cloneNode(!1));return()=>{const r=o.getStart();r!==e.getBody()&&(i.setAttrib(r,"style",null),t(n,(e=>{r.setAttributeNode(e.cloneNode(!0))})))}},r=()=>!o.isCollapsed()&&i.getParent(o.getStart(),i.isBlock)!==i.getParent(o.getEnd(),i.isBlock);e.on("keypress",(t=>{let i;return!(!(f(t)||8!==t.keyCode&&46!==t.keyCode)&&r()&&(i=n(),e.getDoc().execCommand("delete",!1),i(),t.preventDefault(),1))})),i.bind(e.getDoc(),"cut",(t=>{if(!f(t)&&r()){const t=n();Gp.setEditorTimeout(e,(()=>{t()}))}}))})(),w(),k(),x(),T(),b(),e.on("drop",(t=>{var n;const r=null===(n=t.dataTransfer)||void 0===n?void 0:n.getData("text/html");p(r)&&/^<img[^>]*>$/.test(r)&&e.dispatch("dragend",new window.DragEvent("dragend",t))})))};return vk(e)?(c&&(v(),_(),O(),g(),u&&(S(),E(),A())),l&&(y(),w(),x(),T())):M(),{refreshContentEditable:D,isHidden:()=>{if(!l||e.removed)return!1;const t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount}}},FP=Ks.DOM,jP=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,zP=e=>we(e,(e=>!1===b(e))),HP=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return zP({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:jP(e),sandbox_iframes:t("sandbox_iframes"),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},$P=e=>{const t=e.options.get;return zP({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},UP=e=>{e.bindPendingEventDelegates(),e.initialized=!0,(e=>{e.dispatch("Init")})(e),e.focus(!0),(e=>{const t=e.dom.getRoot();e.inline||Eh(e)&&e.selection.getStart(!0)!==t||Yd(t).each((t=>{const n=t.getNode(),r=Xr(n)?Yd(n).getOr(t):t;e.selection.setRng(r.toRange())}))})(e),e.nodeChanged({initial:!0});const t=ru(e);x(t)&&t.call(e,e),(e=>{const t=ou(e);t&&Gp.setEditorTimeout(e,(()=>{let n;n=!0===t?e:e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())}),100)})(e)},WP=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,qP=e=>{const t=WP(e),n=wc(e),r=e.contentCSS,i=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(n)},o=()=>{e.removed?i():e.on("remove",i)};if(e.contentStyles.length>0){let t="";It.each(e.contentStyles,(e=>{t+=e+"\r\n"})),e.dom.addStyle(t)}const s=Promise.all(((e,t,n)=>{const{pass:r,fail:i}=G(t,(e=>tinymce.Resource.has(yx(e)))),o=r.map((t=>{const n=tinymce.Resource.get(yx(t));return p(n)?Promise.resolve(WP(e).loadRawCss(t,n)):Promise.resolve()})),s=[...o,WP(e).loadAll(i)];return e.inline?s:s.concat([e.ui.styleSheetLoader.loadAll(n)])})(e,r,n)).then(o).catch(o),a=bc(e);return a&&((e,t)=>{const n=_n.fromDom(e.getBody()),r=Wn(Un(n)),i=_n.fromTag("style");en(i,"type","text/css"),vr(i,_n.fromText(t)),vr(r,i),e.on("remove",(()=>{wr(i)}))})(e,a),s},VP=e=>{!0!==e.removed&&((e=>{vk(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})})(e),UP(e))},ZP=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(FP.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const r=e.getBody();r.disabled=!0,e.readonly=Vc(e),e._editableRoot=Zc(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&"static"===FP.getStyle(r,"position",!0)&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=Ox(e),e.schema=_s($P(e)),e.dom=Ks(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:fc(e),referrerPolicy:pc(e),onSetAttrib:t=>{e.dispatch("SetAttrib",t)},force_hex_color:Pu(e)}),e.parser=(e=>{const t=Lw(HP(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",((t,n)=>{const r=e.dom,i="data-mce-"+n;let o=t.length;for(;o--;){const s=t[o];let a=s.attr(n);if(a&&!s.attr(i)){if(0===a.indexOf("data:")||0===a.indexOf("blob:"))continue;"style"===n?(a=r.serializeStyle(r.parseStyle(a),s.name),a.length||(a=null),s.attr(i,a),s.attr(n,a)):"tabindex"===n?(s.attr(i,a),s.attr(n,null)):s.attr(i,e.convertURL(a,n,s.name))}}})),t.addNodeFilter("script",(e=>{let t=e.length;for(;t--;){const n=e[t],r=n.attr("type")||"no/type";0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}})),Eu(e)&&t.addNodeFilter("#cdata",(t=>{var n;let r=t.length;for(;r--;){const i=t[r];i.type=8,i.name="#comment",i.value="[CDATA["+e.dom.encode(null!==(n=i.value)&&void 0!==n?n:"")+"]]"}})),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(t=>{let n=t.length;const r=e.schema.getNonEmptyElements();for(;n--;){const e=t[n];e.isEmpty(r)&&0===e.getAll("br").length&&e.append(new Am("br",1))}})),t})(e),e.serializer=Ik((e=>{const t=e.options.get;return{...HP(e),...$P(e),...zP({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}})(e),e),e.selection=Ok(e.dom,e.getWin(),e.serializer,e),e.annotator=kf(e),e.formatter=Hx(e),e.undoManager=Ux(e),e._nodeChangeDispatcher=new sM(e),e._selectionOverrides=cP(e),PC(e),kL(e),$C(e),vk(e)||((e=>{e.on("mousedown",(t=>{t.detail>=3&&(t.preventDefault(),DL(e))}))})(e),(e=>{NP(e)})(e));const i=oM(e);MC(e,i),(e=>{e.on("NodeChange",L(FC,e))})(e),Yx(e),wL(e);const o=yk(e);(e=>{const t=e.getDoc(),n=e.getBody();(e=>{e.dispatch("PreInit")})(e),su(e)||(t.body.spellcheck=!1,FP.setAttrib(n,"spellcheck","false")),e.quirks=BP(e),(e=>{e.dispatch("PostRender")})(e);const r=kc(e);void 0!==r&&(n.dir=r);const i=au(e);i&&e.on("BeforeSetContent",(e=>{It.each(i,(t=>{e.content=e.content.replace(t,(e=>"\x3c!--mce:protected "+escape(e)+"--\x3e"))}))})),e.on("SetContent",(()=>{e.addVisual(e.getBody())})),e.on("compositionstart compositionend",(t=>{e.composing="compositionstart"===t.type}))})(e),o.fold((()=>{const t=(e=>{let t=!1;const n=setTimeout((()=>{t||e.setProgressState(!0)}),500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}})(e);qP(e).then((()=>{VP(e),t()}))}),(t=>{e.setProgressState(!0),qP(e).then((()=>{t().then((t=>{e.setProgressState(!1),VP(e),wk(e)}),(t=>{e.notificationManager.open({type:"error",text:String(t)}),VP(e),wk(e)}))}))}))},YP=F,GP=Ks.DOM,KP=(e,t)=>{const n=e.translate("Rich Text Area"),r=rn(_n.fromDom(e.getElement()),"tabindex").bind(Je),i=((e,t,n,r)=>{const i=_n.fromTag("iframe");return r.each((e=>en(i,"tabindex",e))),tn(i,n),tn(i,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),fn(i,"tox-edit-area__iframe"),i})(e.id,n,Wl(e),r).dom;i.onload=()=>{i.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=i,e.iframeHTML=(e=>{let t=ql(e)+"<html><head>";Vl(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=Zl(e),r=Yl(e),i=e.translate(tu(e));return Gl(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Gl(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${i}"><br></body></html>`,t})(e),GP.add(t.iframeContainer,i)},XP=e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,ZP(e)};if(Au(e)||Dt.browser.isFirefox()){const t=e.getDoc();t.open(),t.write(e.iframeHTML),t.close(),n()}else{const i=(r=_n.fromDom(t),Tr(r,"load",YP,(()=>{i.unbind(),n()})));t.srcdoc=e.iframeHTML}var r},JP=Ks.DOM,QP=(e,t,n)=>{const r=ux.get(n),i=ux.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=It.trim(n),r&&-1===It.inArray(t,n)){if(e.plugins[n])return;try{const o=r(e,i)||{};e.plugins[n]=o,x(o.init)&&(o.init(e,i),t.push(n))}catch(t){((e,t,n)=>{const r=ra.translate(["Failed to initialize plugin: {0}",t]);Ef(e,"PluginLoadError",{message:r}),vx(r,n),px(e,r)})(e,n,t)}}},eI=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),tI=e=>{const t=e.getElement();return e.inline?eI(null):(e=>{const t=JP.create("div");return JP.insertAfter(t,e),eI(t,t)})(t)},nI=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,p(Oc(e))?(e=>{const t=e.theme.renderUI;return t?t():tI(e)})(e):x(Oc(e))?(e=>{const t=e.getElement(),n=Oc(e)(e,t);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight,n})(e):tI(e)},rI=async e=>{e.dispatch("ScriptsLoaded"),(e=>{const t=It.trim(ac(e)),n=e.ui.registry.getAll().icons,r={...Qk.get("default").icons,...Qk.get(t).icons};ge(r,((t,r)=>{Ee(n,r)||e.ui.registry.addIcon(r,t)}))})(e),(e=>{const t=Oc(e);if(p(t)){const n=dx.get(t);e.theme=n(e,dx.urls[t])||{},x(e.theme.init)&&e.theme.init(e,dx.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}})(e),(e=>{const t=Mc(e),n=ex.get(t);e.model=n(e,ex.urls[t])})(e),(e=>{const t=[];Z(Gc(e),(n=>{QP(e,t,(e=>e.replace(/^\-/,""))(n))}))})(e);const t=await nI(e);((e,t)=>{const n={show:j.from(t.show).getOr(C),hide:j.from(t.hide).getOr(C),isEnabled:j.from(t.isEnabled).getOr(F),setEnabled:n=>{e.mode.isReadOnly()||j.from(t.setEnabled).each((e=>e(n)))}};e.ui={...e.ui,...n}})(e,j.from(t.api).getOr({})),e.editorContainer=t.editorContainer,bx(e),e.inline?ZP(e):((e,t)=>{KP(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=GP.isHidden(t.editorContainer)),e.getElement().style.display="none",GP.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,XP(e)})(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},iI=Ks.DOM,oI=e=>"-"===e.charAt(0),sI=(e,t)=>{const n=mc(t),r=gc(t);if(!ra.hasCode(n)&&"en"!==n){const i=Ke(r)?r:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(i).catch((()=>{((e,t,n)=>{mx(e,"LanguageLoadError",gx("language",t,n))})(t,i,n)}))}},aI=(e,t)=>{const n=Oc(e);if(p(n)&&!oI(n)&&!Ee(dx.urls,n)){const r=Dc(e),i=r?e.documentBaseURI.toAbsolute(r):`themes/${n}/theme${t}.js`;dx.load(n,i).catch((()=>{((e,t,n)=>{mx(e,"ThemeLoadError",gx("theme",t,n))})(e,i,n)}))}},lI=(e,t)=>{const n=Mc(e);if("plugin"!==n&&!Ee(ex.urls,n)){const r=Lc(e),i=p(r)?e.documentBaseURI.toAbsolute(r):`models/${n}/model${t}.js`;ex.load(n,i).catch((()=>{((e,t,n)=>{mx(e,"ModelLoadError",gx("model",t,n))})(e,i,n)}))}},cI=(e,t,n)=>j.from(t).filter((e=>Ke(e)&&!Qk.has(e))).map((t=>({url:`${e.editorManager.baseURL}/icons/${t}/icons${n}.js`,name:j.some(t)}))),uI=(e,t,n)=>{const r=cI(t,"default",n),i=(e=>j.from(lc(e)).filter(Ke).map((e=>({url:e,name:j.none()}))))(t).orThunk((()=>cI(t,ac(t),"")));Z((e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t})([r,i]),(n=>{e.add(n.url).catch((()=>{((e,t,n)=>{mx(e,"IconsLoadError",gx("icons",t,n))})(t,n.url,n.name.getOrUndefined())}))}))},dI=(e,t)=>{const n=(t,n)=>{ux.load(t,n).catch((()=>{((e,t,n)=>{mx(e,"PluginLoadError",gx("plugin",t,n))})(e,n,t)}))};ge(Kc(e),((t,r)=>{n(r,t),e.options.set("plugins",Gc(e).concat(r))})),Z(Gc(e),(e=>{!(e=It.trim(e))||ux.urls[e]||oI(e)||n(e,`plugins/${e}/plugin${t}.js`)}))},hI=(e,t)=>{const n=Js.ScriptLoader,r=()=>{!e.removed&&(e=>{const t=Oc(e);return!p(t)||k(dx.get(t))})(e)&&(e=>{const t=Mc(e);return k(ex.get(t))})(e)&&rI(e)};aI(e,t),lI(e,t),sI(n,e),uI(n,e,t),dI(e,t),n.loadQueue().then(r,r)},fI=e=>{const t=e.id;ra.setCode(mc(e));const n=()=>{iI.unbind(window,"ready",n),e.render()};if(!zs.Event.domLoaded)return void iI.bind(window,"ready",n);if(!e.getElement())return;const r=_n.fromDom(e.getElement()),i=an(r);e.on("remove",(()=>{Y(r.dom.attributes,(e=>sn(r,e.name))),tn(r,i)})),e.ui.styleSheetLoader=((e,t)=>Uo.forElement(e,{contentCssCors:Yc(t),referrerPolicy:pc(t)}))(r,e),jc(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const o=e.getElement().form||iI.getParent(t,"form");o&&(e.formElement=o,zc(e)&&!Qr(e.getElement())&&(iI.insertAfter(iI.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=t=>{e.dispatch(t.type,t)},iI.bind(o,"submit reset",e.formEventDelegate),e.on("reset",(()=>{e.resetContent()})),!Hc(e)||o.submit.nodeType||o.submit.length||o._mceOldSubmit||(o._mceOldSubmit=o.submit,o.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),o._mceOldSubmit(o)))),e.windowManager=hx(e),e.notificationManager=cx(e),(e=>"xml"===e.options.get("encoding"))(e)&&e.on("GetContent",(e=>{e.save&&(e.content=iI.encode(e.content))})),$c(e)&&e.on("submit",(()=>{e.initialized&&e.save()})),Uc(e)&&(e._beforeUnload=()=>{!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),hI(e,e.suffix)},pI=xt().deviceType,mI=pI.isPhone(),gI=pI.isTablet(),vI=e=>{if(w(e))return[];{const t=v(e)?e:e.split(/[ ,]/),n=V(t,Ze);return K(n,Ke)}},yI=(e,t)=>{const n=((e,t)=>{const n={},r={};return be(e,t,_e(n),_e(r)),{t:n,f:r}})(t,((t,n)=>W(e,n)));return r=n.t,i=n.f,{sections:O(r),options:O(i)};var r,i},_I=(e,t)=>Ee(e.sections(),t),bI=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Se(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),wI=(e,t)=>{var n;const r=null!==(n=t.external_plugins)&&void 0!==n?n:{};return e&&e.external_plugins?It.extend({},e.external_plugins,r):r},kI=(e,t,n,r)=>{const i=vI(n.forced_plugins),o=vI(r.plugins),s=((e,t)=>_I(e,t)?e.sections()[t]:{})(t,"mobile"),a=((e,t,n,r)=>e&&_I(t,"mobile")?r:n)(e,t,o,s.plugins?vI(s.plugins):o),l=((e,t)=>[...vI(e),...vI(t)])(i,a);return It.extend(r,{forced_plugins:i,plugins:l})},xI=(e,t,n,r,i)=>{var o;const s=e?{mobile:bI(null!==(o=i.mobile)&&void 0!==o?o:{},t)}:{},a=yI(["mobile"],kA(s,i)),l=It.extend(n,r,a.options(),((e,t)=>e&&_I(t,"mobile"))(e,a)?((e,t,n={})=>{const r=e.sections(),i=Se(r,t).getOr({});return It.extend({},n,i)})(a,"mobile"):{},{external_plugins:wI(r,a.options())});return kI(e,a,r,l)},SI=(e,t)=>((e,t)=>bk(e).editor.addVisual(t))(e,t),EI=e=>{const t=t=>()=>{Z("left,center,right,justify".split(","),(n=>{t!==n&&e.formatter.remove("align"+n)})),"none"!==t&&((t,n)=>{e.formatter.toggle(t,n),e.nodeChanged()})("align"+t)};e.editorCommands.addCommands({JustifyLeft:t("left"),JustifyCenter:t("center"),JustifyRight:t("right"),JustifyFull:t("justify"),JustifyNone:t("none")})},CI=e=>{EI(e),(e=>{const t=t=>()=>{const n=e.selection,r=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks();return q(r,(n=>k(e.formatter.matchNode(n,t))))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")})(e)},TI=(e,t)=>{const n=e.selection,r=e.dom;return/^ | $/.test(t)?((e,t,n,r)=>{const i=_n.fromDom(e.getRoot());return n=jg(i,il.fromRangeStart(t),r)?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),zg(i,il.fromRangeEnd(t),r)?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," ")})(r,n.getRng(),t,e.schema):t},AI=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:r}=(e=>{if("string"!=typeof e){const t=It.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}})(t);Nw(e,{...r,content:TI(e,n),format:"html",set:!1,selection:!0}).each((t=>{const n=((e,t,n)=>_k(e).editor.insertContent(t,n))(e,t.content,r);Bw(e,n,t),e.addVisual()}))}},OI={"font-size":"size","font-family":"face"},DI=Jt("font"),MI=(e,t,n)=>By(_n.fromDom(n),(t=>(t=>dr(t,e).orThunk((()=>DI(t)?Se(OI,e).bind((e=>rn(t,e))):j.none())))(t)),(e=>xn(_n.fromDom(t),e))),LI=e=>(t,n)=>j.from(n).map(_n.fromDom).filter(Yt).bind((n=>MI(e,t,n.dom).or(((e,t)=>j.from(Ks.DOM.getStyle(t,e,!0)))(e,n.dom)))).getOr(""),PI=LI("font-size"),II=T((e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")),LI("font-family")),RI=e=>Yd(e.getBody()).bind((e=>{const t=e.container();return j.from(ei(t)?t.parentNode:t)})),NI=(e,t)=>(e=>j.from(e.selection.getRng()).bind((t=>{const n=e.getBody();return t.startContainer===n&&0===t.startOffset?j.none():j.from(e.selection.getStart(!0))})))(e).orThunk(L(RI,e)).map(_n.fromDom).filter(Yt).bind(t),BI=(e,t)=>NI(e,A(j.some,t)),FI=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const r=(e=>It.explode(e.options.get("font_size_style_values")))(e),i=(e=>It.explode(e.options.get("font_size_classes")))(e);return i.length>0?i[n-1]||t:r[n-1]||t}return t}return t},jI=e=>{const t=e.split(/\s*,\s*/);return V(t,(e=>-1===e.indexOf(" ")||We(e,'"')||We(e,"'")?e:`'${e}'`)).join(",")},zI=e=>{const t=(t,n)=>{e.formatter.toggle(t,n),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{t(e)},"ForeColor,HiliteColor":(e,n,r)=>{t(e,{value:r})},BackColor:(e,n,r)=>{t("hilitecolor",{value:r})},FontName:(t,n,r)=>{((e,t)=>{const n=FI(e,t);e.formatter.toggle("fontname",{value:jI(n)}),e.nodeChanged()})(e,r)},FontSize:(t,n,r)=>{((e,t)=>{e.formatter.toggle("fontsize",{value:FI(e,t)}),e.nodeChanged()})(e,r)},LineHeight:(t,n,r)=>{((e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()})(e,r)},Lang:(e,n,r)=>{var i;t(e,{value:r.code,customValue:null!==(i=r.customCode)&&void 0!==i?i:null})},RemoveFormat:t=>{e.formatter.remove(t)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(e,n,r)=>{t(p(r)?r:"p")},mceToggleFormat:(e,n,r)=>{t(r)}})},HI=e=>{const t=t=>e.formatter.match(t);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",(()=>(e=>BI(e,(t=>II(e.getBody(),t.dom))).getOr(""))(e))),e.editorCommands.addQueryValueHandler("FontSize",(()=>(e=>BI(e,(t=>PI(e.getBody(),t.dom))).getOr(""))(e))),e.editorCommands.addQueryValueHandler("LineHeight",(()=>(e=>BI(e,(t=>{const n=_n.fromDom(e.getBody()),r=By(t,(e=>dr(e,"line-height")),L(xn,n));return r.getOrThunk((()=>{const e=parseFloat(cr(t,"line-height")),n=parseFloat(cr(t,"font-size"));return String(e/n)}))})).getOr(""))(e)))},$I=e=>{e.editorCommands.addCommands({Indent:()=>{(e=>{CC(e,"indent")})(e)},Outdent:()=>{TC(e)}}),e.editorCommands.addCommands({Outdent:()=>xC(e)},"state")},UI=(e,t)=>{const n=e.dom,r=e.selection.getRng(),i=t?e.selection.getStart():e.selection.getEnd(),o=t?r.startContainer:r.endContainer,s=KO(n,o);if(!s||!s.isContentEditable)return;const a=t?pr:mr,l=Xl(e);((e,t,n,r)=>{const i=e.dom,o=e=>i.isBlock(e)&&e.parentElement===n,s=o(t)?t:i.getParent(r,o,n);return j.from(s).map(_n.fromDom)})(e,i,s,o).each((t=>{const n=eD(e,o,t.dom,s,!1,l);a(t,_n.fromDom(n)),e.selection.setCursorLocation(n,0),e.dispatch("NewBlock",{newBlock:n}),$O(e,"insertParagraph")}))},WI=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{(e=>{UI(e,!0)})(e)},InsertNewBlockAfter:()=>{(e=>{UI(e,!1)})(e)}})},qI=e=>{CI(e),(e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let r;try{n.execCommand(t)}catch(e){r=!0}if("paste"!==t||n.queryCommandEnabled(t)||(r=!0),r||!n.queryCommandSupported(t)){let t=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Dt.os.isMacOS()||Dt.os.isiOS())&&(t=t.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:t,type:"error"})}}})})(e),(e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})})(e),(e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,r)=>{let i=0;e.dom.getParent(e.selection.getNode(),(t=>!Wr(t)||i++!==r||(e.selection.select(t),!1)),e.getBody())},mceSelectNode:(t,n,r)=>{e.selection.select(r)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),li);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})})(e),(e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,r)=>{AI(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,r)=>{AI(e,e.dom.encode(r))},insertHTML:(t,n,r)=>{AI(e,r)},mceInsertContent:(t,n,r)=>{AI(e,r)},mceSetContent:(t,n,r)=>{e.setContent(r)},mceReplaceContent:(t,n,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(hu(e))}})})(e),(e=>{const t=(t,n,r)=>{const i=p(r)?{href:r}:r,o=e.dom.getParent(e.selection.getNode(),"a");m(i)&&p(i.href)&&(i.href=i.href.replace(/ /g,"%20"),o&&i.href||e.formatter.remove("link"),i.href&&e.formatter.apply("link",i,o))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const t=e.dom.getParent(e.selection.getStart(),"a");return void(t&&e.dom.remove(t,!0))}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})})(e),$I(e),WI(e),(e=>{e.editorCommands.addCommands({insertParagraph:()=>{BD(pD,e)},mceInsertNewLine:(t,n,r)=>{FD(e,r)},InsertLineBreak:(t,n,r)=>{BD(xD,e)}})})(e),(e=>{(e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const n=e.dom.getParent(e.selection.getNode(),"ol,ul");if(n){const t=n.parentNode;if(t&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName)){const r=e.selection.getBookmark();e.dom.split(t,n),e.selection.moveToBookmark(r)}}}})})(e),(e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state")})(e)})(e),(e=>{zI(e),HI(e)})(e),(e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,r)=>{const i=null!=r?r:e.selection.getNode();if(i!==e.getBody()){const t=e.selection.getBookmark();e.dom.remove(i,!0),e.selection.moveToBookmark(t)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,r)=>{dm(e,!0===r)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})})(e)},VI=["toggleview"],ZI=e=>W(VI,e.toLowerCase());class YI{constructor(e){this.commands={state:{},exec:{},value:{}},this.editor=e}execCommand(e,t=!1,n,r){const i=this.editor,o=e.toLowerCase(),s=null==r?void 0:r.skip_focus;if(i.removed)return!1;"mcefocus"!==o&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(o)||s?(e=>{Zp(e).each((t=>e.selection.setRng(t)))})(i):i.focus());if(i.dispatch("BeforeExecCommand",{command:e,ui:t,value:n}).isDefaultPrevented())return!1;const a=this.commands.exec[o];return!!x(a)&&(a(o,t,n),i.dispatch("ExecCommand",{command:e,ui:t,value:n}),!0)}queryCommandState(e){if(!ZI(e)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const t=e.toLowerCase(),n=this.commands.state[t];return!!x(n)&&n(t)}queryCommandValue(e){if(!ZI(e)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const t=e.toLowerCase(),n=this.commands.value[t];return x(n)?n(t):""}addCommands(e,t="exec"){const n=this.commands;ge(e,((e,r)=>{Z(r.toLowerCase().split(","),(r=>{n[t][r]=e}))}))}addCommand(e,t,n){const r=e.toLowerCase();this.commands.exec[r]=(e,r,i)=>t.call(null!=n?n:this.editor,r,i)}queryCommandSupported(e){const t=e.toLowerCase();return!!this.commands.exec[t]}addQueryStateHandler(e,t,n){this.commands.state[e.toLowerCase()]=()=>t.call(null!=n?n:this.editor)}addQueryValueHandler(e,t,n){this.commands.value[e.toLowerCase()]=()=>t.call(null!=n?n:this.editor)}}const GI="data-mce-contenteditable",KI=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}},XI=(e,t)=>{e.dom.contentEditable=t?"true":"false"},JI=(e,t)=>{const n=_n.fromDom(e.getBody());((e,t,n)=>{vn(e,t)&&!n?mn(e,t):n&&fn(e,t)})(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),(e=>{j.from(e.selection.getNode()).each((e=>{e.removeAttribute("data-mce-selected")}))})(e),e.readonly=!0,XI(n,!1),Z(jr(n,'*[contenteditable="true"]'),(e=>{en(e,GI,"true"),XI(e,!1)}))):(e.readonly=!1,e.hasEditableRoot()&&XI(n,!0),(e=>{Z(jr(e,`*[${GI}="true"]`),(e=>{sn(e,GI),XI(e,!0)}))})(n),KI(e,"StyleWithCSS",!1),KI(e,"enableInlineTableEditing",!1),KI(e,"enableObjectResizing",!1),cm(e)&&e.focus(),(e=>{e.selection.setRng(e.selection.getRng())})(e),e.nodeChanged())},QI=e=>e.readonly,eR=e=>{e.parser.addAttributeFilter("contenteditable",(t=>{QI(e)&&Z(t,(e=>{e.attr(GI,e.attr("contenteditable")),e.attr("contenteditable","false")}))})),e.serializer.addAttributeFilter(GI,(t=>{QI(e)&&Z(t,(e=>{e.attr("contenteditable",e.attr(GI))}))})),e.serializer.addTempAttr(GI)},tR=["copy"],nR=(e,t)=>{if((e=>"click"===e.type)(t)&&!Mf.metaKeyPressed(t)){const n=_n.fromDom(t.target);((e,t)=>nr(t,"a",(t=>xn(t,_n.fromDom(e.getBody())))).bind((e=>rn(e,"href"))))(e,n).each((n=>{if(t.preventDefault(),/^#/.test(n)){const t=e.dom.select(`${n},[name="${$e(n,"#")}"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))}else(e=>W(tR,e.type))(t)&&e.dispatch(t.type,t)},rR=It.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class iR{static isNative(e){return!!rR[e.toLowerCase()]}constructor(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||B}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){const n=e.toLowerCase(),r=Is(n,null!=t?t:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(r);const i=this.bindings[n];if(i)for(let e=0,t=i.length;e<t;e++){const t=i[e];if(!t.removed){if(t.once&&this.off(n,t.func),r.isImmediatePropagationStopped())return r;if(!1===t.func.call(this.scope,r))return r.preventDefault(),r}}return r}on(e,t,n,r){if(!1===t&&(t=B),t){const i={func:t,removed:!1};r&&It.extend(i,r);const o=e.toLowerCase().split(" ");let s=o.length;for(;s--;){const e=o[s];let t=this.bindings[e];t||(t=[],this.toggleEvent(e,!0)),t=n?[i,...t]:[...t,i],this.bindings[e]=t}}return this}off(e,t){if(e){const n=e.toLowerCase().split(" ");let r=n.length;for(;r--;){const i=n[r];let o=this.bindings[i];if(!i)return ge(this.bindings,((e,t)=>{this.toggleEvent(t,!1),delete this.bindings[t]})),this;if(o){if(t){const e=G(o,(e=>e.func===t));o=e.fail,this.bindings[i]=o,Z(e.pass,(e=>{e.removed=!0}))}else o.length=0;o.length||(this.toggleEvent(e,!1),delete this.bindings[i])}}}else ge(this.bindings,((e,t)=>{this.toggleEvent(t,!1)})),this.bindings={};return this}once(e,t,n){return this.on(e,t,n,{once:!0})}has(e){e=e.toLowerCase();const t=this.bindings[e];return!(!t||0===t.length)}}const oR=e=>(e._eventDispatcher||(e._eventDispatcher=new iR({scope:e,toggleEvent:(t,n)=>{iR.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),sR={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const r=this;if(r.removed&&"remove"!==e&&"detach"!==e)return Is(e.toLowerCase(),null!=t?t:{},r);const i=oR(r).dispatch(e,t);if(!1!==n&&r.parent){let t=r.parent();for(;t&&!i.isPropagationStopped();)t.dispatch(e,i,!1),t=t.parent?t.parent():void 0}return i},on(e,t,n){return oR(this).on(e,t,n)},off(e,t){return oR(this).off(e,t)},once(e,t){return oR(this).once(e,t)},hasEventListeners(e){return oR(this).has(e)}},aR=Ks.DOM;let lR;const cR=(e,t)=>{if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=Tc(e);return n?(e.eventRoot||(e.eventRoot=aR.select(n)[0]),e.eventRoot):e.getBody()},uR=(e,t,n)=>{(e=>!e.hidden&&!QI(e))(e)?e.dispatch(t,n):QI(e)&&nR(e,n)},dR=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=cR(e,t);if(Tc(e)){if(lR||(lR={},e.editorManager.on("removeEditor",(()=>{e.editorManager.activeEditor||lR&&(ge(lR,((t,n)=>{e.dom.unbind(cR(e,n))})),lR=null)}))),lR[t])return;const r=n=>{const r=n.target,i=e.editorManager.get();let o=i.length;for(;o--;){const e=i[o].getBody();(e===r||aR.isChildOf(r,e))&&uR(i[o],t,n)}};lR[t]=r,aR.bind(n,t,r)}else{const r=n=>{uR(e,t,n)};aR.bind(n,t,r),e.delegates[t]=r}},hR={...sR,bindPendingEventDelegates(){const e=this;It.each(e._pendingNativeEvents,(t=>{dR(e,t)}))},toggleNativeEvent(e,t){const n=this;"focus"!==e&&"blur"!==e&&(n.removed||(t?n.initialized?dR(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(cR(n,e),e,n.delegates[e]),delete n.delegates[e])))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(ge(e.delegates,((t,n)=>{e.dom.unbind(cR(e,n),n,t)})),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},fR=e=>p(e)?{value:e.split(/[ ,]/),valid:!0}:E(e,p)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},pR=(e,t)=>e+(Xe(t.message)?"":`. ${t.message}`),mR=e=>e.valid,gR=(e,t,n="")=>{const r=t(e);return _(r)?r?{value:e,valid:!0}:{valid:!1,message:n}:r},vR=(e,t)=>{const n={},r={},i=(e,t,n)=>{const i=gR(t,n);return mR(i)?(r[e]=i.value,!0):(console.warn(pR(`Invalid value passed for the ${e} option`,i)),!1)},o=e=>Ee(n,e);return{register:(e,o)=>{const s=(e=>p(e.processor))(o)?(e=>{const t=(()=>{switch(e){case"array":return v;case"boolean":return _;case"function":return x;case"number":return S;case"object":return m;case"string":return p;case"string[]":return fR;case"object[]":return e=>E(e,m);case"regexp":return e=>f(e,RegExp);default:return F}})();return n=>gR(n,t,`The value must be a ${e}.`)})(o.processor):o.processor,a=((e,t,n)=>{if(!b(t)){const r=gR(t,n);if(mR(r))return r.value;console.error(pR(`Invalid default value passed for the "${e}" option`,r))}})(e,o.default,s);n[e]={...o,default:a,processor:s};Se(r,e).orThunk((()=>Se(t,e))).each((t=>i(e,t,s)))},isRegistered:o,get:e=>Se(r,e).orThunk((()=>Se(n,e).map((e=>e.default)))).getOrUndefined(),set:(e,t)=>{if(o(e)){const r=n[e];return r.immutable?(console.error(`"${e}" is an immutable option and cannot be updated`),!1):i(e,t,r.processor)}return console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:e=>{const t=o(e);return t&&delete r[e],t},isSet:e=>Ee(r,e)}},yR=["design","readonly"],_R=(e,t,n,r)=>{const i=n[t.get()],o=n[r];try{o.activate()}catch(e){return void console.error(`problem while activating editor mode ${r}:`,e)}i.deactivate(),i.editorReadOnly!==o.editorReadOnly&&JI(e,o.editorReadOnly),t.set(r),((e,t)=>{e.dispatch("SwitchMode",{mode:t})})(e,r)},bR=e=>{const t=Qs("design"),n=Qs({design:{activate:C,deactivate:C,editorReadOnly:!1},readonly:{activate:C,deactivate:C,editorReadOnly:!0}});return(e=>{e.serializer?eR(e):e.on("PreInit",(()=>{eR(e)}))})(e),(e=>{e.on("ShowCaret",(t=>{QI(e)&&t.preventDefault()})),e.on("ObjectSelected",(t=>{QI(e)&&t.preventDefault()}))})(e),{isReadOnly:()=>QI(e),set:r=>((e,t,n,r)=>{if(r!==n.get()){if(!Ee(t,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?_R(e,n,t,r):e.on("init",(()=>_R(e,n,t,r)))}})(e,n.get(),t,r),get:()=>t.get(),register:(e,t)=>{n.set(((e,t,n)=>{if(W(yR,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}})(n.get(),e,t))}}},wR=It.each,kR=It.explode,xR={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},SR=It.makeMap("alt,ctrl,shift,meta,access"),ER=e=>{const t={},n=Dt.os.isMacOS()||Dt.os.isiOS();wR(kR(e.toLowerCase(),"+"),(e=>{(e=>e in SR)(e)?t[e]=!0:/^[0-9]{2,}$/.test(e)?t.keyCode=parseInt(e,10):(t.charCode=e.charCodeAt(0),t.keyCode=xR[e]||e.toUpperCase().charCodeAt(0))}));const r=[t.keyCode];let i;for(i in SR)t[i]?r.push(i):t[i]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class CR{constructor(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;const t=this;e.on("keyup keypress keydown",(e=>{!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(wR(t.shortcuts,(n=>{t.matchShortcut(e,n)&&(t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n))})),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))}))}add(e,t,n,r){const i=this,o=i.normalizeCommandFunc(n);return wR(kR(It.trim(e)),(e=>{const n=i.createShortcut(e,t,o,r);i.shortcuts[n.id]=n})),!0}remove(e){const t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)}normalizeCommandFunc(e){const t=this,n=e;return"string"==typeof n?()=>{t.editor.execCommand(n,!1,null)}:It.isArray(n)?()=>{t.editor.execCommand(n[0],n[1],n[2])}:n}createShortcut(e,t,n,r){const i=It.map(kR(e,">"),ER);return i[i.length-1]=It.extend(i[i.length-1],{func:n,scope:r||this.editor}),It.extend(i[0],{desc:this.editor.translate(t),subpatterns:i.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}const TR=()=>{const e=(()=>{const e={},t={},n={},r={},i={},o={},s={},a={},l=(e,t)=>(n,r)=>{e[n.toLowerCase()]={...r,type:t}};return{addButton:l(e,"button"),addGroupToolbarButton:l(e,"grouptoolbarbutton"),addToggleButton:l(e,"togglebutton"),addMenuButton:l(e,"menubutton"),addSplitButton:l(e,"splitbutton"),addMenuItem:l(t,"menuitem"),addNestedMenuItem:l(t,"nestedmenuitem"),addToggleMenuItem:l(t,"togglemenuitem"),addAutocompleter:l(n,"autocompleter"),addContextMenu:l(i,"contextmenu"),addContextToolbar:l(o,"contexttoolbar"),addContextForm:l(o,"contextform"),addSidebar:l(s,"sidebar"),addView:l(a,"views"),addIcon:(e,t)=>r[e.toLowerCase()]=t,getAll:()=>({buttons:e,menuItems:t,icons:r,popups:n,contextMenus:i,contextToolbars:o,sidebars:s,views:a})}})();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},AR=Ks.DOM,OR=It.extend,DR=It.each;class MR{constructor(e,t,n){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,OR(this,hR);const r=this;this.id=e,this.hidden=!1;const i=((e,t)=>xI(mI||gI,mI,t,e,t))(n.defaultOptions,t);this.options=vR(0,i),(e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:Ul(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:Ul(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:e=>{const t=p(e)&&Ke(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:e=>{const t=W(["block","linebreak","invert","default"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:e=>_(e)||p(e)?{valid:!0,value:e}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:e=>{const t=!1===e||p(e)||E(e,p);return t?p(e)?{value:V(e.split(","),Ze),valid:t}:v(e)?{value:e,valid:t}:!1===e?{value:[],valid:t}:{value:e,valid:t}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:jc(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:e=>{const t=p(e)||E(e,p);return t?{value:v(e)?e:V(e.split(","),Ze),valid:t}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:e=>{const t=_(e)||p(e);return t?!1===e||Bl.isiPhone()||Bl.isiPad()?{value:"",valid:t}:{value:!0===e?"table,img,figure.image,div,video,iframe":e,valid:t}:{valid:!1,message:"Must be boolean or a string"}},default:!Fl}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:e=>!1===e||p(e)||x(e),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:e=>{const t=!1===e||p(e);return t?{value:!1===e?"":e,valid:t}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:$l}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:$l}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:$l}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:e=>p(e)||!0===e}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:e=>E(e,m)||!1===e?{value:Nl(!1===e?[]:e),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("text_patterns_lookup",{processor:e=>{return x(e)?{value:(t=e,e=>{const n=t(e);return Nl(n)}),valid:!0}:{valid:!1,message:"Must be a single function"};var t},default:e=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:e=>E(e,zl)?{value:e,valid:!0}:zl(e)?{value:[e],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!1}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:e=>{const t=W(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:e=>{const t=W(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("force_hex_color",{processor:e=>{const t=["always","rgb_only","off"],n=W(t,e);return n?{value:e,valid:n}:{valid:!1,message:`Must be one of: ${t.join(", ")}.`}},default:"off"}),t("sandbox_iframes",{processor:"boolean",default:!1}),t("convert_unsafe_embeds",{processor:"boolean",default:!1}),e.on("ScriptsLoaded",(()=>{t("directionality",{processor:"string",default:ra.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:jl.getAttrib(e.getElement(),"placeholder")})}))})(r);const o=this.options.get;o("deprecation_warnings")&&Yk(t,i);const s=o("suffix");s&&(n.suffix=s),this.suffix=n.suffix;const a=o("base_url");a&&n._setBaseUrl(a),this.baseUri=n.baseURI;const l=pc(r);l&&(Js.ScriptLoader._setReferrerPolicy(l),Ks.DOM.styleSheetLoader._setReferrerPolicy(l));const c=Yc(r);k(c)&&Ks.DOM.styleSheetLoader._setContentCssCors(c),ia.languageLoad=o("language_load"),ia.baseURL=n.baseURL,this.setDirty(!1),this.documentBaseURI=new gw(Vl(r),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=jc(r),this.hasVisual=Jc(r),this.shortcuts=new CR(this),this.editorCommands=new YI(this),qI(this);const u=o("cache_suffix");u&&(Dt.cacheSuffix=u.replace(/^[\?\&]+/,"")),this.ui={registry:TR(),styleSheetLoader:void 0,show:C,hide:C,setEnabled:C,isEnabled:F},this.mode=bR(r),n.dispatch("SetupEditor",{editor:this});const d=nu(r);x(d)&&d.call(r,r)}render(){fI(this)}focus(e){this.execCommand("mceFocus",!1,e)}hasFocus(){return lm(this)}translate(e){return ra.translate(e)}getParam(e,t,n){const r=this.options;return r.isRegistered(e)||(k(n)?r.register(e,{processor:n,default:t}):r.register(e,{processor:F,default:t})),r.isSet(e)||b(t)?r.get(e):t}hasPlugin(e,t){return!!W(Gc(this),e)&&(!t||void 0!==ux.get(e))}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,n){this.editorCommands.addCommand(e,t,n)}addQueryStateHandler(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)}addQueryValueHandler(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)}addShortcut(e,t,n,r){this.shortcuts.add(e,t,n,r)}execCommand(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){const e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(AR.show(e.getContainer()),AR.hide(e.id)),e.load(),e.dispatch("show"))}hide(){const e=this;e.hidden||(e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(AR.hide(e.getContainer()),AR.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch("ProgressState",{state:e,time:t})}load(e={}){const t=this,n=t.getElement();if(t.removed)return"";if(n){const r={...e,load:!0},i=Qr(n)?n.value:n.innerHTML,o=t.setContent(i,r);return r.no_events||t.dispatch("LoadContent",{...r,element:n}),o}return""}save(e={}){const t=this;let n=t.getElement();if(!n||!t.initialized||t.removed)return"";const r={...e,save:!0,element:n};let i=t.getContent(r);const o={...r,content:i};if(o.no_events||t.dispatch("SaveContent",o),"raw"===o.format&&t.dispatch("RawSaveContent",o),i=o.content,Qr(n))n.value=i;else{!e.is_removing&&t.inline||(n.innerHTML=i);const r=AR.getParent(t.id,"form");r&&DR(r.elements,(e=>e.name!==t.id||(e.value=i,!1)))}return o.element=r.element=n=null,!1!==o.set_dirty&&t.setDirty(!1),i}setContent(e,t){return Nk(this,e,t)}getContent(e){return Rk(this,e)}insertContent(e,t){t&&(e=OR({content:e},t)),this.execCommand("mceInsertContent",!1,e)}resetContent(e){void 0===e?Nk(this,this.startContent,{format:"raw"}):Nk(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){const t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.dispatch("dirty")}getContainer(){const e=this;return e.container||(e.container=e.editorContainer||AR.get(e.id+"_parent")),e.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=AR.get(this.id)),this.targetElm}getWin(){const e=this;if(!e.contentWindow){const t=e.iframeElement;t&&(e.contentWindow=t.contentWindow)}return e.contentWindow}getDoc(){const e=this;if(!e.contentDocument){const t=e.getWin();t&&(e.contentDocument=t.document)}return e.contentDocument}getBody(){var e,t;const n=this.getDoc();return null!==(t=null!==(e=this.bodyElement)&&void 0!==e?e:null==n?void 0:n.body)&&void 0!==t?t:null}convertURL(e,t,n){const r=this,i=r.options.get,o=iu(r);if(x(o))return o.call(r,e,n,!0,t);if(!i("convert_urls")||"link"===n||m(n)&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length)return e;const s=new gw(e);return"http"!==s.protocol&&"https"!==s.protocol&&""!==s.protocol?e:i("relative_urls")?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,i("remove_script_host"))}addVisual(e){SI(this,e)}setEditableRoot(e){((e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),((e,t)=>{e.dispatch("EditableRootStateChange",{state:t})})(e,t))})(this,e)}hasEditableRoot(){return this._editableRoot}remove(){Xk(this)}destroy(e){Jk(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const LR=Ks.DOM,PR=It.each;let IR,RR=!1,NR=[];const BR=e=>{const t=e.type;PR(HR.get(),(n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e)}}))},FR=e=>{if(e!==RR){const t=Ks.DOM;e?(t.bind(window,"resize",BR),t.bind(window,"scroll",BR)):(t.unbind(window,"resize",BR),t.unbind(window,"scroll",BR)),RR=e}},jR=e=>{const t=NR;return NR=K(NR,(t=>e!==t)),HR.activeEditor===e&&(HR.activeEditor=NR.length>0?NR[0]:null),HR.focusedEditor===e&&(HR.focusedEditor=null),t.length!==NR.length},zR="CSS1Compat"!==document.compatMode,HR={...sR,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"8.2",releaseDate:"2023-12-11",i18n:ra,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",r=gw.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const i=window.tinymce||window.tinyMCEPreInit;if(i)t=i.base||i.baseURL,n=i.suffix;else{const e=document.getElementsByTagName("script");for(let r=0;r<e.length;r++){const i=e[r].src||"";if(""===i)continue;const o=i.substring(i.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(i)){-1!==o.indexOf(".min")&&(n=".min"),t=i.substring(0,i.lastIndexOf("/"));break}}if(!t&&document.currentScript){const e=document.currentScript.src;-1!==e.indexOf(".min")&&(n=".min"),t=e.substring(0,e.lastIndexOf("/"))}}var o;e.baseURL=new gw(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new gw(e.baseURL),e.suffix=n,(o=e).on("AddEditor",L(nm,o)),o.on("RemoveEditor",L(rm,o))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const r=e.plugin_base_urls;void 0!==r&&ge(r,((e,t)=>{ia.PluginManager.urls[t]=e}))},init(e){const t=this;let n;const r=It.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let i=e=>{n=e};const o=()=>{let n=0;const s=[];let a;LR.unbind(window,"ready",o),(n=>{const r=e[n];if(r)r.apply(t,[])})("onpageload"),a=((e,t)=>{const n=[],r=x(t)?e=>q(n,(n=>t(n,e))):e=>W(n,e);for(let t=0,i=e.length;t<i;t++){const i=e[t];r(i)||n.push(i)}return n})((e=>Dt.browser.isIE()||Dt.browser.isEdge()?(vx("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):zR?(vx("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):p(e.selector)?LR.select(e.selector):k(e.target)?[e.target]:[])(e)),It.each(a,(e=>{var n;(n=t.get(e.id))&&n.initialized&&!(n.getContainer()||n.getBody()).parentNode&&(jR(n),n.unbindAllNativeEvents(),n.destroy(!0),n.removed=!0)})),a=It.grep(a,(e=>!t.get(e.id))),0===a.length?i([]):PR(a,(o=>{((e,t)=>e.inline&&t.tagName.toLowerCase()in r)(e,o)?vx("Could not initialize inline editor on invalid inline target element",o):((e,r,o)=>{const l=new MR(e,r,t);s.push(l),l.on("init",(()=>{++n===a.length&&i(s)})),l.targetElm=l.targetElm||o,l.render()})((e=>{let t=e.id;return t||(t=Se(e,"name").filter((e=>!LR.get(e))).getOrThunk(LR.uniqueId),e.setAttribute("id",t)),t})(o),e,o)}))};return LR.bind(window,"ready",o),new Promise((e=>{n?e(n):i=t=>{e(t)}}))},get(e){return 0===arguments.length?NR.slice(0):p(e)?ee(NR,(t=>t.id===e)).getOr(null):S(e)&&NR[e]?NR[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(null===n&&NR.push(e),FR(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),IR||(IR=e=>{const n=t.dispatch("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",IR))),e},createEditor(e,t){return this.add(new MR(e,t,this))},remove(e){const t=this;let n;if(e){if(!p(e))return n=e,y(t.get(n.id))?null:(jR(n)&&t.dispatch("RemoveEditor",{editor:n}),0===NR.length&&window.removeEventListener("beforeunload",IR),n.remove(),FR(NR.length>0),n);PR(LR.select(e),(e=>{n=t.get(e.id),n&&t.remove(n)}))}else for(let e=NR.length-1;e>=0;e--)t.remove(NR[e])},execCommand(e,t,n){var r;const i=this,o=m(n)?null!==(r=n.id)&&void 0!==r?r:n.index:n;switch(e){case"mceAddEditor":if(!i.get(o)){const e=n.options;new MR(o,e,i).render()}return!0;case"mceRemoveEditor":{const e=i.get(o);return e&&e.remove(),!0}case"mceToggleEditor":{const e=i.get(o);return e?(e.isHidden()?e.show():e.hide(),!0):(i.execCommand("mceAddEditor",!1,n),!0)}}return!!i.activeEditor&&i.activeEditor.execCommand(e,t,n)},triggerSave:()=>{PR(NR,(e=>{e.save()}))},addI18n:(e,t)=>{ra.add(e,t)},translate:e=>ra.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new gw(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new gw(this.baseURL)}};HR.setup();const $R=(()=>{const e=sa();return{FakeClipboardItem:e=>({items:e,types:pe(e),getType:t=>Se(e,t).getOrUndefined()}),write:t=>{e.set(t)},read:()=>e.get().getOrUndefined(),clear:e.clear}})(),UR=Math.min,WR=Math.max,qR=Math.round,VR=(e,t,n)=>{let r=t.x,i=t.y;const o=e.w,s=e.h,a=t.w,l=t.h,c=(n||"").split("");return"b"===c[0]&&(i+=l),"r"===c[1]&&(r+=a),"c"===c[0]&&(i+=qR(l/2)),"c"===c[1]&&(r+=qR(a/2)),"b"===c[3]&&(i-=s),"r"===c[4]&&(r-=o),"c"===c[3]&&(i-=qR(s/2)),"c"===c[4]&&(r-=qR(o/2)),ZR(r,i,o,s)},ZR=(e,t,n,r)=>({x:e,y:t,w:n,h:r}),YR={inflate:(e,t,n)=>ZR(e.x-t,e.y-n,e.w+2*t,e.h+2*n),relativePosition:VR,findBestRelativePosition:(e,t,n,r)=>{for(let i=0;i<r.length;i++){const o=VR(e,t,r[i]);if(o.x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i]}return null},intersect:(e,t)=>{const n=WR(e.x,t.x),r=WR(e.y,t.y),i=UR(e.x+e.w,t.x+t.w),o=UR(e.y+e.h,t.y+t.h);return i-n<0||o-r<0?null:ZR(n,r,i-n,o-r)},clamp:(e,t,n)=>{let r=e.x,i=e.y,o=e.x+e.w,s=e.y+e.h;const a=t.x+t.w,l=t.y+t.h,c=WR(0,t.x-r),u=WR(0,t.y-i),d=WR(0,o-a),h=WR(0,s-l);return r+=c,i+=u,n&&(o+=c,s+=u,r-=d,i-=h),o-=d,s-=h,ZR(r,i,o-r,s-i)},create:ZR,fromClientRect:e=>ZR(e.left,e.top,e.width,e.height)},GR=(()=>{const e={},t={},n={};return{load:(n,r)=>{const i=`Script at URL "${r}" failed to load`,o=`Script at URL "${r}" did not call \`tinymce.Resource.add('${n}', data)\` within 1 second`;if(void 0!==e[n])return e[n];{const s=new Promise(((e,s)=>{const a=((e,t,n=1e3)=>{let r=!1,i=null;const o=e=>(...t)=>{r||(r=!0,null!==i&&(clearTimeout(i),i=null),e.apply(null,t))},s=o(e),a=o(t);return{start:(...e)=>{r||null!==i||(i=setTimeout((()=>a.apply(null,e)),n))},resolve:s,reject:a}})(e,s);t[n]=a.resolve,Js.ScriptLoader.loadScript(r).then((()=>a.start(o)),(()=>a.reject(i)))}));return e[n]=s,s}},add:(r,i)=>{void 0!==t[r]&&(t[r](i),delete t[r]),e[r]=Promise.resolve(i),n[r]=i},has:e=>e in n,get:e=>n[e],unload:t=>{delete e[t]}}})();let KR;try{const e="__storage_test__";KR=window.localStorage,KR.setItem(e,e),KR.removeItem(e)}catch(e){KR=(()=>{let e={},t=[];const n={getItem:t=>e[t]||null,setItem:(n,r)=>{t.push(n),e[n]=String(r)},key:e=>t[e],removeItem:n=>{t=t.filter((e=>e===n)),delete e[n]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})()}const XR={geom:{Rect:YR},util:{Delay:Gp,Tools:It,VK:Mf,URI:gw,EventDispatcher:iR,Observable:sR,I18n:ra,LocalStorage:KR,ImageUploader:e=>{const t=kx(),n=Tx(e,t);return{upload:(t,r=!0)=>n.upload(t,r?Cx(e):void 0)}}},dom:{EventUtils:zs,TreeWalker:Hr,TextSeeker:Aa,DOMUtils:Ks,ScriptLoader:Js,RangeUtils:fp,Serializer:Ik,StyleSheetLoader:$o,ControlSelection:Nf,BookmarkManager:xf,Selection:Ok,Event:zs.Event},html:{Styles:Ds,Entities:as,Node:Am,Schema:_s,DomParser:Lw,Writer:Zm,Serializer:Ym},Env:Dt,AddOnManager:ia,Annotator:kf,Formatter:Hx,UndoManager:Ux,EditorCommands:YI,WindowManager:hx,NotificationManager:cx,EditorObservable:hR,Shortcuts:CR,Editor:MR,FocusManager:Yp,EditorManager:HR,DOM:Ks.DOM,ScriptLoader:Js.ScriptLoader,PluginManager:ux,ThemeManager:dx,ModelManager:ex,IconManager:Qk,Resource:GR,FakeClipboard:$R,trim:It.trim,isArray:It.isArray,is:It.is,toArray:It.toArray,makeMap:It.makeMap,each:It.each,map:It.map,grep:It.grep,inArray:It.inArray,extend:It.extend,walk:It.walk,resolve:It.resolve,explode:It.explode,_addCacheSuffix:It._addCacheSuffix},JR=It.extend(HR,XR);(e=>{window.tinymce=e,window.tinyMCE=e})(JR),(t=>{try{e.exports=t}catch(e){}})(JR)}()},4183:function(e){e.exports=function(){"use strict";function e(e,t){e.split(/\s+/).forEach((e=>{t(e)}))}class t{constructor(){this._events=void 0,this._events={}}on(t,n){e(t,(e=>{const t=this._events[e]||[];t.push(n),this._events[e]=t}))}off(t,n){var r=arguments.length;0!==r?e(t,(e=>{if(1===r)return void delete this._events[e];const t=this._events[e];void 0!==t&&(t.splice(t.indexOf(n),1),this._events[e]=t)})):this._events={}}trigger(t,...n){var r=this;e(t,(e=>{const t=r._events[e];void 0!==t&&t.forEach((e=>{e.apply(r,n)}))}))}}function n(e){return e.plugins={},class extends e{constructor(...e){super(...e),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(t,n){e.plugins[t]={name:t,fn:n}}initializePlugins(e){var t,n;const r=this,i=[];if(Array.isArray(e))e.forEach((e=>{"string"==typeof e?i.push(e):(r.plugins.settings[e.name]=e.options,i.push(e.name))}));else if(e)for(t in e)e.hasOwnProperty(t)&&(r.plugins.settings[t]=e[t],i.push(t));for(;n=i.shift();)r.require(n)}loadPlugin(t){var n=this,r=n.plugins,i=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');r.requested[t]=!0,r.loaded[t]=i.fn.apply(n,[n.plugins.settings[t]||{}]),r.names.push(t)}require(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]}}}const r=e=>(e=e.filter(Boolean)).length<2?e[0]||"":1==l(e)?"["+e.join("")+"]":"(?:"+e.join("|")+")",i=e=>{if(!s(e))return e.join("");let t="",n=0;const r=()=>{n>1&&(t+="{"+n+"}")};return e.forEach(((i,o)=>{i!==e[o-1]?(r(),t+=i,n=1):n++})),r(),t},o=e=>{let t=u(e);return r(t)},s=e=>new Set(e).size!==e.length,a=e=>(e+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),l=e=>e.reduce(((e,t)=>Math.max(e,c(t))),0),c=e=>u(e).length,u=e=>Array.from(e),d=e=>{if(1===e.length)return[[e]];let t=[];const n=e.substring(1);return d(n).forEach((function(n){let r=n.slice(0);r[0]=e.charAt(0)+r[0],t.push(r),r=n.slice(0),r.unshift(e.charAt(0)),t.push(r)})),t},h=[[0,65535]],f="[̀-ͯ·ʾʼ]";let p,m;const g=3,v={},y={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let e in y){let t=y[e]||"";for(let n=0;n<t.length;n++){let r=t.substring(n,n+1);v[r]=e}}const _=new RegExp(Object.keys(v).join("|")+"|"+f,"gu"),b=e=>{void 0===p&&(p=C(e||h))},w=(e,t="NFKD")=>e.normalize(t),k=e=>u(e).reduce(((e,t)=>e+x(t)),""),x=e=>(e=w(e).toLowerCase().replace(_,(e=>v[e]||"")),w(e,"NFC"));function*S(e){for(const[t,n]of e)for(let e=t;e<=n;e++){let t=String.fromCharCode(e),n=k(t);n!=t.toLowerCase()&&(n.length>g||0!=n.length&&(yield{folded:n,composed:t,code_point:e}))}}const E=e=>{const t={},n=(e,n)=>{const r=t[e]||new Set,i=new RegExp("^"+o(r)+"$","iu");n.match(i)||(r.add(a(n)),t[e]=r)};for(let t of S(e))n(t.folded,t.folded),n(t.folded,t.composed);return t},C=e=>{const t=E(e),n={};let i=[];for(let e in t){let r=t[e];r&&(n[e]=o(r)),e.length>1&&i.push(a(e))}i.sort(((e,t)=>t.length-e.length));const s=r(i);return m=new RegExp("^"+s,"u"),n},T=(e,t=1)=>{let n=0;return e=e.map((e=>(p[e]&&(n+=e.length),p[e]||e))),n>=t?i(e):""},A=(e,t=1)=>(t=Math.max(t,e.length-1),r(d(e).map((e=>T(e,t))))),O=(e,t=!0)=>{let n=e.length>1?1:0;return r(e.map((e=>{let r=[];const o=t?e.length():e.length()-1;for(let t=0;t<o;t++)r.push(A(e.substrs[t]||"",n));return i(r)})))},D=(e,t)=>{for(const n of t){if(n.start!=e.start||n.end!=e.end)continue;if(n.substrs.join("")!==e.substrs.join(""))continue;let t=e.parts;const r=e=>{for(const n of t){if(n.start===e.start&&n.substr===e.substr)return!1;if(1!=e.length&&1!=n.length){if(e.start<n.start&&e.end>n.start)return!0;if(n.start<e.start&&n.end>e.start)return!0}}return!1};if(!(n.parts.filter(r).length>0))return!0}return!1};class M{constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(e){e&&(this.parts.push(e),this.substrs.push(e.substr),this.start=Math.min(e.start,this.start),this.end=Math.max(e.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(e,t){let n=new M,r=JSON.parse(JSON.stringify(this.parts)),i=r.pop();for(const e of r)n.add(e);let o=t.substr.substring(0,e-i.start),s=o.length;return n.add({start:i.start,end:i.start+s,length:s,substr:o}),n}}const L=e=>{b(),e=k(e);let t="",n=[new M];for(let r=0;r<e.length;r++){let i=e.substring(r).match(m);const o=e.substring(r,r+1),s=i?i[0]:null;let a=[],l=new Set;for(const e of n){const t=e.last();if(!t||1==t.length||t.end<=r)if(s){const t=s.length;e.add({start:r,end:r+t,length:t,substr:s}),l.add("1")}else e.add({start:r,end:r+1,length:1,substr:o}),l.add("2");else if(s){let n=e.clone(r,t);const i=s.length;n.add({start:r,end:r+i,length:i,substr:s}),a.push(n)}else l.add("3")}if(a.length>0){a=a.sort(((e,t)=>e.length()-t.length()));for(let e of a)D(e,n)||n.push(e)}else if(r>0&&1==l.size&&!l.has("3")){t+=O(n,!1);let e=new M;const r=n[0];r&&e.add(r.last()),n=[e]}}return t+=O(n,!0),t},P=(e,t)=>{if(e)return e[t]},I=(e,t)=>{if(e){for(var n,r=t.split(".");(n=r.shift())&&(e=e[n]););return e}},R=(e,t,n)=>{var r,i;return e?(e+="",null==t.regex||-1===(i=e.search(t.regex))?0:(r=t.string.length/e.length,0===i&&(r+=.5),r*n)):0},N=(e,t)=>{var n=e[t];if("function"==typeof n)return n;n&&!Array.isArray(n)&&(e[t]=[n])},B=(e,t)=>{if(Array.isArray(e))e.forEach(t);else for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},F=(e,t)=>"number"==typeof e&&"number"==typeof t?e>t?1:e<t?-1:0:(e=k(e+"").toLowerCase())>(t=k(t+"").toLowerCase())?1:t>e?-1:0;class j{constructor(e,t){this.items=void 0,this.settings=void 0,this.items=e,this.settings=t||{diacritics:!0}}tokenize(e,t,n){if(!e||!e.length)return[];const r=[],i=e.split(/\s+/);var o;return n&&(o=new RegExp("^("+Object.keys(n).map(a).join("|")+"):(.*)$")),i.forEach((e=>{let n,i=null,s=null;o&&(n=e.match(o))&&(i=n[1],e=n[2]),e.length>0&&(s=this.settings.diacritics?L(e)||null:a(e),s&&t&&(s="\\b"+s)),r.push({string:e,regex:s?new RegExp(s,"iu"):null,field:i})})),r}getScoreFunction(e,t){var n=this.prepareSearch(e,t);return this._getScoreFunction(n)}_getScoreFunction(e){const t=e.tokens,n=t.length;if(!n)return function(){return 0};const r=e.options.fields,i=e.weights,o=r.length,s=e.getAttrFn;if(!o)return function(){return 1};const a=1===o?function(e,t){const n=r[0].field;return R(s(t,n),e,i[n]||1)}:function(e,t){var n=0;if(e.field){const r=s(t,e.field);!e.regex&&r?n+=1/o:n+=R(r,e,1)}else B(i,((r,i)=>{n+=R(s(t,i),e,r)}));return n/o};return 1===n?function(e){return a(t[0],e)}:"and"===e.options.conjunction?function(e){var r,i=0;for(let n of t){if((r=a(n,e))<=0)return 0;i+=r}return i/n}:function(e){var r=0;return B(t,(t=>{r+=a(t,e)})),r/n}}getSortFunction(e,t){var n=this.prepareSearch(e,t);return this._getSortFunction(n)}_getSortFunction(e){var t,n=[];const r=this,i=e.options,o=!e.query&&i.sort_empty?i.sort_empty:i.sort;if("function"==typeof o)return o.bind(this);const s=function(t,n){return"$score"===t?n.score:e.getAttrFn(r.items[n.id],t)};if(o)for(let t of o)(e.query||"$score"!==t.field)&&n.push(t);if(e.query){t=!0;for(let e of n)if("$score"===e.field){t=!1;break}t&&n.unshift({field:"$score",direction:"desc"})}else n=n.filter((e=>"$score"!==e.field));return n.length?function(e,t){var r,i;for(let o of n)if(i=o.field,r=("desc"===o.direction?-1:1)*F(s(i,e),s(i,t)))return r;return 0}:null}prepareSearch(e,t){const n={};var r=Object.assign({},t);if(N(r,"sort"),N(r,"sort_empty"),r.fields){N(r,"fields");const e=[];r.fields.forEach((t=>{"string"==typeof t&&(t={field:t,weight:1}),e.push(t),n[t.field]="weight"in t?t.weight:1})),r.fields=e}return{options:r,query:e.toLowerCase().trim(),tokens:this.tokenize(e,r.respect_word_boundaries,n),total:0,items:[],weights:n,getAttrFn:r.nesting?I:P}}search(e,t){var n,r,i=this;r=this.prepareSearch(e,t),t=r.options,e=r.query;const o=t.score||i._getScoreFunction(r);e.length?B(i.items,((e,i)=>{n=o(e),(!1===t.filter||n>0)&&r.items.push({score:n,id:i})})):B(i.items,((e,t)=>{r.items.push({score:1,id:t})}));const s=i._getSortFunction(r);return s&&r.items.sort(s),r.total=r.items.length,"number"==typeof t.limit&&(r.items=r.items.slice(0,t.limit)),r}}const z=(e,t)=>{if(Array.isArray(e))e.forEach(t);else for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},H=e=>{if(e.jquery)return e[0];if(e instanceof HTMLElement)return e;if($(e)){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild}return document.querySelector(e)},$=e=>"string"==typeof e&&e.indexOf("<")>-1,U=e=>e.replace(/['"\\]/g,"\\$&"),W=(e,t)=>{var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!1),e.dispatchEvent(n)},q=(e,t)=>{Object.assign(e.style,t)},V=(e,...t)=>{var n=Y(t);(e=G(e)).map((e=>{n.map((t=>{e.classList.add(t)}))}))},Z=(e,...t)=>{var n=Y(t);(e=G(e)).map((e=>{n.map((t=>{e.classList.remove(t)}))}))},Y=e=>{var t=[];return z(e,(e=>{"string"==typeof e&&(e=e.trim().split(/[\11\12\14\15\40]/)),Array.isArray(e)&&(t=t.concat(e))})),t.filter(Boolean)},G=e=>(Array.isArray(e)||(e=[e]),e),K=(e,t,n)=>{if(!n||n.contains(e))for(;e&&e.matches;){if(e.matches(t))return e;e=e.parentNode}},X=(e,t=0)=>t>0?e[e.length-1]:e[0],J=e=>0===Object.keys(e).length,Q=(e,t)=>{if(!e)return-1;t=t||e.nodeName;for(var n=0;e=e.previousElementSibling;)e.matches(t)&&n++;return n},ee=(e,t)=>{z(t,((t,n)=>{null==t?e.removeAttribute(n):e.setAttribute(n,""+t)}))},te=(e,t)=>{e.parentNode&&e.parentNode.replaceChild(t,e)},ne=(e,t)=>{if(null===t)return;if("string"==typeof t){if(!t.length)return;t=new RegExp(t,"i")}const n=e=>{var n=e.data.match(t);if(n&&e.data.length>0){var r=document.createElement("span");r.className="highlight";var i=e.splitText(n.index);i.splitText(n[0].length);var o=i.cloneNode(!0);return r.appendChild(o),te(i,r),1}return 0},r=e=>{1!==e.nodeType||!e.childNodes||/(script|style)/i.test(e.tagName)||"highlight"===e.className&&"SPAN"===e.tagName||Array.from(e.childNodes).forEach((e=>{i(e)}))},i=e=>3===e.nodeType?n(e):(r(e),0);i(e)},re=e=>{var t=e.querySelectorAll("span.highlight");Array.prototype.forEach.call(t,(function(e){var t=e.parentNode;t.replaceChild(e.firstChild,e),t.normalize()}))},ie=65,oe=13,se=27,ae=37,le=38,ce=39,ue=40,de=8,he=46,fe=9,pe="undefined"!=typeof navigator&&/Mac/.test(navigator.userAgent)?"metaKey":"ctrlKey";var me={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(e){return e.length>0},render:{}};const ge=e=>null==e?null:ve(e),ve=e=>"boolean"==typeof e?e?"1":"0":e+"",ye=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),_e=(e,t)=>t>0?setTimeout(e,t):(e.call(null),null),be=(e,t)=>{var n;return function(r,i){var o=this;n&&(o.loading=Math.max(o.loading-1,0),clearTimeout(n)),n=setTimeout((function(){n=null,o.loadedSearches[r]=!0,e.call(o,r,i)}),t)}},we=(e,t,n)=>{var r,i=e.trigger,o={};for(r of(e.trigger=function(){var n=arguments[0];if(-1===t.indexOf(n))return i.apply(e,arguments);o[n]=arguments},n.apply(e,[]),e.trigger=i,t))r in o&&i.apply(e,o[r])},ke=e=>({start:e.selectionStart||0,length:(e.selectionEnd||0)-(e.selectionStart||0)}),xe=(e,t=!1)=>{e&&(e.preventDefault(),t&&e.stopPropagation())},Se=(e,t,n,r)=>{e.addEventListener(t,n,r)},Ee=(e,t)=>!!t&&!!t[e]&&1==(t.altKey?1:0)+(t.ctrlKey?1:0)+(t.shiftKey?1:0)+(t.metaKey?1:0),Ce=(e,t)=>{const n=e.getAttribute("id");return n||(e.setAttribute("id",t),t)},Te=e=>e.replace(/[\\"']/g,"\\$&"),Ae=(e,t)=>{t&&e.append(t)};function Oe(e,t){var n=Object.assign({},me,t),r=n.dataAttr,i=n.labelField,o=n.valueField,s=n.disabledField,a=n.optgroupField,l=n.optgroupLabelField,c=n.optgroupValueField,u=e.tagName.toLowerCase(),d=e.getAttribute("placeholder")||e.getAttribute("data-placeholder");if(!d&&!n.allowEmptyOption){let t=e.querySelector('option[value=""]');t&&(d=t.textContent)}var h={placeholder:d,options:[],optgroups:[],items:[],maxItems:null},f=()=>{const t=e.getAttribute(r);if(t)h.options=JSON.parse(t),z(h.options,(e=>{h.items.push(e[o])}));else{var s=e.value.trim()||"";if(!n.allowEmptyOption&&!s.length)return;const t=s.split(n.delimiter);z(t,(e=>{const t={};t[i]=e,t[o]=e,h.options.push(t)})),h.items=t}};return"select"===u?(()=>{var t,u=h.options,d={},f=1;let p=0;var m=e=>{var t=Object.assign({},e.dataset),n=r&&t[r];return"string"==typeof n&&n.length&&(t=Object.assign(t,JSON.parse(n))),t},g=(e,t)=>{var r=ge(e.value);if(null!=r&&(r||n.allowEmptyOption)){if(d.hasOwnProperty(r)){if(t){var l=d[r][a];l?Array.isArray(l)?l.push(t):d[r][a]=[l,t]:d[r][a]=t}}else{var c=m(e);c[i]=c[i]||e.textContent,c[o]=c[o]||r,c[s]=c[s]||e.disabled,c[a]=c[a]||t,c.$option=e,c.$order=c.$order||++p,d[r]=c,u.push(c)}e.selected&&h.items.push(r)}},v=e=>{var t,n;(n=m(e))[l]=n[l]||e.getAttribute("label")||"",n[c]=n[c]||f++,n[s]=n[s]||e.disabled,n.$order=n.$order||++p,h.optgroups.push(n),t=n[c],z(e.children,(e=>{g(e,t)}))};h.maxItems=e.hasAttribute("multiple")?null:1,z(e.children,(e=>{"optgroup"===(t=e.tagName.toLowerCase())?v(e):"option"===t&&g(e)}))})():f(),Object.assign({},me,h,t)}var De=0;class Me extends(n(t)){constructor(e,t){var n;super(),this.control_input=void 0,this.wrapper=void 0,this.dropdown=void 0,this.control=void 0,this.dropdown_content=void 0,this.focus_node=void 0,this.order=0,this.settings=void 0,this.input=void 0,this.tabIndex=void 0,this.is_select_tag=void 0,this.rtl=void 0,this.inputId=void 0,this._destroy=void 0,this.sifter=void 0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isRequired=void 0,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.currentResults=void 0,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,De++;var r=H(e);if(r.tomselect)throw new Error("Tom Select already initialized on this element");r.tomselect=this,n=(window.getComputedStyle&&window.getComputedStyle(r,null)).getPropertyValue("direction");const i=Oe(r,t);this.settings=i,this.input=r,this.tabIndex=r.tabIndex||0,this.is_select_tag="select"===r.tagName.toLowerCase(),this.rtl=/rtl/i.test(n),this.inputId=Ce(r,"tomselect-"+De),this.isRequired=r.required,this.sifter=new j(this.options,{diacritics:i.diacritics}),i.mode=i.mode||(1===i.maxItems?"single":"multi"),"boolean"!=typeof i.hideSelected&&(i.hideSelected="multi"===i.mode),"boolean"!=typeof i.hidePlaceholder&&(i.hidePlaceholder="multi"!==i.mode);var o=i.createFilter;"function"!=typeof o&&("string"==typeof o&&(o=new RegExp(o)),o instanceof RegExp?i.createFilter=e=>o.test(e):i.createFilter=e=>this.settings.duplicates||!this.options[e]),this.initializePlugins(i.plugins),this.setupCallbacks(),this.setupTemplates();const s=H("<div>"),a=H("<div>"),l=this._render("dropdown"),c=H('<div role="listbox" tabindex="-1">'),u=this.input.getAttribute("class")||"",d=i.mode;var h;V(s,i.wrapperClass,u,d),V(a,i.controlClass),Ae(s,a),V(l,i.dropdownClass,d),i.copyClassesToDropdown&&V(l,u),V(c,i.dropdownContentClass),Ae(l,c),H(i.dropdownParent||s).appendChild(l),$(i.controlInput)?(h=H(i.controlInput),B(["autocorrect","autocapitalize","autocomplete","spellcheck"],(e=>{r.getAttribute(e)&&ee(h,{[e]:r.getAttribute(e)})})),h.tabIndex=-1,a.appendChild(h),this.focus_node=h):i.controlInput?(h=H(i.controlInput),this.focus_node=h):(h=H("<input/>"),this.focus_node=a),this.wrapper=s,this.dropdown=l,this.dropdown_content=c,this.control=a,this.control_input=h,this.setup()}setup(){const e=this,t=e.settings,n=e.control_input,r=e.dropdown,i=e.dropdown_content,o=e.wrapper,s=e.control,l=e.input,c=e.focus_node,u={passive:!0},d=e.inputId+"-ts-dropdown";ee(i,{id:d}),ee(c,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":d});const h=Ce(c,e.inputId+"-ts-control"),f="label[for='"+U(e.inputId)+"']",p=document.querySelector(f),m=e.focus.bind(e);if(p){Se(p,"click",m),ee(p,{for:h});const t=Ce(p,e.inputId+"-ts-label");ee(c,{"aria-labelledby":t}),ee(i,{"aria-labelledby":t})}if(o.style.width=l.style.width,e.plugins.names.length){const t="plugin-"+e.plugins.names.join(" plugin-");V([o,r],t)}(null===t.maxItems||t.maxItems>1)&&e.is_select_tag&&ee(l,{multiple:"multiple"}),t.placeholder&&ee(n,{placeholder:t.placeholder}),!t.splitOn&&t.delimiter&&(t.splitOn=new RegExp("\\s*"+a(t.delimiter)+"+\\s*")),t.load&&t.loadThrottle&&(t.load=be(t.load,t.loadThrottle)),Se(r,"mousemove",(()=>{e.ignoreHover=!1})),Se(r,"mouseenter",(t=>{var n=K(t.target,"[data-selectable]",r);n&&e.onOptionHover(t,n)}),{capture:!0}),Se(r,"click",(t=>{const n=K(t.target,"[data-selectable]");n&&(e.onOptionSelect(t,n),xe(t,!0))})),Se(s,"click",(t=>{var r=K(t.target,"[data-ts-item]",s);r&&e.onItemSelect(t,r)?xe(t,!0):""==n.value&&(e.onClick(),xe(t,!0))})),Se(c,"keydown",(t=>e.onKeyDown(t))),Se(n,"keypress",(t=>e.onKeyPress(t))),Se(n,"input",(t=>e.onInput(t))),Se(c,"blur",(t=>e.onBlur(t))),Se(c,"focus",(t=>e.onFocus(t))),Se(n,"paste",(t=>e.onPaste(t)));const g=t=>{const i=t.composedPath()[0];if(!o.contains(i)&&!r.contains(i))return e.isFocused&&e.blur(),void e.inputState();i==n&&e.isOpen?t.stopPropagation():xe(t,!0)},v=()=>{e.isOpen&&e.positionDropdown()};Se(document,"mousedown",g),Se(window,"scroll",v,u),Se(window,"resize",v,u),this._destroy=()=>{document.removeEventListener("mousedown",g),window.removeEventListener("scroll",v),window.removeEventListener("resize",v),p&&p.removeEventListener("click",m)},this.revertSettings={innerHTML:l.innerHTML,tabIndex:l.tabIndex},l.tabIndex=-1,l.insertAdjacentElement("afterend",e.wrapper),e.sync(!1),t.items=[],delete t.optgroups,delete t.options,Se(l,"invalid",(()=>{e.isValid&&(e.isValid=!1,e.isInvalid=!0,e.refreshState())})),e.updateOriginalInput(),e.refreshItems(),e.close(!1),e.inputState(),e.isSetup=!0,l.disabled?e.disable():l.readOnly?e.setReadOnly(!0):e.enable(),e.on("change",this.onChange),V(l,"tomselected","ts-hidden-accessible"),e.trigger("initialize"),!0===t.preload&&e.preload()}setupOptions(e=[],t=[]){this.addOptions(e),B(t,(e=>{this.registerOptionGroup(e)}))}setupTemplates(){var e=this,t=e.settings.labelField,n=e.settings.optgroupLabelField,r={optgroup:e=>{let t=document.createElement("div");return t.className="optgroup",t.appendChild(e.options),t},optgroup_header:(e,t)=>'<div class="optgroup-header">'+t(e[n])+"</div>",option:(e,n)=>"<div>"+n(e[t])+"</div>",item:(e,n)=>"<div>"+n(e[t])+"</div>",option_create:(e,t)=>'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};e.settings.render=Object.assign({},r,e.settings.render)}setupCallbacks(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)(t=this.settings[n[e]])&&this.on(e,t)}sync(e=!0){const t=this,n=e?Oe(t.input,{delimiter:t.settings.delimiter}):t.settings;t.setupOptions(n.options,n.optgroups),t.setValue(n.items||[],!0),t.lastQuery=null}onClick(){var e=this;if(e.activeItems.length>0)return e.clearActiveItems(),void e.focus();e.isFocused&&e.isOpen?e.blur():e.focus()}onMouseDown(){}onChange(){W(this.input,"input"),W(this.input,"change")}onPaste(e){var t=this;t.isInputHidden||t.isLocked?xe(e):t.settings.splitOn&&setTimeout((()=>{var e=t.inputValue();if(e.match(t.settings.splitOn)){var n=e.trim().split(t.settings.splitOn);B(n,(e=>{ge(e)&&(this.options[e]?t.addItem(e):t.createItem(e))}))}}),0)}onKeyPress(e){var t=this;if(!t.isLocked){var n=String.fromCharCode(e.keyCode||e.which);return t.settings.create&&"multi"===t.settings.mode&&n===t.settings.delimiter?(t.createItem(),void xe(e)):void 0}xe(e)}onKeyDown(e){var t=this;if(t.ignoreHover=!0,t.isLocked)e.keyCode!==fe&&xe(e);else{switch(e.keyCode){case ie:if(Ee(pe,e)&&""==t.control_input.value)return xe(e),void t.selectAll();break;case se:return t.isOpen&&(xe(e,!0),t.close()),void t.clearActiveItems();case ue:if(!t.isOpen&&t.hasOptions)t.open();else if(t.activeOption){let e=t.getAdjacent(t.activeOption,1);e&&t.setActiveOption(e)}return void xe(e);case le:if(t.activeOption){let e=t.getAdjacent(t.activeOption,-1);e&&t.setActiveOption(e)}return void xe(e);case oe:return void(t.canSelect(t.activeOption)?(t.onOptionSelect(e,t.activeOption),xe(e)):(t.settings.create&&t.createItem()||document.activeElement==t.control_input&&t.isOpen)&&xe(e));case ae:return void t.advanceSelection(-1,e);case ce:return void t.advanceSelection(1,e);case fe:return void(t.settings.selectOnTab&&(t.canSelect(t.activeOption)&&(t.onOptionSelect(e,t.activeOption),xe(e)),t.settings.create&&t.createItem()&&xe(e)));case de:case he:return void t.deleteSelection(e)}t.isInputHidden&&!Ee(pe,e)&&xe(e)}}onInput(e){if(this.isLocked)return;const t=this.inputValue();this.lastValue!==t&&(this.lastValue=t,""!=t?(this.refreshTimeout&&clearTimeout(this.refreshTimeout),this.refreshTimeout=_e((()=>{this.refreshTimeout=null,this._onInput()}),this.settings.refreshThrottle)):this._onInput())}_onInput(){const e=this.lastValue;this.settings.shouldLoad.call(this,e)&&this.load(e),this.refreshOptions(),this.trigger("type",e)}onOptionHover(e,t){this.ignoreHover||this.setActiveOption(t,!1)}onFocus(e){var t=this,n=t.isFocused;if(t.isDisabled||t.isReadOnly)return t.blur(),void xe(e);t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.preload(),n||t.trigger("focus"),t.activeItems.length||(t.inputState(),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())}onBlur(e){if(!1!==document.hasFocus()){var t=this;if(t.isFocused){t.isFocused=!1,t.ignoreFocus=!1;var n=()=>{t.close(),t.setActiveItem(),t.setCaret(t.items.length),t.trigger("blur")};t.settings.create&&t.settings.createOnBlur?t.createItem(null,n):n()}}}onOptionSelect(e,t){var n,r=this;t.parentElement&&t.parentElement.matches("[data-disabled]")||(t.classList.contains("create")?r.createItem(null,(()=>{r.settings.closeAfterSelect&&r.close()})):void 0!==(n=t.dataset.value)&&(r.lastQuery=null,r.addItem(n),r.settings.closeAfterSelect&&r.close(),!r.settings.hideSelected&&e.type&&/click/.test(e.type)&&r.setActiveOption(t)))}canSelect(e){return!!(this.isOpen&&e&&this.dropdown_content.contains(e))}onItemSelect(e,t){var n=this;return!n.isLocked&&"multi"===n.settings.mode&&(xe(e),n.setActiveItem(t,e),!0)}canLoad(e){return!!this.settings.load&&!this.loadedSearches.hasOwnProperty(e)}load(e){const t=this;if(!t.canLoad(e))return;V(t.wrapper,t.settings.loadingClass),t.loading++;const n=t.loadCallback.bind(t);t.settings.load.call(t,e,n)}loadCallback(e,t){const n=this;n.loading=Math.max(n.loading-1,0),n.lastQuery=null,n.clearActiveOption(),n.setupOptions(e,t),n.refreshOptions(n.isFocused&&!n.isInputHidden),n.loading||Z(n.wrapper,n.settings.loadingClass),n.trigger("load",e,t)}preload(){var e=this.wrapper.classList;e.contains("preloaded")||(e.add("preloaded"),this.load(""))}setTextboxValue(e=""){var t=this.control_input;t.value!==e&&(t.value=e,W(t,"update"),this.lastValue=e)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(e,t){we(this,t?[]:["change"],(()=>{this.clear(t),this.addItems(e,t)}))}setMaxItems(e){0===e&&(e=null),this.settings.maxItems=e,this.refreshState()}setActiveItem(e,t){var n,r,i,o,s,a,l=this;if("single"!==l.settings.mode){if(!e)return l.clearActiveItems(),void(l.isFocused&&l.inputState());if("click"===(n=t&&t.type.toLowerCase())&&Ee("shiftKey",t)&&l.activeItems.length){for(a=l.getLastActive(),(i=Array.prototype.indexOf.call(l.control.children,a))>(o=Array.prototype.indexOf.call(l.control.children,e))&&(s=i,i=o,o=s),r=i;r<=o;r++)e=l.control.children[r],-1===l.activeItems.indexOf(e)&&l.setActiveItemClass(e);xe(t)}else"click"===n&&Ee(pe,t)||"keydown"===n&&Ee("shiftKey",t)?e.classList.contains("active")?l.removeActiveItem(e):l.setActiveItemClass(e):(l.clearActiveItems(),l.setActiveItemClass(e));l.inputState(),l.isFocused||l.focus()}}setActiveItemClass(e){const t=this,n=t.control.querySelector(".last-active");n&&Z(n,"last-active"),V(e,"active last-active"),t.trigger("item_select",e),-1==t.activeItems.indexOf(e)&&t.activeItems.push(e)}removeActiveItem(e){var t=this.activeItems.indexOf(e);this.activeItems.splice(t,1),Z(e,"active")}clearActiveItems(){Z(this.activeItems,"active"),this.activeItems=[]}setActiveOption(e,t=!0){e!==this.activeOption&&(this.clearActiveOption(),e&&(this.activeOption=e,ee(this.focus_node,{"aria-activedescendant":e.getAttribute("id")}),ee(e,{"aria-selected":"true"}),V(e,"active"),t&&this.scrollToOption(e)))}scrollToOption(e,t){if(!e)return;const n=this.dropdown_content,r=n.clientHeight,i=n.scrollTop||0,o=e.offsetHeight,s=e.getBoundingClientRect().top-n.getBoundingClientRect().top+i;s+o>r+i?this.scroll(s-r+o,t):s<i&&this.scroll(s,t)}scroll(e,t){const n=this.dropdown_content;t&&(n.style.scrollBehavior=t),n.scrollTop=e,n.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(Z(this.activeOption,"active"),ee(this.activeOption,{"aria-selected":null})),this.activeOption=null,ee(this.focus_node,{"aria-activedescendant":null})}selectAll(){const e=this;if("single"===e.settings.mode)return;const t=e.controlChildren();t.length&&(e.inputState(),e.close(),e.activeItems=t,B(t,(t=>{e.setActiveItemClass(t)})))}inputState(){var e=this;e.control.contains(e.control_input)&&(ee(e.control_input,{placeholder:e.settings.placeholder}),e.activeItems.length>0||!e.isFocused&&e.settings.hidePlaceholder&&e.items.length>0?(e.setTextboxValue(),e.isInputHidden=!0):(e.settings.hidePlaceholder&&e.items.length>0&&ee(e.control_input,{placeholder:""}),e.isInputHidden=!1),e.wrapper.classList.toggle("input-hidden",e.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var e=this;e.isDisabled||e.isReadOnly||(e.ignoreFocus=!0,e.control_input.offsetWidth?e.control_input.focus():e.focus_node.focus(),setTimeout((()=>{e.ignoreFocus=!1,e.onFocus()}),0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())}getSearchOptions(){var e=this.settings,t=e.sortField;return"string"==typeof e.sortField&&(t=[{field:e.sortField}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t,nesting:e.nesting}}search(e){var t,n,r=this,i=this.getSearchOptions();if(r.settings.score&&"function"!=typeof(n=r.settings.score.call(r,e)))throw new Error('Tom Select "score" setting must be a function that returns a function');return e!==r.lastQuery?(r.lastQuery=e,t=r.sifter.search(e,Object.assign(i,{score:n})),r.currentResults=t):t=Object.assign({},r.currentResults),r.settings.hideSelected&&(t.items=t.items.filter((e=>{let t=ge(e.id);return!(t&&-1!==r.items.indexOf(t))}))),t}refreshOptions(e=!0){var t,n,r,i,o,s,a,l,c,u;const d={},h=[];var f=this,p=f.inputValue();const m=p===f.lastQuery||""==p&&null==f.lastQuery;var g=f.search(p),v=null,y=f.settings.shouldOpen||!1,_=f.dropdown_content;m&&(v=f.activeOption)&&(c=v.closest("[data-group]")),i=g.items.length,"number"==typeof f.settings.maxOptions&&(i=Math.min(i,f.settings.maxOptions)),i>0&&(y=!0);const b=(e,t)=>{let n=d[e];if(void 0!==n){let e=h[n];if(void 0!==e)return[n,e.fragment]}let r=document.createDocumentFragment();return n=h.length,h.push({fragment:r,order:t,optgroup:e}),[n,r]};for(t=0;t<i;t++){let e=g.items[t];if(!e)continue;let i=e.id,a=f.options[i];if(void 0===a)continue;let l=ve(i),u=f.getOption(l,!0);for(f.settings.hideSelected||u.classList.toggle("selected",f.items.includes(l)),o=a[f.settings.optgroupField]||"",n=0,r=(s=Array.isArray(o)?o:[o])&&s.length;n<r;n++){o=s[n];let e=a.$order,t=f.optgroups[o];void 0===t?o="":e=t.$order;const[r,l]=b(o,e);n>0&&(u=u.cloneNode(!0),ee(u,{id:a.$id+"-clone-"+n,"aria-selected":null}),u.classList.add("ts-cloned"),Z(u,"active"),f.activeOption&&f.activeOption.dataset.value==i&&c&&c.dataset.group===o.toString()&&(v=u)),l.appendChild(u),""!=o&&(d[o]=r)}}f.settings.lockOptgroupOrder&&h.sort(((e,t)=>e.order-t.order)),a=document.createDocumentFragment(),B(h,(e=>{let t=e.fragment,n=e.optgroup;if(!t||!t.children.length)return;let r=f.optgroups[n];if(void 0!==r){let e=document.createDocumentFragment(),n=f.render("optgroup_header",r);Ae(e,n),Ae(e,t);let i=f.render("optgroup",{group:r,options:e});Ae(a,i)}else Ae(a,t)})),_.innerHTML="",Ae(_,a),f.settings.highlight&&(re(_),g.query.length&&g.tokens.length&&B(g.tokens,(e=>{ne(_,e.regex)})));var w=e=>{let t=f.render(e,{input:p});return t&&(y=!0,_.insertBefore(t,_.firstChild)),t};if(f.loading?w("loading"):f.settings.shouldLoad.call(f,p)?0===g.items.length&&w("no_results"):w("not_loading"),(l=f.canCreate(p))&&(u=w("option_create")),f.hasOptions=g.items.length>0||l,y){if(g.items.length>0){if(v||"single"!==f.settings.mode||null==f.items[0]||(v=f.getOption(f.items[0])),!_.contains(v)){let e=0;u&&!f.settings.addPrecedence&&(e=1),v=f.selectable()[e]}}else u&&(v=u);e&&!f.isOpen&&(f.open(),f.scrollToOption(v,"auto")),f.setActiveOption(v)}else f.clearActiveOption(),e&&f.isOpen&&f.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(e,t=!1){const n=this;if(Array.isArray(e))return n.addOptions(e,t),!1;const r=ge(e[n.settings.valueField]);return null!==r&&!n.options.hasOwnProperty(r)&&(e.$order=e.$order||++n.order,e.$id=n.inputId+"-opt-"+e.$order,n.options[r]=e,n.lastQuery=null,t&&(n.userOptions[r]=t,n.trigger("option_add",r,e)),r)}addOptions(e,t=!1){B(e,(e=>{this.addOption(e,t)}))}registerOption(e){return this.addOption(e)}registerOptionGroup(e){var t=ge(e[this.settings.optgroupValueField]);return null!==t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)}addOptionGroup(e,t){var n;t[this.settings.optgroupValueField]=e,(n=this.registerOptionGroup(t))&&this.trigger("optgroup_add",n,t)}removeOptionGroup(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.clearCache(),this.trigger("optgroup_remove",e))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(e,t){const n=this;var r,i;const o=ge(e),s=ge(t[n.settings.valueField]);if(null===o)return;const a=n.options[o];if(null==a)return;if("string"!=typeof s)throw new Error("Value must be set in option data");const l=n.getOption(o),c=n.getItem(o);if(t.$order=t.$order||a.$order,delete n.options[o],n.uncacheValue(s),n.options[s]=t,l){if(n.dropdown_content.contains(l)){const e=n._render("option",t);te(l,e),n.activeOption===l&&n.setActiveOption(e)}l.remove()}c&&(-1!==(i=n.items.indexOf(o))&&n.items.splice(i,1,s),r=n._render("item",t),c.classList.contains("active")&&V(r,"active"),te(c,r)),n.lastQuery=null}removeOption(e,t){const n=this;e=ve(e),n.uncacheValue(e),delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)}clearOptions(e){const t=(e||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const n={};B(this.options,((e,r)=>{t(e,r)&&(n[r]=e)})),this.options=this.sifter.items=n,this.lastQuery=null,this.trigger("option_clear")}clearFilter(e,t){return this.items.indexOf(t)>=0}getOption(e,t=!1){const n=ge(e);if(null===n)return null;const r=this.options[n];if(null!=r){if(r.$div)return r.$div;if(t)return this._render("option",r)}return null}getAdjacent(e,t,n="option"){var r,i=this;if(!e)return null;r="item"==n?i.controlChildren():i.dropdown_content.querySelectorAll("[data-selectable]");for(let n=0;n<r.length;n++)if(r[n]==e)return t>0?r[n+1]:r[n-1];return null}getItem(e){if("object"==typeof e)return e;var t=ge(e);return null!==t?this.control.querySelector(`[data-value="${Te(t)}"]`):null}addItems(e,t){var n=this,r=Array.isArray(e)?e:[e];const i=(r=r.filter((e=>-1===n.items.indexOf(e))))[r.length-1];r.forEach((e=>{n.isPending=e!==i,n.addItem(e,t)}))}addItem(e,t){we(this,t?[]:["change","dropdown_close"],(()=>{var n,r;const i=this,o=i.settings.mode,s=ge(e);if((!s||-1===i.items.indexOf(s)||("single"===o&&i.close(),"single"!==o&&i.settings.duplicates))&&null!==s&&i.options.hasOwnProperty(s)&&("single"===o&&i.clear(t),"multi"!==o||!i.isFull())){if(n=i._render("item",i.options[s]),i.control.contains(n)&&(n=n.cloneNode(!0)),r=i.isFull(),i.items.splice(i.caretPos,0,s),i.insertAtCaret(n),i.isSetup){if(!i.isPending&&i.settings.hideSelected){let e=i.getOption(s),t=i.getAdjacent(e,1);t&&i.setActiveOption(t)}i.isPending||i.settings.closeAfterSelect||i.refreshOptions(i.isFocused&&"single"!==o),0!=i.settings.closeAfterSelect&&i.isFull()?i.close():i.isPending||i.positionDropdown(),i.trigger("item_add",s,n),i.isPending||i.updateOriginalInput({silent:t})}(!i.isPending||!r&&i.isFull())&&(i.inputState(),i.refreshState())}}))}removeItem(e=null,t){const n=this;if(!(e=n.getItem(e)))return;var r,i;const o=e.dataset.value;r=Q(e),e.remove(),e.classList.contains("active")&&(i=n.activeItems.indexOf(e),n.activeItems.splice(i,1),Z(e,"active")),n.items.splice(r,1),n.lastQuery=null,!n.settings.persist&&n.userOptions.hasOwnProperty(o)&&n.removeOption(o,t),r<n.caretPos&&n.setCaret(n.caretPos-1),n.updateOriginalInput({silent:t}),n.refreshState(),n.positionDropdown(),n.trigger("item_remove",o,e)}createItem(e=null,t=(()=>{})){3===arguments.length&&(t=arguments[2]),"function"!=typeof t&&(t=()=>{});var n,r=this,i=r.caretPos;if(e=e||r.inputValue(),!r.canCreate(e))return t(),!1;r.lock();var o=!1,s=e=>{if(r.unlock(),!e||"object"!=typeof e)return t();var n=ge(e[r.settings.valueField]);if("string"!=typeof n)return t();r.setTextboxValue(),r.addOption(e,!0),r.setCaret(i),r.addItem(n),t(e),o=!0};return n="function"==typeof r.settings.create?r.settings.create.call(this,e,s):{[r.settings.labelField]:e,[r.settings.valueField]:e},o||s(n),!0}refreshItems(){var e=this;e.lastQuery=null,e.isSetup&&e.addItems(e.items),e.updateOriginalInput(),e.refreshState()}refreshState(){const e=this;e.refreshValidityState();const t=e.isFull(),n=e.isLocked;e.wrapper.classList.toggle("rtl",e.rtl);const r=e.wrapper.classList;r.toggle("focus",e.isFocused),r.toggle("disabled",e.isDisabled),r.toggle("readonly",e.isReadOnly),r.toggle("required",e.isRequired),r.toggle("invalid",!e.isValid),r.toggle("locked",n),r.toggle("full",t),r.toggle("input-active",e.isFocused&&!e.isInputHidden),r.toggle("dropdown-active",e.isOpen),r.toggle("has-options",J(e.options)),r.toggle("has-items",e.items.length>0)}refreshValidityState(){var e=this;e.input.validity&&(e.isValid=e.input.validity.valid,e.isInvalid=!e.isValid)}isFull(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems}updateOriginalInput(e={}){const t=this;var n,r;const i=t.input.querySelector('option[value=""]');if(t.is_select_tag){const o=[],s=t.input.querySelectorAll("option:checked").length;function a(e,n,r){return e||(e=H('<option value="'+ye(n)+'">'+ye(r)+"</option>")),e!=i&&t.input.append(e),o.push(e),(e!=i||s>0)&&(e.selected=!0),e}t.input.querySelectorAll("option:checked").forEach((e=>{e.selected=!1})),0==t.items.length&&"single"==t.settings.mode?a(i,"",""):t.items.forEach((e=>{n=t.options[e],r=n[t.settings.labelField]||"",o.includes(n.$option)?a(t.input.querySelector(`option[value="${Te(e)}"]:not(:checked)`),e,r):n.$option=a(n.$option,e,r)}))}else t.input.value=t.getValue();t.isSetup&&(e.silent||t.trigger("change",t.getValue()))}open(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.isOpen=!0,ee(e.focus_node,{"aria-expanded":"true"}),e.refreshState(),q(e.dropdown,{visibility:"hidden",display:"block"}),e.positionDropdown(),q(e.dropdown,{visibility:"visible",display:"block"}),e.focus(),e.trigger("dropdown_open",e.dropdown))}close(e=!0){var t=this,n=t.isOpen;e&&(t.setTextboxValue(),"single"===t.settings.mode&&t.items.length&&t.inputState()),t.isOpen=!1,ee(t.focus_node,{"aria-expanded":"false"}),q(t.dropdown,{display:"none"}),t.settings.hideSelected&&t.clearActiveOption(),t.refreshState(),n&&t.trigger("dropdown_close",t.dropdown)}positionDropdown(){if("body"===this.settings.dropdownParent){var e=this.control,t=e.getBoundingClientRect(),n=e.offsetHeight+t.top+window.scrollY,r=t.left+window.scrollX;q(this.dropdown,{width:t.width+"px",top:n+"px",left:r+"px"})}}clear(e){var t=this;if(t.items.length){var n=t.controlChildren();B(n,(e=>{t.removeItem(e,!0)})),t.inputState(),e||t.updateOriginalInput(),t.trigger("clear")}}insertAtCaret(e){const t=this,n=t.caretPos,r=t.control;r.insertBefore(e,r.children[n]||null),t.setCaret(n+1)}deleteSelection(e){var t,n,r,i,o=this;t=e&&e.keyCode===de?-1:1,n=ke(o.control_input);const s=[];if(o.activeItems.length)i=X(o.activeItems,t),r=Q(i),t>0&&r++,B(o.activeItems,(e=>s.push(e)));else if((o.isFocused||"single"===o.settings.mode)&&o.items.length){const e=o.controlChildren();let r;t<0&&0===n.start&&0===n.length?r=e[o.caretPos-1]:t>0&&n.start===o.inputValue().length&&(r=e[o.caretPos]),void 0!==r&&s.push(r)}if(!o.shouldDelete(s,e))return!1;for(xe(e,!0),void 0!==r&&o.setCaret(r);s.length;)o.removeItem(s.pop());return o.inputState(),o.positionDropdown(),o.refreshOptions(!1),!0}shouldDelete(e,t){const n=e.map((e=>e.dataset.value));return!(!n.length||"function"==typeof this.settings.onDelete&&!1===this.settings.onDelete(n,t))}advanceSelection(e,t){var n,r,i=this;i.rtl&&(e*=-1),i.inputValue().length||(Ee(pe,t)||Ee("shiftKey",t)?(r=(n=i.getLastActive(e))?n.classList.contains("active")?i.getAdjacent(n,e,"item"):n:e>0?i.control_input.nextElementSibling:i.control_input.previousElementSibling)&&(r.classList.contains("active")&&i.removeActiveItem(n),i.setActiveItemClass(r)):i.moveCaret(e))}moveCaret(e){}getLastActive(e){let t=this.control.querySelector(".last-active");if(t)return t;var n=this.control.querySelectorAll(".active");return n?X(n,e):void 0}setCaret(e){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(e=this.isReadOnly||this.isDisabled){this.isLocked=e,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(e){this.focus_node.tabIndex=e?-1:this.tabIndex,this.isDisabled=e,this.input.disabled=e,this.control_input.disabled=e,this.setLocked()}setReadOnly(e){this.isReadOnly=e,this.input.readOnly=e,this.control_input.readOnly=e,this.setLocked()}destroy(){var e=this,t=e.revertSettings;e.trigger("destroy"),e.off(),e.wrapper.remove(),e.dropdown.remove(),e.input.innerHTML=t.innerHTML,e.input.tabIndex=t.tabIndex,Z(e.input,"tomselected","ts-hidden-accessible"),e._destroy(),delete e.input.tomselect}render(e,t){var n,r;const i=this;if("function"!=typeof this.settings.render[e])return null;if(!(r=i.settings.render[e].call(this,t,ye)))return null;if(r=H(r),"option"===e||"option_create"===e?t[i.settings.disabledField]?ee(r,{"aria-disabled":"true"}):ee(r,{"data-selectable":""}):"optgroup"===e&&(n=t.group[i.settings.optgroupValueField],ee(r,{"data-group":n}),t.group[i.settings.disabledField]&&ee(r,{"data-disabled":""})),"option"===e||"item"===e){const n=ve(t[i.settings.valueField]);ee(r,{"data-value":n}),"item"===e?(V(r,i.settings.itemClass),ee(r,{"data-ts-item":""})):(V(r,i.settings.optionClass),ee(r,{role:"option",id:t.$id}),t.$div=r,i.options[n]=t)}return r}_render(e,t){const n=this.render(e,t);if(null==n)throw"HTMLElement expected";return n}clearCache(){B(this.options,(e=>{e.$div&&(e.$div.remove(),delete e.$div)}))}uncacheValue(e){const t=this.getOption(e);t&&t.remove()}canCreate(e){return this.settings.create&&e.length>0&&this.settings.createFilter.call(this,e)}hook(e,t,n){var r=this,i=r[t];r[t]=function(){var t,o;return"after"===e&&(t=i.apply(r,arguments)),o=n.apply(r,arguments),"instead"===e?o:("before"===e&&(t=i.apply(r,arguments)),t)}}}function Le(){Se(this.input,"change",(()=>{this.sync()}))}function Pe(e){var t=this,n=t.onOptionSelect;t.settings.hideSelected=!1;const r=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},e);var i=function(e,t){t?(e.checked=!0,r.uncheckedClassNames&&e.classList.remove(...r.uncheckedClassNames),r.checkedClassNames&&e.classList.add(...r.checkedClassNames)):(e.checked=!1,r.checkedClassNames&&e.classList.remove(...r.checkedClassNames),r.uncheckedClassNames&&e.classList.add(...r.uncheckedClassNames))},o=function(e){setTimeout((()=>{var t=e.querySelector("input."+r.className);t instanceof HTMLInputElement&&i(t,e.classList.contains("selected"))}),1)};t.hook("after","setupTemplates",(()=>{var e=t.settings.render.option;t.settings.render.option=(n,o)=>{var s=H(e.call(t,n,o)),a=document.createElement("input");r.className&&a.classList.add(r.className),a.addEventListener("click",(function(e){xe(e)})),a.type="checkbox";const l=ge(n[t.settings.valueField]);return i(a,!!(l&&t.items.indexOf(l)>-1)),s.prepend(a),s}})),t.on("item_remove",(e=>{var n=t.getOption(e);n&&(n.classList.remove("selected"),o(n))})),t.on("item_add",(e=>{var n=t.getOption(e);n&&o(n)})),t.hook("instead","onOptionSelect",((e,r)=>{if(r.classList.contains("selected"))return r.classList.remove("selected"),t.removeItem(r.dataset.value),t.refreshOptions(),void xe(e,!0);n.call(t,e,r),o(r)}))}function Ie(e){const t=this,n=Object.assign({className:"clear-button",title:"Clear All",html:e=>`<div class="${e.className}" title="${e.title}">&#10799;</div>`},e);t.on("initialize",(()=>{var e=H(n.html(n));e.addEventListener("click",(e=>{t.isLocked||(t.clear(),"single"===t.settings.mode&&t.settings.allowEmptyOption&&t.addItem(""),e.preventDefault(),e.stopPropagation())})),t.control.appendChild(e)}))}const Re=(e,t)=>{var n;null==(n=e.parentNode)||n.insertBefore(t,e.nextSibling)},Ne=(e,t)=>{var n;null==(n=e.parentNode)||n.insertBefore(t,e)},Be=(e,t)=>{do{var n;if(e==(t=null==(n=t)?void 0:n.previousElementSibling))return!0}while(t&&t.previousElementSibling);return!1};function Fe(){var e=this;if("multi"!==e.settings.mode)return;var t=e.lock,n=e.unlock;let r,i=!0;e.hook("after","setupTemplates",(()=>{var t=e.settings.render.item;e.settings.render.item=(n,o)=>{const s=H(t.call(e,n,o));ee(s,{draggable:"true"});const a=e=>{r=s,setTimeout((()=>{s.classList.add("ts-dragging")}),0)},l=e=>{e.preventDefault(),s.classList.add("ts-drag-over"),u(s,r)},c=()=>{s.classList.remove("ts-drag-over")},u=(e,t)=>{void 0!==t&&(Be(t,s)?Re(e,t):Ne(e,t))},d=()=>{var t;document.querySelectorAll(".ts-drag-over").forEach((e=>e.classList.remove("ts-drag-over"))),null==(t=r)||t.classList.remove("ts-dragging"),r=void 0;var n=[];e.control.querySelectorAll("[data-value]").forEach((e=>{if(e.dataset.value){let t=e.dataset.value;t&&n.push(t)}})),e.setValue(n)};return Se(s,"mousedown",(e=>{i||xe(e),e.stopPropagation()})),Se(s,"dragstart",a),Se(s,"dragenter",l),Se(s,"dragover",l),Se(s,"dragleave",c),Se(s,"dragend",d),s}})),e.hook("instead","lock",(()=>(i=!1,t.call(e)))),e.hook("instead","unlock",(()=>(i=!0,n.call(e))))}function je(e){const t=this,n=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:e=>'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a class="'+e.closeClass+'">&times;</a></div></div>'},e);t.on("initialize",(()=>{var e=H(n.html(n)),r=e.querySelector("."+n.closeClass);r&&r.addEventListener("click",(e=>{xe(e,!0),t.close()})),t.dropdown.insertBefore(e,t.dropdown.firstChild)}))}function ze(){var e=this;e.hook("instead","setCaret",(t=>{"single"!==e.settings.mode&&e.control.contains(e.control_input)?(t=Math.max(0,Math.min(e.items.length,t)))==e.caretPos||e.isPending||e.controlChildren().forEach(((n,r)=>{r<t?e.control_input.insertAdjacentElement("beforebegin",n):e.control.appendChild(n)})):t=e.items.length,e.caretPos=t})),e.hook("instead","moveCaret",(t=>{if(!e.isFocused)return;const n=e.getLastActive(t);if(n){const r=Q(n);e.setCaret(t>0?r+1:r),e.setActiveItem(),Z(n,"last-active")}else e.setCaret(e.caretPos+t)}))}function He(){const e=this;e.settings.shouldOpen=!0,e.hook("before","setup",(()=>{e.focus_node=e.control,V(e.control_input,"dropdown-input");const t=H('<div class="dropdown-input-wrap">');t.append(e.control_input),e.dropdown.insertBefore(t,e.dropdown.firstChild);const n=H('<input class="items-placeholder" tabindex="-1" />');n.placeholder=e.settings.placeholder||"",e.control.append(n)})),e.on("initialize",(()=>{e.control_input.addEventListener("keydown",(t=>{switch(t.keyCode){case se:return e.isOpen&&(xe(t,!0),e.close()),void e.clearActiveItems();case fe:e.focus_node.tabIndex=-1}return e.onKeyDown.call(e,t)})),e.on("blur",(()=>{e.focus_node.tabIndex=e.isDisabled?-1:e.tabIndex})),e.on("dropdown_open",(()=>{e.control_input.focus()}));const t=e.onBlur;e.hook("instead","onBlur",(n=>{if(!n||n.relatedTarget!=e.control_input)return t.call(e)})),Se(e.control_input,"blur",(()=>e.onBlur())),e.hook("before","close",(()=>{e.isOpen&&e.focus_node.focus({preventScroll:!0})}))}))}function $e(){var e=this;e.on("initialize",(()=>{var t=document.createElement("span"),n=e.control_input;t.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",e.wrapper.appendChild(t);var r=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const e of r)t.style[e]=n.style[e];var i=()=>{t.textContent=n.value,n.style.width=t.clientWidth+"px"};i(),e.on("update item_add item_remove",i),Se(n,"input",i),Se(n,"keyup",i),Se(n,"blur",i),Se(n,"update",i)}))}function Ue(){var e=this,t=e.deleteSelection;this.hook("instead","deleteSelection",(n=>!!e.activeItems.length&&t.call(e,n)))}function We(){this.hook("instead","setActiveItem",(()=>{})),this.hook("instead","selectAll",(()=>{}))}function qe(){var e=this,t=e.onKeyDown;e.hook("instead","onKeyDown",(n=>{var r,i,o,s;if(!e.isOpen||n.keyCode!==ae&&n.keyCode!==ce)return t.call(e,n);e.ignoreHover=!0,s=K(e.activeOption,"[data-group]"),r=Q(e.activeOption,"[data-selectable]"),s&&(s=n.keyCode===ae?s.previousSibling:s.nextSibling)&&(i=(o=s.querySelectorAll("[data-selectable]"))[Math.min(o.length-1,r)])&&e.setActiveOption(i)}))}function Ve(e){const t=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},e);var n=this;if(t.append){var r='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+ye(t.title)+'">'+t.label+"</a>";n.hook("after","setupTemplates",(()=>{var e=n.settings.render.item;n.settings.render.item=(t,i)=>{var o=H(e.call(n,t,i)),s=H(r);return o.appendChild(s),Se(s,"mousedown",(e=>{xe(e,!0)})),Se(s,"click",(e=>{n.isLocked||(xe(e,!0),n.isLocked||n.shouldDelete([o],e)&&(n.removeItem(o),n.refreshOptions(!1),n.inputState()))})),o}}))}}function Ze(e){const t=this,n=Object.assign({text:e=>e[t.settings.labelField]},e);t.on("item_remove",(function(e){if(t.isFocused&&""===t.control_input.value.trim()){var r=t.options[e];r&&t.setTextboxValue(n.text.call(t,r))}}))}function Ye(){const e=this,t=e.canLoad,n=e.clearActiveOption,r=e.loadCallback;var i,o,s={},a=!1,l=[];if(e.settings.shouldLoadMore||(e.settings.shouldLoadMore=()=>{if(i.clientHeight/(i.scrollHeight-i.scrollTop)>.9)return!0;if(e.activeOption){var t=e.selectable();if(Array.from(t).indexOf(e.activeOption)>=t.length-2)return!0}return!1}),!e.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";e.settings.sortField=[{field:"$order"},{field:"$score"}];const c=t=>!("number"==typeof e.settings.maxOptions&&i.children.length>=e.settings.maxOptions||!(t in s)||!s[t]),u=(t,n)=>e.items.indexOf(n)>=0||l.indexOf(n)>=0;e.setNextUrl=(e,t)=>{s[e]=t},e.getUrl=t=>{if(t in s){const e=s[t];return s[t]=!1,e}return e.clearPagination(),e.settings.firstUrl.call(e,t)},e.clearPagination=()=>{s={}},e.hook("instead","clearActiveOption",(()=>{if(!a)return n.call(e)})),e.hook("instead","canLoad",(n=>n in s?c(n):t.call(e,n))),e.hook("instead","loadCallback",((t,n)=>{if(a){if(o){const n=t[0];void 0!==n&&(o.dataset.value=n[e.settings.valueField])}}else e.clearOptions(u);r.call(e,t,n),a=!1})),e.hook("after","refreshOptions",(()=>{const t=e.lastValue;var n;c(t)?(n=e.render("loading_more",{query:t}))&&(n.setAttribute("data-selectable",""),o=n):t in s&&!i.querySelector(".no-results")&&(n=e.render("no_more_results",{query:t})),n&&(V(n,e.settings.optionClass),i.append(n))})),e.on("initialize",(()=>{l=Object.keys(e.options),i=e.dropdown_content,e.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},e.settings.render),i.addEventListener("scroll",(()=>{e.settings.shouldLoadMore.call(e)&&c(e.lastValue)&&(a||(a=!0,e.load.call(e,e.lastValue)))}))}))}return Me.define("change_listener",Le),Me.define("checkbox_options",Pe),Me.define("clear_button",Ie),Me.define("drag_drop",Fe),Me.define("dropdown_header",je),Me.define("caret_position",ze),Me.define("dropdown_input",He),Me.define("input_autogrow",$e),Me.define("no_backspace_delete",Ue),Me.define("no_active_items",We),Me.define("optgroup_columns",qe),Me.define("remove_button",Ve),Me.define("restore_on_backspace",Ze),Me.define("virtual_scroll",Ye),Me}()},120:(e,t,n)=>{"use strict";n.d(t,{ou:()=>hr});class r extends Error{}class i extends r{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class o extends r{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class s extends r{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class a extends r{}class l extends r{constructor(e){super(`Invalid unit ${e}`)}}class c extends r{}class u extends r{constructor(){super("Zone is an abstract class")}}const d="numeric",h="short",f="long",p={year:d,month:d,day:d},m={year:d,month:h,day:d},g={year:d,month:h,day:d,weekday:h},v={year:d,month:f,day:d},y={year:d,month:f,day:d,weekday:f},_={hour:d,minute:d},b={hour:d,minute:d,second:d},w={hour:d,minute:d,second:d,timeZoneName:h},k={hour:d,minute:d,second:d,timeZoneName:f},x={hour:d,minute:d,hourCycle:"h23"},S={hour:d,minute:d,second:d,hourCycle:"h23"},E={hour:d,minute:d,second:d,hourCycle:"h23",timeZoneName:h},C={hour:d,minute:d,second:d,hourCycle:"h23",timeZoneName:f},T={year:d,month:d,day:d,hour:d,minute:d},A={year:d,month:d,day:d,hour:d,minute:d,second:d},O={year:d,month:h,day:d,hour:d,minute:d},D={year:d,month:h,day:d,hour:d,minute:d,second:d},M={year:d,month:h,day:d,weekday:h,hour:d,minute:d},L={year:d,month:f,day:d,hour:d,minute:d,timeZoneName:h},P={year:d,month:f,day:d,hour:d,minute:d,second:d,timeZoneName:h},I={year:d,month:f,day:d,weekday:f,hour:d,minute:d,timeZoneName:f},R={year:d,month:f,day:d,weekday:f,hour:d,minute:d,second:d,timeZoneName:f};class N{get type(){throw new u}get name(){throw new u}get ianaName(){return this.name}get isUniversal(){throw new u}offsetName(e,t){throw new u}formatOffset(e,t){throw new u}offset(e){throw new u}equals(e){throw new u}get isValid(){throw new u}}let B=null;class F extends N{static get instance(){return null===B&&(B=new F),B}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return Xe(e,t,n)}formatOffset(e,t){return tt(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"system"===e.type}get isValid(){return!0}}let j={};const z={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let H={};class $ extends N{static create(e){return H[e]||(H[e]=new $(e)),H[e]}static resetCache(){H={},j={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return!1}}constructor(e){super(),this.zoneName=e,this.valid=$.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return Xe(e,t,n,this.name)}formatOffset(e,t){return tt(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const n=(r=this.name,j[r]||(j[r]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),j[r]);var r;let[i,o,s,a,l,c,u]=n.formatToParts?function(e,t){const n=e.formatToParts(t),r=[];for(let e=0;e<n.length;e++){const{type:t,value:i}=n[e],o=z[t];"era"===t?r[o]=i:De(o)||(r[o]=parseInt(i,10))}return r}(n,t):function(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,o,s,a,l,c,u]=r;return[s,i,o,a,l,c,u]}(n,t);"BC"===a&&(i=1-Math.abs(i));let d=+t;const h=d%1e3;return d-=h>=0?h:1e3+h,(Ze({year:i,month:o,day:s,hour:24===l?0:l,minute:c,second:u,millisecond:0})-d)/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this.valid}}let U={};let W={};function q(e,t={}){const n=JSON.stringify([e,t]);let r=W[n];return r||(r=new Intl.DateTimeFormat(e,t),W[n]=r),r}let V={};let Z={};let Y=null;let G={};function K(e,t,n,r){const i=e.listingMode();return"error"===i?null:"en"===i?n(t):r(t)}class X{constructor(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:r,floor:i,...o}=n;if(!t||Object.keys(o).length>0){const t={useGrouping:!1,...n};n.padTo>0&&(t.minimumIntegerDigits=n.padTo),this.inf=function(e,t={}){const n=JSON.stringify([e,t]);let r=V[n];return r||(r=new Intl.NumberFormat(e,t),V[n]=r),r}(e,t)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}return je(this.floor?Math.floor(e):Ue(e,3),this.padTo)}}class J{constructor(e,t,n){let r;if(this.opts=n,this.originalZone=void 0,this.opts.timeZone)this.dt=e;else if("fixed"===e.zone.type){const t=e.offset/60*-1,n=t>=0?`Etc/GMT+${t}`:`Etc/GMT${t}`;0!==e.offset&&$.create(n).valid?(r=n,this.dt=e):(r="UTC",this.dt=0===e.offset?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else"system"===e.zone.type?this.dt=e:"iana"===e.zone.type?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const i={...this.opts};i.timeZone=i.timeZone||r,this.dtf=q(t,i)}format(){return this.originalZone?this.formatToParts().map((({value:e})=>e)).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map((e=>{if("timeZoneName"===e.type){const t=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:t}}return e})):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Q{constructor(e,t,n){this.opts={style:"long",...n},!t&&Pe()&&(this.rtf=function(e,t={}){const{base:n,...r}=t,i=JSON.stringify([e,r]);let o=Z[i];return o||(o=new Intl.RelativeTimeFormat(e,t),Z[i]=o),o}(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===n&&o){const n="days"===e;switch(t){case 1:return n?"tomorrow":`next ${i[e][0]}`;case-1:return n?"yesterday":`last ${i[e][0]}`;case 0:return n?"today":`this ${i[e][0]}`}}const s=Object.is(t,-0)||t<0,a=Math.abs(t),l=1===a,c=i[e],u=r?l?c[1]:c[2]||c[1]:l?i[e][0]:e;return s?`${a} ${u} ago`:`in ${a} ${u}`}(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const ee={firstDay:1,minimalDays:4,weekend:[6,7]};class te{static fromOpts(e){return te.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,n,r,i=!1){const o=e||pe.defaultLocale,s=o||(i?"en-US":Y||(Y=(new Intl.DateTimeFormat).resolvedOptions().locale,Y)),a=t||pe.defaultNumberingSystem,l=n||pe.defaultOutputCalendar,c=Be(r)||pe.defaultWeekSettings;return new te(s,a,l,c,o)}static resetCache(){Y=null,W={},V={},Z={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:n,weekSettings:r}={}){return te.create(e,t,n,r)}constructor(e,t,n,r,i){const[o,s,a]=function(e){const t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));const n=e.indexOf("-u-");if(-1===n)return[e];{let t,r;try{t=q(e).resolvedOptions(),r=e}catch(i){const o=e.substring(0,n);t=q(o).resolvedOptions(),r=o}const{numberingSystem:i,calendar:o}=t;return[r,i,o]}}(e);this.locale=o,this.numberingSystem=t||s||null,this.outputCalendar=n||a||null,this.weekSettings=r,this.intl=function(e,t,n){return n||t?(e.includes("-u-")||(e+="-u"),n&&(e+=`-ca-${n}`),t&&(e+=`-nu-${t}`),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return e&&t?"en":"intl"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?te.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Be(e.weekSettings)||this.weekSettings,e.defaultToEN||!1):this}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return K(this,e,st,(()=>{const n=t?{month:e,day:"numeric"}:{month:e},r=t?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=function(e){const t=[];for(let n=1;n<=12;n++){const r=hr.utc(2009,n,1);t.push(e(r))}return t}((e=>this.extract(e,n,"month")))),this.monthsCache[r][e]}))}weekdays(e,t=!1){return K(this,e,ut,(()=>{const n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=function(e){const t=[];for(let n=1;n<=7;n++){const r=hr.utc(2016,11,13+n);t.push(e(r))}return t}((e=>this.extract(e,n,"weekday")))),this.weekdaysCache[r][e]}))}meridiems(){return K(this,void 0,(()=>dt),(()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[hr.utc(2016,11,13,9),hr.utc(2016,11,13,19)].map((t=>this.extract(t,e,"dayperiod")))}return this.meridiemCache}))}eras(e){return K(this,e,mt,(()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[hr.utc(-40,1,1),hr.utc(2017,1,1)].map((e=>this.extract(e,t,"era")))),this.eraCache[e]}))}extract(e,t,n){const r=this.dtFormatter(e,t).formatToParts().find((e=>e.type.toLowerCase()===n));return r?r.value:null}numberFormatter(e={}){return new X(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new J(e,this.intl,t)}relFormatter(e={}){return new Q(this.intl,this.isEnglish(),e)}listFormatter(e={}){return function(e,t={}){const n=JSON.stringify([e,t]);let r=U[n];return r||(r=new Intl.ListFormat(e,t),U[n]=r),r}(this.intl,e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Ie()?function(e){let t=G[e];if(!t){const n=new Intl.Locale(e);t="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,G[e]=t}return t}(this.locale):ee}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let ne=null;class re extends N{static get utcInstance(){return null===ne&&(ne=new re(0)),ne}static instance(e){return 0===e?re.utcInstance:new re(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new re(Je(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${tt(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${tt(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return tt(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return"fixed"===e.type&&e.fixed===this.fixed}get isValid(){return!0}}class ie extends N{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function oe(e,t){if(De(e)||null===e)return t;if(e instanceof N)return e;if("string"==typeof e){const n=e.toLowerCase();return"default"===n?t:"local"===n||"system"===n?F.instance:"utc"===n||"gmt"===n?re.utcInstance:re.parseSpecifier(n)||$.create(e)}return Me(e)?re.instance(e):"object"==typeof e&&"offset"in e&&"function"==typeof e.offset?e:new ie(e)}let se,ae=()=>Date.now(),le="system",ce=null,ue=null,de=null,he=60,fe=null;class pe{static get now(){return ae}static set now(e){ae=e}static set defaultZone(e){le=e}static get defaultZone(){return oe(le,F.instance)}static get defaultLocale(){return ce}static set defaultLocale(e){ce=e}static get defaultNumberingSystem(){return ue}static set defaultNumberingSystem(e){ue=e}static get defaultOutputCalendar(){return de}static set defaultOutputCalendar(e){de=e}static get defaultWeekSettings(){return fe}static set defaultWeekSettings(e){fe=Be(e)}static get twoDigitCutoffYear(){return he}static set twoDigitCutoffYear(e){he=e%100}static get throwOnInvalid(){return se}static set throwOnInvalid(e){se=e}static resetCaches(){te.resetCache(),$.resetCache()}}class me{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const ge=[0,31,59,90,120,151,181,212,243,273,304,334],ve=[0,31,60,91,121,152,182,213,244,274,305,335];function ye(e,t){return new me("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function _e(e,t,n){const r=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return 0===i?7:i}function be(e,t,n){return n+(We(e)?ve:ge)[t-1]}function we(e,t){const n=We(e)?ve:ge,r=n.findIndex((e=>e<t));return{month:r+1,day:t-n[r]}}function ke(e,t){return(e-t+7)%7+1}function xe(e,t=4,n=1){const{year:r,month:i,day:o}=e,s=be(r,i,o),a=ke(_e(r,i,o),n);let l,c=Math.floor((s-a+14-t)/7);return c<1?(l=r-1,c=Ge(l,t,n)):c>Ge(r,t,n)?(l=r+1,c=1):l=r,{weekYear:l,weekNumber:c,weekday:a,...nt(e)}}function Se(e,t=4,n=1){const{weekYear:r,weekNumber:i,weekday:o}=e,s=ke(_e(r,1,t),n),a=qe(r);let l,c=7*i+o-s-7+t;c<1?(l=r-1,c+=qe(l)):c>a?(l=r+1,c-=qe(r)):l=r;const{month:u,day:d}=we(l,c);return{year:l,month:u,day:d,...nt(e)}}function Ee(e){const{year:t,month:n,day:r}=e;return{year:t,ordinal:be(t,n,r),...nt(e)}}function Ce(e){const{year:t,ordinal:n}=e,{month:r,day:i}=we(t,n);return{year:t,month:r,day:i,...nt(e)}}function Te(e,t){if(!De(e.localWeekday)||!De(e.localWeekNumber)||!De(e.localWeekYear)){if(!De(e.weekday)||!De(e.weekNumber)||!De(e.weekYear))throw new a("Cannot mix locale-based week fields with ISO-based week fields");return De(e.localWeekday)||(e.weekday=e.localWeekday),De(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),De(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}return{minDaysInFirstWeek:4,startOfWeek:1}}function Ae(e){const t=Le(e.year),n=Fe(e.month,1,12),r=Fe(e.day,1,Ve(e.year,e.month));return t?n?!r&&ye("day",e.day):ye("month",e.month):ye("year",e.year)}function Oe(e){const{hour:t,minute:n,second:r,millisecond:i}=e,o=Fe(t,0,23)||24===t&&0===n&&0===r&&0===i,s=Fe(n,0,59),a=Fe(r,0,59),l=Fe(i,0,999);return o?s?a?!l&&ye("millisecond",i):ye("second",r):ye("minute",n):ye("hour",t)}function De(e){return void 0===e}function Me(e){return"number"==typeof e}function Le(e){return"number"==typeof e&&e%1==0}function Pe(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function Ie(){try{return"undefined"!=typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(e){return!1}}function Re(e,t,n){if(0!==e.length)return e.reduce(((e,r)=>{const i=[t(r),r];return e&&n(e[0],i[0])===e[0]?e:i}),null)[1]}function Ne(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Be(e){if(null==e)return null;if("object"!=typeof e)throw new c("Week settings must be an object");if(!Fe(e.firstDay,1,7)||!Fe(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some((e=>!Fe(e,1,7))))throw new c("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function Fe(e,t,n){return Le(e)&&e>=t&&e<=n}function je(e,t=2){let n;return n=e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0"),n}function ze(e){return De(e)||null===e||""===e?void 0:parseInt(e,10)}function He(e){return De(e)||null===e||""===e?void 0:parseFloat(e)}function $e(e){if(!De(e)&&null!==e&&""!==e){const t=1e3*parseFloat("0."+e);return Math.floor(t)}}function Ue(e,t,n=!1){const r=10**t;return(n?Math.trunc:Math.round)(e*r)/r}function We(e){return e%4==0&&(e%100!=0||e%400==0)}function qe(e){return We(e)?366:365}function Ve(e,t){const n=function(e,t){return e-t*Math.floor(e/t)}(t-1,12)+1;return 2===n?We(e+(t-n)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Ze(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function Ye(e,t,n){return-ke(_e(e,1,t),n)+t-1}function Ge(e,t=4,n=1){const r=Ye(e,t,n),i=Ye(e+1,t,n);return(qe(e)-r+i)/7}function Ke(e){return e>99?e:e>pe.twoDigitCutoffYear?1900+e:2e3+e}function Xe(e,t,n,r=null){const i=new Date(e),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(o.timeZone=r);const s={timeZoneName:t,...o},a=new Intl.DateTimeFormat(n,s).formatToParts(i).find((e=>"timezonename"===e.type.toLowerCase()));return a?a.value:null}function Je(e,t){let n=parseInt(e,10);Number.isNaN(n)&&(n=0);const r=parseInt(t,10)||0;return 60*n+(n<0||Object.is(n,-0)?-r:r)}function Qe(e){const t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new c(`Invalid unit value ${e}`);return t}function et(e,t){const n={};for(const r in e)if(Ne(e,r)){const i=e[r];if(null==i)continue;n[t(r)]=Qe(i)}return n}function tt(e,t){const n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return`${i}${je(n,2)}:${je(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${je(n,2)}${je(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function nt(e){return function(e,t){return t.reduce(((t,n)=>(t[n]=e[n],t)),{})}(e,["hour","minute","second","millisecond"])}const rt=["January","February","March","April","May","June","July","August","September","October","November","December"],it=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ot=["J","F","M","A","M","J","J","A","S","O","N","D"];function st(e){switch(e){case"narrow":return[...ot];case"short":return[...it];case"long":return[...rt];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const at=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],lt=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ct=["M","T","W","T","F","S","S"];function ut(e){switch(e){case"narrow":return[...ct];case"short":return[...lt];case"long":return[...at];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const dt=["AM","PM"],ht=["Before Christ","Anno Domini"],ft=["BC","AD"],pt=["B","A"];function mt(e){switch(e){case"narrow":return[...pt];case"short":return[...ft];case"long":return[...ht];default:return null}}function gt(e,t){let n="";for(const r of e)r.literal?n+=r.val:n+=t(r.val);return n}const vt={D:p,DD:m,DDD:v,DDDD:y,t:_,tt:b,ttt:w,tttt:k,T:x,TT:S,TTT:E,TTTT:C,f:T,ff:O,fff:L,ffff:I,F:A,FF:D,FFF:P,FFFF:R};class yt{static create(e,t={}){return new yt(e,t)}static parseFormat(e){let t=null,n="",r=!1;const i=[];for(let o=0;o<e.length;o++){const s=e.charAt(o);"'"===s?(n.length>0&&i.push({literal:r||/^\s+$/.test(n),val:n}),t=null,n="",r=!r):r||s===t?n+=s:(n.length>0&&i.push({literal:/^\s+$/.test(n),val:n}),n=s,t=s)}return n.length>0&&i.push({literal:r||/^\s+$/.test(n),val:n}),i}static macroTokenToFormatOpts(e){return vt[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return je(e,t);const n={...this.opts};return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,t){const n="en"===this.loc.listingMode(),r=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,i=(t,n)=>this.loc.extract(e,t,n),o=t=>e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):"",s=()=>n?function(e){return dt[e.hour<12?0:1]}(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),a=(t,r)=>n?function(e,t){return st(t)[e.month-1]}(e,t):i(r?{month:t}:{month:t,day:"numeric"},"month"),l=(t,r)=>n?function(e,t){return ut(t)[e.weekday-1]}(e,t):i(r?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday"),c=t=>{const n=yt.macroTokenToFormatOpts(t);return n?this.formatWithSystemDefault(e,n):t},u=t=>n?function(e,t){return mt(t)[e.year<0?0:1]}(e,t):i({era:t},"era");return gt(yt.parseFormat(t),(t=>{switch(t){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return s();case"d":return r?i({day:"numeric"},"day"):this.num(e.day);case"dd":return r?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":case"E":return this.num(e.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return r?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return r?i({month:"numeric"},"month"):this.num(e.month);case"MM":return r?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return r?i({year:"numeric"},"year"):this.num(e.year);case"yy":return r?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return u("short");case"GG":return u("long");case"GGGGG":return u("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(t)}}))}formatDurationFromString(e,t){const n=e=>{switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=yt.parseFormat(t),i=r.reduce(((e,{literal:t,val:n})=>t?e:e.concat(n)),[]);return gt(r,(e=>t=>{const r=n(t);return r?this.num(e.get(r),t.length):t})(e.shiftTo(...i.map(n).filter((e=>e)))))}}const _t=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function bt(...e){const t=e.reduce(((e,t)=>e+t.source),"");return RegExp(`^${t}$`)}function wt(...e){return t=>e.reduce((([e,n,r],i)=>{const[o,s,a]=i(t,r);return[{...e,...o},s||n,a]}),[{},null,1]).slice(0,2)}function kt(e,...t){if(null==e)return[null,null];for(const[n,r]of t){const t=n.exec(e);if(t)return r(t)}return[null,null]}function xt(...e){return(t,n)=>{const r={};let i;for(i=0;i<e.length;i++)r[e[i]]=ze(t[n+i]);return[r,null,n+i]}}const St=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Et=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Ct=RegExp(`${Et.source}${`(?:${St.source}?(?:\\[(${_t.source})\\])?)?`}`),Tt=RegExp(`(?:T${Ct.source})?`),At=xt("weekYear","weekNumber","weekDay"),Ot=xt("year","ordinal"),Dt=RegExp(`${Et.source} ?(?:${St.source}|(${_t.source}))?`),Mt=RegExp(`(?: ${Dt.source})?`);function Lt(e,t,n){const r=e[t];return De(r)?n:ze(r)}function Pt(e,t){return[{hours:Lt(e,t,0),minutes:Lt(e,t+1,0),seconds:Lt(e,t+2,0),milliseconds:$e(e[t+3])},null,t+4]}function It(e,t){const n=!e[t]&&!e[t+1],r=Je(e[t+1],e[t+2]);return[{},n?null:re.instance(r),t+3]}function Rt(e,t){return[{},e[t]?$.create(e[t]):null,t+1]}const Nt=RegExp(`^T?${Et.source}$`),Bt=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Ft(e){const[t,n,r,i,o,s,a,l,c]=e,u="-"===t[0],d=l&&"-"===l[0],h=(e,t=!1)=>void 0!==e&&(t||e&&u)?-e:e;return[{years:h(He(n)),months:h(He(r)),weeks:h(He(i)),days:h(He(o)),hours:h(He(s)),minutes:h(He(a)),seconds:h(He(l),"-0"===l),milliseconds:h($e(c),d)}]}const jt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function zt(e,t,n,r,i,o,s){const a={year:2===t.length?Ke(ze(t)):ze(t),month:it.indexOf(n)+1,day:ze(r),hour:ze(i),minute:ze(o)};return s&&(a.second=ze(s)),e&&(a.weekday=e.length>3?at.indexOf(e)+1:lt.indexOf(e)+1),a}const Ht=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function $t(e){const[,t,n,r,i,o,s,a,l,c,u,d]=e,h=zt(t,i,r,n,o,s,a);let f;return f=l?jt[l]:c?0:Je(u,d),[h,new re(f)]}const Ut=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Wt=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,qt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Vt(e){const[,t,n,r,i,o,s,a]=e;return[zt(t,i,r,n,o,s,a),re.utcInstance]}function Zt(e){const[,t,n,r,i,o,s,a]=e;return[zt(t,a,n,r,i,o,s),re.utcInstance]}const Yt=bt(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Tt),Gt=bt(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Tt),Kt=bt(/(\d{4})-?(\d{3})/,Tt),Xt=bt(Ct),Jt=wt((function(e,t){return[{year:Lt(e,t),month:Lt(e,t+1,1),day:Lt(e,t+2,1)},null,t+3]}),Pt,It,Rt),Qt=wt(At,Pt,It,Rt),en=wt(Ot,Pt,It,Rt),tn=wt(Pt,It,Rt);const nn=wt(Pt);const rn=bt(/(\d{4})-(\d\d)-(\d\d)/,Mt),on=bt(Dt),sn=wt(Pt,It,Rt);const an="Invalid Duration",ln={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},cn={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...ln},un=365.2425,dn=30.436875,hn={years:{quarters:4,months:12,weeks:52.1775,days:un,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:dn,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...ln},fn=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],pn=fn.slice(0).reverse();function mn(e,t,n=!1){const r={values:n?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new yn(r)}function gn(e,t){let n=t.milliseconds??0;for(const r of pn.slice(1))t[r]&&(n+=t[r]*e[r].milliseconds);return n}function vn(e,t){const n=gn(e,t)<0?-1:1;fn.reduceRight(((r,i)=>{if(De(t[i]))return r;if(r){const o=t[r]*n,s=e[i][r],a=Math.floor(o/s);t[i]+=a*n,t[r]-=a*s*n}return i}),null),fn.reduce(((n,r)=>{if(De(t[r]))return n;if(n){const i=t[n]%1;t[n]-=i,t[r]+=i*e[n][r]}return r}),null)}class yn{constructor(e){const t="longterm"===e.conversionAccuracy||!1;let n=t?hn:cn;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||te.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,t){return yn.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(null==e||"object"!=typeof e)throw new c("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new yn({values:et(e,yn.normalizeUnit),loc:te.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(Me(e))return yn.fromMillis(e);if(yn.isDuration(e))return e;if("object"==typeof e)return yn.fromObject(e);throw new c(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[n]=function(e){return kt(e,[Bt,Ft])}(e);return n?yn.fromObject(n,t):yn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[n]=function(e){return kt(e,[Nt,nn])}(e);return n?yn.fromObject(n,t):yn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new c("need to specify a reason the Duration is invalid");const n=e instanceof me?e:new me(e,t);if(pe.throwOnInvalid)throw new s(n);return new yn({invalid:n})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new l(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const n={...t,floor:!1!==t.round&&!1!==t.floor};return this.isValid?yt.create(this.loc,n).formatDurationFromString(this,e):an}toHuman(e={}){if(!this.isValid)return an;const t=fn.map((t=>{const n=this.values[t];return De(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:t.slice(0,-1)}).format(n)})).filter((e=>e));return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=Ue(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();if(t<0||t>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1};return hr.fromMillis(t,{zone:"UTC"}).toISOTime(e)}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?gn(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=yn.fromDurationLike(e),n={};for(const e of fn)(Ne(t.values,e)||Ne(this.values,e))&&(n[e]=t.get(e)+this.get(e));return mn(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const t=yn.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=Qe(e(this.values[n],n));return mn(this,{values:t},!0)}get(e){return this[yn.normalizeUnit(e)]}set(e){if(!this.isValid)return this;return mn(this,{values:{...this.values,...et(e,yn.normalizeUnit)}})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:n,matrix:r}={}){return mn(this,{loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:r,conversionAccuracy:n})}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return vn(this.matrix,e),mn(this,{values:e},!0)}rescale(){if(!this.isValid)return this;return mn(this,{values:function(e){const t={};for(const[n,r]of Object.entries(e))0!==r&&(t[n]=r);return t}(this.normalize().shiftToAll().toObject())},!0)}shiftTo(...e){if(!this.isValid)return this;if(0===e.length)return this;e=e.map((e=>yn.normalizeUnit(e)));const t={},n={},r=this.toObject();let i;for(const o of fn)if(e.indexOf(o)>=0){i=o;let e=0;for(const t in n)e+=this.matrix[t][o]*n[t],n[t]=0;Me(r[o])&&(e+=r[o]);const s=Math.trunc(e);t[o]=s,n[o]=(1e3*e-1e3*s)/1e3}else Me(r[o])&&(n[o]=r[o]);for(const e in n)0!==n[e]&&(t[i]+=e===i?n[e]:n[e]/this.matrix[i][e]);return vn(this.matrix,t),mn(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=0===this.values[t]?0:-this.values[t];return mn(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(const r of fn)if(t=this.values[r],n=e.values[r],!(void 0===t||0===t?void 0===n||0===n:t===n))return!1;var t,n;return!0}}const _n="Invalid Interval";class bn{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new c("need to specify a reason the Interval is invalid");const n=e instanceof me?e:new me(e,t);if(pe.throwOnInvalid)throw new o(n);return new bn({invalid:n})}static fromDateTimes(e,t){const n=fr(e),r=fr(t),i=function(e,t){return e&&e.isValid?t&&t.isValid?t<e?bn.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null:bn.invalid("missing or invalid end"):bn.invalid("missing or invalid start")}(n,r);return null==i?new bn({start:n,end:r}):i}static after(e,t){const n=yn.fromDurationLike(t),r=fr(e);return bn.fromDateTimes(r,r.plus(n))}static before(e,t){const n=yn.fromDurationLike(t),r=fr(e);return bn.fromDateTimes(r.minus(n),r)}static fromISO(e,t){const[n,r]=(e||"").split("/",2);if(n&&r){let e,i,o,s;try{e=hr.fromISO(n,t),i=e.isValid}catch(r){i=!1}try{o=hr.fromISO(r,t),s=o.isValid}catch(r){s=!1}if(i&&s)return bn.fromDateTimes(e,o);if(i){const n=yn.fromISO(r,t);if(n.isValid)return bn.after(e,n)}else if(s){const e=yn.fromISO(n,t);if(e.isValid)return bn.before(o,e)}}return bn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const n=this.start.startOf(e,t);let r;return r=t?.useLocaleWeeks?this.end.reconfigure({locale:n.locale}):this.end,r=r.startOf(e,t),Math.floor(r.diff(n,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return!!this.isValid&&this.s>e}isBefore(e){return!!this.isValid&&this.e<=e}contains(e){return!!this.isValid&&(this.s<=e&&this.e>e)}set({start:e,end:t}={}){return this.isValid?bn.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(fr).filter((e=>this.contains(e))).sort(((e,t)=>e.toMillis()-t.toMillis())),n=[];let{s:r}=this,i=0;for(;r<this.e;){const e=t[i]||this.e,o=+e>+this.e?this.e:e;n.push(bn.fromDateTimes(r,o)),r=o,i+=1}return n}splitBy(e){const t=yn.fromDurationLike(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return[];let n,{s:r}=this,i=1;const o=[];for(;r<this.e;){const e=this.start.plus(t.mapUnits((e=>e*i)));n=+e>+this.e?this.e:e,o.push(bn.fromDateTimes(r,n)),r=n,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return!!this.isValid&&+this.e==+e.s}abutsEnd(e){return!!this.isValid&&+e.e==+this.s}engulfs(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)}equals(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return t>=n?null:bn.fromDateTimes(t,n)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return bn.fromDateTimes(t,n)}static merge(e){const[t,n]=e.sort(((e,t)=>e.s-t.s)).reduce((([e,t],n)=>t?t.overlaps(n)||t.abutsStart(n)?[e,t.union(n)]:[e.concat([t]),n]:[e,n]),[[],null]);return n&&t.push(n),t}static xor(e){let t=null,n=0;const r=[],i=e.map((e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}])),o=Array.prototype.concat(...i).sort(((e,t)=>e.time-t.time));for(const e of o)n+="s"===e.type?1:-1,1===n?t=e.time:(t&&+t!=+e.time&&r.push(bn.fromDateTimes(t,e.time)),t=null);return bn.merge(r)}difference(...e){return bn.xor([this].concat(e)).map((e=>this.intersection(e))).filter((e=>e&&!e.isEmpty()))}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:_n}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=p,t={}){return this.isValid?yt.create(this.s.loc.clone(t),e).formatInterval(this):_n}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:_n}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:_n}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:_n}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:_n}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):yn.invalid(this.invalidReason)}mapEndpoints(e){return bn.fromDateTimes(e(this.s),e(this.e))}}class wn{static hasDST(e=pe.defaultZone){const t=hr.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return $.isValidZone(e)}static normalizeZone(e){return oe(e,pe.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||te.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||te.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||te.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null,outputCalendar:i="gregory"}={}){return(r||te.create(t,n,i)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null,outputCalendar:i="gregory"}={}){return(r||te.create(t,n,i)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null}={}){return(r||te.create(t,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null}={}){return(r||te.create(t,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return te.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return te.create(t,null,"gregory").eras(e)}static features(){return{relative:Pe(),localeWeek:Ie()}}}function kn(e,t){const n=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(t)-n(e);return Math.floor(yn.fromMillis(r).as("days"))}function xn(e,t,n,r){let[i,o,s,a]=function(e,t,n){const r=[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter+4*(t.year-e.year)],["months",(e,t)=>t.month-e.month+12*(t.year-e.year)],["weeks",(e,t)=>{const n=kn(e,t);return(n-n%7)/7}],["days",kn]],i={},o=e;let s,a;for(const[l,c]of r)n.indexOf(l)>=0&&(s=l,i[l]=c(e,t),a=o.plus(i),a>t?(i[l]--,(e=o.plus(i))>t&&(a=e,i[l]--,e=o.plus(i))):e=a);return[e,i,a,s]}(e,t,n);const l=t-i,c=n.filter((e=>["hours","minutes","seconds","milliseconds"].indexOf(e)>=0));0===c.length&&(s<t&&(s=i.plus({[a]:1})),s!==i&&(o[a]=(o[a]||0)+l/(s-i)));const u=yn.fromObject(o,r);return c.length>0?yn.fromMillis(l,r).shiftTo(...c).plus(u):u}const Sn={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},En={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Cn=Sn.hanidec.replace(/[\[|\]]/g,"").split("");function Tn({numberingSystem:e},t=""){return new RegExp(`${Sn[e||"latn"]}${t}`)}const An="missing Intl.DateTimeFormat.formatToParts support";function On(e,t=(e=>e)){return{regex:e,deser:([e])=>t(function(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(-1!==e[n].search(Sn.hanidec))t+=Cn.indexOf(e[n]);else for(const e in En){const[n,i]=En[e];r>=n&&r<=i&&(t+=r-n)}}return parseInt(t,10)}return t}(e))}}const Dn=`[ ${String.fromCharCode(160)}]`,Mn=new RegExp(Dn,"g");function Ln(e){return e.replace(/\./g,"\\.?").replace(Mn,Dn)}function Pn(e){return e.replace(/\./g,"").replace(Mn," ").toLowerCase()}function In(e,t){return null===e?null:{regex:RegExp(e.map(Ln).join("|")),deser:([n])=>e.findIndex((e=>Pn(n)===Pn(e)))+t}}function Rn(e,t){return{regex:e,deser:([,e,t])=>Je(e,t),groups:t}}function Nn(e){return{regex:e,deser:([e])=>e}}const Bn={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Fn=null;function jn(e,t){return Array.prototype.concat(...e.map((e=>function(e,t){if(e.literal)return e;const n=Hn(yt.macroTokenToFormatOpts(e.val),t);return null==n||n.includes(void 0)?e:n}(e,t))))}function zn(e,t,n){const r=jn(yt.parseFormat(n),e),i=r.map((t=>function(e,t){const n=Tn(t),r=Tn(t,"{2}"),i=Tn(t,"{3}"),o=Tn(t,"{4}"),s=Tn(t,"{6}"),a=Tn(t,"{1,2}"),l=Tn(t,"{1,3}"),c=Tn(t,"{1,6}"),u=Tn(t,"{1,9}"),d=Tn(t,"{2,4}"),h=Tn(t,"{4,6}"),f=e=>{return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([e])=>e,literal:!0};var t},p=(p=>{if(e.literal)return f(p);switch(p.val){case"G":return In(t.eras("short"),0);case"GG":return In(t.eras("long"),0);case"y":return On(c);case"yy":case"kk":return On(d,Ke);case"yyyy":case"kkkk":return On(o);case"yyyyy":return On(h);case"yyyyyy":return On(s);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return On(a);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return On(r);case"MMM":return In(t.months("short",!0),1);case"MMMM":return In(t.months("long",!0),1);case"LLL":return In(t.months("short",!1),1);case"LLLL":return In(t.months("long",!1),1);case"o":case"S":return On(l);case"ooo":case"SSS":return On(i);case"u":return Nn(u);case"uu":return Nn(a);case"uuu":case"E":case"c":return On(n);case"a":return In(t.meridiems(),0);case"EEE":return In(t.weekdays("short",!1),1);case"EEEE":return In(t.weekdays("long",!1),1);case"ccc":return In(t.weekdays("short",!0),1);case"cccc":return In(t.weekdays("long",!0),1);case"Z":case"ZZ":return Rn(new RegExp(`([+-]${a.source})(?::(${r.source}))?`),2);case"ZZZ":return Rn(new RegExp(`([+-]${a.source})(${r.source})?`),2);case"z":return Nn(/[a-z_+-/]{1,256}?/i);case" ":return Nn(/[^\S\n\r]/);default:return f(p)}})(e)||{invalidReason:An};return p.token=e,p}(t,e))),o=i.find((e=>e.invalidReason));if(o)return{input:t,tokens:r,invalidReason:o.invalidReason};{const[e,n]=function(e){return[`^${e.map((e=>e.regex)).reduce(((e,t)=>`${e}(${t.source})`),"")}$`,e]}(i),o=RegExp(e,"i"),[s,l]=function(e,t,n){const r=e.match(t);if(r){const e={};let t=1;for(const i in n)if(Ne(n,i)){const o=n[i],s=o.groups?o.groups+1:1;!o.literal&&o.token&&(e[o.token.val[0]]=o.deser(r.slice(t,t+s))),t+=s}return[r,e]}return[r,{}]}(t,o,n),[c,u,d]=l?function(e){let t,n=null;return De(e.z)||(n=$.create(e.z)),De(e.Z)||(n||(n=new re(e.Z)),t=e.Z),De(e.q)||(e.M=3*(e.q-1)+1),De(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),De(e.u)||(e.S=$e(e.u)),[Object.keys(e).reduce(((t,n)=>{const r=(e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(n);return r&&(t[r]=e[n]),t}),{}),n,t]}(l):[null,null,void 0];if(Ne(l,"a")&&Ne(l,"H"))throw new a("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:r,regex:o,rawMatches:s,matches:l,result:c,zone:u,specificOffset:d}}}function Hn(e,t){if(!e)return null;const n=yt.create(t,e).dtFormatter((Fn||(Fn=hr.fromMillis(1555555555555)),Fn)),r=n.formatToParts(),i=n.resolvedOptions();return r.map((t=>function(e,t,n){const{type:r,value:i}=e;if("literal"===r){const e=/^\s+$/.test(i);return{literal:!e,val:e?" ":i}}const o=t[r];let s=r;"hour"===r&&(s=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":n.hour12?"hour12":"hour24");let a=Bn[s];if("object"==typeof a&&(a=a[o]),a)return{literal:!1,val:a}}(t,e,i)))}const $n="Invalid DateTime",Un=864e13;function Wn(e){return new me("unsupported zone",`the zone "${e.name}" is not supported`)}function qn(e){return null===e.weekData&&(e.weekData=xe(e.c)),e.weekData}function Vn(e){return null===e.localWeekData&&(e.localWeekData=xe(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function Zn(e,t){const n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new hr({...n,...t,old:n})}function Yn(e,t,n){let r=e-60*t*1e3;const i=n.offset(r);if(t===i)return[r,t];r-=60*(i-t)*1e3;const o=n.offset(r);return i===o?[r,i]:[e-60*Math.min(i,o)*1e3,Math.max(i,o)]}function Gn(e,t){const n=new Date(e+=60*t*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Kn(e,t,n){return Yn(Ze(e),t,n)}function Xn(e,t){const n=e.o,r=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),o={...e.c,year:r,month:i,day:Math.min(e.c.day,Ve(r,i))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},s=yn.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=Ze(o);let[l,c]=Yn(a,n,e.zone);return 0!==s&&(l+=s,c=e.zone.offset(l)),{ts:l,o:c}}function Jn(e,t,n,r,i,o){const{setZone:s,zone:a}=n;if(e&&0!==Object.keys(e).length||t){const r=t||a,i=hr.fromObject(e,{...n,zone:r,specificOffset:o});return s?i:i.setZone(a)}return hr.invalid(new me("unparsable",`the input "${i}" can't be parsed as ${r}`))}function Qn(e,t,n=!0){return e.isValid?yt.create(te.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function er(e,t){const n=e.c.year>9999||e.c.year<0;let r="";return n&&e.c.year>=0&&(r+="+"),r+=je(e.c.year,n?6:4),t?(r+="-",r+=je(e.c.month),r+="-",r+=je(e.c.day)):(r+=je(e.c.month),r+=je(e.c.day)),r}function tr(e,t,n,r,i,o){let s=je(e.c.hour);return t?(s+=":",s+=je(e.c.minute),0===e.c.millisecond&&0===e.c.second&&n||(s+=":")):s+=je(e.c.minute),0===e.c.millisecond&&0===e.c.second&&n||(s+=je(e.c.second),0===e.c.millisecond&&r||(s+=".",s+=je(e.c.millisecond,3))),i&&(e.isOffsetFixed&&0===e.offset&&!o?s+="Z":e.o<0?(s+="-",s+=je(Math.trunc(-e.o/60)),s+=":",s+=je(Math.trunc(-e.o%60))):(s+="+",s+=je(Math.trunc(e.o/60)),s+=":",s+=je(Math.trunc(e.o%60)))),o&&(s+="["+e.zone.ianaName+"]"),s}const nr={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},rr={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},ir={ordinal:1,hour:0,minute:0,second:0,millisecond:0},or=["year","month","day","hour","minute","second","millisecond"],sr=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],ar=["year","ordinal","hour","minute","second","millisecond"];function lr(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new l(e);return t}(e)}}function cr(e,t){const n=oe(t.zone,pe.defaultZone),r=te.fromObject(t),i=pe.now();let o,s;if(De(e.year))o=i;else{for(const t of or)De(e[t])&&(e[t]=nr[t]);const t=Ae(e)||Oe(e);if(t)return hr.invalid(t);const r=n.offset(i);[o,s]=Kn(e,r,n)}return new hr({ts:o,zone:n,loc:r,o:s})}function ur(e,t,n){const r=!!De(n.round)||n.round,i=(e,i)=>{e=Ue(e,r||n.calendary?0:2,!0);return t.loc.clone(n).relFormatter(n).format(e,i)},o=r=>n.calendary?t.hasSame(e,r)?0:t.startOf(r).diff(e.startOf(r),r).get(r):t.diff(e,r).get(r);if(n.unit)return i(o(n.unit),n.unit);for(const e of n.units){const t=o(e);if(Math.abs(t)>=1)return i(t,e)}return i(e>t?-0:0,n.units[n.units.length-1])}function dr(e){let t,n={};return e.length>0&&"object"==typeof e[e.length-1]?(n=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[n,t]}class hr{constructor(e){const t=e.zone||pe.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new me("invalid input"):null)||(t.isValid?null:Wn(t));this.ts=De(e.ts)?pe.now():e.ts;let r=null,i=null;if(!n){if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,i]=[e.old.c,e.old.o];else{const e=t.offset(this.ts);r=Gn(this.ts,e),n=Number.isNaN(r.year)?new me("invalid input"):null,r=n?null:r,i=n?null:e}}this._zone=t,this.loc=e.loc||te.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=r,this.o=i,this.isLuxonDateTime=!0}static now(){return new hr({})}static local(){const[e,t]=dr(arguments),[n,r,i,o,s,a,l]=t;return cr({year:n,month:r,day:i,hour:o,minute:s,second:a,millisecond:l},e)}static utc(){const[e,t]=dr(arguments),[n,r,i,o,s,a,l]=t;return e.zone=re.utcInstance,cr({year:n,month:r,day:i,hour:o,minute:s,second:a,millisecond:l},e)}static fromJSDate(e,t={}){const n=(r=e,"[object Date]"===Object.prototype.toString.call(r)?e.valueOf():NaN);var r;if(Number.isNaN(n))return hr.invalid("invalid input");const i=oe(t.zone,pe.defaultZone);return i.isValid?new hr({ts:n,zone:i,loc:te.fromObject(t)}):hr.invalid(Wn(i))}static fromMillis(e,t={}){if(Me(e))return e<-Un||e>Un?hr.invalid("Timestamp out of range"):new hr({ts:e,zone:oe(t.zone,pe.defaultZone),loc:te.fromObject(t)});throw new c(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(Me(e))return new hr({ts:1e3*e,zone:oe(t.zone,pe.defaultZone),loc:te.fromObject(t)});throw new c("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const n=oe(t.zone,pe.defaultZone);if(!n.isValid)return hr.invalid(Wn(n));const r=te.fromObject(t),i=et(e,lr),{minDaysInFirstWeek:o,startOfWeek:s}=Te(i,r),l=pe.now(),c=De(t.specificOffset)?n.offset(l):t.specificOffset,u=!De(i.ordinal),d=!De(i.year),h=!De(i.month)||!De(i.day),f=d||h,p=i.weekYear||i.weekNumber;if((f||u)&&p)throw new a("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&u)throw new a("Can't mix ordinal dates with month/day");const m=p||i.weekday&&!f;let g,v,y=Gn(l,c);m?(g=sr,v=rr,y=xe(y,o,s)):u?(g=ar,v=ir,y=Ee(y)):(g=or,v=nr);let _=!1;for(const e of g){De(i[e])?i[e]=_?v[e]:y[e]:_=!0}const b=m?function(e,t=4,n=1){const r=Le(e.weekYear),i=Fe(e.weekNumber,1,Ge(e.weekYear,t,n)),o=Fe(e.weekday,1,7);return r?i?!o&&ye("weekday",e.weekday):ye("week",e.weekNumber):ye("weekYear",e.weekYear)}(i,o,s):u?function(e){const t=Le(e.year),n=Fe(e.ordinal,1,qe(e.year));return t?!n&&ye("ordinal",e.ordinal):ye("year",e.year)}(i):Ae(i),w=b||Oe(i);if(w)return hr.invalid(w);const k=m?Se(i,o,s):u?Ce(i):i,[x,S]=Kn(k,c,n),E=new hr({ts:x,zone:n,o:S,loc:r});return i.weekday&&f&&e.weekday!==E.weekday?hr.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${E.toISO()}`):E}static fromISO(e,t={}){const[n,r]=function(e){return kt(e,[Yt,Jt],[Gt,Qt],[Kt,en],[Xt,tn])}(e);return Jn(n,r,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[n,r]=function(e){return kt(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[Ht,$t])}(e);return Jn(n,r,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[n,r]=function(e){return kt(e,[Ut,Vt],[Wt,Vt],[qt,Zt])}(e);return Jn(n,r,t,"HTTP",t)}static fromFormat(e,t,n={}){if(De(e)||De(t))throw new c("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:i=null}=n,o=te.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0}),[s,a,l,u]=function(e,t,n){const{result:r,zone:i,specificOffset:o,invalidReason:s}=zn(e,t,n);return[r,i,o,s]}(o,e,t);return u?hr.invalid(u):Jn(s,a,n,`format ${t}`,e,l)}static fromString(e,t,n={}){return hr.fromFormat(e,t,n)}static fromSQL(e,t={}){const[n,r]=function(e){return kt(e,[rn,Jt],[on,sn])}(e);return Jn(n,r,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new c("need to specify a reason the DateTime is invalid");const n=e instanceof me?e:new me(e,t);if(pe.throwOnInvalid)throw new i(n);return new hr({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const n=Hn(e,te.fromObject(t));return n?n.map((e=>e?e.val:null)).join(""):null}static expandFormat(e,t={}){return jn(yt.parseFormat(e),te.fromObject(t)).map((e=>e.val)).join("")}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?qn(this).weekYear:NaN}get weekNumber(){return this.isValid?qn(this).weekNumber:NaN}get weekday(){return this.isValid?qn(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Vn(this).weekday:NaN}get localWeekNumber(){return this.isValid?Vn(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Vn(this).weekYear:NaN}get ordinal(){return this.isValid?Ee(this.c).ordinal:NaN}get monthShort(){return this.isValid?wn.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?wn.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?wn.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?wn.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,n=Ze(this.c),r=this.zone.offset(n-e),i=this.zone.offset(n+e),o=this.zone.offset(n-r*t),s=this.zone.offset(n-i*t);if(o===s)return[this];const a=n-o*t,l=n-s*t,c=Gn(a,o),u=Gn(l,s);return c.hour===u.hour&&c.minute===u.minute&&c.second===u.second&&c.millisecond===u.millisecond?[Zn(this,{ts:a}),Zn(this,{ts:l})]:[this]}get isInLeapYear(){return We(this.year)}get daysInMonth(){return Ve(this.year,this.month)}get daysInYear(){return this.isValid?qe(this.year):NaN}get weeksInWeekYear(){return this.isValid?Ge(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Ge(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:n,calendar:r}=yt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:r}}toUTC(e=0,t={}){return this.setZone(re.instance(e),t)}toLocal(){return this.setZone(pe.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:n=!1}={}){if((e=oe(e,pe.defaultZone)).equals(this.zone))return this;if(e.isValid){let r=this.ts;if(t||n){const t=e.offset(this.ts),n=this.toObject();[r]=Kn(n,t,e)}return Zn(this,{ts:r,zone:e})}return hr.invalid(Wn(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:n}={}){return Zn(this,{loc:this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n})})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=et(e,lr),{minDaysInFirstWeek:n,startOfWeek:r}=Te(t,this.loc),i=!De(t.weekYear)||!De(t.weekNumber)||!De(t.weekday),o=!De(t.ordinal),s=!De(t.year),l=!De(t.month)||!De(t.day),c=s||l,u=t.weekYear||t.weekNumber;if((c||o)&&u)throw new a("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new a("Can't mix ordinal dates with month/day");let d;i?d=Se({...xe(this.c,n,r),...t},n,r):De(t.ordinal)?(d={...this.toObject(),...t},De(t.day)&&(d.day=Math.min(Ve(d.year,d.month),d.day))):d=Ce({...Ee(this.c),...t});const[h,f]=Kn(d,this.o,this.zone);return Zn(this,{ts:h,o:f})}plus(e){if(!this.isValid)return this;return Zn(this,Xn(this,yn.fromDurationLike(e)))}minus(e){if(!this.isValid)return this;return Zn(this,Xn(this,yn.fromDurationLike(e).negate()))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const n={},r=yn.normalizeUnit(e);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0}if("weeks"===r)if(t){const e=this.loc.getStartOfWeek(),{weekday:t}=this;t<e&&(n.weekNumber=this.weekNumber-1),n.weekday=e}else n.weekday=1;if("quarters"===r){const e=Math.ceil(this.month/3);n.month=3*(e-1)+1}return this.set(n)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?yt.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):$n}toLocaleString(e=p,t={}){return this.isValid?yt.create(this.loc.clone(t),e).formatDateTime(this):$n}toLocaleParts(e={}){return this.isValid?yt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:r=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const o="extended"===e;let s=er(this,o);return s+="T",s+=tr(this,o,t,n,r,i),s}toISODate({format:e="extended"}={}){return this.isValid?er(this,"extended"===e):null}toISOWeekDate(){return Qn(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:r=!1,extendedZone:i=!1,format:o="extended"}={}){if(!this.isValid)return null;return(r?"T":"")+tr(this,"extended"===o,t,e,n,i)}toRFC2822(){return Qn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Qn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?er(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:n=!0}={}){let r="HH:mm:ss.SSS";return(t||e)&&(n&&(r+=" "),t?r+="z":e&&(r+="ZZ")),Qn(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():$n}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",n={}){if(!this.isValid||!e.isValid)return yn.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...n},i=(a=t,Array.isArray(a)?a:[a]).map(yn.normalizeUnit),o=e.valueOf()>this.valueOf(),s=xn(o?this:e,o?e:this,i,r);var a;return o?s.negate():s}diffNow(e="milliseconds",t={}){return this.diff(hr.now(),e,t)}until(e){return this.isValid?bn.fromDateTimes(this,e):this}hasSame(e,t,n){if(!this.isValid)return!1;const r=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(t,n)<=r&&r<=i.endOf(t,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||hr.fromObject({},{zone:this.zone}),n=e.padding?this<t?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(r=e.unit,i=void 0),ur(t,this.plus(n),{...e,numeric:"always",units:r,unit:i})}toRelativeCalendar(e={}){return this.isValid?ur(e.base||hr.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(hr.isDateTime))throw new c("min requires all arguments be DateTimes");return Re(e,(e=>e.valueOf()),Math.min)}static max(...e){if(!e.every(hr.isDateTime))throw new c("max requires all arguments be DateTimes");return Re(e,(e=>e.valueOf()),Math.max)}static fromFormatExplain(e,t,n={}){const{locale:r=null,numberingSystem:i=null}=n;return zn(te.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0}),e,t)}static fromStringExplain(e,t,n={}){return hr.fromFormatExplain(e,t,n)}static get DATE_SHORT(){return p}static get DATE_MED(){return m}static get DATE_MED_WITH_WEEKDAY(){return g}static get DATE_FULL(){return v}static get DATE_HUGE(){return y}static get TIME_SIMPLE(){return _}static get TIME_WITH_SECONDS(){return b}static get TIME_WITH_SHORT_OFFSET(){return w}static get TIME_WITH_LONG_OFFSET(){return k}static get TIME_24_SIMPLE(){return x}static get TIME_24_WITH_SECONDS(){return S}static get TIME_24_WITH_SHORT_OFFSET(){return E}static get TIME_24_WITH_LONG_OFFSET(){return C}static get DATETIME_SHORT(){return T}static get DATETIME_SHORT_WITH_SECONDS(){return A}static get DATETIME_MED(){return O}static get DATETIME_MED_WITH_SECONDS(){return D}static get DATETIME_MED_WITH_WEEKDAY(){return M}static get DATETIME_FULL(){return L}static get DATETIME_FULL_WITH_SECONDS(){return P}static get DATETIME_HUGE(){return I}static get DATETIME_HUGE_WITH_SECONDS(){return R}}function fr(e){if(hr.isDateTime(e))return e;if(e&&e.valueOf&&Me(e.valueOf()))return hr.fromJSDate(e);if(e&&"object"==typeof e)return hr.fromObject(e);throw new c(`Unknown datetime argument: ${e}, of type ${typeof e}`)}},5122:(e,t,n)=>{"use strict";var r=n(1807);const i=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const o="object"==typeof global&&global&&global.Object===Object&&global;var s="object"==typeof self&&self&&self.Object===Object&&self;const a=o||s||Function("return this")();const l=function(){return a.Date.now()};var c=/\s/;const u=function(e){for(var t=e.length;t--&&c.test(e.charAt(t)););return t};var d=/^\s+/;const h=function(e){return e?e.slice(0,u(e)+1).replace(d,""):e};const f=a.Symbol;var p=Object.prototype,m=p.hasOwnProperty,g=p.toString,v=f?f.toStringTag:void 0;const y=function(e){var t=m.call(e,v),n=e[v];try{e[v]=void 0;var r=!0}catch(e){}var i=g.call(e);return r&&(t?e[v]=n:delete e[v]),i};var _=Object.prototype.toString;const b=function(e){return _.call(e)};var w=f?f.toStringTag:void 0;const k=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":w&&w in Object(e)?y(e):b(e)};const x=function(e){return null!=e&&"object"==typeof e};const S=function(e){return"symbol"==typeof e||x(e)&&"[object Symbol]"==k(e)};var E=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,T=/^0o[0-7]+$/i,A=parseInt;const O=function(e){if("number"==typeof e)return e;if(S(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=h(e);var n=C.test(e);return n||T.test(e)?A(e.slice(2),n?2:8):E.test(e)?NaN:+e};var D=Math.max,M=Math.min;const L=function(e,t,n){var r,o,s,a,c,u,d=0,h=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=r,i=o;return r=o=void 0,d=t,a=e.apply(i,n)}function g(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-d>=s}function v(){var e=l();if(g(e))return y(e);c=setTimeout(v,function(e){var n=t-(e-u);return f?M(n,s-(e-d)):n}(e))}function y(e){return c=void 0,p&&r?m(e):(r=o=void 0,a)}function _(){var e=l(),n=g(e);if(r=arguments,o=this,u=e,n){if(void 0===c)return function(e){return d=e,c=setTimeout(v,t),h?m(e):a}(u);if(f)return clearTimeout(c),c=setTimeout(v,t),m(u)}return void 0===c&&(c=setTimeout(v,t)),a}return t=O(t)||0,i(n)&&(h=!!n.leading,s=(f="maxWait"in n)?D(O(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),_.cancel=function(){void 0!==c&&clearTimeout(c),d=0,r=u=o=c=void 0},_.flush=function(){return void 0===c?a:y(l())},_};const P=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),L(e,t,{leading:r,maxWait:t,trailing:o})};var I=function(){return I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},I.apply(this,arguments)},R=null,N=null;function B(){if(null===R){if("undefined"==typeof document)return R=0;var e=document.body,t=document.createElement("div");t.classList.add("simplebar-hide-scrollbar"),e.appendChild(t);var n=t.getBoundingClientRect().right;e.removeChild(t),R=n}return R}function F(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}function j(e){return e&&e.ownerDocument?e.ownerDocument:document}r&&window.addEventListener("resize",(function(){N!==window.devicePixelRatio&&(N=window.devicePixelRatio,R=null)}));var z=function(e){return Array.prototype.reduce.call(e,(function(e,t){var n=t.name.match(/data-simplebar-(.+)/);if(n){var r=n[1].replace(/\W+(.)/g,(function(e,t){return t.toUpperCase()}));switch(t.value){case"true":e[r]=!0;break;case"false":e[r]=!1;break;case void 0:e[r]=!0;break;default:e[r]=t.value}}return e}),{})};function H(e,t){var n;e&&(n=e.classList).add.apply(n,t.split(" "))}function $(e,t){e&&t.split(" ").forEach((function(t){e.classList.remove(t)}))}function U(e){return".".concat(e.split(" ").join("."))}var W=Object.freeze({__proto__:null,getElementWindow:F,getElementDocument:j,getOptions:z,addClasses:H,removeClasses:$,classNamesToQuery:U}),q=F,V=j,Z=z,Y=H,G=$,K=U,X=function(){function e(t,n){void 0===n&&(n={});var r=this;if(this.removePreventClickId=null,this.minScrollbarWidth=20,this.stopScrollDelay=175,this.isScrolling=!1,this.isMouseEntering=!1,this.scrollXTicking=!1,this.scrollYTicking=!1,this.wrapperEl=null,this.contentWrapperEl=null,this.contentEl=null,this.offsetEl=null,this.maskEl=null,this.placeholderEl=null,this.heightAutoObserverWrapperEl=null,this.heightAutoObserverEl=null,this.rtlHelpers=null,this.scrollbarWidth=0,this.resizeObserver=null,this.mutationObserver=null,this.elStyles=null,this.isRtl=null,this.mouseX=0,this.mouseY=0,this.onMouseMove=function(){},this.onWindowResize=function(){},this.onStopScrolling=function(){},this.onMouseEntered=function(){},this.onScroll=function(){var e=q(r.el);r.scrollXTicking||(e.requestAnimationFrame(r.scrollX),r.scrollXTicking=!0),r.scrollYTicking||(e.requestAnimationFrame(r.scrollY),r.scrollYTicking=!0),r.isScrolling||(r.isScrolling=!0,Y(r.el,r.classNames.scrolling)),r.showScrollbar("x"),r.showScrollbar("y"),r.onStopScrolling()},this.scrollX=function(){r.axis.x.isOverflowing&&r.positionScrollbar("x"),r.scrollXTicking=!1},this.scrollY=function(){r.axis.y.isOverflowing&&r.positionScrollbar("y"),r.scrollYTicking=!1},this._onStopScrolling=function(){G(r.el,r.classNames.scrolling),r.options.autoHide&&(r.hideScrollbar("x"),r.hideScrollbar("y")),r.isScrolling=!1},this.onMouseEnter=function(){r.isMouseEntering||(Y(r.el,r.classNames.mouseEntered),r.showScrollbar("x"),r.showScrollbar("y"),r.isMouseEntering=!0),r.onMouseEntered()},this._onMouseEntered=function(){G(r.el,r.classNames.mouseEntered),r.options.autoHide&&(r.hideScrollbar("x"),r.hideScrollbar("y")),r.isMouseEntering=!1},this._onMouseMove=function(e){r.mouseX=e.clientX,r.mouseY=e.clientY,(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseMoveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseMoveForAxis("y")},this.onMouseLeave=function(){r.onMouseMove.cancel(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseLeaveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseLeaveForAxis("y"),r.mouseX=-1,r.mouseY=-1},this._onWindowResize=function(){r.scrollbarWidth=r.getScrollbarWidth(),r.hideNativeScrollbar()},this.onPointerEvent=function(e){var t,n;r.axis.x.track.el&&r.axis.y.track.el&&r.axis.x.scrollbar.el&&r.axis.y.scrollbar.el&&(r.axis.x.track.rect=r.axis.x.track.el.getBoundingClientRect(),r.axis.y.track.rect=r.axis.y.track.el.getBoundingClientRect(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&(t=r.isWithinBounds(r.axis.x.track.rect)),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&(n=r.isWithinBounds(r.axis.y.track.rect)),(t||n)&&(e.stopPropagation(),"pointerdown"===e.type&&"touch"!==e.pointerType&&(t&&(r.axis.x.scrollbar.rect=r.axis.x.scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis.x.scrollbar.rect)?r.onDragStart(e,"x"):r.onTrackClick(e,"x")),n&&(r.axis.y.scrollbar.rect=r.axis.y.scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis.y.scrollbar.rect)?r.onDragStart(e,"y"):r.onTrackClick(e,"y")))))},this.drag=function(t){var n,i,o,s,a,l,c,u,d,h,f;if(r.draggedAxis&&r.contentWrapperEl){var p=r.axis[r.draggedAxis].track,m=null!==(i=null===(n=p.rect)||void 0===n?void 0:n[r.axis[r.draggedAxis].sizeAttr])&&void 0!==i?i:0,g=r.axis[r.draggedAxis].scrollbar,v=null!==(s=null===(o=r.contentWrapperEl)||void 0===o?void 0:o[r.axis[r.draggedAxis].scrollSizeAttr])&&void 0!==s?s:0,y=parseInt(null!==(l=null===(a=r.elStyles)||void 0===a?void 0:a[r.axis[r.draggedAxis].sizeAttr])&&void 0!==l?l:"0px",10);t.preventDefault(),t.stopPropagation();var _=("y"===r.draggedAxis?t.pageY:t.pageX)-(null!==(u=null===(c=p.rect)||void 0===c?void 0:c[r.axis[r.draggedAxis].offsetAttr])&&void 0!==u?u:0)-r.axis[r.draggedAxis].dragOffset,b=(_="x"===r.draggedAxis&&r.isRtl?(null!==(h=null===(d=p.rect)||void 0===d?void 0:d[r.axis[r.draggedAxis].sizeAttr])&&void 0!==h?h:0)-g.size-_:_)/(m-g.size)*(v-y);"x"===r.draggedAxis&&r.isRtl&&(b=(null===(f=e.getRtlHelpers())||void 0===f?void 0:f.isScrollingToNegative)?-b:b),r.contentWrapperEl[r.axis[r.draggedAxis].scrollOffsetAttr]=b}},this.onEndDrag=function(e){var t=V(r.el),n=q(r.el);e.preventDefault(),e.stopPropagation(),G(r.el,r.classNames.dragging),t.removeEventListener("mousemove",r.drag,!0),t.removeEventListener("mouseup",r.onEndDrag,!0),r.removePreventClickId=n.setTimeout((function(){t.removeEventListener("click",r.preventClick,!0),t.removeEventListener("dblclick",r.preventClick,!0),r.removePreventClickId=null}))},this.preventClick=function(e){e.preventDefault(),e.stopPropagation()},this.el=t,this.options=I(I({},e.defaultOptions),n),this.classNames=I(I({},e.defaultOptions.classNames),n.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}}},"object"!=typeof this.el||!this.el.nodeName)throw new Error("Argument passed to SimpleBar must be an HTML element instead of ".concat(this.el));this.onMouseMove=P(this._onMouseMove,64),this.onWindowResize=L(this._onWindowResize,64,{leading:!0}),this.onStopScrolling=L(this._onStopScrolling,this.stopScrollDelay),this.onMouseEntered=L(this._onMouseEntered,this.stopScrollDelay),this.init()}return e.getRtlHelpers=function(){if(e.rtlHelpers)return e.rtlHelpers;var t=document.createElement("div");t.innerHTML='<div class="simplebar-dummy-scrollbar-size"><div></div></div>';var n=t.firstElementChild,r=null==n?void 0:n.firstElementChild;if(!r)return null;document.body.appendChild(n),n.scrollLeft=0;var i=e.getOffset(n),o=e.getOffset(r);n.scrollLeft=-999;var s=e.getOffset(r);return document.body.removeChild(n),e.rtlHelpers={isScrollOriginAtZero:i.left!==o.left,isScrollingToNegative:o.left!==s.left},e.rtlHelpers},e.prototype.getScrollbarWidth=function(){try{return this.contentWrapperEl&&"none"===getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:B()}catch(e){return B()}},e.getOffset=function(e){var t=e.getBoundingClientRect(),n=V(e),r=q(e);return{top:t.top+(r.pageYOffset||n.documentElement.scrollTop),left:t.left+(r.pageXOffset||n.documentElement.scrollLeft)}},e.prototype.init=function(){r&&(this.initDOM(),this.rtlHelpers=e.getRtlHelpers(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},e.prototype.initDOM=function(){var e,t;this.wrapperEl=this.el.querySelector(K(this.classNames.wrapper)),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector(K(this.classNames.contentWrapper)),this.contentEl=this.options.contentNode||this.el.querySelector(K(this.classNames.contentEl)),this.offsetEl=this.el.querySelector(K(this.classNames.offset)),this.maskEl=this.el.querySelector(K(this.classNames.mask)),this.placeholderEl=this.findChild(this.wrapperEl,K(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector(K(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector(K(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.findChild(this.el,"".concat(K(this.classNames.track)).concat(K(this.classNames.horizontal))),this.axis.y.track.el=this.findChild(this.el,"".concat(K(this.classNames.track)).concat(K(this.classNames.vertical))),this.axis.x.scrollbar.el=(null===(e=this.axis.x.track.el)||void 0===e?void 0:e.querySelector(K(this.classNames.scrollbar)))||null,this.axis.y.scrollbar.el=(null===(t=this.axis.y.track.el)||void 0===t?void 0:t.querySelector(K(this.classNames.scrollbar)))||null,this.options.autoHide||(Y(this.axis.x.scrollbar.el,this.classNames.visible),Y(this.axis.y.scrollbar.el,this.classNames.visible))},e.prototype.initListeners=function(){var e,t=this,n=q(this.el);if(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("pointerdown",this.onPointerEvent,!0),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),null===(e=this.contentWrapperEl)||void 0===e||e.addEventListener("scroll",this.onScroll),n.addEventListener("resize",this.onWindowResize),this.contentEl){if(window.ResizeObserver){var r=!1,i=n.ResizeObserver||ResizeObserver;this.resizeObserver=new i((function(){r&&n.requestAnimationFrame((function(){t.recalculate()}))})),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),n.requestAnimationFrame((function(){r=!0}))}this.mutationObserver=new n.MutationObserver((function(){n.requestAnimationFrame((function(){t.recalculate()}))})),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})}},e.prototype.recalculate=function(){if(this.heightAutoObserverEl&&this.contentEl&&this.contentWrapperEl&&this.wrapperEl&&this.placeholderEl){var e=q(this.el);this.elStyles=e.getComputedStyle(this.el),this.isRtl="rtl"===this.elStyles.direction;var t=this.contentEl.offsetWidth,n=this.heightAutoObserverEl.offsetHeight<=1,r=this.heightAutoObserverEl.offsetWidth<=1||t>0,i=this.contentWrapperEl.offsetWidth,o=this.elStyles.overflowX,s=this.elStyles.overflowY;this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft);var a=this.contentEl.scrollHeight,l=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=n?"auto":"100%",this.placeholderEl.style.width=r?"".concat(t||l,"px"):"auto",this.placeholderEl.style.height="".concat(a,"px");var c=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=0!==t&&l>t,this.axis.y.isOverflowing=a>c,this.axis.x.isOverflowing="hidden"!==o&&this.axis.x.isOverflowing,this.axis.y.isOverflowing="hidden"!==s&&this.axis.y.isOverflowing,this.axis.x.forceVisible="x"===this.options.forceVisible||!0===this.options.forceVisible,this.axis.y.forceVisible="y"===this.options.forceVisible||!0===this.options.forceVisible,this.hideNativeScrollbar();var u=this.axis.x.isOverflowing?this.scrollbarWidth:0,d=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&l>i-d,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&a>c-u,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el&&(this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px")),this.axis.y.scrollbar.el&&(this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px")),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},e.prototype.getScrollbarSize=function(e){var t,n;if(void 0===e&&(e="y"),!this.axis[e].isOverflowing||!this.contentEl)return 0;var r,i=this.contentEl[this.axis[e].scrollSizeAttr],o=null!==(n=null===(t=this.axis[e].track.el)||void 0===t?void 0:t[this.axis[e].offsetSizeAttr])&&void 0!==n?n:0,s=o/i;return r=Math.max(~~(s*o),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(r=Math.min(r,this.options.scrollbarMaxSize)),r},e.prototype.positionScrollbar=function(t){var n,r,i;void 0===t&&(t="y");var o=this.axis[t].scrollbar;if(this.axis[t].isOverflowing&&this.contentWrapperEl&&o.el&&this.elStyles){var s=this.contentWrapperEl[this.axis[t].scrollSizeAttr],a=(null===(n=this.axis[t].track.el)||void 0===n?void 0:n[this.axis[t].offsetSizeAttr])||0,l=parseInt(this.elStyles[this.axis[t].sizeAttr],10),c=this.contentWrapperEl[this.axis[t].scrollOffsetAttr];c="x"===t&&this.isRtl&&(null===(r=e.getRtlHelpers())||void 0===r?void 0:r.isScrollOriginAtZero)?-c:c,"x"===t&&this.isRtl&&(c=(null===(i=e.getRtlHelpers())||void 0===i?void 0:i.isScrollingToNegative)?c:-c);var u=c/(s-l),d=~~((a-o.size)*u);d="x"===t&&this.isRtl?-d+(a-o.size):d,o.el.style.transform="x"===t?"translate3d(".concat(d,"px, 0, 0)"):"translate3d(0, ".concat(d,"px, 0)")}},e.prototype.toggleTrackVisibility=function(e){void 0===e&&(e="y");var t=this.axis[e].track.el,n=this.axis[e].scrollbar.el;t&&n&&this.contentWrapperEl&&(this.axis[e].isOverflowing||this.axis[e].forceVisible?(t.style.visibility="visible",this.contentWrapperEl.style[this.axis[e].overflowAttr]="scroll",this.el.classList.add("".concat(this.classNames.scrollable,"-").concat(e))):(t.style.visibility="hidden",this.contentWrapperEl.style[this.axis[e].overflowAttr]="hidden",this.el.classList.remove("".concat(this.classNames.scrollable,"-").concat(e))),this.axis[e].isOverflowing?n.style.display="block":n.style.display="none")},e.prototype.showScrollbar=function(e){void 0===e&&(e="y"),this.axis[e].isOverflowing&&!this.axis[e].scrollbar.isVisible&&(Y(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!0)},e.prototype.hideScrollbar=function(e){void 0===e&&(e="y"),this.axis[e].isOverflowing&&this.axis[e].scrollbar.isVisible&&(G(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!1)},e.prototype.hideNativeScrollbar=function(){this.offsetEl&&(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px",this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px")},e.prototype.onMouseMoveForAxis=function(e){void 0===e&&(e="y");var t=this.axis[e];t.track.el&&t.scrollbar.el&&(t.track.rect=t.track.el.getBoundingClientRect(),t.scrollbar.rect=t.scrollbar.el.getBoundingClientRect(),this.isWithinBounds(t.track.rect)?(this.showScrollbar(e),Y(t.track.el,this.classNames.hover),this.isWithinBounds(t.scrollbar.rect)?Y(t.scrollbar.el,this.classNames.hover):G(t.scrollbar.el,this.classNames.hover)):(G(t.track.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)))},e.prototype.onMouseLeaveForAxis=function(e){void 0===e&&(e="y"),G(this.axis[e].track.el,this.classNames.hover),G(this.axis[e].scrollbar.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)},e.prototype.onDragStart=function(e,t){var n;void 0===t&&(t="y");var r=V(this.el),i=q(this.el),o=this.axis[t].scrollbar,s="y"===t?e.pageY:e.pageX;this.axis[t].dragOffset=s-((null===(n=o.rect)||void 0===n?void 0:n[this.axis[t].offsetAttr])||0),this.draggedAxis=t,Y(this.el,this.classNames.dragging),r.addEventListener("mousemove",this.drag,!0),r.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(r.addEventListener("click",this.preventClick,!0),r.addEventListener("dblclick",this.preventClick,!0)):(i.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},e.prototype.onTrackClick=function(e,t){var n,r,i,o,s=this;void 0===t&&(t="y");var a=this.axis[t];if(this.options.clickOnTrack&&a.scrollbar.el&&this.contentWrapperEl){e.preventDefault();var l=q(this.el);this.axis[t].scrollbar.rect=a.scrollbar.el.getBoundingClientRect();var c=null!==(r=null===(n=this.axis[t].scrollbar.rect)||void 0===n?void 0:n[this.axis[t].offsetAttr])&&void 0!==r?r:0,u=parseInt(null!==(o=null===(i=this.elStyles)||void 0===i?void 0:i[this.axis[t].sizeAttr])&&void 0!==o?o:"0px",10),d=this.contentWrapperEl[this.axis[t].scrollOffsetAttr],h=("y"===t?this.mouseY-c:this.mouseX-c)<0?-1:1,f=-1===h?d-u:d+u,p=function(){s.contentWrapperEl&&(-1===h?d>f&&(d-=40,s.contentWrapperEl[s.axis[t].scrollOffsetAttr]=d,l.requestAnimationFrame(p)):d<f&&(d+=40,s.contentWrapperEl[s.axis[t].scrollOffsetAttr]=d,l.requestAnimationFrame(p)))};p()}},e.prototype.getContentElement=function(){return this.contentEl},e.prototype.getScrollElement=function(){return this.contentWrapperEl},e.prototype.removeListeners=function(){var e=q(this.el);this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("pointerdown",this.onPointerEvent,!0),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.onMouseMove.cancel(),this.onWindowResize.cancel(),this.onStopScrolling.cancel(),this.onMouseEntered.cancel()},e.prototype.unMount=function(){this.removeListeners()},e.prototype.isWithinBounds=function(e){return this.mouseX>=e.left&&this.mouseX<=e.left+e.width&&this.mouseY>=e.top&&this.mouseY<=e.top+e.height},e.prototype.findChild=function(e,t){var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return Array.prototype.filter.call(e.children,(function(e){return n.call(e,t)}))[0]},e.rtlHelpers=null,e.defaultOptions={forceVisible:!1,clickOnTrack:!0,scrollbarMinSize:25,scrollbarMaxSize:0,ariaLabel:"scrollable content",classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging",scrolling:"simplebar-scrolling",scrollable:"simplebar-scrollable",mouseEntered:"simplebar-mouse-entered"},scrollableNode:null,contentNode:null,autoHide:!0},e.getOptions=Z,e.helpers=W,e}(),J=function(e,t){return J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},J(e,t)};var Q=X.helpers,ee=Q.getOptions,te=Q.addClasses,ne=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return t.instances.set(n[0],i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}J(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),(function(e){"init"===e.getAttribute("data-simplebar")||t.instances.has(e)||new t(e,ee(e.attributes))}))},t.removeObserver=function(){var e;null===(e=t.globalObserver)||void 0===e||e.disconnect()},t.prototype.initDOM=function(){var e,t,n,r=this;if(!Array.prototype.filter.call(this.el.children,(function(e){return e.classList.contains(r.classNames.wrapper)})).length){for(this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),te(this.wrapperEl,this.classNames.wrapper),te(this.contentWrapperEl,this.classNames.contentWrapper),te(this.offsetEl,this.classNames.offset),te(this.maskEl,this.classNames.mask),te(this.contentEl,this.classNames.contentEl),te(this.placeholderEl,this.classNames.placeholder),te(this.heightAutoObserverWrapperEl,this.classNames.heightAutoObserverWrapperEl),te(this.heightAutoObserverEl,this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl),null===(e=this.contentWrapperEl)||void 0===e||e.setAttribute("tabindex","0"),null===(t=this.contentWrapperEl)||void 0===t||t.setAttribute("role","region"),null===(n=this.contentWrapperEl)||void 0===n||n.setAttribute("aria-label",this.options.ariaLabel)}if(!this.axis.x.track.el||!this.axis.y.track.el){var i=document.createElement("div"),o=document.createElement("div");te(i,this.classNames.track),te(o,this.classNames.scrollbar),i.appendChild(o),this.axis.x.track.el=i.cloneNode(!0),te(this.axis.x.track.el,this.classNames.horizontal),this.axis.y.track.el=i.cloneNode(!0),te(this.axis.y.track.el,this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}X.prototype.initDOM.call(this),this.el.setAttribute("data-simplebar","init")},t.prototype.unMount=function(){X.prototype.unMount.call(this),t.instances.delete(this.el)},t.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),"undefined"!=typeof MutationObserver&&(this.globalObserver=new MutationObserver(t.handleMutations),this.globalObserver.observe(document,{childList:!0,subtree:!0})),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))},t.handleMutations=function(e){e.forEach((function(e){e.addedNodes.forEach((function(e){1===e.nodeType&&(e.hasAttribute("data-simplebar")?!t.instances.has(e)&&document.documentElement.contains(e)&&new t(e,ee(e.attributes)):e.querySelectorAll("[data-simplebar]").forEach((function(e){"init"!==e.getAttribute("data-simplebar")&&!t.instances.has(e)&&document.documentElement.contains(e)&&new t(e,ee(e.attributes))})))})),e.removedNodes.forEach((function(e){1===e.nodeType&&("init"===e.getAttribute("data-simplebar")?t.instances.has(e)&&!document.documentElement.contains(e)&&t.instances.get(e).unMount():Array.prototype.forEach.call(e.querySelectorAll('[data-simplebar="init"]'),(function(e){t.instances.has(e)&&!document.documentElement.contains(e)&&t.instances.get(e).unMount()})))}))}))},t.instances=new WeakMap,t}(X);r&&ne.initHtmlApi()}}]);